From tdubuis at scconsultants.com  Mon Jan  2 08:41:35 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Mon Jan  2 08:41:44 2006
Subject: [Paraview] vtu file format
Message-ID: <43B92D8F.1050200@scconsultants.com>

Hello all,

My best wishes for this new year.

I try to write the output of my software in the vtu format Unstructured 
Grid.
First, the ascii output works.
Now I try the binary output :
So first I try to write my data on PC in Little Endian and crypted in 
Base64.
When I try to load it in Paraview 2.5 I have an error, I debug and find 
Paraview reads 4 characters which is the size of the following binary 
block ???

Have a doc which more precision about this file format than the vtk file 
formats for VTK Version 4.2 (where I don't find the information about 
this block size) ?

Thanks for your help.

Best regards,
Thierry Dubuis
From domi at vision.ee.ethz.ch  Mon Jan  2 08:51:52 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Mon Jan  2 08:51:59 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43B92D8F.1050200@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
Message-ID: <43B92FF8.6010309@vision.ee.ethz.ch>

VTK uses big endian
--dsz

> So first I try to write my data on PC in Little Endian and crypted in
> Base64.
> When I try to load it in Paraview 2.5 I have an error, I debug and find
> Paraview reads 4 characters which is the size of the following binary
> block ???
> 
> Have a doc which more precision about this file format than the vtk file
> formats for VTK Version 4.2 (where I don't find the information about
> this block size) ?
> 
> Thanks for your help.
> 
> Best regards,
> Thierry Dubuis
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From tdubuis at scconsultants.com  Mon Jan  2 09:55:25 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Mon Jan  2 09:55:58 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43B92FF8.6010309@vision.ee.ethz.ch>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
Message-ID: <43B93EDD.1090505@scconsultants.com>

Why ?

With the big endian I need no size information ?

Thierry Dubuis

Dominik Szczerba wrote:

>VTK uses big endian
>--dsz
>
>  
>
>>So first I try to write my data on PC in Little Endian and crypted in
>>Base64.
>>When I try to load it in Paraview 2.5 I have an error, I debug and find
>>Paraview reads 4 characters which is the size of the following binary
>>block ???
>>
>>Have a doc which more precision about this file format than the vtk file
>>formats for VTK Version 4.2 (where I don't find the information about
>>this block size) ?
>>
>>Thanks for your help.
>>
>>Best regards,
>>Thierry Dubuis
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>    
>>
>
>  
>

From domi at vision.ee.ethz.ch  Mon Jan  2 10:17:57 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Mon Jan  2 10:18:02 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43B93EDD.1090505@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
Message-ID: <43B94425.5020001@vision.ee.ethz.ch>

I though you said you had used little endian when producing your files.
If you get errors the first thing I would try is swapping bytes to big
endian arrangement.
--dsz

Thierry Dubuis wrote:
> Why ?
> 
> With the big endian I need no size information ?
> 
> Thierry Dubuis
> 
> Dominik Szczerba wrote:
> 
>> VTK uses big endian
>> --dsz
>>
>>  
>>
>>> So first I try to write my data on PC in Little Endian and crypted in
>>> Base64.
>>> When I try to load it in Paraview 2.5 I have an error, I debug and find
>>> Paraview reads 4 characters which is the size of the following binary
>>> block ???
>>>
>>> Have a doc which more precision about this file format than the vtk file
>>> formats for VTK Version 4.2 (where I don't find the information about
>>> this block size) ?
>>>
>>> Thanks for your help.
>>>
>>> Best regards,
>>> Thierry Dubuis
>>> _______________________________________________
>>> ParaView mailing list
>>> ParaView@paraview.org
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>   
>>
>>
>>  
>>

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From tdubuis at scconsultants.com  Tue Jan  3 03:46:55 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Tue Jan  3 03:47:03 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43B94425.5020001@vision.ee.ethz.ch>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
Message-ID: <43BA39FF.7010604@scconsultants.com>

Hello,

I made the test and it's the same thing in Little and Big Endian.
I made another test, in Little Endian I add the size of the data block 
at the beginnig of this block In the PointData and CellData
Paraview load my case and the results are Ok.

Is it the same organization in the Coordinates, Connectivity, Offset and 
Types Blocks ?

Bests regards,
Thierry Dubuis

Dominik Szczerba wrote:

>I though you said you had used little endian when producing your files.
>If you get errors the first thing I would try is swapping bytes to big
>endian arrangement.
>--dsz
>
>Thierry Dubuis wrote:
>  
>
>>Why ?
>>
>>With the big endian I need no size information ?
>>
>>Thierry Dubuis
>>
>>Dominik Szczerba wrote:
>>
>>    
>>
>>>VTK uses big endian
>>>--dsz
>>>
>>> 
>>>
>>>      
>>>
>>>>So first I try to write my data on PC in Little Endian and crypted in
>>>>Base64.
>>>>When I try to load it in Paraview 2.5 I have an error, I debug and find
>>>>Paraview reads 4 characters which is the size of the following binary
>>>>block ???
>>>>
>>>>Have a doc which more precision about this file format than the vtk file
>>>>formats for VTK Version 4.2 (where I don't find the information about
>>>>this block size) ?
>>>>
>>>>Thanks for your help.
>>>>
>>>>Best regards,
>>>>Thierry Dubuis
>>>>_______________________________________________
>>>>ParaView mailing list
>>>>ParaView@paraview.org
>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>  
>>>>        
>>>>
>>> 
>>>
>>>      
>>>
>
>  
>

From domi at vision.ee.ethz.ch  Tue Jan  3 04:01:34 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan  3 04:02:10 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA39FF.7010604@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
	<43BA39FF.7010604@scconsultants.com>
Message-ID: <43BA3D6E.5090408@vision.ee.ethz.ch>

on vtk.org in tech docs there is a pdf decribing the vtk formats. does
it not provide answers to your questions?
--dsz

Thierry Dubuis wrote:
> Hello,
> 
> I made the test and it's the same thing in Little and Big Endian.
> I made another test, in Little Endian I add the size of the data block
> at the beginnig of this block In the PointData and CellData
> Paraview load my case and the results are Ok.
> 
> Is it the same organization in the Coordinates, Connectivity, Offset and
> Types Blocks ?
> 
> Bests regards,
> Thierry Dubuis
> 
> Dominik Szczerba wrote:
> 
>> I though you said you had used little endian when producing your files.
>> If you get errors the first thing I would try is swapping bytes to big
>> endian arrangement.
>> --dsz
>>
>> Thierry Dubuis wrote:
>>  
>>
>>> Why ?
>>>
>>> With the big endian I need no size information ?
>>>
>>> Thierry Dubuis
>>>
>>> Dominik Szczerba wrote:
>>>
>>>   
>>>
>>>> VTK uses big endian
>>>> --dsz
>>>>
>>>>
>>>>
>>>>     
>>>>
>>>>> So first I try to write my data on PC in Little Endian and crypted in
>>>>> Base64.
>>>>> When I try to load it in Paraview 2.5 I have an error, I debug and
>>>>> find
>>>>> Paraview reads 4 characters which is the size of the following binary
>>>>> block ???
>>>>>
>>>>> Have a doc which more precision about this file format than the vtk
>>>>> file
>>>>> formats for VTK Version 4.2 (where I don't find the information about
>>>>> this block size) ?
>>>>>
>>>>> Thanks for your help.
>>>>>
>>>>> Best regards,
>>>>> Thierry Dubuis
>>>>> _______________________________________________
>>>>> ParaView mailing list
>>>>> ParaView@paraview.org
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>  
>>>>>       
>>>>
>>>>
>>>>
>>>>     
>>
>>
>>  
>>

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From tdubuis at scconsultants.com  Tue Jan  3 04:59:44 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Tue Jan  3 04:59:47 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA3D6E.5090408@vision.ee.ethz.ch>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
Message-ID: <43BA4B10.1050003@scconsultants.com>

No, sorry I did't find any information about that.
There are information about XML part, binary datas must be encryted with 
Base64 algorithm and they could be compressed or not,
but no information about datas organization.

But perhaps must I ask this question to the VTK developpers group ?

Thanks again for your help,

Thierry Dubuis

Dominik Szczerba wrote:

>on vtk.org in tech docs there is a pdf decribing the vtk formats. does
>it not provide answers to your questions?
>--dsz
>
>Thierry Dubuis wrote:
>  
>
>>Hello,
>>
>>I made the test and it's the same thing in Little and Big Endian.
>>I made another test, in Little Endian I add the size of the data block
>>at the beginnig of this block In the PointData and CellData
>>Paraview load my case and the results are Ok.
>>
>>Is it the same organization in the Coordinates, Connectivity, Offset and
>>Types Blocks ?
>>
>>Bests regards,
>>Thierry Dubuis
>>
>>Dominik Szczerba wrote:
>>
>>    
>>
>>>I though you said you had used little endian when producing your files.
>>>If you get errors the first thing I would try is swapping bytes to big
>>>endian arrangement.
>>>--dsz
>>>
>>>Thierry Dubuis wrote:
>>> 
>>>
>>>      
>>>
>>>>Why ?
>>>>
>>>>With the big endian I need no size information ?
>>>>
>>>>Thierry Dubuis
>>>>
>>>>Dominik Szczerba wrote:
>>>>
>>>>  
>>>>
>>>>        
>>>>
>>>>>VTK uses big endian
>>>>>--dsz
>>>>>
>>>>>
>>>>>
>>>>>    
>>>>>
>>>>>          
>>>>>
>>>>>>So first I try to write my data on PC in Little Endian and crypted in
>>>>>>Base64.
>>>>>>When I try to load it in Paraview 2.5 I have an error, I debug and
>>>>>>find
>>>>>>Paraview reads 4 characters which is the size of the following binary
>>>>>>block ???
>>>>>>
>>>>>>Have a doc which more precision about this file format than the vtk
>>>>>>file
>>>>>>formats for VTK Version 4.2 (where I don't find the information about
>>>>>>this block size) ?
>>>>>>
>>>>>>Thanks for your help.
>>>>>>
>>>>>>Best regards,
>>>>>>Thierry Dubuis
>>>>>>_______________________________________________
>>>>>>ParaView mailing list
>>>>>>ParaView@paraview.org
>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>> 
>>>>>>      
>>>>>>            
>>>>>>
>>>>>
>>>>>    
>>>>>          
>>>>>
>>> 
>>>
>>>      
>>>
>
>  
>

From domi at vision.ee.ethz.ch  Tue Jan  3 05:04:01 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan  3 05:04:37 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA4B10.1050003@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com>
Message-ID: <43BA4C11.1010905@vision.ee.ethz.ch>

what I do is export legacy binary files from my C++ code and then
writing a small external vtkConvert* (10 lines of VTK code) utility to
convert the legacy files into xml. This works 100%.
--dsz

Thierry Dubuis wrote:
> No, sorry I did't find any information about that.
> There are information about XML part, binary datas must be encryted with
> Base64 algorithm and they could be compressed or not,
> but no information about datas organization.
> 
> But perhaps must I ask this question to the VTK developpers group ?
> 
> Thanks again for your help,
> 
> Thierry Dubuis
> 
> Dominik Szczerba wrote:
> 
>> on vtk.org in tech docs there is a pdf decribing the vtk formats. does
>> it not provide answers to your questions?
>> --dsz
>>
>> Thierry Dubuis wrote:
>>  
>>
>>> Hello,
>>>
>>> I made the test and it's the same thing in Little and Big Endian.
>>> I made another test, in Little Endian I add the size of the data block
>>> at the beginnig of this block In the PointData and CellData
>>> Paraview load my case and the results are Ok.
>>>
>>> Is it the same organization in the Coordinates, Connectivity, Offset and
>>> Types Blocks ?
>>>
>>> Bests regards,
>>> Thierry Dubuis
>>>
>>> Dominik Szczerba wrote:
>>>
>>>   
>>>
>>>> I though you said you had used little endian when producing your files.
>>>> If you get errors the first thing I would try is swapping bytes to big
>>>> endian arrangement.
>>>> --dsz
>>>>
>>>> Thierry Dubuis wrote:
>>>>
>>>>
>>>>     
>>>>
>>>>> Why ?
>>>>>
>>>>> With the big endian I need no size information ?
>>>>>
>>>>> Thierry Dubuis
>>>>>
>>>>> Dominik Szczerba wrote:
>>>>>
>>>>>  
>>>>>
>>>>>       
>>>>>
>>>>>> VTK uses big endian
>>>>>> --dsz
>>>>>>
>>>>>>
>>>>>>
>>>>>>   
>>>>>>         
>>>>>>
>>>>>>> So first I try to write my data on PC in Little Endian and
>>>>>>> crypted in
>>>>>>> Base64.
>>>>>>> When I try to load it in Paraview 2.5 I have an error, I debug and
>>>>>>> find
>>>>>>> Paraview reads 4 characters which is the size of the following
>>>>>>> binary
>>>>>>> block ???
>>>>>>>
>>>>>>> Have a doc which more precision about this file format than the vtk
>>>>>>> file
>>>>>>> formats for VTK Version 4.2 (where I don't find the information
>>>>>>> about
>>>>>>> this block size) ?
>>>>>>>
>>>>>>> Thanks for your help.
>>>>>>>
>>>>>>> Best regards,
>>>>>>> Thierry Dubuis
>>>>>>> _______________________________________________
>>>>>>> ParaView mailing list
>>>>>>> ParaView@paraview.org
>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>                
>>>>>>
>>>>>>
>>>>>>            
>>>>
>>>>
>>>>
>>>>     
>>
>>
>>  
>>

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From tdubuis at scconsultants.com  Tue Jan  3 05:12:15 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Tue Jan  3 05:12:13 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA4C11.1010905@vision.ee.ethz.ch>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com>
	<43BA4C11.1010905@vision.ee.ethz.ch>
Message-ID: <43BA4DFF.2000208@scconsultants.com>

Please, could you send the C++ code.

THierry Dubuis

Dominik Szczerba wrote:

>what I do is export legacy binary files from my C++ code and then
>writing a small external vtkConvert* (10 lines of VTK code) utility to
>convert the legacy files into xml. This works 100%.
>--dsz
>
>Thierry Dubuis wrote:
>  
>
>>No, sorry I did't find any information about that.
>>There are information about XML part, binary datas must be encryted with
>>Base64 algorithm and they could be compressed or not,
>>but no information about datas organization.
>>
>>But perhaps must I ask this question to the VTK developpers group ?
>>
>>Thanks again for your help,
>>
>>Thierry Dubuis
>>
>>Dominik Szczerba wrote:
>>
>>    
>>
>>>on vtk.org in tech docs there is a pdf decribing the vtk formats. does
>>>it not provide answers to your questions?
>>>--dsz
>>>
>>>Thierry Dubuis wrote:
>>> 
>>>
>>>      
>>>
>>>>Hello,
>>>>
>>>>I made the test and it's the same thing in Little and Big Endian.
>>>>I made another test, in Little Endian I add the size of the data block
>>>>at the beginnig of this block In the PointData and CellData
>>>>Paraview load my case and the results are Ok.
>>>>
>>>>Is it the same organization in the Coordinates, Connectivity, Offset and
>>>>Types Blocks ?
>>>>
>>>>Bests regards,
>>>>Thierry Dubuis
>>>>
>>>>Dominik Szczerba wrote:
>>>>
>>>>  
>>>>
>>>>        
>>>>
>>>>>I though you said you had used little endian when producing your files.
>>>>>If you get errors the first thing I would try is swapping bytes to big
>>>>>endian arrangement.
>>>>>--dsz
>>>>>
>>>>>Thierry Dubuis wrote:
>>>>>
>>>>>
>>>>>    
>>>>>
>>>>>          
>>>>>
>>>>>>Why ?
>>>>>>
>>>>>>With the big endian I need no size information ?
>>>>>>
>>>>>>Thierry Dubuis
>>>>>>
>>>>>>Dominik Szczerba wrote:
>>>>>>
>>>>>> 
>>>>>>
>>>>>>      
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>VTK uses big endian
>>>>>>>--dsz
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>  
>>>>>>>        
>>>>>>>
>>>>>>>              
>>>>>>>
>>>>>>>>So first I try to write my data on PC in Little Endian and
>>>>>>>>crypted in
>>>>>>>>Base64.
>>>>>>>>When I try to load it in Paraview 2.5 I have an error, I debug and
>>>>>>>>find
>>>>>>>>Paraview reads 4 characters which is the size of the following
>>>>>>>>binary
>>>>>>>>block ???
>>>>>>>>
>>>>>>>>Have a doc which more precision about this file format than the vtk
>>>>>>>>file
>>>>>>>>formats for VTK Version 4.2 (where I don't find the information
>>>>>>>>about
>>>>>>>>this block size) ?
>>>>>>>>
>>>>>>>>Thanks for your help.
>>>>>>>>
>>>>>>>>Best regards,
>>>>>>>>Thierry Dubuis
>>>>>>>>_______________________________________________
>>>>>>>>ParaView mailing list
>>>>>>>>ParaView@paraview.org
>>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>
>>>>>>>>               
>>>>>>>>                
>>>>>>>>
>>>>>>>           
>>>>>>>              
>>>>>>>
>>>>>
>>>>>    
>>>>>          
>>>>>
>>> 
>>>
>>>      
>>>
>
>  
>

From domi at vision.ee.ethz.ch  Tue Jan  3 05:24:18 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan  3 05:24:53 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA4DFF.2000208@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>
	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>
	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com>
	<43BA4C11.1010905@vision.ee.ethz.ch>
	<43BA4DFF.2000208@scconsultants.com>
Message-ID: <43BA50D2.3010105@vision.ee.ethz.ch>

this is really basic VTK stuff, probabely you could do it also in a
script like tcl or python. An example sketch (just change i/o formats):

#include <cassert>
#include <vtkCell.h>
#include <vtkCellData.h>
#include <vtkUnstructuredGrid.h>
#include <vtkUnstructuredGridReader.h>
#include <vtkXMLUnstructuredGridWriter.h>
#include <vtkStructuredGrid.h>
#include <vtkStructuredGridReader.h>
#include <vtkXMLStructuredGridWriter.h>
#include <vtkZLibDataCompressor.h>

int main(int argc, char *argv[]){
  assert(argc>=3);
  cout << "Reading vtk-file\n";
  vtkStructuredGridReader* reader = vtkStructuredGridReader::New();
  reader->SetFileName(argv[1]);

  //vtkUnstructuredGrid* grid = reader->GetOutput();
  vtkStructuredGrid* grid = reader->GetOutput();
  grid->Update();

  vtkZLibDataCompressor* myZlibCompressor  = vtkZLibDataCompressor::New();
  myZlibCompressor->SetCompressionLevel(9);

  //write
  //vtkXMLUnstructuredGridWriter* writer
vtkXMLUnstructuredGridWriter::New();
  vtkXMLStructuredGridWriter* writer = vtkXMLStructuredGridWriter::New();
  cout << "Writing vtk xml file\n";
  writer->SetInput(grid);
  writer->SetFileName(argv[2]);
  //writer->SetDataModeToBinary();
  writer->SetCompressor(myZlibCompressor);
  writer->Write();

  reader->Delete();
  writer->Delete();
  return 0;
}

Npow it works OK but I am suspicious about compression. Dunno why the
output is WAY bigger than original legacy gzipped. This shouldnt be the
case, should it?
Dominik

Thierry Dubuis wrote:
> Please, could you send the C++ code.
> 
> THierry Dubuis
> 
> Dominik Szczerba wrote:
> 
>> what I do is export legacy binary files from my C++ code and then
>> writing a small external vtkConvert* (10 lines of VTK code) utility to
>> convert the legacy files into xml. This works 100%.
>> --dsz
>>
>> Thierry Dubuis wrote:
>>  
>>
>>> No, sorry I did't find any information about that.
>>> There are information about XML part, binary datas must be encryted with
>>> Base64 algorithm and they could be compressed or not,
>>> but no information about datas organization.
>>>
>>> But perhaps must I ask this question to the VTK developpers group ?
>>>
>>> Thanks again for your help,
>>>
>>> Thierry Dubuis
>>>
>>> Dominik Szczerba wrote:
>>>
>>>   
>>>
>>>> on vtk.org in tech docs there is a pdf decribing the vtk formats. does
>>>> it not provide answers to your questions?
>>>> --dsz
>>>>
>>>> Thierry Dubuis wrote:
>>>>
>>>>
>>>>     
>>>>
>>>>> Hello,
>>>>>
>>>>> I made the test and it's the same thing in Little and Big Endian.
>>>>> I made another test, in Little Endian I add the size of the data block
>>>>> at the beginnig of this block In the PointData and CellData
>>>>> Paraview load my case and the results are Ok.
>>>>>
>>>>> Is it the same organization in the Coordinates, Connectivity,
>>>>> Offset and
>>>>> Types Blocks ?
>>>>>
>>>>> Bests regards,
>>>>> Thierry Dubuis
>>>>>
>>>>> Dominik Szczerba wrote:
>>>>>
>>>>>  
>>>>>
>>>>>       
>>>>>
>>>>>> I though you said you had used little endian when producing your
>>>>>> files.
>>>>>> If you get errors the first thing I would try is swapping bytes to
>>>>>> big
>>>>>> endian arrangement.
>>>>>> --dsz
>>>>>>
>>>>>> Thierry Dubuis wrote:
>>>>>>
>>>>>>
>>>>>>   
>>>>>>         
>>>>>>
>>>>>>> Why ?
>>>>>>>
>>>>>>> With the big endian I need no size information ?
>>>>>>>
>>>>>>> Thierry Dubuis
>>>>>>>
>>>>>>> Dominik Szczerba wrote:
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>     
>>>>>>>           
>>>>>>>
>>>>>>>> VTK uses big endian
>>>>>>>> --dsz
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>  
>>>>>>>>       
>>>>>>>>             
>>>>>>>>
>>>>>>>>> So first I try to write my data on PC in Little Endian and
>>>>>>>>> crypted in
>>>>>>>>> Base64.
>>>>>>>>> When I try to load it in Paraview 2.5 I have an error, I debug and
>>>>>>>>> find
>>>>>>>>> Paraview reads 4 characters which is the size of the following
>>>>>>>>> binary
>>>>>>>>> block ???
>>>>>>>>>
>>>>>>>>> Have a doc which more precision about this file format than the
>>>>>>>>> vtk
>>>>>>>>> file
>>>>>>>>> formats for VTK Version 4.2 (where I don't find the information
>>>>>>>>> about
>>>>>>>>> this block size) ?
>>>>>>>>>
>>>>>>>>> Thanks for your help.
>>>>>>>>>
>>>>>>>>> Best regards,
>>>>>>>>> Thierry Dubuis
>>>>>>>>> _______________________________________________
>>>>>>>>> ParaView mailing list
>>>>>>>>> ParaView@paraview.org
>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>
>>>>>>>>>                             
>>>>>>>>
>>>>>>>>                       
>>>>>>
>>>>>>
>>>>>>            
>>>>
>>>>
>>>>
>>>>     
>>
>>
>>  
>>

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From koskucher at yahoo.de  Tue Jan  3 07:48:00 2006
From: koskucher at yahoo.de (Kostja Kucher)
Date: Tue Jan  3 07:48:08 2006
Subject: [Paraview] Distributed Parallel File
Message-ID: <20060103124800.42038.qmail@web25911.mail.ukl.yahoo.com>

Hello,

I installed Paraview 2.5 with mpi and mesa.

I managed to run Paraview in parallel when all files
(*.pvd and *.vtp) are in the same local directory on
the master node and can be accessed by the compute
nodes.

The problem is the netwok traffic that results from
using only the one directory. That is why I tried to
use local directories for the compute nodes (render
server). In this case the local dircectories can not
be seen from the master node (client). 

Is this constellation possible in general and if so
can anyone tell me how to build a pvd file for this
case.

How do I have to write the relativ pathes for the vtp
files in case the local direcories can not be seen
from the master node (client)? Or is there an
alternative to the relative pathes?

Thanks for any help,
Kostja


	

	
		
___________________________________________________________ 
Telefonate ohne weitere Kosten vom PC zum PC: http://messenger.yahoo.de
From amy.squillacote at kitware.com  Thu Jan  5 11:44:05 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Thu Jan  5 11:44:23 2006
Subject: [Paraview] ParaView 2.4.2
Message-ID: <6.2.5.6.2.20060105113545.045f4cd0@kitware.com>

Dear ParaView users and developers,

The ParaView 2.4.2 patch release is now available for download from 
the ParaView web site: http://www.paraview.org/HTML/Download.html. 
There are several changes (listed below) included in this release.

changes from 2.4.1 to 2.4.2:
1)   Sub-classes of vtkCommandOptions should be able to override 
which XML parser is created.
2)   ParaView was hanging in cave mode if more than two displays were used.
3)   The per-machine environment variables (from .pvx file) were all 
being set on the first process.
4)   In vtkExtractCTHPart, pass the volume fraction data to all 
extracted parts.
5)   ParaView was running out of memory when saving an animation in 
an MP2 file. (bug #2557)
6)   Change the default frame rate for movie files from 15 to 1. (bug #2557)
7)   When writing out VTK XML files, leave enough whitespace to fill 
in range of a data array. (bug #2561)
8)   Fixed memory leak that occurs when switching between onscreen 
and offscreen rendering on unix.
9)   Free memory as each frame of an MP2 is written.
10) --render-module command-line argument should work with the 
paraview executable (not just pvclient, pvserver, and pvrenderserver).
11) Commented out the Integrate Attributes filter (in 
GUI/Client/Resources/Filters.xml) because it easily crashes ParaView.
12) Print an error message when a reader module used by an entry in 
the recent-file menu cannot be created (i.e., when the file requires 
an external reader module that hasn't been loaded).
13) Extract CTH Parts filter should report an error instead of 
crashing if no arrays are chosen. (bug #2589)
14) In tiled display mode with IceT, if the bounds of the data set 
extend from the visible region to behind the viewpoint in perspective 
projection, then certain tiles would stop rendering the data. (bug #2579)
15) Extract CTH Parts filter was crashing; if no geometry is 
extracted do not try to process it. (bug #2650)
16) Caching of geometry during animation was broken.

changes from 2.4.0 to 2.4.1:
1)   In the Extract Surface filter, Piece Invariant should default to 
ON. (bug #2425)
2)   bug fixes to parallel unstructured volume rendering
3)   With CMake 2.2, do not rebuild all of ParaView when you change 
whether an external module is included.
4)   Fix building of ParaView on Red Hat Fedora core 4.
5)   In the Exodus reader, the Internal NodeId array has the same 
number of nodes as the output unstructured grid, not the input file.
6)   When you play an animation and return to a source that should be 
delete-able, the Delete button is now enabled. (Previously it was 
disabled even though it should have been active.)
7)   Data distribution issues when loading EnSight .case files 
containing vtkImageData (uniform rectilinear data) in parallel have 
been corrected.
8)   In the .pvx configuration file, the XML arguments that are for 
all processes are now being recognized.
9)   The extract groups widget (used by the Extract Groups filter) 
now gets the correct initial range.
10)  The demo runs (finds the correct path) in installed versions of ParaView.
11)  Make the Xdmf writer handle pixels and voxels correctly. (Write 
them out with the same point ordering as is used for quads and hexahedra.)
12)  Properly handle cancelling out of reading an Xdmf file.

We hope you enjoy this new release of ParaView.

- Amy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060105/5f21fd23/attachment.htm
From brad.king at kitware.com  Thu Jan  5 11:46:23 2006
From: brad.king at kitware.com (Brad King)
Date: Thu Jan  5 11:46:25 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BA4B10.1050003@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>	<43B92FF8.6010309@vision.ee.ethz.ch>	<43B93EDD.1090505@scconsultants.com>	<43B94425.5020001@vision.ee.ethz.ch>	<43BA39FF.7010604@scconsultants.com>	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com>
Message-ID: <43BD4D5F.3090208@kitware.com>

Thierry Dubuis wrote:
> No, sorry I did't find any information about that.
> There are information about XML part, binary datas must be encryted with 
> Base64 algorithm and they could be compressed or not,
> but no information about datas organization.

They layout of the binary data chunks is somewhat complicated in order 
to support random access at the same time as base64 encoding and 
compression.  The best way to write it is to link VTK into your program 
and either convert to a VTK type directly and use the 
vtkXMLUnstructuredGridWriter or use the C-interface provided by 
vtkXMLWriterC.h.

If you really want to write it yourself then you should use the inline 
binary format with no compression:

<DataArray type="Float32" Name="Scalars" format="binary">
   NNNN........
</DataArray>

The first four bytes (NNNN) is the number of bytes in the rest of the 
binary block.  The rest of the data should be stored contiguously.  Note 
that everything including the first four bytes should then be base64 
encoded but the size should be before the encoding.

The data can be in either endian-ness.  Just specify in the VTKData 
element which one is used.  Also be sure not to specify a compressor in 
the top element because no compression is used:

<VTKFile type="UnstructuredGrid"
          version="0.1"
          byte_order="LittleEndian">
  ...everything else here...
</VTKFile>

-Brad
From tdubuis at scconsultants.com  Thu Jan  5 12:20:19 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Thu Jan  5 12:18:00 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BD4D5F.3090208@kitware.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com> <43BD4D5F.3090208@kitware.com>
Message-ID: <43BD5553.9070202@scconsultants.com>

Thank you very much Brad for these informations.
I write the write function and it's seems to be Ok.
But the size input is the size after the encoding.

Are you sure of "but the size should be before the encoding"

Thanks again for your support.

Best regards,
Thierry Dubuis

Brad King wrote:

> Thierry Dubuis wrote:
>
>> No, sorry I did't find any information about that.
>> There are information about XML part, binary datas must be encryted 
>> with Base64 algorithm and they could be compressed or not,
>> but no information about datas organization.
>
>
> They layout of the binary data chunks is somewhat complicated in order 
> to support random access at the same time as base64 encoding and 
> compression.  The best way to write it is to link VTK into your 
> program and either convert to a VTK type directly and use the 
> vtkXMLUnstructuredGridWriter or use the C-interface provided by 
> vtkXMLWriterC.h.
>
> If you really want to write it yourself then you should use the inline 
> binary format with no compression:
>
> <DataArray type="Float32" Name="Scalars" format="binary">
>   NNNN........
> </DataArray>
>
> The first four bytes (NNNN) is the number of bytes in the rest of the 
> binary block.  The rest of the data should be stored contiguously.  
> Note that everything including the first four bytes should then be 
> base64 encoded but the size should be before the encoding.
>
> The data can be in either endian-ness.  Just specify in the VTKData 
> element which one is used.  Also be sure not to specify a compressor 
> in the top element because no compression is used:
>
> <VTKFile type="UnstructuredGrid"
>          version="0.1"
>          byte_order="LittleEndian">
>  ...everything else here...
> </VTKFile>
>
> -Brad
>
>

From brad.king at kitware.com  Thu Jan  5 13:41:24 2006
From: brad.king at kitware.com (Brad King)
Date: Thu Jan  5 13:41:28 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BD5553.9070202@scconsultants.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com> <43BD4D5F.3090208@kitware.com>
	<43BD5553.9070202@scconsultants.com>
Message-ID: <43BD6854.9070506@kitware.com>

Thierry Dubuis wrote:
> Thank you very much Brad for these informations.
> I write the write function and it's seems to be Ok.
> But the size input is the size after the encoding.
> 
> Are you sure of "but the size should be before the encoding"

Yes, I'm sure.  I just double-checked the code in the writer.  Basically 
the writing code does not know whether it is writing with base64 
encoding or not.  It just sends data to a stream that does the encoding 
behind the scenes.  The reader works similarly so both ends that care 
about the length do not know about the encoding.

Don't forget that the four size bytes need to be encoded too.

-Brad
From tdubuis at scconsultants.com  Fri Jan  6 03:45:29 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Fri Jan  6 03:43:04 2006
Subject: [Paraview] vtu file format
In-Reply-To: <43BD6854.9070506@kitware.com>
References: <43B92D8F.1050200@scconsultants.com>
	<43B92FF8.6010309@vision.ee.ethz.ch>	<43B93EDD.1090505@scconsultants.com>
	<43B94425.5020001@vision.ee.ethz.ch>	<43BA39FF.7010604@scconsultants.com>
	<43BA3D6E.5090408@vision.ee.ethz.ch>
	<43BA4B10.1050003@scconsultants.com> <43BD4D5F.3090208@kitware.com>
	<43BD5553.9070202@scconsultants.com> <43BD6854.9070506@kitware.com>
Message-ID: <43BE2E29.1050601@scconsultants.com>

Thanks for these informations.

Bests regards,
Thierry Dubuis

Brad King wrote:

> Thierry Dubuis wrote:
>
>> Thank you very much Brad for these informations.
>> I write the write function and it's seems to be Ok.
>> But the size input is the size after the encoding.
>>
>> Are you sure of "but the size should be before the encoding"
>
>
> Yes, I'm sure.  I just double-checked the code in the writer.  
> Basically the writing code does not know whether it is writing with 
> base64 encoding or not.  It just sends data to a stream that does the 
> encoding behind the scenes.  The reader works similarly so both ends 
> that care about the length do not know about the encoding.
>
> Don't forget that the four size bytes need to be encoded too.
>
> -Brad
>
>

From vik.list.vtk at gmail.com  Sun Jan  8 01:03:13 2006
From: vik.list.vtk at gmail.com (Viksit Gaur)
Date: Sun Jan  8 01:03:18 2006
Subject: [Paraview] Particle Simulation and Paraview modification?
Message-ID: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>

Hi all,

I'm developing a particle simulation system for some physics
experiments, and I'm exploring VTK and Paraview to do so. Till now,
the extensive (and excellent) documentation available for both leads
me to believe that since both are being used extensively, they should
solve my purpose.

That said, I wanted to gauge an opinion on the method I've thought I
should use -

The simulation is of certain particles whose coordinates are given in
time steps, and they need to be represented by glyphs - spheres,
boxes, and so on. I would then like to be able to see these particles
move over a given time period, and have the ability to track a certain
particle through its sequences.

How I think I could go about it, is:
We use a custom format to represent the simulation data, and thus I
would need to create a VTKReader for this. Next, this reader has to be
included with Paraview, and data can be loaded. The next part is what
I'm unsure about - to be able to zero in and select a particular
particle from the simulation, does Paraview source need to be
modified? Or can i write TCL scripts to do so? Or, better still, is
this functionality provided already?

Thank you,
Cheers!

Viksit
From a.maclean at cas.edu.au  Sun Jan  8 17:28:47 2006
From: a.maclean at cas.edu.au (Andrew Maclean)
Date: Sun Jan  8 17:28:52 2006
Subject: [Paraview] Particle Simulation and Paraview modification?
In-Reply-To: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>
Message-ID: <200601082228.k08MSfsu005282@trado.ucc.usyd.edu.au>

There is already a particle reader: vtkParticleReader, you just need to
create modules to allow ParaView to use it i.e. the .pvsm and .xml modules.


You could assign scalars to the particles, thereby allowing selection on the
basis of the scalar e.g. colour the particle you want one color and the rest
some other colour.


Andrew


-----Original Message-----
From: Viksit Gaur [mailto:vik.list.vtk@gmail.com] 
Sent: Sunday, 8 January 2006 17:03
To: paraview@paraview.org
Subject: [Paraview] Particle Simulation and Paraview modification?

Hi all,

I'm developing a particle simulation system for some physics
experiments, and I'm exploring VTK and Paraview to do so. Till now,
the extensive (and excellent) documentation available for both leads
me to believe that since both are being used extensively, they should
solve my purpose.

That said, I wanted to gauge an opinion on the method I've thought I
should use -

The simulation is of certain particles whose coordinates are given in
time steps, and they need to be represented by glyphs - spheres,
boxes, and so on. I would then like to be able to see these particles
move over a given time period, and have the ability to track a certain
particle through its sequences.

How I think I could go about it, is:
We use a custom format to represent the simulation data, and thus I
would need to create a VTKReader for this. Next, this reader has to be
included with Paraview, and data can be loaded. The next part is what
I'm unsure about - to be able to zero in and select a particular
particle from the simulation, does Paraview source need to be
modified? Or can i write TCL scripts to do so? Or, better still, is
this functionality provided already?

Thank you,
Cheers!

Viksit



From jvines at arl.army.mil  Mon Jan  9 08:15:53 2006
From: jvines at arl.army.mil (Vines, John  (Civ, ARL/CISD))
Date: Mon Jan  9 08:16:02 2006
Subject: [Paraview] vtkGrid
Message-ID: <D9A8D98DDC682044806D5B46AF5C11E2078BCF@ARLABML01.DS.ARL.ARMY.MIL>

At one time vtk included a grid generation class.  Does anyone know if
this class is still available?

Thanks in advance,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060109/7341cfc2/attachment.html
From berk.geveci at gmail.com  Mon Jan  9 09:27:11 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Mon Jan  9 09:27:16 2006
Subject: [Paraview] Particle Simulation and Paraview modification?
In-Reply-To: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>
References: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>
Message-ID: <a2ab21560601090627m408d61cme0491113375ef74a@mail.gmail.com>

What information do you have to extact a particular particle? Are they
labeled? Do they have ids?

On 1/8/06, Viksit Gaur <vik.list.vtk@gmail.com> wrote:
> Hi all,
>
> I'm developing a particle simulation system for some physics
> experiments, and I'm exploring VTK and Paraview to do so. Till now,
> the extensive (and excellent) documentation available for both leads
> me to believe that since both are being used extensively, they should
> solve my purpose.
>
> That said, I wanted to gauge an opinion on the method I've thought I
> should use -
>
> The simulation is of certain particles whose coordinates are given in
> time steps, and they need to be represented by glyphs - spheres,
> boxes, and so on. I would then like to be able to see these particles
> move over a given time period, and have the ability to track a certain
> particle through its sequences.
>
> How I think I could go about it, is:
> We use a custom format to represent the simulation data, and thus I
> would need to create a VTKReader for this. Next, this reader has to be
> included with Paraview, and data can be loaded. The next part is what
> I'm unsure about - to be able to zero in and select a particular
> particle from the simulation, does Paraview source need to be
> modified? Or can i write TCL scripts to do so? Or, better still, is
> this functionality provided already?
>
> Thank you,
> Cheers!
>
> Viksit
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From biddisco at cscs.ch  Tue Jan 10 05:44:45 2006
From: biddisco at cscs.ch (John Biddiscombe)
Date: Tue Jan 10 05:44:56 2006
Subject: [Paraview] Multiple input filters. Tracking down a bug...(Bug #2498)
Message-ID: <43C3901D.5080705@cscs.ch>

I need to find a fix for a bug which I submitted a while ago, so if 
anyone can help, I have some new info which may be of use.

I have a filter which accepts 2 inputs, one can be any dataset, the 
other a polydata. The filter computes the distance between the first 
dataset and the polydata (water surface) (vtkWaterSheetThicknessFilter). 
The filter operates by firing rays from the dataset (Buckets on a 
turbine) onto the watersheet and computing the intersections.

The filter used to work within paraview, but our CFX reader now 
generates MultiBlock/MultiGroup datasets as output and so I can select 
buckets (7) as a single composite dataset and set them as BucketInput, 
the watersheet is computed using a contour filter and appears as a 
MultiGroup Dataset with a single Polydata object inside it. It is the 
second input.

Suince Paraview now handles composite datasets using an executive which 
will loop over N datasets and applying them sequentially to a filter, in 
principle I can
SetBuckets(7 datasets in a composite container)
SetWaterSheet(1 dataset in a composote container)
execute the filter and receive a single composite dataset with the 7 
computed distances (of which in fact only one is useful, but let's not 
worry about that right now).

What happens when I execute the filter is that if I define
    #define BUCKET_INPUT 1
    #define WATER_INPUT  0
inside my RequestData(yada yada...) function, the information objects 
return valid information for all the buckets, over 7 iterations I get 
the correct bucket out each time - BUT, the water sheet is an empty 
PolyData object
if I
    #define BUCKET_INPUT 0
    #define WATER_INPUT  1
then inside my RequestData(yada yada...) function, I get correct 
WaterSheet polydata object (7 times), but the Bucket dataset is an empty 
datset on each iteration.

It seems that Paraview is looping over the inputs and somehow getting 
the wrong objects (or worse, generating empty ones instead)
the relevant lines of code are here
  // get the info objects
  vtkInformation *bInfo   = 
inputVector[BUCKET_INPUT]->GetInformationObject(0);
  vtkInformation *wInfo   = 
inputVector[WATER_INPUT]->GetInformationObject(0);

  // get the inputs
  vtkDataSet  *bucket = 
vtkDataSet::SafeDownCast(bInfo->Get(vtkDataObject::DATA_OBJECT()));
  vtkDataSet  *water  = 
vtkDataSet::SafeDownCast(wInfo->Get(vtkDataObject::DATA_OBJECT()));

The datasets returned from these last two lines are the ones which get 
munged (depending on the order I define the inputs)

I'd like to look at the code which sets the DATA_OBJECT into the 
information object during execution and try to fix the problem so that 
the filter will loop over the N buckets passing in the nth bucket on 
each iteration, and pass in the water object (since there is only one, 
I'd like it to simply loop over N but modulo 1 in effect and just pass 
the same one each time)

I can't find the right bit of code and I'd therefore like some pointers 
if anyone can assist me

many thanks

JB


-- 
John Biddiscombe,                            email:biddisco @ cscs.ch
http://www.cscs.ch/about/BJohn.php
CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.07
Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82


From Yeraze.11960501 at bloglines.com  Tue Jan 10 09:27:28 2006
From: Yeraze.11960501 at bloglines.com (Yeraze.11960501@bloglines.com)
Date: Tue Jan 10 09:27:31 2006
Subject: [Paraview] Paraview in Client/Server Model
Message-ID: <1136903248.1729481710.7754.sendItem@bloglines.com>

I want to load paraview in a distributed client/server fashion where the Data
Server is hosted on an SGI Irix System, the Render Server is run on a high-end
Linux Machine, and the Client is a Windows Desktop.  I've found references
to this PVX XML file that I need to create for such a thing, but documentation
for this seems to be rather, how do you say, "Nonexistant".

So, what would
a typical PVX file look like for a setup like this?  I'm using Paraview 2.4.1,
and I'll need to use Reverse Connections between the Windows Box & the 2 *nix
systems, although the 2 *nix systems can talk freely.


Randall Hand
Visualization
Scientist
ERDC MSRC, Vicksburg MS
From amy.squillacote at kitware.com  Tue Jan 10 09:50:13 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Tue Jan 10 09:50:55 2006
Subject: [Paraview] Paraview in Client/Server Model
In-Reply-To: <1136903248.1729481710.7754.sendItem@bloglines.com>
References: <1136903248.1729481710.7754.sendItem@bloglines.com>
Message-ID: <6.2.5.6.2.20060110094940.0451c140@kitware.com>

At 09:27 AM 1/10/2006, Yeraze.11960501@bloglines.com wrote:
>I want to load paraview in a distributed client/server fashion where the Data
>Server is hosted on an SGI Irix System, the Render Server is run on a high-end
>Linux Machine, and the Client is a Windows Desktop.  I've found references
>to this PVX XML file that I need to create for such a thing, but documentation
>for this seems to be rather, how do you say, "Nonexistant".
>
>So, what would
>a typical PVX file look like for a setup like this?  I'm using Paraview 2.4.1,
>and I'll need to use Reverse Connections between the Windows Box & the 2 *nix
>systems, although the 2 *nix systems can talk freely.

This is described in ParaView's FAQ: 
http://www.paraview.org/Wiki/ParaView:FAQ#How_do_I_specify_the_list_of_machines_in_the_render_server_in_ParaView_2.2_and_later.3F.

- Amy


>Randall Hand
>Visualization
>Scientist
>ERDC MSRC, Vicksburg MS
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview

From Yeraze.11960501 at bloglines.com  Tue Jan 10 09:56:18 2006
From: Yeraze.11960501 at bloglines.com (Yeraze.11960501@bloglines.com)
Date: Tue Jan 10 09:56:22 2006
Subject: [Paraview] Paraview in Client/Server Model
Message-ID: <1136904978.478859397.20212.sendItem@bloglines.com>

Surely there must exist more documentation that this.  As I alluded to in
the previous email, I've already seen that.  Not only does this not give any
information on what's required in those fields, but it doesn't give any information
on how to setup Reverse Connections.  

--- Amy Squillacote <amy.squillacote@kitware.com
wrote:
At 09:27 AM 1/10/2006, Yeraze.11960501@bloglines.com wrote:
> >I
want to load paraview in a distributed client/server fashion where the Data

> >Server is hosted on an SGI Irix System, the Render Server is run on a
high-end
> >Linux Machine, and the Client is a Windows Desktop.  I've found
references
> >to this PVX XML file that I need to create for such a thing,
but documentation
> >for this seems to be rather, how do you say, "Nonexistant".

> >
> >So, what would
> >a typical PVX file look like for a setup like
this?  I'm using Paraview 2.4.1,
> >and I'll need to use Reverse Connections
between the Windows Box & the 2 *nix
> >systems, although the 2 *nix systems
can talk freely.
> 
> This is described in ParaView's FAQ: 
> http://www.paraview.org/Wiki/ParaView:FAQ#How_do_I_specify_the_list_of_machines_in_the_render_server_in_ParaView_2.2_and_later.3F.

> 
> - Amy
> 
> 
> >Randall Hand
> >Visualization
> >Scientist
> >ERDC
MSRC, Vicksburg MS
> >_______________________________________________
>
>ParaView mailing list
> >ParaView@paraview.org
> >http://www.paraview.org/mailman/listinfo/paraview

> 
> 
From amy.squillacote at kitware.com  Tue Jan 10 10:01:06 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Tue Jan 10 10:02:01 2006
Subject: [Paraview] Paraview in Client/Server Model
In-Reply-To: <1136904978.478859397.20212.sendItem@bloglines.com>
References: <1136904978.478859397.20212.sendItem@bloglines.com>
Message-ID: <6.2.5.6.2.20060110095810.0454b770@kitware.com>

No, that's what documentation is currently available.  Copy the 
example XML file shown, replacing rs_m1 and rs_m2 with the names of 
the machines in your render server.  You will need one Machine XML 
element per machine in your render server.  As for specifying a 
reverse connection, you can just specify --reverse-connection (or 
-rc) on the command-line as in previous versions of 
ParaView.  Alternatively, you can include it at the top of the .pvx 
file (just after the <pvx> flag) using <Option Name="reverse-connection" />.

- Amy

At 09:56 AM 1/10/2006, Yeraze.11960501@bloglines.com wrote:
>Surely there must exist more documentation that this.  As I alluded to in
>the previous email, I've already seen that.  Not only does this not give any
>information on what's required in those fields, but it doesn't give 
>any information
>on how to setup Reverse Connections.
>
>
>
>--- Amy Squillacote <amy.squillacote@kitware.com
>wrote:
>
>At 09:27 AM 1/10/2006, Yeraze.11960501@bloglines.com wrote:
>
> > >I
>want to load paraview in a distributed client/server fashion where the Data
>
> > >Server is hosted on an SGI Irix System, the Render Server is run on a
>high-end
>
> > >Linux Machine, and the Client is a Windows Desktop.  I've found
>references
>
> > >to this PVX XML file that I need to create for such a thing,
>but documentation
>
> > >for this seems to be rather, how do you say, "Nonexistant".
>
> > >
>
> > >So, what would
>
> > >a typical PVX file look like for a setup like
>this?  I'm using Paraview 2.4.1,
>
> > >and I'll need to use Reverse Connections
>between the Windows Box & the 2 *nix
>
> > >systems, although the 2 *nix systems
>can talk freely.
>
> >
>
> > This is described in ParaView's FAQ:
>
> > 
> http://www.paraview.org/Wiki/ParaView:FAQ#How_do_I_specify_the_list_of_machines_in_the_render_server_in_ParaView_2.2_and_later.3F.
>
> >
>
> > - Amy
>
> >
>
> >
>
> > >Randall Hand
>
> > >Visualization
>
> > >Scientist
>
> > >ERDC
>MSRC, Vicksburg MS
>
> > >_______________________________________________
>
> >
> >ParaView mailing list
>
> > >ParaView@paraview.org
>
> > >http://www.paraview.org/mailman/listinfo/paraview
>
> >
>
> >

From Yeraze.11960501 at bloglines.com  Tue Jan 10 10:09:29 2006
From: Yeraze.11960501 at bloglines.com (Yeraze.11960501@bloglines.com)
Date: Tue Jan 10 10:09:33 2006
Subject: [Paraview] Paraview in Client/Server Model
Message-ID: <1136905769.1446387218.30802.sendItem@bloglines.com>

Ok then... I'm using PAraview 2.4.2, freshly downloaded from the website this
morning, on Linux.  I built a PVX file like the following:

<?xml version="1.0"
?>
<pvx>
  <Option Name="reverse-connection" />
  <Option Name="connect-data-to-render"
/>

  <Process Type="client">
    <Machine Name="rhand-svc" />
  </Process>

  <Process Type="data-server">
    <Machine Name="prism" />
  </Process>

  <Process Type="render-server">
    <Machine Name="meteor" />
  </Process>

</pvx>

And then run "~/paraview/bin/pvrenderserver machine.pvx" and Get
the following errors:

[rhand@meteor pvtest]$ ~/paraview/bin/pvrenderserver
machine.pvx
Connect to localhost:22221
ERROR: In /home/amy/ParaViewReleaseRoot/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
line 521
vtkSocketCommunicator (0x8062aa0): Can not connect to localhost
on port 22221


ERROR: In /home/amy/ParaViewReleaseRoot/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 574
vtkPVClientServerModule (0x805f668): Server error: Could not connect
to the client. localhost 22221

ERROR: In /home/amy/ParaViewReleaseRoot/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 583
vtkPVClientServerModule (0x805f668): No GUIHelper set, can not exit
application




--- Amy Squillacote <amy.squillacote@kitware.com wrote:

No, that's what documentation is currently available.  Copy the 
> example
XML file shown, replacing rs_m1 and rs_m2 with the names of 
> the machines
in your render server.  You will need one Machine XML 
> element per machine
in your render server.  As for specifying a 
> reverse connection, you can
just specify --reverse-connection (or 
> -rc) on the command-line as in previous
versions of 
> ParaView.  Alternatively, you can include it at the top of
the .pvx 
> file (just after the <pvx> flag) using <Option Name="reverse-connection"
/>.
> 
> - Amy
> 
> At 09:56 AM 1/10/2006, Yeraze.11960501@bloglines.com
wrote:
> >Surely there must exist more documentation that this.  As I alluded
to in
> >the previous email, I've already seen that.  Not only does this
not give any
> >information on what's required in those fields, but it doesn't
give 
> >any information
> >on how to setup Reverse Connections.
> >
>
>
> >
> >--- Amy Squillacote <amy.squillacote@kitware.com
> >wrote:
>
>
> >At 09:27 AM 1/10/2006, Yeraze.11960501@bloglines.com wrote:
> >
>
> > >I
> >want to load paraview in a distributed client/server fashion where
the Data
> >
> > > >Server is hosted on an SGI Irix System, the Render Server
is run on a
> >high-end
> >
> > > >Linux Machine, and the Client is a Windows
Desktop.  I've found
> >references
> >
> > > >to this PVX XML file that
I need to create for such a thing,
> >but documentation
> >
> > > >for
this seems to be rather, how do you say, "Nonexistant".
> >
> > > >
> >

> > > >So, what would
> >
> > > >a typical PVX file look like for a setup
like
> >this?  I'm using Paraview 2.4.1,
> >
> > > >and I'll need to use
Reverse Connections
> >between the Windows Box & the 2 *nix
> >
> > > >systems,
although the 2 *nix systems
> >can talk freely.
> >
> > >
> >
> > > This
is described in ParaView's FAQ:
> >
> > > 
> > http://www.paraview.org/Wiki/ParaView:FAQ#How_do_I_specify_the_list_of_machines_in_the_render_server_in_ParaView_2.2_and_later.3F.

> >
> > >
> >
> > > - Amy
> >
> > >
> >
> > >
> >
> > > >Randall
Hand
> >
> > > >Visualization
> >
> > > >Scientist
> >
> > > >ERDC
> >MSRC, Vicksburg MS
> >
> > > >_______________________________________________

> >
> > >
> > >ParaView mailing list
> >
> > > >ParaView@paraview.org

> >
> > > >http://www.paraview.org/mailman/listinfo/paraview
> >
> > >

> >
> > >
> 
> 
From randall.hand at gmail.com  Tue Jan 10 12:18:26 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Tue Jan 10 12:18:28 2006
Subject: [Paraview] Paraview Client/Server
Message-ID: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.com>

So I've dumbed mine situation down to a simpler case, just to try & get this
to work. I want to run a Data Server on an SGI Irix (named Prism) and do all
the rendering & client on a linux machine (named Meteor).

>From the command line, if I do
  On Irix: pvdataserver -rc --client-host=meteor
  On Linux: pvclient -rc --data-server-host=prism

It starts, but the Irix machine wants to do the rendering, which fails
because I don't have an X display  (I'm just SSH'ed in remotely).

Using a PVX file like so (named "dual.pvx"):
<?xml version="1.0" ?>
<pvx>
  <Option Name="reverse-connection" />
  <Process Type="client">
    <Machine Name="meteor.erdc.hpc.mil" />
  </Process>
  <Process Type="data-server">
    <Machine Name="prism.erdc.hpc.mil" />
  </Process>
</pvx>

And then doing the following:
  On Linux: pvclient dual.pvx
  On Irix: pvserver dual.pvx or pvdataserver dual.pvx

The client starts just fine on Linux, and goes into the waiting state
(because of the Reverse Connection).  But the server always fails with the
following error:
[11:14:32am]% pvserver dual.pvx
Connect to localhost:11111
ERROR: In /viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
line 521
vtkSocketCommunicator (1622f3a8): Can not connect to localhost on port 11111


ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 573
vtkPVClientServerModule (161f4330): Server error: Could not connect to the
client. localhost 11111

ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 583
vtkPVClientServerModule (161f4330): No GUIHelper set, can not exit
application

I have no idea why it's trying to connect to localhost.  I get the same
error whether I use pvserver or pvdataserver.

--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060110/61373aa6/attachment.html
From amy.squillacote at kitware.com  Tue Jan 10 12:55:23 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Tue Jan 10 12:55:38 2006
Subject: [Paraview] Paraview Client/Server
In-Reply-To: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.co
 m>
References: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.com>
Message-ID: <6.2.5.6.2.20060110125139.0450c148@kitware.com>

At 12:18 PM 1/10/2006, Randall Hand wrote:
>So I've dumbed mine situation down to a simpler case, just to try & 
>get this to work. I want to run a Data Server on an SGI Irix (named 
>Prism) and do all the rendering & client on a linux machine (named Meteor).
>
> From the command line, if I do
>   On Irix: pvdataserver -rc --client-host=meteor
>   On Linux: pvclient -rc --data-server-host=prism
>
>It starts, but the Irix machine wants to do the rendering, which 
>fails because I don't have an X display  (I'm just SSH'ed in remotely).
>
>Using a PVX file like so (named "dual.pvx"):
><?xml version="1.0" ?>
><pvx>
>   <Option Name="reverse-connection" />
>   <Process Type="client">
>     <Machine Name="<http://meteor.erdc.hpc.mil>meteor.erdc.hpc.mil" />
>   </Process>
>   <Process Type="data-server">
>     <Machine Name="<http://prism.erdc.hpc.mil>prism.erdc.hpc.mil" />
>   </Process>
></pvx>
>
>And then doing the following:
>   On Linux: pvclient dual.pvx
>   On Irix: pvserver dual.pvx or pvdataserver dual.pvx
>
>The client starts just fine on Linux, and goes into the waiting 
>state (because of the Reverse Connection).  But the server always 
>fails with the following error:
>[11:14:32am]% pvserver dual.pvx
>Connect to localhost:11111
>ERROR: In 
>/viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx, 
>line 521
>vtkSocketCommunicator (1622f3a8): Can not connect to localhost on port 11111
>
>
>ERROR: In 
>/viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx, 
>line 573
>vtkPVClientServerModule (161f4330): Server error: Could not connect 
>to the client. localhost 11111
>
>ERROR: In 
>/viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx, 
>line 583
>vtkPVClientServerModule (161f4330): No GUIHelper set, can not exit 
>application

The default host (--client-host, in this case) is localhost. You 
either need to specify --client-host=client_host_name on the server 
command line or add it to the .pvx file: <Option 
Name="reverse-connection" Value=client_host_name/>.

>I have no idea why it's trying to connect to localhost.  I get the 
>same error whether I use pvserver or pvdataserver.
>
>--
>Randall Hand
>Visualization Scientist,
>ERDC-MSRC Vicksburg, MS
>Homepage: <http://www.yeraze.com>http://www.yeraze.com
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060110/a2d7afdc/attachment.htm
From randall.hand at gmail.com  Tue Jan 10 13:09:13 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Tue Jan 10 13:09:17 2006
Subject: [Paraview] Paraview Client/Server
In-Reply-To: <6.2.5.6.2.20060110125139.0450c148@kitware.com>
References: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.com>
	<6.2.5.6.2.20060110125139.0450c148@kitware.com>
Message-ID: <b02264720601101009v787b0298x9dcbae2ee04983fd@mail.gmail.com>

Well, modifying the PVX file such as you've described doesn't seem to work.

<?xml version="1.0" ?>
<pvx>
  <Option Name="reverse-connection" Value="meteor.erdc.hpc.mil" />
  <Process Type="client">
    <Machine Name="meteor.erdc.hpc.mil" />
  </Process>
  <Process Type="render-server" />
  <Process Type="data-server">
    <Machine Name="prism.erdc.hpc.mil" />
  </Process>
</pvx>

I get the same identical error about connecting to localhost when I start
pvdataserver .  As for the command line, as I stated in the email that does
work, aside from wanting to do the rendering where the DAtaserver is.  So
again, how do I get the Dataserver on Prism, but Rendering & Client on
Meteor?

Just an observation, but a "strings * | grep render-server" comes up with
nothing (aside from the command-line arguments) on the linux packages
distributed via the website, but the compilation that I did on our Irix
shows a "render-server" line right around the "client" and "data-server"
lines, right next to a vtkPVOptionsXMLParser.  Is the render-server somehow
disabled in that release?  I'm currently attempting to compile it myself on
the linux system.

On 1/10/06, Amy Squillacote <amy.squillacote@kitware.com> wrote:
>
> At 12:18 PM 1/10/2006, Randall Hand wrote:
>
> So I've dumbed mine situation down to a simpler case, just to try & get
> this to work. I want to run a Data Server on an SGI Irix (named Prism) and
> do all the rendering & client on a linux machine (named Meteor).
>
> From the command line, if I do
>   On Irix: pvdataserver -rc --client-host=meteor
>   On Linux: pvclient -rc --data-server-host=prism
>
> It starts, but the Irix machine wants to do the rendering, which fails
> because I don't have an X display  (I'm just SSH'ed in remotely).
>
> Using a PVX file like so (named "dual.pvx"):
> <?xml version="1.0" ?>
> <pvx>
>   <Option Name="reverse-connection" />
>   <Process Type="client">
>     <Machine Name="meteor.erdc.hpc.mil " />
>   </Process>
>   <Process Type="data-server">
>     <Machine Name="prism.erdc.hpc.mil " />
>   </Process>
> </pvx>
>
> And then doing the following:
>   On Linux: pvclient dual.pvx
>   On Irix: pvserver dual.pvx or pvdataserver dual.pvx
>
> The client starts just fine on Linux, and goes into the waiting state
> (because of the Reverse Connection).  But the server always fails with the
> following error:
> [11:14:32am]% pvserver dual.pvx
> Connect to localhost:11111
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
> line 521
> vtkSocketCommunicator (1622f3a8): Can not connect to localhost on port
> 11111
>
>
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
> line 573
> vtkPVClientServerModule (161f4330): Server error: Could not connect to the
> client. localhost 11111
>
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
> line 583
> vtkPVClientServerModule (161f4330): No GUIHelper set, can not exit
> application
>
>
> The default host (--client-host, in this case) is localhost. You either
> need to specify --client-host=*client_host_name* on the server command
> line or add it to the .pvx file: <Option Name="reverse-connection" Value=*
> client_host_name*/>.
>
> I have no idea why it's trying to connect to localhost.  I get the same
> error whether I use pvserver or pvdataserver.
>
> --
> Randall Hand
> Visualization Scientist,
> ERDC-MSRC Vicksburg, MS
> Homepage: http://www.yeraze.com
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
>  http://www.paraview.org/mailman/listinfo/paraview
>
>


--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060110/9a17f96a/attachment.html
From amy.squillacote at kitware.com  Tue Jan 10 14:13:32 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Tue Jan 10 14:13:46 2006
Subject: [Paraview] Paraview Client/Server
In-Reply-To: <b02264720601101009v787b0298x9dcbae2ee04983fd@mail.gmail.co
 m>
References: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.com>
	<6.2.5.6.2.20060110125139.0450c148@kitware.com>
	<b02264720601101009v787b0298x9dcbae2ee04983fd@mail.gmail.com>
Message-ID: <6.2.5.6.2.20060110141140.0451fac0@kitware.com>

At 01:09 PM 1/10/2006, Randall Hand wrote:
>Well, modifying the PVX file such as you've described doesn't seem to work.
>
><?xml version="1.0" ?>
><pvx>
>   <Option Name="reverse-connection" Value=" 
> <http://meteor.erdc.hpc.mil>meteor.erdc.hpc.mil" />

The above XML element should be <Option Name="client-host" 
Value="<http://meteor.erdc.hpc.mil>meteor.erdc.hpc.mil" />.  (That 
was a typo in my previous e-mail.)  You'll also need an XML element 
specifying that you want to reverse the connection: <Option 
Name="reverse-connection" />.

>   <Process Type="client">
>     <Machine Name="<http://meteor.erdc.hpc.mil>meteor.erdc.hpc.mil" />
>   </Process>
>   <Process Type="render-server" />
>   <Process Type="data-server">
>     <Machine Name="<http://prism.erdc.hpc.mil>prism.erdc.hpc.mil" />
>   </Process>
></pvx>
>
>I get the same identical error about connecting to localhost when I 
>start pvdataserver .  As for the command line, as I stated in the 
>email that does work, aside from wanting to do the rendering where 
>the DAtaserver is.  So again, how do I get the Dataserver on Prism, 
>but Rendering & Client on Meteor?
>
>Just an observation, but a "strings * | grep render-server" comes up 
>with nothing (aside from the command-line arguments) on the linux 
>packages distributed via the website, but the compilation that I did 
>on our Irix shows a "render-server" line right around the "client" 
>and "data-server" lines, right next to a vtkPVOptionsXMLParser.  Is 
>the render-server somehow disabled in that release?  I'm currently 
>attempting to compile it myself on the linux system.
>
>On 1/10/06, Amy Squillacote 
><<mailto:amy.squillacote@kitware.com>amy.squillacote@kitware.com> wrote:
>At 12:18 PM 1/10/2006, Randall Hand wrote:
>>So I've dumbed mine situation down to a simpler case, just to try & 
>>get this to work. I want to run a Data Server on an SGI Irix (named 
>>Prism) and do all the rendering & client on a linux machine (named Meteor).
>>
>> From the command line, if I do
>>   On Irix: pvdataserver -rc --client-host=meteor
>>   On Linux: pvclient -rc --data-server-host=prism
>>
>>It starts, but the Irix machine wants to do the rendering, which 
>>fails because I don't have an X display  (I'm just SSH'ed in remotely).
>>
>>Using a PVX file like so (named "dual.pvx"):
>><?xml version="1.0" ?>
>><pvx>
>>   <Option Name="reverse-connection" />
>>   <Process Type="client">
>>     <Machine Name="<http://meteor.erdc.hpc.mil>meteor.erdc.hpc.mil " />
>>   </Process>
>>   <Process Type="data-server">
>>     <Machine Name="<http://prism.erdc.hpc.mil>prism.erdc.hpc.mil " />
>>   </Process>
>></pvx>
>>
>>And then doing the following:
>>   On Linux: pvclient dual.pvx
>>   On Irix: pvserver dual.pvx or pvdataserver dual.pvx
>>
>>The client starts just fine on Linux, and goes into the waiting 
>>state (because of the Reverse Connection).  But the server always 
>>fails with the following error:
>>[11:14:32am]% pvserver dual.pvx
>>Connect to localhost:11111
>>ERROR: In 
>>/viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx, 
>>line 521
>>vtkSocketCommunicator (1622f3a8): Can not connect to localhost on port 11111
>>
>>
>>ERROR: In 
>>/viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx, 
>>line 573
>>vtkPVClientServerModule (161f4330): Server error: Could not connect 
>>to the client. localhost 11111
>>
>>ERROR: In 
>>/viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx, 
>>line 583
>>vtkPVClientServerModule (161f4330): No GUIHelper set, can not exit 
>>application
>
>The default host (--client-host, in this case) is localhost. You 
>either need to specify --client-host=client_host_name on the server 
>command line or add it to the .pvx file: <Option 
>Name="reverse-connection" Value=client_host_name/>.
>
>>I have no idea why it's trying to connect to localhost.  I get the 
>>same error whether I use pvserver or pvdataserver.
>>
>>--
>>Randall Hand
>>Visualization Scientist,
>>ERDC-MSRC Vicksburg, MS
>>Homepage: <http://www.yeraze.com>http://www.yeraze.com
>>_______________________________________________
>>ParaView mailing list
>><mailto:ParaView@paraview.org>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
>--
>Randall Hand
>Visualization Scientist,
>ERDC-MSRC Vicksburg, MS
>Homepage: <http://www.yeraze.com>http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060110/d5ae238d/attachment.htm
From randall.hand at gmail.com  Wed Jan 11 10:25:24 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Wed Jan 11 10:25:32 2006
Subject: [Paraview] Paraview Client/Server
In-Reply-To: <6.2.5.6.2.20060110141140.0451fac0@kitware.com>
References: <b02264720601100918i311034c9la48f8ddfbee135a4@mail.gmail.com>
	<6.2.5.6.2.20060110125139.0450c148@kitware.com>
	<b02264720601101009v787b0298x9dcbae2ee04983fd@mail.gmail.com>
	<6.2.5.6.2.20060110141140.0451fac0@kitware.com>
Message-ID: <b02264720601110725u7aec31aeu5de58c2569be47b0@mail.gmail.com>

Unfortunately, it still doesn't work.

<?xml version="1.0" ?>
<pvx>
  <Option Name="reverse-connection" />
  <Option Name="client-host" Value="meteor.erdc.hpc.mil" />

  <Process Type="client" />
  <Process Type="render-server" />
  <Process Type="data-server">
    <Machine Name="prism.erdc.hpc.mil" />
  </Process>
</pvx>

[1012] [rhand@prism:~] [9:24:24am]% pvdataserver dual.pvx
Connect to localhost:11111
ERROR: In /viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
line 521
vtkSocketCommunicator (1622d128): Can not connect to localhost on port 11111


ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 573
vtkPVClientServerModule (161f5208): Server error: Could not connect to the
client. localhost 11111

ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
line 583
vtkPVClientServerModule (161f5208): No GUIHelper set, can not exit
application

[1013] [rhand@prism:~] [9:24:30am]%

The error is identical whether I use pvserver or pvdataserver.

On 1/10/06, Amy Squillacote <amy.squillacote@kitware.com> wrote:
>
> At 01:09 PM 1/10/2006, Randall Hand wrote:
>
> Well, modifying the PVX file such as you've described doesn't seem to
> work.
>
> <?xml version="1.0" ?>
> <pvx>
>   <Option Name="reverse-connection" Value=" meteor.erdc.hpc.mil" />
>
>
> The above XML element should be <Option Name="client-host" Value="
> meteor.erdc.hpc.mil " />.  (That was a typo in my previous e-mail.)
> You'll also need an XML element specifying that you want to reverse the
> connection: <Option Name="reverse-connection" />.
>
>   <Process Type="client">
>     <Machine Name="meteor.erdc.hpc.mil " />
>   </Process>
>   <Process Type="render-server" />
>   <Process Type="data-server">
>     <Machine Name="prism.erdc.hpc.mil " />
>   </Process>
> </pvx>
>
> I get the same identical error about connecting to localhost when I start
> pvdataserver .  As for the command line, as I stated in the email that does
> work, aside from wanting to do the rendering where the DAtaserver is.  So
> again, how do I get the Dataserver on Prism, but Rendering & Client on
> Meteor?
>
> Just an observation, but a "strings * | grep render-server" comes up with
> nothing (aside from the command-line arguments) on the linux packages
> distributed via the website, but the compilation that I did on our Irix
> shows a "render-server" line right around the "client" and "data-server"
> lines, right next to a vtkPVOptionsXMLParser.  Is the render-server somehow
> disabled in that release?  I'm currently attempting to compile it myself on
> the linux system.
>
> On 1/10/06, *Amy Squillacote* < amy.squillacote@kitware.com> wrote:
>  At 12:18 PM 1/10/2006, Randall Hand wrote:
>
> So I've dumbed mine situation down to a simpler case, just to try & get
> this to work. I want to run a Data Server on an SGI Irix (named Prism) and
> do all the rendering & client on a linux machine (named Meteor).
>
> From the command line, if I do
>   On Irix: pvdataserver -rc --client-host=meteor
>   On Linux: pvclient -rc --data-server-host=prism
>
> It starts, but the Irix machine wants to do the rendering, which fails
> because I don't have an X display  (I'm just SSH'ed in remotely).
>
> Using a PVX file like so (named "dual.pvx"):
> <?xml version="1.0" ?>
> <pvx>
>   <Option Name="reverse-connection" />
>   <Process Type="client">
>     <Machine Name="meteor.erdc.hpc.mil " />
>   </Process>
>   <Process Type="data-server">
>     <Machine Name="prism.erdc.hpc.mil " />
>   </Process>
> </pvx>
>
> And then doing the following:
>   On Linux: pvclient dual.pvx
>   On Irix: pvserver dual.pvx or pvdataserver dual.pvx
>
> The client starts just fine on Linux, and goes into the waiting state
> (because of the Reverse Connection).  But the server always fails with the
> following error:
> [11:14:32am]% pvserver dual.pvx
> Connect to localhost:11111
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
> line 521
> vtkSocketCommunicator (1622f3a8): Can not connect to localhost on port
> 11111
>
>
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
> line 573
> vtkPVClientServerModule (161f4330): Server error: Could not connect to the
> client. localhost 11111
>
> ERROR: In /viz/home/rhand/src/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
> line 583
> vtkPVClientServerModule (161f4330): No GUIHelper set, can not exit
> application
>
>
> The default host (--client-host, in this case) is localhost. You either
> need to specify --client-host=client_host_name on the server command line or
> add it to the .pvx file: <Option Name="reverse-connection"
> Value=client_host_name/>.
>
>  I have no idea why it's trying to connect to localhost.  I get the same
> error whether I use pvserver or pvdataserver.
>
> --
> Randall Hand
> Visualization Scientist,
> ERDC-MSRC Vicksburg, MS
> Homepage: http://www.yeraze.com
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
>  http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
>
> --
> Randall Hand
> Visualization Scientist,
> ERDC-MSRC Vicksburg, MS
> Homepage: http://www.yeraze.com
>
>


--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060111/c40d44fc/attachment.htm
From Peter.Bastian at iwr.uni-heidelberg.de  Wed Jan 11 11:13:18 2006
From: Peter.Bastian at iwr.uni-heidelberg.de (Peter Bastian)
Date: Wed Jan 11 11:13:26 2006
Subject: [Paraview] VTK XML binary file format
Message-ID: <43C52E9E.4070103@iwr.uni-heidelberg.de>

Hi all,

I am trying to write VTK XML unstructured grid files (.vtu) by myself
(i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
binary makes problems. I followed the instructions given previously on
this list, i.e. I use inline DataArrays, put the size of the data in
front of the block and encode everything base64.

Now there are two problems:

1) The "offsets" array causes an error when reading:

peter@cray:~/FE/dune-dd$ paraview
ErrorMessage
# Error or warning: There was a VTK Error in file:
/home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
(592)
 vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
from Cells in piece 0 because the "offsets" array is not monotonically
increasing or starts with a value less than 1.
ErrorMessage end

When I write only the offsets array in ascii, the file is read without
error message. This is curious because all the writing is done by one
class in my code. I also checked the encoded binary data and it looks OK.

2) Loading the file with all in binary except the "offsets" array, the
point data as well as the cell data and the point positions are not correct.

Now my question:

Is there some further undocumented magic (like the size in bytes at the
beginning) that I have to consider?

I would prefer to write VTK files without linking in VTK itself.
In the attachment I append binary and ascii versions of my file.

Thanks for any response.

-- Peter
------------------------------------------------------------------
Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860

-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.ascii.vtu
Type: text/xml
Size: 1565 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060111/f7451859/test.ascii.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.binary.vtu
Type: text/xml
Size: 1950 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060111/f7451859/test.binary.bin
From domi at vision.ee.ethz.ch  Wed Jan 11 11:16:30 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 11 11:16:41 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C52E9E.4070103@iwr.uni-heidelberg.de>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
Message-ID: <43C52F5E.1020106@vision.ee.ethz.ch>

is there any particular reason you write xml files yourself?
I take an easier way out writing binary legacy files and post-converting
them once written.
PS/ and I do confirm strange things happening with xml files
--dsz

Peter Bastian wrote:
> Hi all,
> 
> I am trying to write VTK XML unstructured grid files (.vtu) by myself
> (i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
> binary makes problems. I followed the instructions given previously on
> this list, i.e. I use inline DataArrays, put the size of the data in
> front of the block and encode everything base64.
> 
> Now there are two problems:
> 
> 1) The "offsets" array causes an error when reading:
> 
> peter@cray:~/FE/dune-dd$ paraview
> ErrorMessage
> # Error or warning: There was a VTK Error in file:
> /home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
> (592)
>  vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
> from Cells in piece 0 because the "offsets" array is not monotonically
> increasing or starts with a value less than 1.
> ErrorMessage end
> 
> When I write only the offsets array in ascii, the file is read without
> error message. This is curious because all the writing is done by one
> class in my code. I also checked the encoded binary data and it looks OK.
> 
> 2) Loading the file with all in binary except the "offsets" array, the
> point data as well as the cell data and the point positions are not correct.
> 
> Now my question:
> 
> Is there some further undocumented magic (like the size in bytes at the
> beginning) that I have to consider?
> 
> I would prefer to write VTK files without linking in VTK itself.
> In the attachment I append binary and ascii versions of my file.
> 
> Thanks for any response.
> 
> -- Peter
> ------------------------------------------------------------------
> Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
> email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
> WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
> 
> 
> 
> ------------------------------------------------------------------------
> 
> <?xml version="1.0"?>
> <VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>   <UnstructuredGrid>
>     <Piece NumberOfPoints="25" NumberOfCells="16">
>       <PointData Scalars="exact">
> <DataArray type="Float32" Name="exact" format="ascii">
> 0 0 0 0.0625 0 0.125 0 0.1875 0 0.25 0 0.125 
> 0.25 0.375 0.5 0 0.1875 0.375 0.5625 0.75 0 0.25 0.5 0.75 
> 1 
> </DataArray>
>       </PointData>
>       <CellData Scalars="exact">
> <DataArray type="Float32" Name="exact" format="ascii">
> 0.015625 0.046875 0.078125 0.109375 0.046875 0.140625 0.234375 0.328125 0.078125 0.234375 0.390625 0.546875 
> 0.109375 0.328125 0.546875 0.765625 
> </DataArray>
>       </CellData>
>       <Points>
> <DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="ascii">
> 0 0 0 0.25 0 0 0 0.25 0 0.25 0.25 0 
> 0.5 0 0 0.5 0.25 0 0.75 0 0 0.75 0.25 0 
> 1 0 0 1 0.25 0 0 0.5 0 0.25 0.5 0 
> 0.5 0.5 0 0.75 0.5 0 1 0.5 0 0 0.75 0 
> 0.25 0.75 0 0.5 0.75 0 0.75 0.75 0 1 0.75 0 
> 0 1 0 0.25 1 0 0.5 1 0 0.75 1 0 
> 1 1 0 
> </DataArray>
>       </Points>
>       <Cells>
> <DataArray type="Int32" Name="connectivity" format="ascii">
> 0 1 3 2 1 4 5 3 4 6 7 5 
> 6 8 9 7 2 3 11 10 3 5 12 11 
> 5 7 13 12 7 9 14 13 10 11 16 15 
> 11 12 17 16 12 13 18 17 13 14 19 18 
> 15 16 21 20 16 17 22 21 17 18 23 22 
> 18 19 24 23 
> </DataArray>
> <DataArray type="Int32" Name="offsets" format="ascii">
> 4 8 12 16 20 24 28 32 36 40 44 48 
> 52 56 60 64 
> </DataArray>
> <DataArray type="UInt8" Name="types" format="ascii">
> 9 9 9 9 9 9 9 9 9 9 9 9 
> 9 9 9 9 
> </DataArray>
>       </Cells>
>     </Piece>
>   </UnstructuredGrid>
> </VTKFile>
> 
> 
> ------------------------------------------------------------------------
> 
> <?xml version="1.0"?>
> <VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>   <UnstructuredGrid>
>     <Piece NumberOfPoints="25" NumberOfCells="16">
>       <PointData Scalars="exact">
> <DataArray type="Float32" Name="exact" format="binary">
> ZAAAAAAAAAAAAAAAAAAAAAAAgD0AAAAAAAAAPgAAAAAAAEA+AAAAAAAAgD4AAAAAAAAAPgAA
> gD4AAMA+AAAAPwAAAAAAAEA+AADAPgAAED8AAEA/AAAAAAAAgD4AAAA/AABAPwAAgD8=
> </DataArray>
>       </PointData>
>       <CellData Scalars="exact">
> <DataArray type="Float32" Name="exact" format="binary">
> QAAAAAAAgDwAAEA9AACgPQAA4D0AAEA9AAAQPgAAcD4AAKg+AACgPQAAcD4AAMg+AAAMPwAA
> 4D0AAKg+AAAMPwAARD8=
> </DataArray>
>       </CellData>
>       <Points>
> <DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="binary">
> LAEAAAAAAAAAAAAAAAAAAAAAgD4AAAAAAAAAAAAAAAAAAIA+AAAAAAAAgD4AAIA+AAAAAAAA
> AD8AAAAAAAAAAAAAAD8AAIA+AAAAAAAAQD8AAAAAAAAAAAAAQD8AAIA+AAAAAAAAgD8AAAAA
> AAAAAAAAgD8AAIA+AAAAAAAAAAAAAAA/AAAAAAAAgD4AAAA/AAAAAAAAAD8AAAA/AAAAAAAA
> QD8AAAA/AAAAAAAAgD8AAAA/AAAAAAAAAAAAAEA/AAAAAAAAgD4AAEA/AAAAAAAAAD8AAEA/
> AAAAAAAAQD8AAEA/AAAAAAAAgD8AAEA/AAAAAAAAAAAAAIA/AAAAAAAAgD4AAIA/AAAAAAAA
> AD8AAIA/AAAAAAAAQD8AAIA/AAAAAAAAgD8AAIA/AAAAAA==
> </DataArray>
>       </Points>
>       <Cells>
> <DataArray type="Int32" Name="connectivity" format="binary">
> AAEAAAAAAAABAAAAAwAAAAIAAAABAAAABAAAAAUAAAADAAAABAAAAAYAAAAHAAAABQAAAAYA
> AAAIAAAACQAAAAcAAAACAAAAAwAAAAsAAAAKAAAAAwAAAAUAAAAMAAAACwAAAAUAAAAHAAAA
> DQAAAAwAAAAHAAAACQAAAA4AAAANAAAACgAAAAsAAAAQAAAADwAAAAsAAAAMAAAAEQAAABAA
> AAAMAAAADQAAABIAAAARAAAADQAAAA4AAAATAAAAEgAAAA8AAAAQAAAAFQAAABQAAAAQAAAA
> EQAAABYAAAAVAAAAEQAAABIAAAAXAAAAFgAAABIAAAATAAAAGAAAABcAAAA=
> </DataArray>
> <DataArray type="Int32" Name="offsets" format="binary">
> QAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQA
> AAA4AAAAPAAAAEAAAAA=
> </DataArray>
> <DataArray type="UInt8" Name="types" format="binary">
> EAAAAAkJCQkJCQkJCQkJCQkJCQk=
> </DataArray>
>       </Cells>
>     </Piece>
>   </UnstructuredGrid>
> </VTKFile>
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From olivier.magotte at cenaero.be  Wed Jan 11 11:35:48 2006
From: olivier.magotte at cenaero.be (Olivier Magotte)
Date: Wed Jan 11 11:35:56 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C52E9E.4070103@iwr.uni-heidelberg.de>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
Message-ID: <43C533E4.5030302@cenaero.be>

Peter Bastian wrote:

>Hi all,
>
>I am trying to write VTK XML unstructured grid files (.vtu) by myself
>(i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
>binary makes problems. I followed the instructions given previously on
>this list, i.e. I use inline DataArrays, put the size of the data in
>front of the block and encode everything base64.
>
>Now there are two problems:
>
>1) The "offsets" array causes an error when reading:
>
>peter@cray:~/FE/dune-dd$ paraview
>ErrorMessage
># Error or warning: There was a VTK Error in file:
>/home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
>(592)
> vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
>from Cells in piece 0 because the "offsets" array is not monotonically
>increasing or starts with a value less than 1.
>ErrorMessage end
>
>When I write only the offsets array in ascii, the file is read without
>error message. This is curious because all the writing is done by one
>class in my code. I also checked the encoded binary data and it looks OK.
>
>2) Loading the file with all in binary except the "offsets" array, the
>point data as well as the cell data and the point positions are not correct.
>
>Now my question:
>
>Is there some further undocumented magic (like the size in bytes at the
>beginning) that I have to consider?
>
>I would prefer to write VTK files without linking in VTK itself.
>In the attachment I append binary and ascii versions of my file.
>
>Thanks for any response.
>
>-- Peter
>------------------------------------------------------------------
>Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
>email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
>WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
>  
>
I suggest to encode the data array size (4 bytes) first and then encode 
the array (two '=' character must appear after the first 6 characters). 
It works for me.

Useful information can also be found here: 
http://public.kitware.com/pipermail/paraview/2005-April/001391.html

Olivier

-- 
--------------------------------------------------------------------------------
Ir. Olivier Magotte                                 |       CENAERO
Research Scientist - Virtual Manufacturing          |    www.cenaero.be
--------------------------------------------------------------------------------


From Peter.Bastian at iwr.uni-heidelberg.de  Wed Jan 11 12:16:10 2006
From: Peter.Bastian at iwr.uni-heidelberg.de (Peter Bastian)
Date: Wed Jan 11 12:16:22 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C52F5E.1020106@vision.ee.ethz.ch>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
	<43C52F5E.1020106@vision.ee.ethz.ch>
Message-ID: <43C53D5A.9060308@iwr.uni-heidelberg.de>

Thanks for answering so fast!

Dominik Szczerba schrieb:
> is there any particular reason you write xml files yourself?
I understood that I have to use XML to do parallel visualization.
Furthermore I don't want to install VTK on every machine where I compute
my results, therefore it should be "stand-alone".

> I take an easier way out writing binary legacy files and post-converting
> them once written.
Hmmm, that adds another conversion step. Not good with TBytes of data.
You do that in parallel?

> PS/ and I do confirm strange things happening with xml files
:-(

-- Peter

> --dsz
> 
> Peter Bastian wrote:
> 
>>Hi all,
>>
>>I am trying to write VTK XML unstructured grid files (.vtu) by myself
>>(i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
>>binary makes problems. I followed the instructions given previously on
>>this list, i.e. I use inline DataArrays, put the size of the data in
>>front of the block and encode everything base64.
>>
>>Now there are two problems:
>>
>>1) The "offsets" array causes an error when reading:
>>
>>peter@cray:~/FE/dune-dd$ paraview
>>ErrorMessage
>># Error or warning: There was a VTK Error in file:
>>/home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
>>(592)
>> vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
>>from Cells in piece 0 because the "offsets" array is not monotonically
>>increasing or starts with a value less than 1.
>>ErrorMessage end
>>
>>When I write only the offsets array in ascii, the file is read without
>>error message. This is curious because all the writing is done by one
>>class in my code. I also checked the encoded binary data and it looks OK.
>>
>>2) Loading the file with all in binary except the "offsets" array, the
>>point data as well as the cell data and the point positions are not correct.
>>
>>Now my question:
>>
>>Is there some further undocumented magic (like the size in bytes at the
>>beginning) that I have to consider?
>>
>>I would prefer to write VTK files without linking in VTK itself.
>>In the attachment I append binary and ascii versions of my file.
>>
>>Thanks for any response.
>>
>>-- Peter
>>------------------------------------------------------------------
>>Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
>>email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
>>WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
>>
>>
>>
>>------------------------------------------------------------------------
>>
>><?xml version="1.0"?>
>><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>>  <UnstructuredGrid>
>>    <Piece NumberOfPoints="25" NumberOfCells="16">
>>      <PointData Scalars="exact">
>><DataArray type="Float32" Name="exact" format="ascii">
>>0 0 0 0.0625 0 0.125 0 0.1875 0 0.25 0 0.125 
>>0.25 0.375 0.5 0 0.1875 0.375 0.5625 0.75 0 0.25 0.5 0.75 
>>1 
>></DataArray>
>>      </PointData>
>>      <CellData Scalars="exact">
>><DataArray type="Float32" Name="exact" format="ascii">
>>0.015625 0.046875 0.078125 0.109375 0.046875 0.140625 0.234375 0.328125 0.078125 0.234375 0.390625 0.546875 
>>0.109375 0.328125 0.546875 0.765625 
>></DataArray>
>>      </CellData>
>>      <Points>
>><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="ascii">
>>0 0 0 0.25 0 0 0 0.25 0 0.25 0.25 0 
>>0.5 0 0 0.5 0.25 0 0.75 0 0 0.75 0.25 0 
>>1 0 0 1 0.25 0 0 0.5 0 0.25 0.5 0 
>>0.5 0.5 0 0.75 0.5 0 1 0.5 0 0 0.75 0 
>>0.25 0.75 0 0.5 0.75 0 0.75 0.75 0 1 0.75 0 
>>0 1 0 0.25 1 0 0.5 1 0 0.75 1 0 
>>1 1 0 
>></DataArray>
>>      </Points>
>>      <Cells>
>><DataArray type="Int32" Name="connectivity" format="ascii">
>>0 1 3 2 1 4 5 3 4 6 7 5 
>>6 8 9 7 2 3 11 10 3 5 12 11 
>>5 7 13 12 7 9 14 13 10 11 16 15 
>>11 12 17 16 12 13 18 17 13 14 19 18 
>>15 16 21 20 16 17 22 21 17 18 23 22 
>>18 19 24 23 
>></DataArray>
>><DataArray type="Int32" Name="offsets" format="ascii">
>>4 8 12 16 20 24 28 32 36 40 44 48 
>>52 56 60 64 
>></DataArray>
>><DataArray type="UInt8" Name="types" format="ascii">
>>9 9 9 9 9 9 9 9 9 9 9 9 
>>9 9 9 9 
>></DataArray>
>>      </Cells>
>>    </Piece>
>>  </UnstructuredGrid>
>></VTKFile>
>>
>>
>>------------------------------------------------------------------------
>>
>><?xml version="1.0"?>
>><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>>  <UnstructuredGrid>
>>    <Piece NumberOfPoints="25" NumberOfCells="16">
>>      <PointData Scalars="exact">
>><DataArray type="Float32" Name="exact" format="binary">
>>ZAAAAAAAAAAAAAAAAAAAAAAAgD0AAAAAAAAAPgAAAAAAAEA+AAAAAAAAgD4AAAAAAAAAPgAA
>>gD4AAMA+AAAAPwAAAAAAAEA+AADAPgAAED8AAEA/AAAAAAAAgD4AAAA/AABAPwAAgD8=
>></DataArray>
>>      </PointData>
>>      <CellData Scalars="exact">
>><DataArray type="Float32" Name="exact" format="binary">
>>QAAAAAAAgDwAAEA9AACgPQAA4D0AAEA9AAAQPgAAcD4AAKg+AACgPQAAcD4AAMg+AAAMPwAA
>>4D0AAKg+AAAMPwAARD8=
>></DataArray>
>>      </CellData>
>>      <Points>
>><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="binary">
>>LAEAAAAAAAAAAAAAAAAAAAAAgD4AAAAAAAAAAAAAAAAAAIA+AAAAAAAAgD4AAIA+AAAAAAAA
>>AD8AAAAAAAAAAAAAAD8AAIA+AAAAAAAAQD8AAAAAAAAAAAAAQD8AAIA+AAAAAAAAgD8AAAAA
>>AAAAAAAAgD8AAIA+AAAAAAAAAAAAAAA/AAAAAAAAgD4AAAA/AAAAAAAAAD8AAAA/AAAAAAAA
>>QD8AAAA/AAAAAAAAgD8AAAA/AAAAAAAAAAAAAEA/AAAAAAAAgD4AAEA/AAAAAAAAAD8AAEA/
>>AAAAAAAAQD8AAEA/AAAAAAAAgD8AAEA/AAAAAAAAAAAAAIA/AAAAAAAAgD4AAIA/AAAAAAAA
>>AD8AAIA/AAAAAAAAQD8AAIA/AAAAAAAAgD8AAIA/AAAAAA==
>></DataArray>
>>      </Points>
>>      <Cells>
>><DataArray type="Int32" Name="connectivity" format="binary">
>>AAEAAAAAAAABAAAAAwAAAAIAAAABAAAABAAAAAUAAAADAAAABAAAAAYAAAAHAAAABQAAAAYA
>>AAAIAAAACQAAAAcAAAACAAAAAwAAAAsAAAAKAAAAAwAAAAUAAAAMAAAACwAAAAUAAAAHAAAA
>>DQAAAAwAAAAHAAAACQAAAA4AAAANAAAACgAAAAsAAAAQAAAADwAAAAsAAAAMAAAAEQAAABAA
>>AAAMAAAADQAAABIAAAARAAAADQAAAA4AAAATAAAAEgAAAA8AAAAQAAAAFQAAABQAAAAQAAAA
>>EQAAABYAAAAVAAAAEQAAABIAAAAXAAAAFgAAABIAAAATAAAAGAAAABcAAAA=
>></DataArray>
>><DataArray type="Int32" Name="offsets" format="binary">
>>QAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQA
>>AAA4AAAAPAAAAEAAAAA=
>></DataArray>
>><DataArray type="UInt8" Name="types" format="binary">
>>EAAAAAkJCQkJCQkJCQkJCQkJCQk=
>></DataArray>
>>      </Cells>
>>    </Piece>
>>  </UnstructuredGrid>
>></VTKFile>
>>
>>
>>------------------------------------------------------------------------
>>
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
> 
> 

-- 
------------------------------------------------------------------
Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860

From domi at vision.ee.ethz.ch  Wed Jan 11 12:26:01 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 11 12:26:04 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C53D5A.9060308@iwr.uni-heidelberg.de>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
	<43C52F5E.1020106@vision.ee.ethz.ch>
	<43C53D5A.9060308@iwr.uni-heidelberg.de>
Message-ID: <43C53FA9.7070504@vision.ee.ethz.ch>

no, I am not concerned about parallel performance (yet).
still might be easier to install vtk on each and every machine you work
on (esp. for the same system).
if you want to bite the xml file format sharpen your teeth well.
(and post the results)
good luck
--dsz

Peter Bastian wrote:
> Thanks for answering so fast!
> 
> Dominik Szczerba schrieb:
> 
>>is there any particular reason you write xml files yourself?
> 
> I understood that I have to use XML to do parallel visualization.
> Furthermore I don't want to install VTK on every machine where I compute
> my results, therefore it should be "stand-alone".
> 
> 
>>I take an easier way out writing binary legacy files and post-converting
>>them once written.
> 
> Hmmm, that adds another conversion step. Not good with TBytes of data.
> You do that in parallel?
> 
> 
>>PS/ and I do confirm strange things happening with xml files
> 
> :-(
> 
> -- Peter
> 
> 
>>--dsz
>>
>>Peter Bastian wrote:
>>
>>
>>>Hi all,
>>>
>>>I am trying to write VTK XML unstructured grid files (.vtu) by myself
>>>(i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
>>>binary makes problems. I followed the instructions given previously on
>>>this list, i.e. I use inline DataArrays, put the size of the data in
>>>front of the block and encode everything base64.
>>>
>>>Now there are two problems:
>>>
>>>1) The "offsets" array causes an error when reading:
>>>
>>>peter@cray:~/FE/dune-dd$ paraview
>>>ErrorMessage
>>># Error or warning: There was a VTK Error in file:
>>>/home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
>>>(592)
>>>vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
>>
>>>from Cells in piece 0 because the "offsets" array is not monotonically
>>
>>>increasing or starts with a value less than 1.
>>>ErrorMessage end
>>>
>>>When I write only the offsets array in ascii, the file is read without
>>>error message. This is curious because all the writing is done by one
>>>class in my code. I also checked the encoded binary data and it looks OK.
>>>
>>>2) Loading the file with all in binary except the "offsets" array, the
>>>point data as well as the cell data and the point positions are not correct.
>>>
>>>Now my question:
>>>
>>>Is there some further undocumented magic (like the size in bytes at the
>>>beginning) that I have to consider?
>>>
>>>I would prefer to write VTK files without linking in VTK itself.
>>>In the attachment I append binary and ascii versions of my file.
>>>
>>>Thanks for any response.
>>>
>>>-- Peter
>>>------------------------------------------------------------------
>>>Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
>>>email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
>>>WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
>>>
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>><?xml version="1.0"?>
>>><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>>> <UnstructuredGrid>
>>>   <Piece NumberOfPoints="25" NumberOfCells="16">
>>>     <PointData Scalars="exact">
>>><DataArray type="Float32" Name="exact" format="ascii">
>>>0 0 0 0.0625 0 0.125 0 0.1875 0 0.25 0 0.125 
>>>0.25 0.375 0.5 0 0.1875 0.375 0.5625 0.75 0 0.25 0.5 0.75 
>>>1 
>>></DataArray>
>>>     </PointData>
>>>     <CellData Scalars="exact">
>>><DataArray type="Float32" Name="exact" format="ascii">
>>>0.015625 0.046875 0.078125 0.109375 0.046875 0.140625 0.234375 0.328125 0.078125 0.234375 0.390625 0.546875 
>>>0.109375 0.328125 0.546875 0.765625 
>>></DataArray>
>>>     </CellData>
>>>     <Points>
>>><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="ascii">
>>>0 0 0 0.25 0 0 0 0.25 0 0.25 0.25 0 
>>>0.5 0 0 0.5 0.25 0 0.75 0 0 0.75 0.25 0 
>>>1 0 0 1 0.25 0 0 0.5 0 0.25 0.5 0 
>>>0.5 0.5 0 0.75 0.5 0 1 0.5 0 0 0.75 0 
>>>0.25 0.75 0 0.5 0.75 0 0.75 0.75 0 1 0.75 0 
>>>0 1 0 0.25 1 0 0.5 1 0 0.75 1 0 
>>>1 1 0 
>>></DataArray>
>>>     </Points>
>>>     <Cells>
>>><DataArray type="Int32" Name="connectivity" format="ascii">
>>>0 1 3 2 1 4 5 3 4 6 7 5 
>>>6 8 9 7 2 3 11 10 3 5 12 11 
>>>5 7 13 12 7 9 14 13 10 11 16 15 
>>>11 12 17 16 12 13 18 17 13 14 19 18 
>>>15 16 21 20 16 17 22 21 17 18 23 22 
>>>18 19 24 23 
>>></DataArray>
>>><DataArray type="Int32" Name="offsets" format="ascii">
>>>4 8 12 16 20 24 28 32 36 40 44 48 
>>>52 56 60 64 
>>></DataArray>
>>><DataArray type="UInt8" Name="types" format="ascii">
>>>9 9 9 9 9 9 9 9 9 9 9 9 
>>>9 9 9 9 
>>></DataArray>
>>>     </Cells>
>>>   </Piece>
>>> </UnstructuredGrid>
>>></VTKFile>
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>><?xml version="1.0"?>
>>><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>>> <UnstructuredGrid>
>>>   <Piece NumberOfPoints="25" NumberOfCells="16">
>>>     <PointData Scalars="exact">
>>><DataArray type="Float32" Name="exact" format="binary">
>>>ZAAAAAAAAAAAAAAAAAAAAAAAgD0AAAAAAAAAPgAAAAAAAEA+AAAAAAAAgD4AAAAAAAAAPgAA
>>>gD4AAMA+AAAAPwAAAAAAAEA+AADAPgAAED8AAEA/AAAAAAAAgD4AAAA/AABAPwAAgD8=
>>></DataArray>
>>>     </PointData>
>>>     <CellData Scalars="exact">
>>><DataArray type="Float32" Name="exact" format="binary">
>>>QAAAAAAAgDwAAEA9AACgPQAA4D0AAEA9AAAQPgAAcD4AAKg+AACgPQAAcD4AAMg+AAAMPwAA
>>>4D0AAKg+AAAMPwAARD8=
>>></DataArray>
>>>     </CellData>
>>>     <Points>
>>><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="binary">
>>>LAEAAAAAAAAAAAAAAAAAAAAAgD4AAAAAAAAAAAAAAAAAAIA+AAAAAAAAgD4AAIA+AAAAAAAA
>>>AD8AAAAAAAAAAAAAAD8AAIA+AAAAAAAAQD8AAAAAAAAAAAAAQD8AAIA+AAAAAAAAgD8AAAAA
>>>AAAAAAAAgD8AAIA+AAAAAAAAAAAAAAA/AAAAAAAAgD4AAAA/AAAAAAAAAD8AAAA/AAAAAAAA
>>>QD8AAAA/AAAAAAAAgD8AAAA/AAAAAAAAAAAAAEA/AAAAAAAAgD4AAEA/AAAAAAAAAD8AAEA/
>>>AAAAAAAAQD8AAEA/AAAAAAAAgD8AAEA/AAAAAAAAAAAAAIA/AAAAAAAAgD4AAIA/AAAAAAAA
>>>AD8AAIA/AAAAAAAAQD8AAIA/AAAAAAAAgD8AAIA/AAAAAA==
>>></DataArray>
>>>     </Points>
>>>     <Cells>
>>><DataArray type="Int32" Name="connectivity" format="binary">
>>>AAEAAAAAAAABAAAAAwAAAAIAAAABAAAABAAAAAUAAAADAAAABAAAAAYAAAAHAAAABQAAAAYA
>>>AAAIAAAACQAAAAcAAAACAAAAAwAAAAsAAAAKAAAAAwAAAAUAAAAMAAAACwAAAAUAAAAHAAAA
>>>DQAAAAwAAAAHAAAACQAAAA4AAAANAAAACgAAAAsAAAAQAAAADwAAAAsAAAAMAAAAEQAAABAA
>>>AAAMAAAADQAAABIAAAARAAAADQAAAA4AAAATAAAAEgAAAA8AAAAQAAAAFQAAABQAAAAQAAAA
>>>EQAAABYAAAAVAAAAEQAAABIAAAAXAAAAFgAAABIAAAATAAAAGAAAABcAAAA=
>>></DataArray>
>>><DataArray type="Int32" Name="offsets" format="binary">
>>>QAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQA
>>>AAA4AAAAPAAAAEAAAAA=
>>></DataArray>
>>><DataArray type="UInt8" Name="types" format="binary">
>>>EAAAAAkJCQkJCQkJCQkJCQkJCQk=
>>></DataArray>
>>>     </Cells>
>>>   </Piece>
>>> </UnstructuredGrid>
>>></VTKFile>
>>>
>>>
>>>------------------------------------------------------------------------
>>>
>>>_______________________________________________
>>>ParaView mailing list
>>>ParaView@paraview.org
>>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>
> 

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From tdubuis at scconsultants.com  Wed Jan 11 12:38:08 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Wed Jan 11 12:38:16 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C52E9E.4070103@iwr.uni-heidelberg.de>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
Message-ID: <43C54280.3010608@scconsultants.com>

Hello Peter,

Sorry, I don't read the binary Base64 encode directly, but after debug 
Paraview
I saw the twelve firsts offsets [0-11] are read Ok but the following 
offsets (12,13,14,15) have the value -842203084

You must have a problem in your write function.

I hope this informations could help you to find your problem.

Best regards,
Thierry Dubuis

Peter Bastian wrote:

>Hi all,
>
>I am trying to write VTK XML unstructured grid files (.vtu) by myself
>(i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
>binary makes problems. I followed the instructions given previously on
>this list, i.e. I use inline DataArrays, put the size of the data in
>front of the block and encode everything base64.
>
>Now there are two problems:
>
>1) The "offsets" array causes an error when reading:
>
>peter@cray:~/FE/dune-dd$ paraview
>ErrorMessage
># Error or warning: There was a VTK Error in file:
>/home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
>(592)
> vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
>from Cells in piece 0 because the "offsets" array is not monotonically
>increasing or starts with a value less than 1.
>ErrorMessage end
>
>When I write only the offsets array in ascii, the file is read without
>error message. This is curious because all the writing is done by one
>class in my code. I also checked the encoded binary data and it looks OK.
>
>2) Loading the file with all in binary except the "offsets" array, the
>point data as well as the cell data and the point positions are not correct.
>
>Now my question:
>
>Is there some further undocumented magic (like the size in bytes at the
>beginning) that I have to consider?
>
>I would prefer to write VTK files without linking in VTK itself.
>In the attachment I append binary and ascii versions of my file.
>
>Thanks for any response.
>
>-- Peter
>------------------------------------------------------------------
>Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
>email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
>WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
>
>  
>
>------------------------------------------------------------------------
>
><?xml version="1.0"?>
><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>  <UnstructuredGrid>
>    <Piece NumberOfPoints="25" NumberOfCells="16">
>      <PointData Scalars="exact">
><DataArray type="Float32" Name="exact" format="ascii">
>0 0 0 0.0625 0 0.125 0 0.1875 0 0.25 0 0.125 
>0.25 0.375 0.5 0 0.1875 0.375 0.5625 0.75 0 0.25 0.5 0.75 
>1 
></DataArray>
>      </PointData>
>      <CellData Scalars="exact">
><DataArray type="Float32" Name="exact" format="ascii">
>0.015625 0.046875 0.078125 0.109375 0.046875 0.140625 0.234375 0.328125 0.078125 0.234375 0.390625 0.546875 
>0.109375 0.328125 0.546875 0.765625 
></DataArray>
>      </CellData>
>      <Points>
><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="ascii">
>0 0 0 0.25 0 0 0 0.25 0 0.25 0.25 0 
>0.5 0 0 0.5 0.25 0 0.75 0 0 0.75 0.25 0 
>1 0 0 1 0.25 0 0 0.5 0 0.25 0.5 0 
>0.5 0.5 0 0.75 0.5 0 1 0.5 0 0 0.75 0 
>0.25 0.75 0 0.5 0.75 0 0.75 0.75 0 1 0.75 0 
>0 1 0 0.25 1 0 0.5 1 0 0.75 1 0 
>1 1 0 
></DataArray>
>      </Points>
>      <Cells>
><DataArray type="Int32" Name="connectivity" format="ascii">
>0 1 3 2 1 4 5 3 4 6 7 5 
>6 8 9 7 2 3 11 10 3 5 12 11 
>5 7 13 12 7 9 14 13 10 11 16 15 
>11 12 17 16 12 13 18 17 13 14 19 18 
>15 16 21 20 16 17 22 21 17 18 23 22 
>18 19 24 23 
></DataArray>
><DataArray type="Int32" Name="offsets" format="ascii">
>4 8 12 16 20 24 28 32 36 40 44 48 
>52 56 60 64 
></DataArray>
><DataArray type="UInt8" Name="types" format="ascii">
>9 9 9 9 9 9 9 9 9 9 9 9 
>9 9 9 9 
></DataArray>
>      </Cells>
>    </Piece>
>  </UnstructuredGrid>
></VTKFile>
>  
>
>------------------------------------------------------------------------
>
><?xml version="1.0"?>
><VTKFile type="UnstructuredGrid" version="0.1" byte_order="LittleEndian">
>  <UnstructuredGrid>
>    <Piece NumberOfPoints="25" NumberOfCells="16">
>      <PointData Scalars="exact">
><DataArray type="Float32" Name="exact" format="binary">
>ZAAAAAAAAAAAAAAAAAAAAAAAgD0AAAAAAAAAPgAAAAAAAEA+AAAAAAAAgD4AAAAAAAAAPgAA
>gD4AAMA+AAAAPwAAAAAAAEA+AADAPgAAED8AAEA/AAAAAAAAgD4AAAA/AABAPwAAgD8=
></DataArray>
>      </PointData>
>      <CellData Scalars="exact">
><DataArray type="Float32" Name="exact" format="binary">
>QAAAAAAAgDwAAEA9AACgPQAA4D0AAEA9AAAQPgAAcD4AAKg+AACgPQAAcD4AAMg+AAAMPwAA
>4D0AAKg+AAAMPwAARD8=
></DataArray>
>      </CellData>
>      <Points>
><DataArray type="Float32" Name="Coordinates" NumberOfComponents="3" format="binary">
>LAEAAAAAAAAAAAAAAAAAAAAAgD4AAAAAAAAAAAAAAAAAAIA+AAAAAAAAgD4AAIA+AAAAAAAA
>AD8AAAAAAAAAAAAAAD8AAIA+AAAAAAAAQD8AAAAAAAAAAAAAQD8AAIA+AAAAAAAAgD8AAAAA
>AAAAAAAAgD8AAIA+AAAAAAAAAAAAAAA/AAAAAAAAgD4AAAA/AAAAAAAAAD8AAAA/AAAAAAAA
>QD8AAAA/AAAAAAAAgD8AAAA/AAAAAAAAAAAAAEA/AAAAAAAAgD4AAEA/AAAAAAAAAD8AAEA/
>AAAAAAAAQD8AAEA/AAAAAAAAgD8AAEA/AAAAAAAAAAAAAIA/AAAAAAAAgD4AAIA/AAAAAAAA
>AD8AAIA/AAAAAAAAQD8AAIA/AAAAAAAAgD8AAIA/AAAAAA==
></DataArray>
>      </Points>
>      <Cells>
><DataArray type="Int32" Name="connectivity" format="binary">
>AAEAAAAAAAABAAAAAwAAAAIAAAABAAAABAAAAAUAAAADAAAABAAAAAYAAAAHAAAABQAAAAYA
>AAAIAAAACQAAAAcAAAACAAAAAwAAAAsAAAAKAAAAAwAAAAUAAAAMAAAACwAAAAUAAAAHAAAA
>DQAAAAwAAAAHAAAACQAAAA4AAAANAAAACgAAAAsAAAAQAAAADwAAAAsAAAAMAAAAEQAAABAA
>AAAMAAAADQAAABIAAAARAAAADQAAAA4AAAATAAAAEgAAAA8AAAAQAAAAFQAAABQAAAAQAAAA
>EQAAABYAAAAVAAAAEQAAABIAAAAXAAAAFgAAABIAAAATAAAAGAAAABcAAAA=
></DataArray>
><DataArray type="Int32" Name="offsets" format="binary">
>QAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQA
>AAA4AAAAPAAAAEAAAAA=
></DataArray>
><DataArray type="UInt8" Name="types" format="binary">
>EAAAAAkJCQkJCQkJCQkJCQkJCQk=
></DataArray>
>      </Cells>
>    </Piece>
>  </UnstructuredGrid>
></VTKFile>
>  
>
>------------------------------------------------------------------------
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

From Peter.Bastian at iwr.uni-heidelberg.de  Wed Jan 11 13:15:24 2006
From: Peter.Bastian at iwr.uni-heidelberg.de (Peter Bastian)
Date: Wed Jan 11 13:15:34 2006
Subject: [Paraview] VTK XML binary file format
In-Reply-To: <43C533E4.5030302@cenaero.be>
References: <43C52E9E.4070103@iwr.uni-heidelberg.de>
	<43C533E4.5030302@cenaero.be>
Message-ID: <43C54B3C.8080605@iwr.uni-heidelberg.de>

Olivier Magotte schrieb:
> Peter Bastian wrote:
> 
>> Hi all,
>>
>> I am trying to write VTK XML unstructured grid files (.vtu) by myself
>> (i.e. without using vtkXMLUnstructuredGridWriter). Ascii works fine but
>> binary makes problems. I followed the instructions given previously on
>> this list, i.e. I use inline DataArrays, put the size of the data in
>> front of the block and encode everything base64.
>>
>> Now there are two problems:
>>
>> 1) The "offsets" array causes an error when reading:
>>
>> peter@cray:~/FE/dune-dd$ paraview
>> ErrorMessage
>> # Error or warning: There was a VTK Error in file:
>> /home/amy/ParaViewReleaseRoot/paraview-2.4.1/VTK/IO/vtkXMLUnstructuredDataReader.cxx
>>
>> (592)
>> vtkXMLUnstructuredGridReader (0x8dfacb0): Cannot read cell connectivity
>> from Cells in piece 0 because the "offsets" array is not monotonically
>> increasing or starts with a value less than 1.
>> ErrorMessage end
>>
>> When I write only the offsets array in ascii, the file is read without
>> error message. This is curious because all the writing is done by one
>> class in my code. I also checked the encoded binary data and it looks OK.
>>
>> 2) Loading the file with all in binary except the "offsets" array, the
>> point data as well as the cell data and the point positions are not
>> correct.
>>
>> Now my question:
>>
>> Is there some further undocumented magic (like the size in bytes at the
>> beginning) that I have to consider?
>>
>> I would prefer to write VTK files without linking in VTK itself.
>> In the attachment I append binary and ascii versions of my file.
>>
>> Thanks for any response.
>>
>> -- Peter
>> ------------------------------------------------------------------
>> Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
>> email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
>> WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860
>>  
>>
> I suggest to encode the data array size (4 bytes) first and then encode
> the array (two '=' character must appear after the first 6 characters).
> It works for me.
> 
> Useful information can also be found here:
> http://public.kitware.com/pipermail/paraview/2005-April/001391.html
> 
> Olivier
> 
Strange. This does not work at all. Does not give an error message, but
the mesh then has 0 cells and 0 vertices. Also, it is in contrast to the
reference you have sent. I use uncompressed data.

Thanks anyway.

-- Peter
------------------------------------------------------------------
Peter Bastian, IWR,Uni Heidelberg, INF 348,R 020, 69120 Heidelberg
email: Peter.Bastian@iwr.uni-heidelberg.de   Tel: +49 6221 54 4984
WWW: http://www.iwr.uni-heidelberg.de/~Peter.Bastian Fax: ... 8860

From comstock.ctr at navo.hpc.mil  Wed Jan 11 14:45:30 2006
From: comstock.ctr at navo.hpc.mil (Bryan Comstock, Contractor)
Date: Wed Jan 11 14:45:35 2006
Subject: [Paraview] Problem running Paraview with mpirun
Message-ID: <43C5605A.5080206@navo.hpc.mil>

I'm getting an error message when I attempt to run Paraview with 
mpirun.  The error is as follows:

% mpirun -np 2 -machinefile mpihosts ./paraview

Cannot find MPIRUN machine file for machine vapi_multirail
and architecture LINUX .
(No device specified.)

Can someone help me with this?

Thanks!
From berk.geveci at gmail.com  Thu Jan 12 12:49:38 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Thu Jan 12 12:49:40 2006
Subject: [Paraview] Problem running Paraview with mpirun
In-Reply-To: <43C5605A.5080206@navo.hpc.mil>
References: <43C5605A.5080206@navo.hpc.mil>
Message-ID: <a2ab21560601120949u2f6a0f36gcfd0f74fca064dc7@mail.gmail.com>

This looks like an mpi installation issue. Can you run any other mpi
application? Some mpi distributions come with examples one can run to
test.

On 1/11/06, Bryan Comstock, Contractor <comstock.ctr@navo.hpc.mil> wrote:
> I'm getting an error message when I attempt to run Paraview with
> mpirun.  The error is as follows:
>
> % mpirun -np 2 -machinefile mpihosts ./paraview
>
> Cannot find MPIRUN machine file for machine vapi_multirail
> and architecture LINUX .
> (No device specified.)
>
> Can someone help me with this?
>
> Thanks!
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From comstock.ctr at navo.hpc.mil  Thu Jan 12 13:55:38 2006
From: comstock.ctr at navo.hpc.mil (Bryan Comstock, Contractor)
Date: Thu Jan 12 13:55:46 2006
Subject: [Paraview] Problem running Paraview with mpirun
In-Reply-To: <a2ab21560601120949u2f6a0f36gcfd0f74fca064dc7@mail.gmail.com>
References: <43C5605A.5080206@navo.hpc.mil>
	<a2ab21560601120949u2f6a0f36gcfd0f74fca064dc7@mail.gmail.com>
Message-ID: <43C6A62A.7000203@navo.hpc.mil>

Turns out I was using the wrong mpirun.. I've got it working now, 
although it's taking awhile (several minutes) for the UI to come up.. 
I'm running Paraview remotely on a Linux cluster..

Thanks for responding!

Berk Geveci wrote:

>This looks like an mpi installation issue. Can you run any other mpi
>application? Some mpi distributions come with examples one can run to
>test.
>
>On 1/11/06, Bryan Comstock, Contractor <comstock.ctr@navo.hpc.mil> wrote:
>  
>
>>I'm getting an error message when I attempt to run Paraview with
>>mpirun.  The error is as follows:
>>
>>% mpirun -np 2 -machinefile mpihosts ./paraview
>>
>>Cannot find MPIRUN machine file for machine vapi_multirail
>>and architecture LINUX .
>>(No device specified.)
>>
>>Can someone help me with this?
>>
>>Thanks!
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>    
>>
>
>  
>


From paraview at lampoldshausen.de  Fri Jan 13 07:11:52 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Fri Jan 13 07:12:02 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
Message-ID: <20060113131152.k7278i1k8ls8gooo@webmail.lampoldshausen.de>

sorry, if this pops up twice. Think I got the wrong sender email ...


I have an Ensight .case file in the following format:

----------------- dummy.case --------------------------------------
FORMAT
type: ensight

GEOMETRY
model:   dummy_exp.GEO
measured:  case_iterXX-30K.ensdat
VARIABLE
scalar per measured node: HTRAN       case_iterXX-30K.ensdat_htran
scalar per measured node: TEMPERATURE case_iterXX-30K.ensdat_temp
----------------------------------------------------------------------

A dummy geometry file (basically containing just a boundary box with 6
cells)
was created as Ensight needs some underlaying geometry (dummy_exp.GEO).
What I need to display are actually scalar values on a point cloud.
So I was advised to put these scalars into three files:

case_iterXX-30K.ensdat contains just the xyz point locations
case_iterXX-30K.ensdat_htran contains first scalar value for the measured
points
case_iterXX-30K.ensdat_temp contains second scalar value for the measured
points

Ensight is able to display color according to the scalar values for the
points.
Paraview successfully reads in the dummy geometry, the points and the
scalar
values, allows me to select the two scalar values (HTRAN/Temperature) in
the
color section of the Display tab but the points are not colorized at all.

So I tried to set interpolation to 'flat' instead of 'Gouraud', changed
representation to point instead of surface and so on. But still no
success.

I had compiled paraview myself using these options:

BUILD_SHARED_LIBS                OFF
 CMAKE_BACKWARDS_COMPATIBILITY    2.2
 CMAKE_BUILD_TYPE
 CMAKE_INSTALL_PREFIX             /home/xxxx/opt/paraview
 VTK_USE_CG_SHADERS               OFF
 VTK_USE_GLSL_SHADERS             ON

I had also tried 'VTK_USE_GLSL_SHADERS OFF'.

Is there anything I am missing?

As I said: Ensight has no trouble setting colors according to the scalars.

By the way the scalar range is read in correctly as can be seen by
displaying
the scalar bar and exploring the range there.

- Holger -

From billlist at nycap.rr.com  Fri Jan 13 07:47:45 2006
From: billlist at nycap.rr.com (William A. Hoffman)
Date: Fri Jan 13 07:50:34 2006
Subject: [Paraview] Re: [CMake] Building cmake with xlc
In-Reply-To: <fb51a4510601130059oc10836cr455aab39fc229d9f@mail.gmail.com
 >
References: <fb51a4510601120346i3c773405u114d8c1b63543d7e@mail.gmail.com>
	<6.2.3.4.2.20060112104450.091141f0@pop.nycap.rr.com>
	<fb51a4510601130059oc10836cr455aab39fc229d9f@mail.gmail.com>
Message-ID: <6.2.0.14.2.20060113074446.07f5d768@pop.nycap.rr.com>


>
>We use Linux. So the default lInux files are used I guess.
>Anyway for the moment I made cmake with gcc and that's ok.
>
>Another problem I encountered while building Paraview is that the
>flags I set (CFLAGS,...) are not used for compiling tcl/tk !
>For example, I compile in 64 bits mode (-m64 with gcc), so all the
>objects files are 64 bits except those of tcl, that leads sometimes to
>linking problems. Anyway I managed to build Paraview an to use it.
>Maybe I have to custom the cmake file for tcl building ?

Before you run cmake, you need to set CXXFLAGS, CFLAGS and LDFLAGS
environment variables with the correct flags to set for 64 bit.
These flags will be used by the configure script inside ParaView,
and they will also be used for the cmake part of the build.
Make sure you start with a clean build tree before you try this.

-Bill

From billlist at nycap.rr.com  Fri Jan 13 08:48:55 2006
From: billlist at nycap.rr.com (William A. Hoffman)
Date: Fri Jan 13 08:52:10 2006
Subject: [Paraview] Re: [CMake] Building cmake with xlc
In-Reply-To: <6.2.0.14.2.20060113074446.07f5d768@pop.nycap.rr.com>
References: <fb51a4510601120346i3c773405u114d8c1b63543d7e@mail.gmail.com>
	<6.2.3.4.2.20060112104450.091141f0@pop.nycap.rr.com>
	<fb51a4510601130059oc10836cr455aab39fc229d9f@mail.gmail.com>
	<6.2.0.14.2.20060113074446.07f5d768@pop.nycap.rr.com>
Message-ID: <6.2.3.4.2.20060113084733.0914fad0@pop.nycap.rr.com>

At 07:47 AM 1/13/2006, William A. Hoffman wrote:

>>
>>We use Linux. So the default lInux files are used I guess.
>>Anyway for the moment I made cmake with gcc and that's ok.
>>

Where can you get xlc for Linux?

It should be very easy to add support to CMake.
You would have to create a Linux-xlc.cmake file that will
go in the Platforms directory of cmake.   It would set all
the correct flags for the compiler.  If you want, I can help
you create one, and I will add it to cmake.

-Bill

From berk.geveci at gmail.com  Fri Jan 13 09:34:14 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Jan 13 09:34:17 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060113131152.k7278i1k8ls8gooo@webmail.lampoldshausen.de>
References: <20060113131152.k7278i1k8ls8gooo@webmail.lampoldshausen.de>
Message-ID: <a2ab21560601130634q4ffdbea8xf2598704f5d18fa9@mail.gmail.com>

It looks like you need to glyph the dataset. ParaView does not display
points that are not associated by geometry. The glyph filters creates
geometry (in your cae, you probably want a vertex per point)
associated with points. Apply the glyph filter to your dataset.

-Berk

On 1/13/06, Holger Bauer <paraview@lampoldshausen.de> wrote:
> sorry, if this pops up twice. Think I got the wrong sender email ...
>
>
> I have an Ensight .case file in the following format:
>
> ----------------- dummy.case --------------------------------------
> FORMAT
> type: ensight
>
> GEOMETRY
> model:   dummy_exp.GEO
> measured:  case_iterXX-30K.ensdat
> VARIABLE
> scalar per measured node: HTRAN       case_iterXX-30K.ensdat_htran
> scalar per measured node: TEMPERATURE case_iterXX-30K.ensdat_temp
> ----------------------------------------------------------------------
>
> A dummy geometry file (basically containing just a boundary box with 6
> cells)
> was created as Ensight needs some underlaying geometry (dummy_exp.GEO).
> What I need to display are actually scalar values on a point cloud.
> So I was advised to put these scalars into three files:
>
> case_iterXX-30K.ensdat contains just the xyz point locations
> case_iterXX-30K.ensdat_htran contains first scalar value for the measured
> points
> case_iterXX-30K.ensdat_temp contains second scalar value for the measured
> points
>
> Ensight is able to display color according to the scalar values for the
> points.
> Paraview successfully reads in the dummy geometry, the points and the
> scalar
> values, allows me to select the two scalar values (HTRAN/Temperature) in
> the
> color section of the Display tab but the points are not colorized at all.
>
> So I tried to set interpolation to 'flat' instead of 'Gouraud', changed
> representation to point instead of surface and so on. But still no
> success.
>
> I had compiled paraview myself using these options:
>
> BUILD_SHARED_LIBS                OFF
>  CMAKE_BACKWARDS_COMPATIBILITY    2.2
>  CMAKE_BUILD_TYPE
>  CMAKE_INSTALL_PREFIX             /home/xxxx/opt/paraview
>  VTK_USE_CG_SHADERS               OFF
>  VTK_USE_GLSL_SHADERS             ON
>
> I had also tried 'VTK_USE_GLSL_SHADERS OFF'.
>
> Is there anything I am missing?
>
> As I said: Ensight has no trouble setting colors according to the scalars.
>
> By the way the scalar range is read in correctly as can be seen by
> displaying
> the scalar bar and exploring the range there.
>
> - Holger -
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From paraview at lampoldshausen.de  Fri Jan 13 10:40:18 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Fri Jan 13 10:40:34 2006
Subject: [Paraview] Re:Point Cloud in Ensight Case Format
In-Reply-To: <20060113161846.ef11u9xbtukgg8gc@webmail.lampoldshausen.de>
References: <20060113131152.k7278i1k8ls8gooo@webmail.lampoldshausen.de>
	<a2ab21560601130634q4ffdbea8xf2598704f5d18fa9@mail.gmail.com>
	<20060113161846.ef11u9xbtukgg8gc@webmail.lampoldshausen.de>
Message-ID: <20060113164018.dm6jlsl4knxkowg0@webmail.lampoldshausen.de>

Thanks for your answer. However, I am not really sure whether
I have understood what you are saying.

Yes, Paraview does show my points. But it does not colorize it using 
the scalar
(data) values.
Applying the glyph filter adds arrows/cones/etc. while still not showing any
color. However, the arrows get propperly scaled by the scalar values ...
So the question remains why I cannot apply the color as a scalar scale to the
points?

-Holger-

> It looks like you need to glyph the dataset. ParaView does not display
> points that are not associated by geometry. The glyph filters creates
> geometry (in your cae, you probably want a vertex per point)
> associated with points. Apply the glyph filter to your dataset.
>
> -Berk


From eschenbe at psc.edu  Fri Jan 13 10:49:19 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Fri Jan 13 10:49:27 2006
Subject: [Paraview] Re:Point Cloud in Ensight Case Format
In-Reply-To: <20060113164018.dm6jlsl4knxkowg0@webmail.lampoldshausen.de>
References: <20060113131152.k7278i1k8ls8gooo@webmail.lampoldshausen.de>
	<a2ab21560601130634q4ffdbea8xf2598704f5d18fa9@mail.gmail.com>
	<20060113161846.ef11u9xbtukgg8gc@webmail.lampoldshausen.de>
	<20060113164018.dm6jlsl4knxkowg0@webmail.lampoldshausen.de>
Message-ID: <A2D0A117A6A9675A1FA21961@harpo.psc.edu>

Holger,

You've probably already tried this ... go to the glyph property sheet, to 
the Display tab, to the "Color by" pulldown menu, and select one of your 
scalars. Does that work?

Kent
Pittsburgh Supercomputing Center

--On 1/13/06 04:40:18 PM  <paraview@lampoldshausen.de> wrote:
> Yes, Paraview does show my points. But it does not colorize it using the
> scalar (data) values.

From paraview at lampoldshausen.de  Fri Jan 13 12:10:58 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Fri Jan 13 12:11:19 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
References: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
Message-ID: <20060113181058.86folwmg5n0ko88w@webmail.lampoldshausen.de>


Thanks for all the help. No, in the pull-down selection box of the
color field
there are then only the fields:

Color by:
Cell cellNormals (3)
and Point Normals (3) (+of course the normal uni-color "Property"
selection)
This is what drive me crazy ...

Any other ideas?

I have found a python script that basically converts the xyz data
into:

xyz + scalar .vtk data file. Using this just for the
point location information and setting simply the scalar value to the
z-coordinate (quick and dirty) the .vtk file is read and all the
colors are
displayed perfectly on the points. The file format is quite simple:

Therefore I decided to write a small program that parses the .case
file and
converts all the data into one single VTK file.

The converter (as far as I have understood) just takes all the points
and
defines single-vertex cells (whatever this is). However this can be
opened and
colorized in paraview without any problems.

Any further ideas (I think I still am doing something wrong) are
welcome ...

For those who are interested, this is the format of the .vtk file
that works:

- Holger -

-----------------------------------------------------------------------------
# vtk DataFile Version 2.0
loop
ASCII
DATASET UNSTRUCTURED_GRID
POINTS 1510578 float
1.59800e+02? 1.46900e+02? 1.38800e+02
....
CELLS 1510578 3021156
1 0
1 1
1 2
...
1 1510577
CELL_TYPES 1510578
1
1
...
1
1

POINT_DATA 1510578
SCALARS Z_Value float 1
LOOKUP_TABLE default
1.38800e+02
1.38800e+02
1.38800e+02
... -------------------------------------------------------------------------

>
> After loading your Ensight data, apply the Glyph filter with the
sphere
> glyph to create the particle effect in your points and choose your
scalar
> field to scale and/or colorize your data. To colorize, go to
"display" tab
> in the field "color by" choose your scalar field. I guess it'll
work...
>
> Regards
>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060113/184e81ca/attachment.htm
From paraview at lampoldshausen.de  Fri Jan 13 12:23:48 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Fri Jan 13 12:24:01 2006
Subject: RES: [Paraview] Re:Point Cloud in Ensight Case Format
In-Reply-To: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
References: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
Message-ID: <20060113182348.ki0v361ms3wogcw8@webmail.lampoldshausen.de>

o.k., I do not know whether sending images to the list are allowed,
so I try: This is what I get ...
It even shows me the "Point TEMPERATURE" value but the points still are white
...
The scalar bar is o.k.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ddd.jpg
Type: image/jpeg
Size: 23545 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060113/457d5abb/ddd-0001.jpg
From rnelias at nacad.ufrj.br  Fri Jan 13 12:58:19 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Jan 13 12:50:39 2006
Subject: ENC: [Paraview] Re:Point Cloud in Ensight Case Format
Message-ID: <20060113175034.EC2C672863@mailhost.nacad.ufrj.br>


After loading your Ensight data, apply the Glyph filter with the sphere
glyph to create the particle effect in your points and choose your scalar
field to scale and/or colorize your data. To colorize, go to "display" tab
in the field "color by" choose your scalar field. I guess it'll work...

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias High Performance Computing
Center Federal University of Rio de Janeiro Rio de Janeiro, Brazil
+55(21) 2562-8080

-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Holger Bauer Enviada em: sexta-feira, 13 de janeiro de 2006 13:40
Para: paraview@paraview.org
Assunto: [Paraview] Re:Point Cloud in Ensight Case Format

Thanks for your answer. However, I am not really sure whether I have
understood what you are saying.

Yes, Paraview does show my points. But it does not colorize it using the
scalar
(data) values.
Applying the glyph filter adds arrows/cones/etc. while still not showing any
color. However, the arrows get propperly scaled by the scalar values ...
So the question remains why I cannot apply the color as a scalar scale to
the points?

-Holger-

> It looks like you need to glyph the dataset. ParaView does not display 
> points that are not associated by geometry. The glyph filters creates 
> geometry (in your cae, you probably want a vertex per point) 
> associated with points. Apply the glyph filter to your dataset.
>
> -Berk


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From bnwylie at sandia.gov  Fri Jan 13 12:53:08 2006
From: bnwylie at sandia.gov (Wylie, Brian)
Date: Fri Jan 13 12:53:36 2006
Subject: [Paraview] Re:Point Cloud in Ensight Case Format
Message-ID: <E4C1C0FFED3E6B49AC2C1DA9723BE11E01A4A839@ES20SNLNT.srn.sandia.gov>

Yes, and on the glyph filter you might want to change the glyph type
from arrow to sphere or whatever... :)

  Brian Wylie - Org 9227
  Sandia National Laboratories
  MS 0822 - Building 880/A1-J
  (505)844-2238 FAX(505)845-0833                       
       ____                  _    __
      / __ \____  _________ | |  / (_)__ _      __ 
     / /_/ / __ `/ ___/ __ `/ | / / / _ \ | /| / /
    / ____/ /_/ / /  / /_/ /| |/ / /  __/ |/ |/ /
   /_/    \__,_/_/   \__,_/ |___/_/\___/|__/|__/

                                    Unleash the Beast
 

> -----Original Message-----
> From: paraview-bounces+bnwylie=sandia.gov@paraview.org 
> [mailto:paraview-bounces+bnwylie=sandia.gov@paraview.org] On 
> Behalf Of Renato N. Elias
> Sent: Friday, January 13, 2006 10:58 AM
> To: paraview@paraview.org
> Subject: ENC: [Paraview] Re:Point Cloud in Ensight Case Format
> 
> 
> After loading your Ensight data, apply the Glyph filter with 
> the sphere glyph to create the particle effect in your points 
> and choose your scalar field to scale and/or colorize your 
> data. To colorize, go to "display" tab in the field "color 
> by" choose your scalar field. I guess it'll work...
> 
> Regards
> 
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias High 
> Performance Computing Center Federal University of Rio de 
> Janeiro Rio de Janeiro, Brazil
> +55(21) 2562-8080
> 
> -----Mensagem original-----
> De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
> [mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] 
> Em nome de Holger Bauer Enviada em: sexta-feira, 13 de 
> janeiro de 2006 13:40
> Para: paraview@paraview.org
> Assunto: [Paraview] Re:Point Cloud in Ensight Case Format
> 
> Thanks for your answer. However, I am not really sure whether 
> I have understood what you are saying.
> 
> Yes, Paraview does show my points. But it does not colorize 
> it using the scalar
> (data) values.
> Applying the glyph filter adds arrows/cones/etc. while still 
> not showing any color. However, the arrows get propperly 
> scaled by the scalar values ...
> So the question remains why I cannot apply the color as a 
> scalar scale to the points?
> 
> -Holger-
> 
> > It looks like you need to glyph the dataset. ParaView does 
> not display 
> > points that are not associated by geometry. The glyph 
> filters creates 
> > geometry (in your cae, you probably want a vertex per point) 
> > associated with points. Apply the glyph filter to your dataset.
> >
> > -Berk
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 

From rnelias at nacad.ufrj.br  Fri Jan 13 13:03:31 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Jan 13 12:55:53 2006
Subject: RES: RES: [Paraview] Re:Point Cloud in Ensight Case Format
In-Reply-To: <20060113182348.ki0v361ms3wogcw8@webmail.lampoldshausen.de>
Message-ID: <20060113175547.8587E727D0@mailhost.nacad.ufrj.br>


It's strange but try to change in the "display style" the representation to
"point" instead of surface. In fact, I guess you don't have any surface to
display...

Cheers

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080  

-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Holger Bauer
Enviada em: sexta-feira, 13 de janeiro de 2006 15:24
Para: paraview@paraview.org
Assunto: Re: RES: [Paraview] Re:Point Cloud in Ensight Case Format

o.k., I do not know whether sending images to the list are allowed, so I
try: This is what I get ...
It even shows me the "Point TEMPERATURE" value but the points still are
white ...
The scalar bar is o.k.



From rnelias at nacad.ufrj.br  Fri Jan 13 13:19:59 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Jan 13 13:12:18 2006
Subject: RES: [Paraview] Re:Point Cloud in Ensight Case Format
Message-ID: <20060113181214.835ED7285A@mailhost.nacad.ufrj.br>


I see in your image that you're trying to colorize your points without the
glyph filter. I think It should work, but the appearance will not be so
beautiful that with the glyphs. Furthermore, if  your model doesn't have any
surface to display, only points and their coordinates, I'd suggest to change
the display style representation to "points" instead of "surface". At the
same tab, enlarge the point size in order to make the points more visible.

The glyphs would give you a pretty representation of your particles, so, I
suggest you also try to apply the glyph filter in your data.

NOTE: "The glyphs are also more hardware expensive to visualize"

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias High Performance Computing
Center Federal University of Rio de Janeiro Rio de Janeiro, Brazil
+55(21) 2562-8080

-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Holger Bauer Enviada em: sexta-feira, 13 de janeiro de 2006 15:24
Para: paraview@paraview.org
Assunto: Re: RES: [Paraview] Re:Point Cloud in Ensight Case Format

o.k., I do not know whether sending images to the list are allowed, so I
try: This is what I get ...
It even shows me the "Point TEMPERATURE" value but the points still are
white ...
The scalar bar is o.k.



From domi at vision.ee.ethz.ch  Fri Jan 13 13:43:36 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Jan 13 13:43:46 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060113181058.86folwmg5n0ko88w@webmail.lampoldshausen.de>
References: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
	<20060113181058.86folwmg5n0ko88w@webmail.lampoldshausen.de>
Message-ID: <43C7F4D8.3020903@vision.ee.ethz.ch>

did you try cellData2PointData filter?
--dsz

Holger Bauer wrote:
> 
> Thanks for all the help. No, in the pull-down selection box of the
> color field
> there are then only the fields:
> 
> Color by:
> Cell cellNormals (3)
> and Point Normals (3) (+of course the normal uni-color "Property"
> selection)
> This is what drive me crazy ...
> 
> Any other ideas?
> 
> I have found a python script that basically converts the xyz data
> into:
> 
> xyz + scalar .vtk data file. Using this just for the
> point location information and setting simply the scalar value to the
> z-coordinate (quick and dirty) the .vtk file is read and all the
> colors are
> displayed perfectly on the points. The file format is quite simple:
> 
> Therefore I decided to write a small program that parses the .case
> file and
> converts all the data into one single VTK file.
> 
> The converter (as far as I have understood) just takes all the points
> and
> defines single-vertex cells (whatever this is). However this can be
> opened and
> colorized in paraview without any problems.
> 
> Any further ideas (I think I still am doing something wrong) are
> welcome ...
> 
> For those who are interested, this is the format of the .vtk file
> that works:
> 
> - Holger -
> 
> -----------------------------------------------------------------------------
> 
> # vtk DataFile Version 2.0
> loop
> ASCII
> DATASET UNSTRUCTURED_GRID
> POINTS 1510578 float
> 1.59800e+02  1.46900e+02  1.38800e+02
> ....
> CELLS 1510578 3021156
> 1 0
> 1 1
> 1 2
> ...
> 1 1510577
> CELL_TYPES 1510578
> 1
> 1
> ...
> 1
> 1
> 
> POINT_DATA 1510578
> SCALARS Z_Value float 1
> LOOKUP_TABLE default
> 1.38800e+02
> 1.38800e+02
> 1.38800e+02
> ...
> -------------------------------------------------------------------------
> 
>>
>> After loading your Ensight data, apply the Glyph filter with the
> 
> sphere
> 
>> glyph to create the particle effect in your points and choose your
> 
> scalar
> 
>> field to scale and/or colorize your data. To colorize, go to
> 
> "display" tab
> 
>> in the field "color by" choose your scalar field. I guess it'll
> 
> work...
> 
>>
>> Regards
>>
> 
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From paraview at lampoldshausen.de  Fri Jan 13 16:15:03 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Fri Jan 13 16:15:09 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <43C7F4D8.3020903@vision.ee.ethz.ch>
References: <20060113155324.E34C37285B@mailhost.nacad.ufrj.br>
	<20060113181058.86folwmg5n0ko88w@webmail.lampoldshausen.de>
	<43C7F4D8.3020903@vision.ee.ethz.ch>
Message-ID: <20060113221503.f0c05uampioskkws@webmail.lampoldshausen.de>

O.k. folks,
I'll explore that next week when I am back at my work place.
For all the other comments: Thank you, but of course I have tried all possible
kinds of combinations as well as changing to point representation, changing
sizes of points, etc.

> did you try cellData2PointData filter?
> --dsz
>

I'll try that next week. However, isn't it rather point data -> cell data??

- Holger -

From ming.kevin at gmail.com  Sun Jan 15 16:25:37 2006
From: ming.kevin at gmail.com (Kevin Ming)
Date: Sun Jan 15 16:25:46 2006
Subject: [Paraview] Visualization of Deformable Deformation Fields
Message-ID: <e4fafd990601151325i4f566be9qba3083ae645e50cf@mail.gmail.com>

Hi,

First off, I have a general question about the deformation field generated
from a deformable registration process in ITK:   What is contained in the
output file, and how does a software like ParaView use that file to produce
a vector-based image using the equation:

iHat*ImageFile_0 + jHat*ImageFile_1 + kHat*ImageFile_2

So I guess, to put it in different words, what do the different components
of the above equation mean?

In terms of the specific question I have regarding visualization of
deformation fields in ParaView:

1)  How come the deformation field output produced from ITK's deformable
registration algorithms came out upside-down for me when viewed using
ParaView?  That is, the image is flipped vertically/mirrored along the
x-axis.

2)  How come the deformation field resulting from, say, the Demons 1
registration algorithm came out so scattered and non-uniform for me, unlike
the deformation field produced by the FEM-based algorithm?

Please note that I've made no modifications to any of the ITK algorithms
described above.


Thank you very much,
Kevin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060115/baa7cf3c/attachment.html
From yannick.langlois at gmail.com  Mon Jan 16 06:52:49 2006
From: yannick.langlois at gmail.com (Yannick Langlois)
Date: Mon Jan 16 06:52:56 2006
Subject: [Paraview] Reading Raw files
Message-ID: <fb51a4510601160352m4692fcabrbb53415f0e51b0cd@mail.gmail.com>

I have a raw file where are simply stored my values. Each index of
value corresponds to the position in space (i.e. third value of the
file is like the value with coordonates (3,0,0)).
I have problems to open this file in raw mode and set the goof values
for extent. I mean the values don't refer directly to the axis.
I think I missed something, or maybe there's no other choice that
creating my own reader ?

--
Yannick Langlois
From randall.hand at gmail.com  Mon Jan 16 09:53:06 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Mon Jan 16 09:53:13 2006
Subject: [Paraview] Bandwidth Concerns about Client/Server Mode
Message-ID: <b02264720601160653v2e7cb946pee5c62fcb5583f5d@mail.gmail.com>

So I finally got paraview running in a fully distributed Data Server/Render
Server/Client mode through some XML & Command Line Trickery (Never could get
the "client-host" and "reverse-connection" options working in the XML, had
to put those on the command line).

What i've noticed is that it consumes ALOT of bandwidth.  Just starting
paraview up, with no data loaded or anything, seems to saturate my 2MB link
at home for a good 30 seconds or more.  What's being transmitted here at the
beginning, and is there any way to slim it down or speed it up?

Also, I'm only getting about 1 frame every 5-10seconds on moderate datasets
that I can easily visualize locally at 30+fps.  I'm not looking to reach
30fps, but I had hoped to hit at least 1fps.

--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060116/d7ad4a6a/attachment.html
From paraview at lampoldshausen.de  Mon Jan 16 11:30:14 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Mon Jan 16 11:30:27 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
Message-ID: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>

update on this:

a) I have sent a small example file set to Kitware for debugging the import.
b) I have extended a small xyz2vtk Konverter tool written in Python which I have
found somehwere on this list to convert the .CASE ensight file(s) to a single
.vtk file not taking any cell data into account. This means only the point
clouds and associated scalars are converted to a UNSTRUCTURED GRID VTK data
file.

The converted .vtk file just reads and displays the values fine (means taking
colors for the scalar values).

All other suggestions (including point to cell data converter within Paraview)
have failed.

Thanks for your help though.

- Holger -

From domi at vision.ee.ethz.ch  Mon Jan 16 11:49:52 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Mon Jan 16 11:49:56 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>
References: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>
Message-ID: <43CBCEB0.90001@vision.ee.ethz.ch>

but did you try cellData2PointData?
Dominik

Holger Bauer wrote:
> update on this:
> 
> a) I have sent a small example file set to Kitware for debugging the import.
> b) I have extended a small xyz2vtk Konverter tool written in Python which I have
> found somehwere on this list to convert the .CASE ensight file(s) to a single
> .vtk file not taking any cell data into account. This means only the point
> clouds and associated scalars are converted to a UNSTRUCTURED GRID VTK data
> file.
> 
> The converted .vtk file just reads and displays the values fine (means taking
> colors for the scalar values).
> 
> All other suggestions (including point to cell data converter within Paraview)
> have failed.
> 
> Thanks for your help though.
> 
> - Holger -
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From paraview at lampoldshausen.de  Mon Jan 16 11:55:33 2006
From: paraview at lampoldshausen.de (Holger Bauer)
Date: Mon Jan 16 11:55:55 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <43CBCEB0.90001@vision.ee.ethz.ch>
References: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>
	<43CBCEB0.90001@vision.ee.ethz.ch>
Message-ID: <20060116175533.smyqgtjsj4kk4w08@webmail.lampoldshausen.de>

Quoting Dominik Szczerba <domi@vision.ee.ethz.ch>:

> but did you try cellData2PointData?
> Dominik
>
as this is POINT data there is no way to select cellData2PointData ...




From berk.geveci at gmail.com  Mon Jan 16 12:51:40 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Mon Jan 16 12:51:43 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>
References: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>
Message-ID: <a2ab21560601160951q41493adal8cd4b233ece7582c@mail.gmail.com>

OK. Mystery solved. The problem is the fact that there are two parts
in this dataset. One seems to be some sort of structured dataset
whereas the other one contains the particles. The data arrays that you
want to color the particles by does not exist on the structured part.
Because of this, paraview refuses to color by those arrays. I am not
sure if this is a feature or a bug, I have to dig in more when I have
time. For now, you can extract the particles with the "Extract
datasets" filter and color the result.

-Berk

On 1/16/06, Holger Bauer <paraview@lampoldshausen.de> wrote:
> update on this:
>
> a) I have sent a small example file set to Kitware for debugging the import.
> b) I have extended a small xyz2vtk Konverter tool written in Python which I have
> found somehwere on this list to convert the .CASE ensight file(s) to a single
> .vtk file not taking any cell data into account. This means only the point
> clouds and associated scalars are converted to a UNSTRUCTURED GRID VTK data
> file.
>
> The converted .vtk file just reads and displays the values fine (means taking
> colors for the scalar values).
>
> All other suggestions (including point to cell data converter within Paraview)
> have failed.
>
> Thanks for your help though.
>
> - Holger -
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From domi at vision.ee.ethz.ch  Mon Jan 16 14:13:30 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Mon Jan 16 14:13:41 2006
Subject: [Paraview] Point Cloud in Ensight Case Format
In-Reply-To: <20060116175533.smyqgtjsj4kk4w08@webmail.lampoldshausen.de>
References: <20060116173014.im8ahgh72ec084kc@webmail.lampoldshausen.de>	<43CBCEB0.90001@vision.ee.ethz.ch>
	<20060116175533.smyqgtjsj4kk4w08@webmail.lampoldshausen.de>
Message-ID: <43CBF05A.6090707@vision.ee.ethz.ch>

if I am not mistaken you showed a file once with points as cells (ID=1)
In some of my problems this confusion was to blame.
--dsz

Holger Bauer wrote:
> Quoting Dominik Szczerba <domi@vision.ee.ethz.ch>:
> 
>> but did you try cellData2PointData?
>> Dominik
>>
> as this is POINT data there is no way to select cellData2PointData ...
> 
> 
> 

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From marilyn.unifei at gmail.com  Tue Jan 17 10:43:03 2006
From: marilyn.unifei at gmail.com (=?ISO-8859-1?Q?Marilyn_Menecucci_Iba=F1ez?=)
Date: Tue Jan 17 10:43:06 2006
Subject: [Paraview] User guide
Message-ID: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>

  Hi,


  I'm beginning to use the Paraview. I need help.
  Do somebody know where I can to find an User guide of the Paraview free?


  Thanks,

  Marilyn Menecucci Ibanez
From domi at vision.ee.ethz.ch  Tue Jan 17 10:58:31 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan 17 10:58:36 2006
Subject: [Paraview] User guide
In-Reply-To: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
References: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
Message-ID: <43CD1427.101@vision.ee.ethz.ch>

In principle there is a book to buy, an official way to documentation
and supporting the authors. However, the book describes an elderly
version - and is out of stock for a "short" while. Paraview is however
pretty much self-explanatory and a lot of useful information can be
accquired by playing around, studing the examples, browsing mailing
lists and reading the wiki pages.
good luck
--ds

Marilyn Menecucci Iba?ez wrote:
>   Hi,
> 
> 
>   I'm beginning to use the Paraview. I need help.
>   Do somebody know where I can to find an User guide of the Paraview free?
> 
> 
>   Thanks,
> 
>   Marilyn Menecucci Ibanez
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From eschenbe at psc.edu  Tue Jan 17 13:00:22 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Tue Jan 17 13:00:26 2006
Subject: [Paraview] User guide
In-Reply-To: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
References: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
Message-ID: <4E1ACC29219259D6A96BE5BA@harpo.psc.edu>

--On 1/17/06 03:43:03 PM <marilyn.unifei@gmail.com> wrote:
>   I'm beginning to use the Paraview. I need help.
>   Do somebody know where I can to find an User guide of the Paraview free?

You may find the ParaView tutorial at our site helpful:
<http://www.psc.edu/general/software/packages/paraview>

Kent
Pittsburgh Supercomputing Center

From pfb at exadios.com  Tue Jan 17 14:33:02 2006
From: pfb at exadios.com (Peter F Bradshaw)
Date: Tue Jan 17 14:33:16 2006
Subject: [Paraview] User guide
In-Reply-To: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
References: <92fafb230601170743p5a4af277x30156c3cb1ea8e1@mail.gmail.com>
Message-ID: <Pine.LNX.4.58.0601180322250.4346@goldmund.pri>

Hi Marilyn;

In addition to the other sources mentioned there is a guide for version
1.6 at:

http://www.paraview.org/files/v1.6/ParaViewUsersGuide.PDF

Plainly it is out of date but it may help in some areas.

On Tue, 17 Jan 2006, Marilyn Menecucci Iba?ez wrote:

>   Hi,
>
>
>   I'm beginning to use the Paraview. I need help.
>   Do somebody know where I can to find an User guide of the Paraview free?
>
>
>   Thanks,
>
>   Marilyn Menecucci Ibanez
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>

Cheers

-- 
Peter F Bradshaw, http://www.exadios.com, ICQ 75431157 (exadios).
Public key at www.exadios.com/pfb.pgp.key and www.exadios.com/pfb.gpg.key
"I love truth, and the way the government still uses it occasionally to
 keep us guessing." - Sam Kekovich.
From domi at vision.ee.ethz.ch  Wed Jan 18 08:22:19 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 18 08:22:22 2006
Subject: [Paraview] Reading Raw files
In-Reply-To: <fb51a4510601160352m4692fcabrbb53415f0e51b0cd@mail.gmail.com>
References: <fb51a4510601160352m4692fcabrbb53415f0e51b0cd@mail.gmail.com>
Message-ID: <43CE410B.6020601@vision.ee.ethz.ch>

I have a similar problem. My raw data can be properly loaded into ImageJ
but doesnt show up right in Paraview. Data is little endian unsigned
short int. Any ideas?
Thanks
Dominik

Yannick Langlois wrote:
> I have a raw file where are simply stored my values. Each index of
> value corresponds to the position in space (i.e. third value of the
> file is like the value with coordonates (3,0,0)).
> I have problems to open this file in raw mode and set the goof values
> for extent. I mean the values don't refer directly to the axis.
> I think I missed something, or maybe there's no other choice that
> creating my own reader ?
> 
> --
> Yannick Langlois
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From rnelias at nacad.ufrj.br  Wed Jan 18 08:56:31 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 08:48:42 2006
Subject: [Paraview] Probing a solution position over time
Message-ID: <20060118124838.248E072858@mailhost.nacad.ufrj.br>


Hello all,

I think it's not possible to do what I want with Paraview yet, but even so,
here goes my question:

How could I probe a solution position over time with Paraview? I mean, I
would like to anchor a point in a specific solution value and extract the
position fluctuation over time.

Thanks for any help...

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


From domi at vision.ee.ethz.ch  Wed Jan 18 08:56:35 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 18 08:56:38 2006
Subject: [Paraview] Probing a solution position over time
In-Reply-To: <20060118124838.248E072858@mailhost.nacad.ufrj.br>
References: <20060118124838.248E072858@mailhost.nacad.ufrj.br>
Message-ID: <43CE4913.1010206@vision.ee.ethz.ch>

maybe (hope) there are more sophisticated ways to do it but you can at
least construct a file yourself - with planes being 2D sections of your
solution. Then just sample as in case of static data. Also, maybe, the
same could be achieved with the calculator.
--ds

Renato N. Elias wrote:
> Hello all,
> 
> I think it's not possible to do what I want with Paraview yet, but even so,
> here goes my question:
> 
> How could I probe a solution position over time with Paraview? I mean, I
> would like to anchor a point in a specific solution value and extract the
> position fluctuation over time.
> 
> Thanks for any help...
> 
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias
> High Performance Computing Center
> Federal University of Rio de Janeiro
> Rio de Janeiro, Brazil
> +55(21) 2562-8080 
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From berk.geveci at gmail.com  Wed Jan 18 09:05:14 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Jan 18 09:05:17 2006
Subject: [Paraview] Probing a solution position over time
In-Reply-To: <20060118124838.248E072858@mailhost.nacad.ufrj.br>
References: <20060118124838.248E072858@mailhost.nacad.ufrj.br>
Message-ID: <a2ab21560601180605u31541ecds52d29612ef639ede@mail.gmail.com>

Actually, it is possible :-) Here is how you do it:

probe
turn on xy plot
setup an animation in time (this happens automatically with some readers)
play
you can also export the curve with export cvs

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hello all,
>
> I think it's not possible to do what I want with Paraview yet, but even so,
> here goes my question:
>
> How could I probe a solution position over time with Paraview? I mean, I
> would like to anchor a point in a specific solution value and extract the
> position fluctuation over time.
>
> Thanks for any help...
>
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias
> High Performance Computing Center
> Federal University of Rio de Janeiro
> Rio de Janeiro, Brazil
> +55(21) 2562-8080
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From rnelias at nacad.ufrj.br  Wed Jan 18 09:31:05 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 09:23:17 2006
Subject: RES: [Paraview] Probing a solution position over time
In-Reply-To: <a2ab21560601180605u31541ecds52d29612ef639ede@mail.gmail.com>
Message-ID: <20060118132311.CB40E72851@mailhost.nacad.ufrj.br>

 
Hi Berk,

I've already tried this but I was not able to understand what PV returned me
as CVS file. I did the following steps:

1. probe;
2. put the line as probe object at the desired position to track the
solution fluctuation;
3. turned on the XY plot (100 resolution points);
4. Selected the desired variable;
5. Played animation (PV updated the XY plot correctly);
6. Exported the CVS file.

My problem was that with 381 time steps Paraview produced only 101 probing
points and a sequence of zeroes (see below). I was expecting 100
(resolution) x 381 (time step) points. What's wrong, me or Paraview ;-)

CVS file:
-----------------------------------------------------
scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.121224,0.11
5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0.112038,
0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.122099,0.121
183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0.119828,
0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757,0.11998
2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.102931,0.1011
31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.0875348,0.085
9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.086629,0.0
82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.0555034,
0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.054968
1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.049528,0.0498
746,0.0472949,0.0477846,0.0450583
X or
T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
-----------------------------------------------------

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 

-----Mensagem original-----
De: Berk Geveci [mailto:berk.geveci@gmail.com] 
Enviada em: quarta-feira, 18 de janeiro de 2006 12:05
Para: Renato N. Elias
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Probing a solution position over time

Actually, it is possible :-) Here is how you do it:

probe
turn on xy plot
setup an animation in time (this happens automatically with some readers)
play you can also export the curve with export cvs

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hello all,
>
> I think it's not possible to do what I want with Paraview yet, but 
> even so, here goes my question:
>
> How could I probe a solution position over time with Paraview? I mean, 
> I would like to anchor a point in a specific solution value and 
> extract the position fluctuation over time.
>
> Thanks for any help...
>
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> Computing Center Federal University of Rio de Janeiro Rio de Janeiro, 
> Brazil
> +55(21) 2562-8080
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>


From berk.geveci at gmail.com  Wed Jan 18 09:26:21 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Jan 18 09:26:24 2006
Subject: [Paraview] Probing a solution position over time
In-Reply-To: <20060118132311.CB40E72851@mailhost.nacad.ufrj.br>
References: <a2ab21560601180605u31541ecds52d29612ef639ede@mail.gmail.com>
	<20060118132311.CB40E72851@mailhost.nacad.ufrj.br>
Message-ID: <a2ab21560601180626n661d1c6br126a6867eb93f3da@mail.gmail.com>

I don't think probing with a line over time works. This is the case
because the built-in plot is 1D and cannot do carpet plots. If you
animate that, it will generate the plot for the current time only. I
think you can only probe with a point over time.

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hi Berk,
>
> I've already tried this but I was not able to understand what PV returned me
> as CVS file. I did the following steps:
>
> 1. probe;
> 2. put the line as probe object at the desired position to track the
> solution fluctuation;
> 3. turned on the XY plot (100 resolution points);
> 4. Selected the desired variable;
> 5. Played animation (PV updated the XY plot correctly);
> 6. Exported the CVS file.
>
> My problem was that with 381 time steps Paraview produced only 101 probing
> points and a sequence of zeroes (see below). I was expecting 100
> (resolution) x 381 (time step) points. What's wrong, me or Paraview ;-)
>
> CVS file:
> -----------------------------------------------------
> scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.121224,0.11
> 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0.112038,
> 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.122099,0.121
> 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0.119828,
> 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757,0.11998
> 2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.102931,0.1011
> 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.0875348,0.085
> 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.086629,0.0
> 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.0555034,
> 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.054968
> 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.049528,0.0498
> 746,0.0472949,0.0477846,0.0450583
> X or
> T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> -----------------------------------------------------
>
> Regards
>
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias
> High Performance Computing Center
> Federal University of Rio de Janeiro
> Rio de Janeiro, Brazil
> +55(21) 2562-8080
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com]
> Enviada em: quarta-feira, 18 de janeiro de 2006 12:05
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> Actually, it is possible :-) Here is how you do it:
>
> probe
> turn on xy plot
> setup an animation in time (this happens automatically with some readers)
> play you can also export the curve with export cvs
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hello all,
> >
> > I think it's not possible to do what I want with Paraview yet, but
> > even so, here goes my question:
> >
> > How could I probe a solution position over time with Paraview? I mean,
> > I would like to anchor a point in a specific solution value and
> > extract the position fluctuation over time.
> >
> > Thanks for any help...
> >
> > Renato N. Elias
> > ===============================================
> > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance
> > Computing Center Federal University of Rio de Janeiro Rio de Janeiro,
> > Brazil
> > +55(21) 2562-8080
> >
> >
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
>
>
From rnelias at nacad.ufrj.br  Wed Jan 18 10:06:13 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 09:58:24 2006
Subject: RES: [Paraview] Probing a solution position over time
In-Reply-To: <a2ab21560601180626n661d1c6br126a6867eb93f3da@mail.gmail.com>
Message-ID: <20060118135819.7AB9C72858@mailhost.nacad.ufrj.br>

 
Hmmm... Ok

- A point over time will produce a 2D plot with the solution evolution over
time (I did it).

- A line over time should produce a 3D plot with the solution distribution X
line distance X time (and PV can't render a 3D plot yet, ok).

Here is the my problem: With a punctual probing PV will give me the value
animation at that specific point in the space. I was thinking about
specifying a scalar value and get the position variation (coordinates over Z
axis) of this scalar value over time. 

Let me try to make me more clear. I'm doing a free surface simulation and I
would like to track the interface between 2 fluids. The interface is a
scalar value defined by 0.5. Thus, I need "to glue" a point at the interface
(defined by the value 0.5) and see this point position oscillating over time
OR put a line (as it was a scale) in my model and see the value position
over the time


-----Mensagem original-----
De: Berk Geveci [mailto:berk.geveci@gmail.com] 
Enviada em: quarta-feira, 18 de janeiro de 2006 12:26
Para: Renato N. Elias
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Probing a solution position over time

I don't think probing with a line over time works. This is the case because
the built-in plot is 1D and cannot do carpet plots. If you animate that, it
will generate the plot for the current time only. I think you can only probe
with a point over time.

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hi Berk,
>
> I've already tried this but I was not able to understand what PV 
> returned me as CVS file. I did the following steps:
>
> 1. probe;
> 2. put the line as probe object at the desired position to track the 
> solution fluctuation; 3. turned on the XY plot (100 resolution 
> points); 4. Selected the desired variable; 5. Played animation (PV 
> updated the XY plot correctly); 6. Exported the CVS file.
>
> My problem was that with 381 time steps Paraview produced only 101 
> probing points and a sequence of zeroes (see below). I was expecting 
> 100
> (resolution) x 381 (time step) points. What's wrong, me or Paraview 
> ;-)
>
> CVS file:
> -----------------------------------------------------
> scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.12122
> 4,0.11 
> 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0.1
> 12038,
> 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.122099
> ,0.121 
> 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0.1
> 19828,
> 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757,0
> .11998 
>
2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.102931,
> 0.1011
> 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.0875348
> ,0.085 
> 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.0866
> 29,0.0 
> 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.05
> 55034,
> 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.
> 054968
> 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.049528,
> 0.0498
> 746,0.0472949,0.0477846,0.0450583
> X or
> T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> 0,0,0, 
> 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> 0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> -----------------------------------------------------
>
> Regards
>
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> Computing Center Federal University of Rio de Janeiro Rio de Janeiro, 
> Brazil
> +55(21) 2562-8080
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em: 
> quarta-feira, 18 de janeiro de 2006 12:05
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> Actually, it is possible :-) Here is how you do it:
>
> probe
> turn on xy plot
> setup an animation in time (this happens automatically with some 
> readers) play you can also export the curve with export cvs
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hello all,
> >
> > I think it's not possible to do what I want with Paraview yet, but 
> > even so, here goes my question:
> >
> > How could I probe a solution position over time with Paraview? I 
> > mean, I would like to anchor a point in a specific solution value 
> > and extract the position fluctuation over time.
> >
> > Thanks for any help...
> >
> > Renato N. Elias
> > ===============================================
> > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> > Computing Center Federal University of Rio de Janeiro Rio de 
> > Janeiro, Brazil
> > +55(21) 2562-8080
> >
> >
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
>
>


From berk.geveci at gmail.com  Wed Jan 18 10:11:55 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Jan 18 10:11:58 2006
Subject: [Paraview] Probing a solution position over time
In-Reply-To: <20060118135819.7AB9C72858@mailhost.nacad.ufrj.br>
References: <a2ab21560601180626n661d1c6br126a6867eb93f3da@mail.gmail.com>
	<20060118135819.7AB9C72858@mailhost.nacad.ufrj.br>
Message-ID: <a2ab21560601180711t67cf84d1y72db00909127a56f@mail.gmail.com>

Is your grid fixed or does it move with time? More specifically, are
there points that are attached to the interface? Also, is there a
computational domain where the interface stays stationary?

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hmmm... Ok
>
> - A point over time will produce a 2D plot with the solution evolution over
> time (I did it).
>
> - A line over time should produce a 3D plot with the solution distribution X
> line distance X time (and PV can't render a 3D plot yet, ok).
>
> Here is the my problem: With a punctual probing PV will give me the value
> animation at that specific point in the space. I was thinking about
> specifying a scalar value and get the position variation (coordinates over Z
> axis) of this scalar value over time.
>
> Let me try to make me more clear. I'm doing a free surface simulation and I
> would like to track the interface between 2 fluids. The interface is a
> scalar value defined by 0.5. Thus, I need "to glue" a point at the interface
> (defined by the value 0.5) and see this point position oscillating over time
> OR put a line (as it was a scale) in my model and see the value position
> over the time
>
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com]
> Enviada em: quarta-feira, 18 de janeiro de 2006 12:26
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> I don't think probing with a line over time works. This is the case because
> the built-in plot is 1D and cannot do carpet plots. If you animate that, it
> will generate the plot for the current time only. I think you can only probe
> with a point over time.
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hi Berk,
> >
> > I've already tried this but I was not able to understand what PV
> > returned me as CVS file. I did the following steps:
> >
> > 1. probe;
> > 2. put the line as probe object at the desired position to track the
> > solution fluctuation; 3. turned on the XY plot (100 resolution
> > points); 4. Selected the desired variable; 5. Played animation (PV
> > updated the XY plot correctly); 6. Exported the CVS file.
> >
> > My problem was that with 381 time steps Paraview produced only 101
> > probing points and a sequence of zeroes (see below). I was expecting
> > 100
> > (resolution) x 381 (time step) points. What's wrong, me or Paraview
> > ;-)
> >
> > CVS file:
> > -----------------------------------------------------
> > scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.12122
> > 4,0.11
> > 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0.1
> > 12038,
> > 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.122099
> > ,0.121
> > 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0.1
> > 19828,
> > 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757,0
> > .11998
> >
> 2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> > 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.102931,
> > 0.1011
> > 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.0875348
> > ,0.085
> > 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.0866
> > 29,0.0
> > 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.05
> > 55034,
> > 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.
> > 054968
> > 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.049528,
> > 0.0498
> > 746,0.0472949,0.0477846,0.0450583
> > X or
> > T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > 0,0,0,
> > 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > 0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> > -----------------------------------------------------
> >
> > Regards
> >
> > Renato N. Elias
> > ===============================================
> > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance
> > Computing Center Federal University of Rio de Janeiro Rio de Janeiro,
> > Brazil
> > +55(21) 2562-8080
> >
> > -----Mensagem original-----
> > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > quarta-feira, 18 de janeiro de 2006 12:05
> > Para: Renato N. Elias
> > Cc: paraview@paraview.org
> > Assunto: Re: [Paraview] Probing a solution position over time
> >
> > Actually, it is possible :-) Here is how you do it:
> >
> > probe
> > turn on xy plot
> > setup an animation in time (this happens automatically with some
> > readers) play you can also export the curve with export cvs
> >
> > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > >
> > > Hello all,
> > >
> > > I think it's not possible to do what I want with Paraview yet, but
> > > even so, here goes my question:
> > >
> > > How could I probe a solution position over time with Paraview? I
> > > mean, I would like to anchor a point in a specific solution value
> > > and extract the position fluctuation over time.
> > >
> > > Thanks for any help...
> > >
> > > Renato N. Elias
> > > ===============================================
> > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance
> > > Computing Center Federal University of Rio de Janeiro Rio de
> > > Janeiro, Brazil
> > > +55(21) 2562-8080
> > >
> > >
> > > _______________________________________________
> > > ParaView mailing list
> > > ParaView@paraview.org
> > > http://www.paraview.org/mailman/listinfo/paraview
> > >
> >
> >
> >
>
>
>
From rnelias at nacad.ufrj.br  Wed Jan 18 10:26:27 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 10:18:39 2006
Subject: RES: [Paraview] Probing a solution position over time
In-Reply-To: <a2ab21560601180711t67cf84d1y72db00909127a56f@mail.gmail.com>
Message-ID: <20060118141833.B776072851@mailhost.nacad.ufrj.br>


I'm using an interface capturing method where I use a fixed unstructured
grid (with tetrahedra) and the interface is captured with the transport of a
marking function with the advection equation coupled with a Navier-Stokes
solver (the principle of VOF and level set methods). Thus, I have velocity,
pressure and the "scalar marker" as solution.

-----Mensagem original-----
De: Berk Geveci [mailto:berk.geveci@gmail.com] 
Enviada em: quarta-feira, 18 de janeiro de 2006 13:12
Para: Renato N. Elias
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Probing a solution position over time

Is your grid fixed or does it move with time? More specifically, are there
points that are attached to the interface? Also, is there a computational
domain where the interface stays stationary?

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> Hmmm... Ok
>
> - A point over time will produce a 2D plot with the solution evolution 
> over time (I did it).
>
> - A line over time should produce a 3D plot with the solution 
> distribution X line distance X time (and PV can't render a 3D plot yet,
ok).
>
> Here is the my problem: With a punctual probing PV will give me the 
> value animation at that specific point in the space. I was thinking 
> about specifying a scalar value and get the position variation 
> (coordinates over Z
> axis) of this scalar value over time.
>
> Let me try to make me more clear. I'm doing a free surface simulation 
> and I would like to track the interface between 2 fluids. The 
> interface is a scalar value defined by 0.5. Thus, I need "to glue" a 
> point at the interface (defined by the value 0.5) and see this point 
> position oscillating over time OR put a line (as it was a scale) in my 
> model and see the value position over the time
>
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em: 
> quarta-feira, 18 de janeiro de 2006 12:26
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> I don't think probing with a line over time works. This is the case 
> because the built-in plot is 1D and cannot do carpet plots. If you 
> animate that, it will generate the plot for the current time only. I 
> think you can only probe with a point over time.
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hi Berk,
> >
> > I've already tried this but I was not able to understand what PV 
> > returned me as CVS file. I did the following steps:
> >
> > 1. probe;
> > 2. put the line as probe object at the desired position to track the 
> > solution fluctuation; 3. turned on the XY plot (100 resolution 
> > points); 4. Selected the desired variable; 5. Played animation (PV 
> > updated the XY plot correctly); 6. Exported the CVS file.
> >
> > My problem was that with 381 time steps Paraview produced only 101 
> > probing points and a sequence of zeroes (see below). I was expecting 
> > 100
> > (resolution) x 381 (time step) points. What's wrong, me or Paraview
> > ;-)
> >
> > CVS file:
> > -----------------------------------------------------
> > scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.121
> > 22
> > 4,0.11
> > 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0
> > .1
> > 12038,
> > 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.1220
> > 99
> > ,0.121
> > 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0
> > .1
> > 19828,
> > 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757
> > ,0
> > .11998
> >
>
2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> > 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.10293
> > 1,
> > 0.1011
> > 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.08753
> > 48
> > ,0.085
> > 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.08
> > 66
> > 29,0.0
> > 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.
> > 05
> > 55034,
> > 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.
> > 054968
> > 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.04952
> > 8,
> > 0.0498
> > 746,0.0472949,0.0477846,0.0450583
> > X or
> > T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > 0,
> > 0,0,0,
> > 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > 0, 0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> > -----------------------------------------------------
> >
> > Regards
> >
> > Renato N. Elias
> > ===============================================
> > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> > Computing Center Federal University of Rio de Janeiro Rio de 
> > Janeiro, Brazil
> > +55(21) 2562-8080
> >
> > -----Mensagem original-----
> > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > quarta-feira, 18 de janeiro de 2006 12:05
> > Para: Renato N. Elias
> > Cc: paraview@paraview.org
> > Assunto: Re: [Paraview] Probing a solution position over time
> >
> > Actually, it is possible :-) Here is how you do it:
> >
> > probe
> > turn on xy plot
> > setup an animation in time (this happens automatically with some
> > readers) play you can also export the curve with export cvs
> >
> > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > >
> > > Hello all,
> > >
> > > I think it's not possible to do what I want with Paraview yet, but 
> > > even so, here goes my question:
> > >
> > > How could I probe a solution position over time with Paraview? I 
> > > mean, I would like to anchor a point in a specific solution value 
> > > and extract the position fluctuation over time.
> > >
> > > Thanks for any help...
> > >
> > > Renato N. Elias
> > > ===============================================
> > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> > > Computing Center Federal University of Rio de Janeiro Rio de 
> > > Janeiro, Brazil
> > > +55(21) 2562-8080
> > >
> > >
> > > _______________________________________________
> > > ParaView mailing list
> > > ParaView@paraview.org
> > > http://www.paraview.org/mailman/listinfo/paraview
> > >
> >
> >
> >
>
>
>


From f.braennstroem at gmx.de  Wed Jan 18 10:42:05 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Wed Jan 18 10:41:47 2006
Subject: [Paraview] Re: RES: Probing a solution position over time
In-Reply-To: <20060118141833.B776072851@mailhost.nacad.ufrj.br>
References: <a2ab21560601180711t67cf84d1y72db00909127a56f@mail.gmail.com>
	<20060118141833.B776072851@mailhost.nacad.ufrj.br>
Message-ID: <20060118154205.GA6758@ddorf.de>

Hi Renato,

I am not able to help you with paraview, but at the time when I had
problems with the probe filter, I found octaviz (some kind
of vtk plugin for octave). With octaviz your able to get
access to your data , e.g. ensight data, and use the vtk
syntax to plot your data using octave. I have done this with
my own ensight files, but I do not know the vtk syntax to
access different time steps yet.

Maybe, you should take a look at 'octaviz'! I could you some
simple ensight examples.

Greetings!
Fabian

From tejj at hotmail.com  Wed Jan 18 10:55:48 2006
From: tejj at hotmail.com (Terry Jordan)
Date: Wed Jan 18 10:55:52 2006
Subject: [Paraview] OpenFoam
Message-ID: <BAY103-F32CE67EF6431BF618367B9DE1D0@phx.gbl>

I would like to build paraview with the foam reader built in.  So I need to 
add the file to the paraview source and rebuild.  I am a little lost as to 
where I need to copy the PVFoamreader and VTKFoam files in order to build a 
version of paraview that will have PVFoamReader as an option in the open 
data section.  Can anyone help with this?

Thanks.


From rnelias at nacad.ufrj.br  Wed Jan 18 12:43:24 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 12:35:38 2006
Subject: RES: [Paraview] Re: RES: Probing a solution position over time
In-Reply-To: <20060118154205.GA6758@ddorf.de>
Message-ID: <20060118163530.4E0C672858@mailhost.nacad.ufrj.br>

 
Hi Fabian,

I took a look in Octaviz and it really seems good, but as there isn't Win32
distribution of Octaviz I'd need to setup a system (cygwin, vtk, octaviz) in
order to use it and my advisor is in a hurry :-( 

Afterward I'll surely start to learn Octaviz.

Regards

Renato.


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Fabian Braennstroem
Enviada em: quarta-feira, 18 de janeiro de 2006 13:42
Para: paraview@paraview.org
Assunto: [Paraview] Re: RES: Probing a solution position over time

Hi Renato,

I am not able to help you with paraview, but at the time when I had problems
with the probe filter, I found octaviz (some kind of vtk plugin for octave).
With octaviz your able to get access to your data , e.g. ensight data, and
use the vtk syntax to plot your data using octave. I have done this with my
own ensight files, but I do not know the vtk syntax to access different time
steps yet.

Maybe, you should take a look at 'octaviz'! I could you some simple ensight
examples.

Greetings!
Fabian

_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From berk.geveci at gmail.com  Wed Jan 18 13:18:38 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Jan 18 13:18:43 2006
Subject: [Paraview] Probing a solution position over time
In-Reply-To: <20060118141833.B776072851@mailhost.nacad.ufrj.br>
References: <a2ab21560601180711t67cf84d1y72db00909127a56f@mail.gmail.com>
	<20060118141833.B776072851@mailhost.nacad.ufrj.br>
Message-ID: <a2ab21560601181018i5dd4f810kd3f122ef31144e66@mail.gmail.com>

Hmm. Tricky. Let's say you extracted the surface somehow. How are you
going to lock the position of the point in all directions? Do you want
to lock to a point on the surface and given x & y?

-Berk

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> I'm using an interface capturing method where I use a fixed unstructured
> grid (with tetrahedra) and the interface is captured with the transport of a
> marking function with the advection equation coupled with a Navier-Stokes
> solver (the principle of VOF and level set methods). Thus, I have velocity,
> pressure and the "scalar marker" as solution.
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com]
> Enviada em: quarta-feira, 18 de janeiro de 2006 13:12
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> Is your grid fixed or does it move with time? More specifically, are there
> points that are attached to the interface? Also, is there a computational
> domain where the interface stays stationary?
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hmmm... Ok
> >
> > - A point over time will produce a 2D plot with the solution evolution
> > over time (I did it).
> >
> > - A line over time should produce a 3D plot with the solution
> > distribution X line distance X time (and PV can't render a 3D plot yet,
> ok).
> >
> > Here is the my problem: With a punctual probing PV will give me the
> > value animation at that specific point in the space. I was thinking
> > about specifying a scalar value and get the position variation
> > (coordinates over Z
> > axis) of this scalar value over time.
> >
> > Let me try to make me more clear. I'm doing a free surface simulation
> > and I would like to track the interface between 2 fluids. The
> > interface is a scalar value defined by 0.5. Thus, I need "to glue" a
> > point at the interface (defined by the value 0.5) and see this point
> > position oscillating over time OR put a line (as it was a scale) in my
> > model and see the value position over the time
> >
> >
> > -----Mensagem original-----
> > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > quarta-feira, 18 de janeiro de 2006 12:26
> > Para: Renato N. Elias
> > Cc: paraview@paraview.org
> > Assunto: Re: [Paraview] Probing a solution position over time
> >
> > I don't think probing with a line over time works. This is the case
> > because the built-in plot is 1D and cannot do carpet plots. If you
> > animate that, it will generate the plot for the current time only. I
> > think you can only probe with a point over time.
> >
> > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > >
> > > Hi Berk,
> > >
> > > I've already tried this but I was not able to understand what PV
> > > returned me as CVS file. I did the following steps:
> > >
> > > 1. probe;
> > > 2. put the line as probe object at the desired position to track the
> > > solution fluctuation; 3. turned on the XY plot (100 resolution
> > > points); 4. Selected the desired variable; 5. Played animation (PV
> > > updated the XY plot correctly); 6. Exported the CVS file.
> > >
> > > My problem was that with 381 time steps Paraview produced only 101
> > > probing points and a sequence of zeroes (see below). I was expecting
> > > 100
> > > (resolution) x 381 (time step) points. What's wrong, me or Paraview
> > > ;-)
> > >
> > > CVS file:
> > > -----------------------------------------------------
> > > scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.121
> > > 22
> > > 4,0.11
> > > 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975,0
> > > .1
> > > 12038,
> > > 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.1220
> > > 99
> > > ,0.121
> > > 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052,0
> > > .1
> > > 19828,
> > > 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.118757
> > > ,0
> > > .11998
> > >
> >
> 2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> > > 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.10293
> > > 1,
> > > 0.1011
> > > 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.08753
> > > 48
> > > ,0.085
> > > 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.08
> > > 66
> > > 29,0.0
> > > 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.
> > > 05
> > > 55034,
> > > 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.
> > > 054968
> > > 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.04952
> > > 8,
> > > 0.0498
> > > 746,0.0472949,0.0477846,0.0450583
> > > X or
> > > T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > > 0,
> > > 0,0,0,
> > > 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > > 0, 0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> > > -----------------------------------------------------
> > >
> > > Regards
> > >
> > > Renato N. Elias
> > > ===============================================
> > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance
> > > Computing Center Federal University of Rio de Janeiro Rio de
> > > Janeiro, Brazil
> > > +55(21) 2562-8080
> > >
> > > -----Mensagem original-----
> > > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > > quarta-feira, 18 de janeiro de 2006 12:05
> > > Para: Renato N. Elias
> > > Cc: paraview@paraview.org
> > > Assunto: Re: [Paraview] Probing a solution position over time
> > >
> > > Actually, it is possible :-) Here is how you do it:
> > >
> > > probe
> > > turn on xy plot
> > > setup an animation in time (this happens automatically with some
> > > readers) play you can also export the curve with export cvs
> > >
> > > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > > >
> > > > Hello all,
> > > >
> > > > I think it's not possible to do what I want with Paraview yet, but
> > > > even so, here goes my question:
> > > >
> > > > How could I probe a solution position over time with Paraview? I
> > > > mean, I would like to anchor a point in a specific solution value
> > > > and extract the position fluctuation over time.
> > > >
> > > > Thanks for any help...
> > > >
> > > > Renato N. Elias
> > > > ===============================================
> > > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance
> > > > Computing Center Federal University of Rio de Janeiro Rio de
> > > > Janeiro, Brazil
> > > > +55(21) 2562-8080
> > > >
> > > >
> > > > _______________________________________________
> > > > ParaView mailing list
> > > > ParaView@paraview.org
> > > > http://www.paraview.org/mailman/listinfo/paraview
> > > >
> > >
> > >
> > >
> >
> >
> >
>
>
>
From rnelias at nacad.ufrj.br  Wed Jan 18 14:20:30 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Jan 18 14:12:45 2006
Subject: RES: [Paraview] Probing a solution position over time
In-Reply-To: <a2ab21560601181018i5dd4f810kd3f122ef31144e66@mail.gmail.com>
Message-ID: <20060118181237.206BA72851@mailhost.nacad.ufrj.br>


Berk: >>> Do you want to lock to a point on the surface and given x & y? <<<

Exactly! And see the variation of this surface point in z direction. 

The line probing can do it in some sense, but unfortunately this probing
can't export this data over time. With the scalar distribution over the line
distance over the time I could take the relative line position of the
interface marker value (0.5) at each time step.


-----Mensagem original-----
De: Berk Geveci [mailto:berk.geveci@gmail.com] 
Enviada em: quarta-feira, 18 de janeiro de 2006 16:19
Para: Renato N. Elias
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Probing a solution position over time

Hmm. Tricky. Let's say you extracted the surface somehow. How are you going
to lock the position of the point in all directions? Do you want to lock to
a point on the surface and given x & y?

-Berk

On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
>
> I'm using an interface capturing method where I use a fixed 
> unstructured grid (with tetrahedra) and the interface is captured with 
> the transport of a marking function with the advection equation 
> coupled with a Navier-Stokes solver (the principle of VOF and level 
> set methods). Thus, I have velocity, pressure and the "scalar marker" as
solution.
>
> -----Mensagem original-----
> De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em: 
> quarta-feira, 18 de janeiro de 2006 13:12
> Para: Renato N. Elias
> Cc: paraview@paraview.org
> Assunto: Re: [Paraview] Probing a solution position over time
>
> Is your grid fixed or does it move with time? More specifically, are 
> there points that are attached to the interface? Also, is there a 
> computational domain where the interface stays stationary?
>
> On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> >
> > Hmmm... Ok
> >
> > - A point over time will produce a 2D plot with the solution 
> > evolution over time (I did it).
> >
> > - A line over time should produce a 3D plot with the solution 
> > distribution X line distance X time (and PV can't render a 3D plot 
> > yet,
> ok).
> >
> > Here is the my problem: With a punctual probing PV will give me the 
> > value animation at that specific point in the space. I was thinking 
> > about specifying a scalar value and get the position variation 
> > (coordinates over Z
> > axis) of this scalar value over time.
> >
> > Let me try to make me more clear. I'm doing a free surface 
> > simulation and I would like to track the interface between 2 fluids. 
> > The interface is a scalar value defined by 0.5. Thus, I need "to 
> > glue" a point at the interface (defined by the value 0.5) and see 
> > this point position oscillating over time OR put a line (as it was a 
> > scale) in my model and see the value position over the time
> >
> >
> > -----Mensagem original-----
> > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > quarta-feira, 18 de janeiro de 2006 12:26
> > Para: Renato N. Elias
> > Cc: paraview@paraview.org
> > Assunto: Re: [Paraview] Probing a solution position over time
> >
> > I don't think probing with a line over time works. This is the case 
> > because the built-in plot is 1D and cannot do carpet plots. If you 
> > animate that, it will generate the plot for the current time only. I 
> > think you can only probe with a point over time.
> >
> > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > >
> > > Hi Berk,
> > >
> > > I've already tried this but I was not able to understand what PV 
> > > returned me as CVS file. I did the following steps:
> > >
> > > 1. probe;
> > > 2. put the line as probe object at the desired position to track 
> > > the solution fluctuation; 3. turned on the XY plot (100 resolution 
> > > points); 4. Selected the desired variable; 5. Played animation (PV 
> > > updated the XY plot correctly); 6. Exported the CVS file.
> > >
> > > My problem was that with 381 time steps Paraview produced only 101 
> > > probing points and a sequence of zeroes (see below). I was 
> > > expecting 100
> > > (resolution) x 381 (time step) points. What's wrong, me or 
> > > Paraview
> > > ;-)
> > >
> > > CVS file:
> > > -----------------------------------------------------
> > > scalar,0.999169,0.796975,0.664442,0.301977,0.0303496,0.0670275,0.1
> > > 21
> > > 22
> > > 4,0.11
> > > 5764,0.107367,0.109633,0.111905,0.111316,0.109866,0.11061,0.110975
> > > ,0
> > > .1
> > > 12038,
> > > 0.111914,0.113595,0.11368,0.116214,0.116025,0.118887,0.117329,0.12
> > > 20
> > > 99
> > > ,0.121
> > > 183,0.124607,0.121372,0.125367,0.126541,0.124592,0.126016,0.125052
> > > ,0
> > > .1
> > > 19828,
> > > 0.12701,0.1202,0.126363,0.124791,0.124554,0.120287,0.122152,0.1187
> > > 57
> > > ,0
> > > .11998
> > >
> >
>
2,0.119189,0.120276,0.121142,0.121215,0.120831,0.120417,0.118901,0.117745,0.
> > > 115605,0.112607,0.109625,0.106367,0.103832,0.103236,0.102936,0.102
> > > 93
> > > 1,
> > > 0.1011
> > > 31,0.102156,0.100699,0.0988598,0.0961065,0.0928396,0.0898587,0.087
> > > 53
> > > 48
> > > ,0.085
> > > 9372,0.0847991,0.0842267,0.0847019,0.0856358,0.0874848,0.088467,0.
> > > 08
> > > 66
> > > 29,0.0
> > > 82856,0.0752954,0.0684321,0.0622399,0.0584943,0.0565929,0.0558061,0.
> > > 05
> > > 55034,
> > > 0.05554,0.0555439,0.0556105,0.0555859,0.0555413,0.0553122,0.0550449,0.
> > > 054968
> > > 1,0.0545769,0.0546121,0.0536979,0.053699,0.0519272,0.0519754,0.049
> > > 52
> > > 8,
> > > 0.0498
> > > 746,0.0472949,0.0477846,0.0450583
> > > X or
> > > T,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > > 0,
> > > 0,
> > > 0,0,0,
> > > 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
> > > 0, 0, 0,0,0, 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
> > > -----------------------------------------------------
> > >
> > > Regards
> > >
> > > Renato N. Elias
> > > ===============================================
> > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> > > Computing Center Federal University of Rio de Janeiro Rio de 
> > > Janeiro, Brazil
> > > +55(21) 2562-8080
> > >
> > > -----Mensagem original-----
> > > De: Berk Geveci [mailto:berk.geveci@gmail.com] Enviada em:
> > > quarta-feira, 18 de janeiro de 2006 12:05
> > > Para: Renato N. Elias
> > > Cc: paraview@paraview.org
> > > Assunto: Re: [Paraview] Probing a solution position over time
> > >
> > > Actually, it is possible :-) Here is how you do it:
> > >
> > > probe
> > > turn on xy plot
> > > setup an animation in time (this happens automatically with some
> > > readers) play you can also export the curve with export cvs
> > >
> > > On 1/18/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote:
> > > >
> > > > Hello all,
> > > >
> > > > I think it's not possible to do what I want with Paraview yet, 
> > > > but even so, here goes my question:
> > > >
> > > > How could I probe a solution position over time with Paraview? I 
> > > > mean, I would like to anchor a point in a specific solution 
> > > > value and extract the position fluctuation over time.
> > > >
> > > > Thanks for any help...
> > > >
> > > > Renato N. Elias
> > > > ===============================================
> > > > PhD student - http://www.nacad.ufrj.br/~rnelias High Performance 
> > > > Computing Center Federal University of Rio de Janeiro Rio de 
> > > > Janeiro, Brazil
> > > > +55(21) 2562-8080
> > > >
> > > >
> > > > _______________________________________________
> > > > ParaView mailing list
> > > > ParaView@paraview.org
> > > > http://www.paraview.org/mailman/listinfo/paraview
> > > >
> > >
> > >
> > >
> >
> >
> >
>
>
>


From domi at vision.ee.ethz.ch  Wed Jan 18 15:25:44 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 18 15:25:58 2006
Subject: [Paraview] glyph filter
Message-ID: <43CEA448.8030700@vision.ee.ethz.ch>

Hi,
Why is orient mode not available in the glyph filter if I have my
vectors as field data?
Does it require just one (global) vector and does not allow to chose it
(other then prepare it with the calculator)?
Thanks
DS
-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From domi at vision.ee.ethz.ch  Wed Jan 18 15:27:16 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Jan 18 15:27:23 2006
Subject: [Paraview] glyph filter
In-Reply-To: <43CEA448.8030700@vision.ee.ethz.ch>
References: <43CEA448.8030700@vision.ee.ethz.ch>
Message-ID: <43CEA4A4.2080101@vision.ee.ethz.ch>

I forgot: scale works fine with scalars in the field data - I can chose.
ds

Dominik Szczerba wrote:
> Hi,
> Why is orient mode not available in the glyph filter if I have my
> vectors as field data?
> Does it require just one (global) vector and does not allow to chose it
> (other then prepare it with the calculator)?
> Thanks
> DS

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From biddisco at cscs.ch  Wed Jan 18 18:03:26 2006
From: biddisco at cscs.ch (John Biddiscombe)
Date: Wed Jan 18 18:03:40 2006
Subject: [Paraview] Strange Multigroup crashing/behaviour
Message-ID: <43CEC93E.1080809@cscs.ch>

When generating data from netCDF, I can tell the reader to either 
generate UnstructuredGrid datasets (if the variables have bounds array 
which define the cells), or to generate RectilinearGrid datasets (if the 
coordinate variables have one dimensional arrays only) (optionally, 
uniform grid if they are evenly spaced).
When I generate data on the server with a single process(or) suplplying 
the data, the output of the filter is a multigroup dataset with just one 
object inside. Everything works fine. Animating over timesteps produces 
the correct results.
When the datatype ins Unstructured, running on N processors also works 
and all is well,
But when outputting Rectilinear data, the server processes segfault on 
the second timestep - always -
There are two interesting odd things -
1) If I display timestep N initially, it displays ok, but then if I 
display N+1 or N-1 or any other, it crashes - but if I display N+1 or 
other initially it is ok, then crashes when I display N. It's always the 
second timestep (irrespective or order)
2) If I display timestep N, then chage some scaling parameter so that 
the entier reader is updated again and all geometry and point/cell data 
is regenerated, then it does not crash - so the second timestep is ok if 
it hasn't changed.

But it all works with unstructed - only rectilinear it doesn't like

I'm stumped. I welcome any idea, no matter how far fetched as to why 
this behaviour occurs. I've checked N times, the extents, the allocation 
everything I can check, but debugging the server is like chewing your 
own elbows.

thanks

JB


From abhijit.sarkar at dsra.net  Thu Jan 19 01:10:42 2006
From: abhijit.sarkar at dsra.net (abhijit.sarkar@dsra.net)
Date: Thu Jan 19 01:12:16 2006
Subject: [Paraview] MPI + pareview compile on Cluster and Altix
Message-ID: <55912.127.0.0.1.1137651042.squirrel@www.dsra.net>

I am trying to install Paraview with MPI for
(1) AMD opteron cluster (with MPICH)
(2) SGI Altix 350 (MPI comes with SGI Linux for Altix)

Can anyone points me to any documention on how to
compile paraview step-by-step with mpich (or any mpi)?


Thanks
abhi
From pivello at gmail.com  Thu Jan 19 07:11:49 2006
From: pivello at gmail.com (=?ISO-8859-1?Q?M=E1rcio_Ricardo_Pivello?=)
Date: Thu Jan 19 07:11:56 2006
Subject: [Paraview] probing velocity components
Message-ID: <7d6158b80601190411h374e772fy6ad6fea686b8473e@mail.gmail.com>

Hi, I have a data set with pressure and velocity values, and I want to probe
the velocity components separately. When I try to use the probe Filter, I
can only work with scalar fields, but with the calculator tool it seems to
be possible to do it. Does anybody have any hint?

Thanks in Advance

-M?rcio

--
M?rcio Ricardo Pivello
Mechanical Engineer, MSc.
LTCM and CFD Lab
Mechanical Engineering School
Federal University of Uberl?ndia
Uberl?ndia - MG - Brazil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060119/c897cf17/attachment.html
From rnelias at nacad.ufrj.br  Thu Jan 19 07:29:39 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Thu Jan 19 07:21:49 2006
Subject: RES: [Paraview] probing velocity components
In-Reply-To: <7d6158b80601190411h374e772fy6ad6fea686b8473e@mail.gmail.com>
Message-ID: <20060119112143.6806C72858@mailhost.nacad.ufrj.br>

 
Oi M?rcio, o caminho ? esse mesmo. Calcule a resultante da velocidade (ou
suas componentes separadamente) com a calculadora e fa?a o probing sobre o
dataset criado pela calculadora que voc? ter? acesso a velocidade.
 
Hi marcio, just use the calculator, as you said, and compute the velocity
magnitude (or these components). With the dataset produced by calculator
apply the probe filter that you'll have access to velocity values.
 
Regards
 
from a Brazilian friend :-)
 
Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


  _____  

De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
M?rcio Ricardo Pivello
Enviada em: quinta-feira, 19 de janeiro de 2006 10:12
Para: ParaView@paraview.org
Assunto: [Paraview] probing velocity components


Hi, I have a data set with pressure and velocity values, and I want to probe
the velocity components separately. When I try to use the probe Filter, I
can only work with scalar fields, but with the calculator tool it seems to
be possible to do it. Does anybody have any hint?

Thanks in Advance

-M?rcio

-- 
M?rcio Ricardo Pivello
Mechanical Engineer, MSc.
LTCM and CFD Lab
Mechanical Engineering School
Federal University of Uberl?ndia 
Uberl?ndia - MG - Brazil 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060119/1183465f/attachment.htm
From rnelias at nacad.ufrj.br  Thu Jan 19 07:44:01 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Thu Jan 19 07:36:11 2006
Subject: RES: [Paraview] MPI + pareview compile on Cluster and Altix
In-Reply-To: <55912.127.0.0.1.1137651042.squirrel@www.dsra.net>
Message-ID: <20060119113605.B66FD72851@mailhost.nacad.ufrj.br>

 
Hi Abhi,

I've already compiled PV in a SGI Altix and could say that it's easy to do.
Just get the cmake (there is a ia64 version - 2.0.6 - already compiled) from
the Kitware site and the PV source files (*Unix gzipped files) and follow
the steps described in the PV source files folder (I couldn't explain the
compiling procedures better than in the PV files)

In your AMD64 system you'll need to compile cmake first, but it's not hard
to do. You only need to use your standard gcc distribution (default for any
Linux system).

Cheers

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 

-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
abhijit.sarkar@dsra.net
Enviada em: quinta-feira, 19 de janeiro de 2006 04:11
Para: paraview@paraview.org
Assunto: [Paraview] MPI + pareview compile on Cluster and Altix

I am trying to install Paraview with MPI for
(1) AMD opteron cluster (with MPICH)
(2) SGI Altix 350 (MPI comes with SGI Linux for Altix)

Can anyone points me to any documention on how to compile paraview
step-by-step with mpich (or any mpi)?


Thanks
abhi
_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From rnelias at nacad.ufrj.br  Thu Jan 19 08:59:08 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Thu Jan 19 08:51:20 2006
Subject: RES: [Paraview] probing velocity components
In-Reply-To: <7d6158b80601190518p164c7874i29351d7af01fef2f@mail.gmail.com>
Message-ID: <20060119125112.E5C8A72859@mailhost.nacad.ufrj.br>

Eu nao sei se te ajudaria, mas eu costumo usar o formato de arquivos do
Ensight por achar mais f?cil de implementar do que o formato VTK. Caso se
interesse, as rotinas de Fortran q uso para escrever os arquivos estao em:
http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
 
a descricao do formato Ensight esta dentro do arquivo zip.
 
O don't  know if it would help you, but I used to write my files in
Ensight's format, I think it's easier than VTK's format. If you're
interested, my Fortran routines, used to write Ensight's files, are
available in:
http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
 
The description of the Ensight's format is included in the zip file.
 
Cheers
 
Renato.
 
 
  _____  

De: M?rcio Ricardo Pivello [mailto:pivello@gmail.com] 
Enviada em: quinta-feira, 19 de janeiro de 2006 11:19
Para: Renato N. Elias
Assunto: Re: [Paraview] probing velocity components


Valeu, Renato. ? isso mesmo que eu estava procurando. Entretanto, parece ter
um problema no formato do nosso arquivo de entrada, que o paraview entende
como um formato legacy do vtk. Da? ele n?o consegue extrair os dados para a
calculadora, mas quando eu fa?o o mesmo procedimento com um arquivo demo,
formato .vtk1, ele faz o c?lculo. Por?m, quando pe?o o probe sobre o
resultado de calc, o paraview cai (estamos usando a vers?o 2.2.1, que n?o ?
a mais recente).

Thanks, Renato. That's exactly what I was looking for. However, there seems
to be a problem with our vtk file format, because I can only do this with a
demo file provided by paraview. When I try to do this with our vtk file -
which is a legacy vtk format, according to paraview) - the calc output is
empty. Even with the demo file, when I try to probe the output from calc,
paraview crashes. We're using version 2.2.1. Do you know if this could be a
bug in paraview?

thanks a lot

-M?rcio


On 1/19/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote: 

 
Oi M?rcio, o caminho ? esse mesmo. Calcule a resultante da velocidade (ou
suas componentes separadamente) com a calculadora e fa?a o probing sobre o
dataset criado pela calculadora que voc? ter? acesso a velocidade.
 
Hi marcio, just use the calculator, as you said, and compute the velocity
magnitude (or these components). With the dataset produced by calculator
apply the probe filter that you'll have access to velocity values.
 
Regards
 
from a Brazilian friend :-)
 
Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
<http://www.nacad.ufrj.br/%7Ernelias> 
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


  _____  

De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
M?rcio Ricardo Pivello
Enviada em: quinta-feira, 19 de janeiro de 2006 10:12
Para: ParaView@paraview.org
Assunto: [Paraview] probing velocity components



Hi, I have a data set with pressure and velocity values, and I want to probe
the velocity components separately. When I try to use the probe Filter, I
can only work with scalar fields, but with the calculator tool it seems to
be possible to do it. Does anybody have any hint?

Thanks in Advance

-M?rcio

-- 
M?rcio Ricardo Pivello
Mechanical Engineer, MSc.
LTCM and CFD Lab
Mechanical Engineering School
Federal University of Uberl?ndia 
Uberl?ndia - MG - Brazil 




-- 
M?rcio Ricardo Pivello
Mechanical Engineer, MSc.
LTCM and CFD Lab
Mechanical Engineering School
Federal University of Uberl?ndia 
Uberl?ndia - MG - Brazil 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060119/760341b2/attachment.htm
From vik.list.vtk at gmail.com  Fri Jan 20 19:33:52 2006
From: vik.list.vtk at gmail.com (Viksit Gaur)
Date: Fri Jan 20 19:35:01 2006
Subject: [Paraview] Particle Simulation and Paraview modification?
In-Reply-To: <000b01c614b5$6e31c770$6e01a8c0@last>
References: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>
	<000b01c614b5$6e31c770$6e01a8c0@last>
Message-ID: <43D18170.3000208@gmail.com>

Hi Samuel,

Sorry, I was unable to respond earlier - was away. I checked out ensighy 
as you suggested, and I'm not sure about a couple of things which I 
thougt you might answer for me.

Ensight is a separate application, and I assume its expensive as well :) 
  When you say that I can use either Ensight 6, 8 or Gold formats, I 
guess you mean that my data can be exported in the desired format, using 
a custom program? VTK-XML seems to be something not very well suited for 
my work, the reason for which is given below.

Secondly, you're right about me having to look at a lot of datasets - 
mostly, rather large particle data sets over time. Are there any 
tutorials out there which might help me write a reader which can work in 
Parallel? Or does the ensight reader work in parallel?

Thanks,
Viksit

SamuelKey wrote:
> Greetings Viksit,
> 
>>From my use of PV, it does what you want already.
> Use either the Ensight reader ( http://www.ensight.com 
> download their user's manual to get format documentation)
> or the VTK XML-format if you really have a small number
> of particles (2-200). Both support points as cell objects.
> 
> The multiple-time-step support with the ensight-format is 
> much better.
> 
> I don't know if PV can automatically add glyphs to pionts
> on start-up -- maybe with a script (which it will write on
> request.).  Scripts are OK if you are looking at lots of
> data sets and want to see the same pictures each time.
> 
> The more you use PV the better it gets.
> 
> Good viewing,
> 
> Sam Key
> 
> ----- Original Message ----- 
> From: "Viksit Gaur" <vik.list.vtk@gmail.com>
> To: <paraview@paraview.org>
> Sent: Saturday, January 07, 2006 11:03 PM
> Subject: [Paraview] Particle Simulation and Paraview modification?
> 
> 
> Hi all,
> 
> I'm developing a particle simulation system for some physics
> experiments, and I'm exploring VTK and Paraview to do so. Till now,
> the extensive (and excellent) documentation available for both leads
> me to believe that since both are being used extensively, they should
> solve my purpose.
> 
> That said, I wanted to gauge an opinion on the method I've thought I
> should use -
> 
> The simulation is of certain particles whose coordinates are given in
> time steps, and they need to be represented by glyphs - spheres,
> boxes, and so on. I would then like to be able to see these particles
> move over a given time period, and have the ability to track a certain
> particle through its sequences.
> 
> How I think I could go about it, is:
> We use a custom format to represent the simulation data, and thus I
> would need to create a VTKReader for this. Next, this reader has to be
> included with Paraview, and data can be loaded. The next part is what
> I'm unsure about - to be able to zero in and select a particular
> particle from the simulation, does Paraview source need to be
> modified? Or can i write TCL scripts to do so? Or, better still, is
> this functionality provided already?
> 
> Thank you,
> Cheers!
> 
> Viksit
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 
> 


-- 
Viksit Gaur
Deptt. of Computer Science
Yale University

me at viksit dot com
http://viksit.com

From vik.list.vtk at gmail.com  Fri Jan 20 19:39:06 2006
From: vik.list.vtk at gmail.com (Viksit Gaur)
Date: Fri Jan 20 19:40:15 2006
Subject: [Paraview] Particle Simulation and Paraview modification? -
	Particles question
In-Reply-To: <a2ab21560601090627m408d61cme0491113375ef74a@mail.gmail.com>
References: <f858b3640601072203m582fc4dtd75814395285d969@mail.gmail.com>
	<a2ab21560601090627m408d61cme0491113375ef74a@mail.gmail.com>
Message-ID: <43D182AA.6050704@gmail.com>

Hello Berk,

Sorry for the late response - I was away for a while.

Berk Geveci wrote:
> What information do you have to extact a particular particle? Are they
> labeled? Do they have ids?

As for your question, I have X,Y coordinates of the particles, for each 
time step. The particles don't have any labels or IDs - the data format 
itself is a rather simple text file - a columnar layout, which uses 
spaces as delimiting characters.

No. of Particles
No. of Timesteps
X Y (Step1)
X Y (Step2)

.
.
.


Cheers,
Viksit


> 
> On 1/8/06, Viksit Gaur <vik.list.vtk@gmail.com> wrote:
> 
>>Hi all,
>>
>>I'm developing a particle simulation system for some physics
>>experiments, and I'm exploring VTK and Paraview to do so. Till now,
>>the extensive (and excellent) documentation available for both leads
>>me to believe that since both are being used extensively, they should
>>solve my purpose.
>>
>>That said, I wanted to gauge an opinion on the method I've thought I
>>should use -
>>
>>The simulation is of certain particles whose coordinates are given in
>>time steps, and they need to be represented by glyphs - spheres,
>>boxes, and so on. I would then like to be able to see these particles
>>move over a given time period, and have the ability to track a certain
>>particle through its sequences.
>>
>>How I think I could go about it, is:
>>We use a custom format to represent the simulation data, and thus I
>>would need to create a VTKReader for this. Next, this reader has to be
>>included with Paraview, and data can be loaded. The next part is what
>>I'm unsure about - to be able to zero in and select a particular
>>particle from the simulation, does Paraview source need to be
>>modified? Or can i write TCL scripts to do so? Or, better still, is
>>this functionality provided already?
>>
>>Thank you,
>>Cheers!
>>
>>Viksit
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
> 
> 


-- 
Viksit Gaur
Deptt. of Computer Science
Yale University

me at viksit dot com
http://viksit.com

From rnelias at nacad.ufrj.br  Sat Jan 21 10:36:13 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Sat Jan 21 10:34:19 2006
Subject: RES: [Paraview] Particle Simulation and Paraview modification?
In-Reply-To: <43D18170.3000208@gmail.com>
Message-ID: <20060121143407.DB1617285A@mailhost.nacad.ufrj.br>

 

Viksit asked: >>> does the ensight reader work in parallel? <<<

Yes, Ensight/Paraview readers can do it through the server-of-server format
(an extension for the case format). Take a look in the examples distributed
with Paraview
(http://www.paraview.org/files/v2.4/paraview-tutorial-data-2.4.tar.gz). The
server-of-server files are those with SOS extension. Furthermore, you'll
have to compile and launch PV in MPI mode and load the SOS file that will
point to other CASE files and these geometries and results respectively.

If you're interested in using Ensight's format, get the Fortran routines
available in
http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip (the
Ensight's format description is within the zip file too). 

About your particles: you can write only the particle coordinates (a mesh
node, strictly speaking) or associate each particle to an arbitrary ID and
save "point" elements, like this:

C-------------------------------
      buffer = 'part   '
      write (buffer(5:7),'(i3)') 7
      write (iens, '(A20)') buffer

	buffer = 'PART NAME'
      write (iens, '(A20)') buffer

      buffer = 'point'
      write (iens, '(A )') buffer
      write (iens, '(i8)') k

      do no = 1, nnos
         write (iens, '(4i8)') no, no
      enddo
C-------------------------------

Cheers

Renato N. Elias
===================================================
Researcher
High Performance Computing Center - NACAD/COPPE
Federal University of Rio de Janeiro, RJ -Brazil
http://www.nacad.ufrj.br/~rnelias
 


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Viksit Gaur
Enviada em: sexta-feira, 20 de janeiro de 2006 22:34
Para: SamuelKey; Paraview ML
Assunto: Re: [Paraview] Particle Simulation and Paraview modification?

Hi Samuel,

Sorry, I was unable to respond earlier - was away. I checked out ensighy as
you suggested, and I'm not sure about a couple of things which I thougt you
might answer for me.

Ensight is a separate application, and I assume its expensive as well :)
  When you say that I can use either Ensight 6, 8 or Gold formats, I guess
you mean that my data can be exported in the desired format, using a custom
program? VTK-XML seems to be something not very well suited for my work, the
reason for which is given below.

Secondly, you're right about me having to look at a lot of datasets -
mostly, rather large particle data sets over time. Are there any tutorials
out there which might help me write a reader which can work in Parallel? Or
does the ensight reader work in parallel?

Thanks,
Viksit

SamuelKey wrote:
> Greetings Viksit,
> 
>>From my use of PV, it does what you want already.
> Use either the Ensight reader ( http://www.ensight.com download their 
> user's manual to get format documentation) or the VTK XML-format if 
> you really have a small number of particles (2-200). Both support 
> points as cell objects.
> 
> The multiple-time-step support with the ensight-format is much better.
> 
> I don't know if PV can automatically add glyphs to pionts on start-up 
> -- maybe with a script (which it will write on request.).  Scripts are 
> OK if you are looking at lots of data sets and want to see the same 
> pictures each time.
> 
> The more you use PV the better it gets.
> 
> Good viewing,
> 
> Sam Key
> 
> ----- Original Message -----
> From: "Viksit Gaur" <vik.list.vtk@gmail.com>
> To: <paraview@paraview.org>
> Sent: Saturday, January 07, 2006 11:03 PM
> Subject: [Paraview] Particle Simulation and Paraview modification?
> 
> 
> Hi all,
> 
> I'm developing a particle simulation system for some physics 
> experiments, and I'm exploring VTK and Paraview to do so. Till now, 
> the extensive (and excellent) documentation available for both leads 
> me to believe that since both are being used extensively, they should 
> solve my purpose.
> 
> That said, I wanted to gauge an opinion on the method I've thought I 
> should use -
> 
> The simulation is of certain particles whose coordinates are given in 
> time steps, and they need to be represented by glyphs - spheres, 
> boxes, and so on. I would then like to be able to see these particles 
> move over a given time period, and have the ability to track a certain 
> particle through its sequences.
> 
> How I think I could go about it, is:
> We use a custom format to represent the simulation data, and thus I 
> would need to create a VTKReader for this. Next, this reader has to be 
> included with Paraview, and data can be loaded. The next part is what 
> I'm unsure about - to be able to zero in and select a particular 
> particle from the simulation, does Paraview source need to be 
> modified? Or can i write TCL scripts to do so? Or, better still, is 
> this functionality provided already?
> 
> Thank you,
> Cheers!
> 
> Viksit
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 
> 


--
Viksit Gaur
Deptt. of Computer Science
Yale University

me at viksit dot com
http://viksit.com

_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview

From yvan.fournier at free.fr  Sun Jan 22 09:27:39 2006
From: yvan.fournier at free.fr (Yvan Fournier)
Date: Sun Jan 22 09:29:00 2006
Subject: [Paraview] Problems using EnSight data with ParaView 2.4 and CVS
	compared to 2.2.1 seem linked to "multi-group data"
Message-ID: <1137940059.10171.5.camel@newhon.site>

Hello,

I have encountered some problems with EnSight data using ParaView 2.4
and CVS (compiled from jan 19th's sources) on different Linux machines.

This seems linked to the change from ParaView and VTK's handling of
multiple parts in EnSight data, in which one must now extract
datasets instead of parts to work on a single part. Under ParaView 2.4.2
and CVS head, unstructured EnSight Gold data containing a single part
appears as Type: "Multi-block" in the information tab, whereas it
appears as "Unstructured grid" under ParaView 2.2.1.

I noticed 2 bugs with ParaView 2.4.2 and CVS with this data :

- trying to use volume rendering causes a segmentation fault
  (reported as bug 2499)

- Probe using a point or line does not work correctly, as variables
  do not appear in the list of point scalars, and no plot appears

With these versions of ParaView, I can only export mesh data
to "VTK Multi Group Files". Exporting to this format and reading back
from it, I still encounter the exact same problems when I read
the main ".vtm" file, but everything works fine when I use
the ".vtu" file in the sub-directory of the same name
(except for an apparently unrelated bug in the CVS version,
in which the probe filter remains unavailable even after
applying "Cell Data to Point Data", and only works when
the initial data contains point data).
Type information also appears correctly again when only
re-reading the ".vtu" file.

Exporting to "ParaView Data Files" format from ParaView 2.2.1
and re-reading with ParaView 2.4.2, things work fine also.
With ParaView CVS, things are almost the same, except for the
aforementioned bug for the probe filter remaining unavailable
when the data read only contains cell data.

I include corresponding test data.

Best regards,

        Yvan Fournier
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ensight_data.tar.gz
Type: application/x-compressed-tar
Size: 719 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060122/06a4ed69/ensight_data.tar.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: vtk_exported-data.tar.gz
Type: application/x-compressed-tar
Size: 1610 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060122/06a4ed69/vtk_exported-data.tar.bin
From nnc at newmexico.com  Sun Jan 22 11:18:39 2006
From: nnc at newmexico.com (Neil Carlson)
Date: Sun Jan 22 11:18:48 2006
Subject: [Paraview] Tcl installation path in 2.4.2
In-Reply-To: <6.2.5.6.2.20051110085219.0610ca30@kitware.com>
References: <1131594002.6156.32.camel@omega>
	<6.2.5.6.2.20051110085219.0610ca30@kitware.com>
Message-ID: <1137946719.5944.14.camel@omega>

On Thu, 2005-11-10 at 08:55 -0500, Amy Squillacote wrote:
> This is a known problem, and it has been corrected on the CVS branch 
> for ParaView 2.4 (CVS tag ParaView-2-4).  (It was a problem in the 
> code, not in how you tried to install ParaView.)  If you check this 
> version out from CVS, you should be able to compile and install 
> ParaView as you did for ParaView 2.2.

I've given it a try once again with 2.4.2, and it is still a problem.

Executing with the full path (/opt/paraview/2.4.2/bin/paraview) works
fine, but adding that bin directory to my path and executing 'paraview'
gives

ParaView error: InitializeTcl failed
Tcl_Init error: Can't find a usable init.tcl in the following
directories:
    /usr/local/lib/tcl8.4 /opt/src/rpm/RPMS/lib/tcl8.4 /opt/src/rpm/lib/tcl8.4 /opt/src/rpm/RPMS/library /opt/src/rpm/library /opt/src/rpm/tcl8.4.5/library /opt/src/tcl8.4.5/library /usr/local/lib/tcl8.4
This probably means that Tcl wasn't installed properly.

I'm using the unmodified 2.4.2 distribution configured (per Brad King's
suggestion) as:

cmake -DCMAKE_BUILD_TYPE:STRING=RELEASE ..
cmake -DPV_INSTALL_BIN_DIR=/bin \
      -DPV_INSTALL_LIB_DIR=/lib \
      -DPV_INSTALL_DATA_DIR=/share \
      -DPV_INSTALL_INCLUDE_DIR=/include \
      -DCMAKE_INSTALL_PREFIX=/opt/paraview/2.4.2 ..

I'm building an rpm, so I'm installing it in a temporary root tree
for packaging:

make install DESTDIR=/var/tmp/paraview-root

> At 10:40 PM 11/9/2005, Neil Carlson wrote:
> >I am trying to build a FC3 rpm for 2.4.0 using the same procedure
> >I successfully used for 2.2.1, but I am having problems with the
> >compiled-in Tcl path that I am unable to resolve.
> >
> >I want to install each version of paraview into its own tree and
> >not scattered about like the default setup.  Building an rpm, I
> >also need to install it into a temporary root (rpm_build_root)
> >and not /.  To this end I tweaked the CMakeLists.txt file to set
> >the PV_INSTALL_{LIB,INCLUDE,DATA}_DIR variables to simply
> >${PV_INSTALL_ROOT}/{lib,include,share}.  I also set
> >TclTk_INSTALL_LIB_DIR to ${PV_INSTALL_LIB_DIR}.  (I note that the
> >2.4.0 CMakeLists.txt file included this latter change too.)  When
> >I ran cmake, I set PV_INSTALL_ROOT to /opt/paraview/2.4.0, and
> >CMAKE_INSTALL_PREFIX to /var/tmp/paraview.
> >
> >The 2.4.0 rpm installs everything where I intended, and paraview
> >runs fine if I invoke it with the full path.  But if I add the
> >bin directory to my path, and invoke it with just 'paraview' I
> >get the following error message:
> >
> >ParaView error: InitializeTcl failed
> >Tcl_Init error: Can't find a usable init.tcl in the following
> >directories:
> >     /usr/local/lib/tcl8.4 /opt/src/rpm/lib/tcl8.4 /opt/src/lib/tcl8.4 ...
> >
> >I don't know where it's picking up those directories, but none of
> >them are correct (obviously); it's in /opt/paraview/2.4.0/lib/tcl8.4
> >
> >As I said before, this same build procedure with 2.2.1 works absolutely
> >correctly.  Anyone have any suggestions?  I really don't understand
> >cmake.
> >
> >Thanks!
> >--
> >Neil Carlson <nnc@newmexico.com>
> >
> >_______________________________________________
> >ParaView mailing list
> >ParaView@paraview.org
> >http://www.paraview.org/mailman/listinfo/paraview
-- 
Neil Carlson                            email:  nnc@lanl.gov
Los Alamos National Laboratory          office: 505.665.6386
CCS-2, Continuum Dynamics               cell:   505.927.3499
P.O. Box 1663, MS D413
Los Alamos, NM 87545

From bnwylie at sandia.gov  Sun Jan 22 12:13:55 2006
From: bnwylie at sandia.gov (Wylie, Brian)
Date: Sun Jan 22 12:14:09 2006
Subject: [Paraview] Problems using EnSight data with ParaView 2.4
	and CVS compared to 2.2.1 seem linked to "multi-group data"
Message-ID: <E4C1C0FFED3E6B49AC2C1DA9723BE11E01ADAFBC@ES20SNLNT.srn.sandia.gov>

Yvan,

The multi-block support is currently spotty.

SNL has a bug for the probing already...

Bug #2062 - SNL: Probing of multiblock data does not work

Also forgive me but I've hijacked your bug

Bug #2499 - SNL: Volume rendering not working with 'Multi-block'
datasets

That way it will actually get fixed. :)

Best,

  Brian Wylie - Org 9227
  Sandia National Laboratories
  MS 0822 - Building 880/A1-J
  (505)844-2238 FAX(505)845-0833                       
       ____                  _    __
      / __ \____  _________ | |  / (_)__ _      __ 
     / /_/ / __ `/ ___/ __ `/ | / / / _ \ | /| / /
    / ____/ /_/ / /  / /_/ /| |/ / /  __/ |/ |/ /
   /_/    \__,_/_/   \__,_/ |___/_/\___/|__/|__/

                                    Unleash the Beast
 

> -----Original Message-----
> From: paraview-bounces+bnwylie=sandia.gov@paraview.org 
> [mailto:paraview-bounces+bnwylie=sandia.gov@paraview.org] On 
> Behalf Of Yvan Fournier
> Sent: Sunday, January 22, 2006 7:28 AM
> To: paraview@paraview.org
> Subject: [Paraview] Problems using EnSight data with ParaView 
> 2.4 and CVS compared to 2.2.1 seem linked to "multi-group data"
> 
> Hello,
> 
> I have encountered some problems with EnSight data using 
> ParaView 2.4 and CVS (compiled from jan 19th's sources) on 
> different Linux machines.
> 
> This seems linked to the change from ParaView and VTK's 
> handling of multiple parts in EnSight data, in which one must 
> now extract datasets instead of parts to work on a single 
> part. Under ParaView 2.4.2 and CVS head, unstructured EnSight 
> Gold data containing a single part appears as Type: 
> "Multi-block" in the information tab, whereas it appears as 
> "Unstructured grid" under ParaView 2.2.1.
> 
> I noticed 2 bugs with ParaView 2.4.2 and CVS with this data :
> 
> - trying to use volume rendering causes a segmentation fault
>   (reported as bug 2499)
> 
> - Probe using a point or line does not work correctly, as variables
>   do not appear in the list of point scalars, and no plot appears
> 
> With these versions of ParaView, I can only export mesh data 
> to "VTK Multi Group Files". Exporting to this format and 
> reading back from it, I still encounter the exact same 
> problems when I read the main ".vtm" file, but everything 
> works fine when I use the ".vtu" file in the sub-directory of 
> the same name (except for an apparently unrelated bug in the 
> CVS version, in which the probe filter remains unavailable 
> even after applying "Cell Data to Point Data", and only works 
> when the initial data contains point data).
> Type information also appears correctly again when only 
> re-reading the ".vtu" file.
> 
> Exporting to "ParaView Data Files" format from ParaView 2.2.1 
> and re-reading with ParaView 2.4.2, things work fine also.
> With ParaView CVS, things are almost the same, except for the 
> aforementioned bug for the probe filter remaining unavailable 
> when the data read only contains cell data.
> 
> I include corresponding test data.
> 
> Best regards,
> 
>         Yvan Fournier
> 

From domi at vision.ee.ethz.ch  Sun Jan 22 13:15:25 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Sun Jan 22 13:15:34 2006
Subject: [Paraview] fails to compile with icpc
Message-ID: <43D3CBBD.3000106@vision.ee.ethz.ch>

Paraview fails to build with the Intel compiler 9.x:

/scratch/domi/tmp/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx(303):
error: argument of type "int *" is incompatible with parameter of type
"socklen_t={__socklen_t={unsigned int}} *"
    if(getsockname(sock, reinterpret_cast<sockaddr*>(&sockinfo),
&sizebuf) != 0)
                                                                 ^

compilation aborted for
/scratch/domi/tmp/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx
(code 2)
make[2]: ***
[VTK/Parallel/CMakeFiles/vtkParallel.dir/vtkSocketCommunicator.o] Error 2
make[1]: *** [VTK/Parallel/CMakeFiles/vtkParallel.dir/all] Error 2
make: *** [all] Error 2

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From domi at vision.ee.ethz.ch  Sun Jan 22 15:12:11 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Sun Jan 22 15:12:24 2006
Subject: [Paraview] fails to compile with icpc
In-Reply-To: <43D3CBBD.3000106@vision.ee.ethz.ch>
References: <43D3CBBD.3000106@vision.ee.ethz.ch>
Message-ID: <43D3E71B.8070309@vision.ee.ethz.ch>

just checked, VTK folder itself compiles fine
--ds

Dominik Szczerba wrote:
> Paraview fails to build with the Intel compiler 9.x:
> 
> /scratch/domi/tmp/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx(303):
> error: argument of type "int *" is incompatible with parameter of type
> "socklen_t={__socklen_t={unsigned int}} *"
>     if(getsockname(sock, reinterpret_cast<sockaddr*>(&sockinfo),
> &sizebuf) != 0)
>                                                                  ^
> 
> compilation aborted for
> /scratch/domi/tmp/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx
> (code 2)
> make[2]: ***
> [VTK/Parallel/CMakeFiles/vtkParallel.dir/vtkSocketCommunicator.o] Error 2
> make[1]: *** [VTK/Parallel/CMakeFiles/vtkParallel.dir/all] Error 2
> make: *** [all] Error 2
> 

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From denhuys at hotmail.com  Tue Jan 24 08:12:11 2006
From: denhuys at hotmail.com (Toon Huysmans)
Date: Tue Jan 24 08:12:10 2006
Subject: [Paraview] Failed to load a plugin
Message-ID: <BAY113-DAV15680288B9E85D1DF3DDA2B7130@phx.gbl>

Skipped content of type multipart/alternative-------------- next part --------------
/*=auto=========================================================================

(c) Copyright 2005 Massachusetts Institute of Technology (MIT) All Rights Reserved.

This software ("3D Slicer") is provided by The Brigham and Women's 
Hospital, Inc. on behalf of the copyright holders and contributors.
Permission is hereby granted, without payment, to copy, modify, display 
and distribute this software and its documentation, if any, for  
research purposes only, provided that (1) the above copyright notice and 
the following four paragraphs appear on all copies of this software, and 
(2) that source code to any modifications to this software be made 
publicly available under terms no more restrictive than those in this 
License Agreement. Use of this software constitutes acceptance of these 
terms and conditions.

3D Slicer Software has not been reviewed or approved by the Food and 
Drug Administration, and is for non-clinical, IRB-approved Research Use 
Only.  In no event shall data or images generated through the use of 3D 
Slicer Software be used in the provision of patient care.

IN NO EVENT SHALL THE COPYRIGHT HOLDERS AND CONTRIBUTORS BE LIABLE TO 
ANY PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL 
DAMAGES ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, 
EVEN IF THE COPYRIGHT HOLDERS AND CONTRIBUTORS HAVE BEEN ADVISED OF THE 
POSSIBILITY OF SUCH DAMAGE.

THE COPYRIGHT HOLDERS AND CONTRIBUTORS SPECIFICALLY DISCLAIM ANY EXPRESS 
OR IMPLIED WARRANTIES INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND 
NON-INFRINGEMENT.

THE SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS 
IS." THE COPYRIGHT HOLDERS AND CONTRIBUTORS HAVE NO OBLIGATION TO 
PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.


=========================================================================auto=*/
// .NAME vtkSuperquadricTensorGlyph - scale and orient glyph according to tensor eigenvalues and eigenvectors
// .SECTION Description
// vtkSuperquadricTensorGlyph is a filter that copies a geometric representation (specified
// as polygonal data) to every input point. The geometric representation, or 
// glyph, can be scaled and/or rotated according to the tensor at the input 
// point. Scaling and rotation is controlled by the eigenvalues/eigenvectors
// of the tensor as follows. For each tensor, the eigenvalues (and associated
// eigenvectors) are sorted to determine the major, medium, and minor 
// eigenvalues/eigenvectors. The major eigenvalue scales the glyph in the 
// x-direction, the medium in the y-direction, and the minor in the 
// z-direction. Then, the glyph is rotated so that the glyph's local x-axis 
// lies along the major eigenvector, y-axis along the medium eigenvector, and
// z-axis along the minor.
//
// A scale factor is provided to control the amount of scaling. Also, you 
// can turn off scaling completely if desired. The boolean variable 
// ClampScaling controls the maximum scaling (in conjunction with
// MaxScaleFactor.) This is useful in certain applications where 
// singularities or large order of magnitude differences exist in 
// the eigenvalues.
//
// Another instance variable, ExtractEigenvalues, has been provided to 
// control extraction of eigenvalues/eigenvectors. If this boolean is false,
// then eigenvalues/eigenvectors are not extracted, and the columns of the
// tensor are taken as the eigenvectors (norm of column is eigenvalue). 
// This allows additional capability over the vtkGlyph3D object. That is, the
// glyph can be oriented in three directions instead of one.
//
// To accomodate display in another coordinate system besides the ijk
// coordinate system of the volume array, two matrices are provided.
// The VolumePosition matrix positions each tensor in the correct location
// to account for voxel translation and rotation of the volume.
// (Scaling is already handled well in vtk ImageData.)
// The TensorRotationMatrix rotates each tensor into the new
// coordinate system.

// .SECTION See Also
// vtkTensorGlyph vtkGlyph3D vtkPointLoad vtkHyperStreamline

#ifndef __vtkSuperquadricTensorGlyph_h
#define __vtkSuperquadricTensorGlyph_h

#include "vtkPVSuperquadricTensorGlyphConfigure.h"
#include "vtkTensorGlyph.h"
#include "vtkTransform.h"
#include "vtkMatrix4x4.h"
#include "vtkImageData.h"

class VTK_EXPORT vtkSuperquadricTensorGlyph : public vtkTensorGlyph
{
public:
  vtkTypeMacro(vtkSuperquadricTensorGlyph,vtkTensorGlyph);
  void PrintSelf(ostream& os, vtkIndent indent);

  // Description
  // Construct object with  defaults from superclass:
  // scaling on and scale factor 1.0. Eigenvalues are 
  // extracted, glyphs are colored with calculated features
  // and logarithmic scaling is turned off.
  static vtkSuperquadricTensorGlyph *New();

  // Description
  // Input scalars are a binary mask: 0 prevents display
  // of polydata at that point
  vtkBooleanMacro(MaskGlyphsWithScalars, int);
  vtkSetMacro(MaskGlyphsWithScalars, int);
  vtkGetMacro(MaskGlyphsWithScalars, int);


  vtkSetObjectMacro(ScalarMask, vtkImageData);

#define VTK_LINEAR_MEASURE 1
#define VTK_SPHERICAL_MEASURE 2
#define VTK_PLANAR_MEASURE 3
#define VTK_MAX_EIGENVAL_MEASURE 4
#define VTK_MIDDLE_EIGENVAL_MEASURE 5
#define VTK_MIN_EIGENVAL_MEASURE 6
#define VTK_EIGENVAL_DIFFERENCE_MAX_MID_MEASURE 7
#define VTK_DIRECTION_MEASURE 8
#define VTK_RELATIVE_ANISOTROPY_MEASURE  9
#define VTK_FRACTIONAL_ANISOTROPY_MEASURE  10

  void ColorGlyphsWithLinearMeasure();
  void ColorGlyphsWithSphericalMeasure();
  void ColorGlyphsWithPlanarMeasure();
  void ColorGlyphsWithMaxEigenvalue();
  void ColorGlyphsWithMiddleEigenvalue();
  void ColorGlyphsWithMinEigenvalue();
  void ColorGlyphsWithMaxMinusMidEigenvalue();
  void ColorGlyphsWithDirection();
  void ColorGlyphsWithRelativeAnisotropy();
  void ColorGlyphsWithFractionalAnisotropy();

  // Description
  // Transform output glyph locations (not orientations!) 
  // by this matrix.
  //
  // Example usage is as follows:
  // 1) Reformat a slice through a tensor volume.
  // 2) Set VolumePositionMatrix to the reformat matrix.
  //    This is analogous to setting the actor's UserMatrix
  //    to this matrix, which only works for scalar data.
  // 3) The output glyphs are positioned correctly without
  //    incorrectly rotating the tensors, as would be the 
  //    case if positioning the scene's actor with this matrix.
  // 
  vtkSetObjectMacro(VolumePositionMatrix, vtkMatrix4x4);
  vtkGetObjectMacro(VolumePositionMatrix, vtkMatrix4x4);


  // Description
  // Transform output glyph orientations
  // by this matrix.
  //
  // Example usage is as follows:
  // 1) If tensors are to be displayed in a coordinate system
  //    that is not IJK (array-based), and the whole volume is
  //    being rotated, each tensor needs also to be rotated.
  //    First find the matrix that positions your volume.
  //    This is how the entire volume is positioned, not 
  //    the matrix that positions an arbitrary reformatted slice.
  // 2) Remove scaling and translation from this matrix; we
  //    just need to rotate each tensor.
  // 3) Set TensorRotationMatrix to this rotation matrix.
  //
  vtkSetObjectMacro(TensorRotationMatrix, vtkMatrix4x4);
  vtkGetObjectMacro(TensorRotationMatrix, vtkMatrix4x4);

  // Description:
  // Resolution of the output glyphs. This parameter is a integer value
  // that set the number of points that are skipped before render one glyphs.
  // 1 is the finer level meaning that every input point a glyph is rendered.
  void SetResolution(int value){
    if(value<=0) {
      vtkWarningMacro("Resolution cannot be lower than 1.");
      value = 1;
    }
    this->Resolution=value;  
    this->Modified();
  };  
  vtkGetMacro(Resolution,int);


  vtkSetMacro(Gamma,double);
  vtkGetMacro(Gamma,double);
  
  vtkSetMacro(ThetaResolution,int);
  vtkGetMacro(ThetaResolution,int);
  vtkSetMacro(PhiResolution,int);
  vtkGetMacro(PhiResolution,int);
  
  // Description:
  // When determining the modified time of the filter, 
  // this checks the modified time of the mask input,
  // if it exists.
  unsigned long int GetMTime();

protected:
  vtkSuperquadricTensorGlyph();
  ~vtkSuperquadricTensorGlyph();
  vtkSuperquadricTensorGlyph(const vtkSuperquadricTensorGlyph&) {};
  void operator=(const vtkSuperquadricTensorGlyph&) {};

  void Execute();

  void ColorGlyphsWith(int measure);
  int ColorGlyphsWithAnisotropy;
  int ScalarMeasure;
  int MaskGlyphsWithScalars;
  int Resolution;
  
  double Gamma;
  int ThetaResolution;
  int PhiResolution;

  vtkMatrix4x4 *VolumePositionMatrix;
  vtkMatrix4x4 *TensorRotationMatrix;

  vtkImageData *ScalarMask;
};

#endif
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PVSuperquadricTensorGlyph.pvsm
Type: application/octet-stream
Size: 532 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060124/9c8e8e69/PVSuperquadricTensorGlyph.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PVSuperquadricTensorGlyph.xml
Type: text/xml
Size: 975 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060124/9c8e8e69/PVSuperquadricTensorGlyph.bin
From jkoski11 at comcast.net  Tue Jan 24 22:58:57 2006
From: jkoski11 at comcast.net (Joe Koski)
Date: Tue Jan 24 22:59:01 2006
Subject: [Paraview] New Mac Installation
Message-ID: <BFFC4592.525A%jkoski11@comcast.net>

Hi,

I'm a Sandia retiree and consultant. I was just given the website by a
Sandia staff member about an hour ago, and I'm trying to install paraview on
my Mac G5 with OS X 10.3.9 and Xcode 1.5. The code we use recognizes .vtk
files, so we thought we'd give it a try.

I think I have extracted paraview correctly, which took some understanding
of the .tar file structure. A suggestion would be to set up the .tar to
extract directly with a "tar -xvf paraview.tar -C /usr/local" instead of
having the intermediate directory that you have now. I had to make my own
tar of the four directories (bin, lib, doc, share) before it would extract
correctly into /usr/local.

Now, when I launch paraview I get

jakoski$ paraview
ParaView error: InitializeTcl failed
Tk_Init error: this isn't a Tk application couldn't connect to display
":0.0"

OK, I think I have an older version of Tk/Tcl already installed. Do I need
another version, or do I just need a new line in my .bash_profile or
.bashrc? I suspect that I have a missing dependency.

Thanks for any ideas.

Joe Koski








From imikejackson at gmail.com  Wed Jan 25 09:01:37 2006
From: imikejackson at gmail.com (Mike Jackson)
Date: Wed Jan 25 09:01:43 2006
Subject: [Paraview] New Mac Installation
In-Reply-To: <BFFC4592.525A%jkoski11@comcast.net>
References: <BFFC4592.525A%jkoski11@comcast.net>
Message-ID: <D940D2FF-5C4A-4A87-B489-67199415F975@gmail.com>

On Jan 24, 2006, at 10:58 PM, Joe Koski wrote:

> Hi,
>
> I'm a Sandia retiree and consultant. I was just given the website by a
> Sandia staff member about an hour ago, and I'm trying to install  
> paraview on
> my Mac G5 with OS X 10.3.9 and Xcode 1.5. The code we use  
> recognizes .vtk
> files, so we thought we'd give it a try.
>
> I think I have extracted paraview correctly, which took some  
> understanding
> of the .tar file structure. A suggestion would be to set up  
> the .tar to
> extract directly with a "tar -xvf paraview.tar -C /usr/local"  
> instead of
> having the intermediate directory that you have now. I had to make  
> my own
> tar of the four directories (bin, lib, doc, share) before it would  
> extract
> correctly into /usr/local.
>
> Now, when I launch paraview I get
>
> jakoski$ paraview
> ParaView error: InitializeTcl failed
> Tk_Init error: this isn't a Tk application couldn't connect to display
> ":0.0"
>
> OK, I think I have an older version of Tk/Tcl already installed. Do  
> I need
> another version, or do I just need a new line in my .bash_profile or
> .bashrc? I suspect that I have a missing dependency.
>
> Thanks for any ideas.
>
> Joe Koski

> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

Are you launching paraview from an "x-term"? Paraview (Last time I  
checked) only runs under X-Windows on OS X. Kitware doesn't seem to  
want to support the newer versions of Tk/Tcl that run under Aqua.

--------
Mike Jackson
imikejackson <at> gmail <dot> com



From berk.geveci at gmail.com  Wed Jan 25 10:38:57 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Jan 25 10:38:59 2006
Subject: [Paraview] New Mac Installation
In-Reply-To: <D940D2FF-5C4A-4A87-B489-67199415F975@gmail.com>
References: <BFFC4592.525A%jkoski11@comcast.net>
	<D940D2FF-5C4A-4A87-B489-67199415F975@gmail.com>
Message-ID: <a2ab21560601250738u422c2af1md2e6dd28058c0ff0@mail.gmail.com>

We have tried paraview with Tcl/Tk that supports Cocoa (and Carbon).
We ran into issues that seemed to be due to incomplete support of
Cocoa (and Carbon) by Tk. Since paraview works with X-based Tk, we
have no immediate plans to change anything. We have longer term plans
to provide better support for Mac.

-Berk


On 1/25/06, Mike Jackson <imikejackson@gmail.com> wrote:
> On Jan 24, 2006, at 10:58 PM, Joe Koski wrote:
>
> > Hi,
> >
> > I'm a Sandia retiree and consultant. I was just given the website by a
> > Sandia staff member about an hour ago, and I'm trying to install
> > paraview on
> > my Mac G5 with OS X 10.3.9 and Xcode 1.5. The code we use
> > recognizes .vtk
> > files, so we thought we'd give it a try.
> >
> > I think I have extracted paraview correctly, which took some
> > understanding
> > of the .tar file structure. A suggestion would be to set up
> > the .tar to
> > extract directly with a "tar -xvf paraview.tar -C /usr/local"
> > instead of
> > having the intermediate directory that you have now. I had to make
> > my own
> > tar of the four directories (bin, lib, doc, share) before it would
> > extract
> > correctly into /usr/local.
> >
> > Now, when I launch paraview I get
> >
> > jakoski$ paraview
> > ParaView error: InitializeTcl failed
> > Tk_Init error: this isn't a Tk application couldn't connect to display
> > ":0.0"
> >
> > OK, I think I have an older version of Tk/Tcl already installed. Do
> > I need
> > another version, or do I just need a new line in my .bash_profile or
> > .bashrc? I suspect that I have a missing dependency.
> >
> > Thanks for any ideas.
> >
> > Joe Koski
>
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
>
> Are you launching paraview from an "x-term"? Paraview (Last time I
> checked) only runs under X-Windows on OS X. Kitware doesn't seem to
> want to support the newer versions of Tk/Tcl that run under Aqua.
>
> --------
> Mike Jackson
> imikejackson <at> gmail <dot> com
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From jkoski11 at comcast.net  Wed Jan 25 11:38:37 2006
From: jkoski11 at comcast.net (Joe Koski)
Date: Wed Jan 25 11:38:43 2006
Subject: [Paraview] New Mac Installation
In-Reply-To: <a2ab21560601250738u422c2af1md2e6dd28058c0ff0@mail.gmail.com>
Message-ID: <BFFCF79D.526E%jkoski11@comcast.net>

Berk, Mike,

I have no problems running under X11, so this is not a problem to me. I
suspect the difficulty is getting Motif to work under Cocoa or Carbon.

I was able to get my first image from .vtk files, so we're in business with
ParaView. Thanks for the help and explanations.

Joe


on 1/25/06 8:38 AM, Berk Geveci at berk.geveci@gmail.com wrote:

> We have tried paraview with Tcl/Tk that supports Cocoa (and Carbon).
> We ran into issues that seemed to be due to incomplete support of
> Cocoa (and Carbon) by Tk. Since paraview works with X-based Tk, we
> have no immediate plans to change anything. We have longer term plans
> to provide better support for Mac.
> 
> -Berk
> 
> 
> On 1/25/06, Mike Jackson <imikejackson@gmail.com> wrote:
>> On Jan 24, 2006, at 10:58 PM, Joe Koski wrote:
>> 
>>> Hi,
>>> 
>>> I'm a Sandia retiree and consultant. I was just given the website by a
>>> Sandia staff member about an hour ago, and I'm trying to install
>>> paraview on
>>> my Mac G5 with OS X 10.3.9 and Xcode 1.5. The code we use
>>> recognizes .vtk
>>> files, so we thought we'd give it a try.
>>> 
>>> I think I have extracted paraview correctly, which took some
>>> understanding
>>> of the .tar file structure. A suggestion would be to set up
>>> the .tar to
>>> extract directly with a "tar -xvf paraview.tar -C /usr/local"
>>> instead of
>>> having the intermediate directory that you have now. I had to make
>>> my own
>>> tar of the four directories (bin, lib, doc, share) before it would
>>> extract
>>> correctly into /usr/local.
>>> 
>>> Now, when I launch paraview I get
>>> 
>>> jakoski$ paraview
>>> ParaView error: InitializeTcl failed
>>> Tk_Init error: this isn't a Tk application couldn't connect to display
>>> ":0.0"
>>> 
>>> OK, I think I have an older version of Tk/Tcl already installed. Do
>>> I need
>>> another version, or do I just need a new line in my .bash_profile or
>>> .bashrc? I suspect that I have a missing dependency.
>>> 
>>> Thanks for any ideas.
>>> 
>>> Joe Koski
>> 
>>> _______________________________________________
>>> ParaView mailing list
>>> ParaView@paraview.org
>>> http://www.paraview.org/mailman/listinfo/paraview
>> 
>> Are you launching paraview from an "x-term"? Paraview (Last time I
>> checked) only runs under X-Windows on OS X. Kitware doesn't seem to
>> want to support the newer versions of Tk/Tcl that run under Aqua.
>> 
>> --------
>> Mike Jackson
>> imikejackson <at> gmail <dot> com
>> 
>> 
>> 
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>> 


From pauljwells at mac.com  Wed Jan 25 16:50:20 2006
From: pauljwells at mac.com (Paul Wells)
Date: Wed Jan 25 16:50:40 2006
Subject: [Paraview] FieldView to ParaView File Converter
Message-ID: <4cc8b36ca6d7e1647aba4d639ed29900@mac.com>

If this is of use to anybody, I have written a simple file converter 
that reads ascii (not binary) FieldView format surface, mesh or 
streamline files and outputs files in legacy .vtk unstructured grid 
format.

The files I have needed to convert have been of a fairly narrow type, 
so I suspect this may not work for many other cases, but it could be a 
start. I'd be pleased to hear of any successes or failures!

It compiles under linux, the usual ./configure, make, sudo make install 
puts it into /usr/local/bin.

The syntax is fvpv <FieldView File>

output is <FieldView File>.vtk

Hope this is useful

You can download the tarball from http://homepage.mac.com/pauljwells


-- 
Regards
Paul J Wells MA.(Cantab.) CEng. MRAeS.

Home:          +44 1291 627087
Mobile (UK):   +44 7803 713642
E-mail:        pauljwells@mac.com

From crippa at kth.se  Thu Jan 26 10:23:44 2006
From: crippa at kth.se (Simone Crippa)
Date: Thu Jan 26 10:23:53 2006
Subject: [Paraview] common calculations module
Message-ID: <1138289024.10821.76.camel@localhost>

Hi All,

I am wondering what is the best way to implement in Paraview often
recurring calculations ... maybe an example is better:

I have to postprocess CFD data. My solver gives out pressure,
density, ... for each point of an unstructured grid, which I import in
Paraview. If I want to calculate e.g. the entropy production in the
whole field I open the calculator and calculate it out of the field
values, e.g. density, pressure and with the constant undisturbed
(free-stream) values.

I feel a bit dumb to type down the equation(s) every time (in this case
relative easy, but sometimes it can be pretty complicated to get all the
braces right), so I thought that maybe I could use the "import modules"
functionality to first write a module (.xml and .pvsm) which
incorporates my equation(s) and then "filter" my dataset with this
module.

Is this the recommended way? How should I do it then? ... use the
vtkCalculator class, somehow?
The problem is that I am not very good at coding xml ... actually as an
engineer I seldom need to code with anything more complex than Fortran
or Matlab. So if someone out there has solved this type of "problem"
before, it would be nice to know how. (In a way I can emulate :-)


Thanks, Simone

-- 
Simone Crippa
Research assistant, Dipl.-Ing.
Royal Institute of Technology (KTH)
Aeronautical and Vehicle Engineering
Division of Aerodynamics
Teknikringen 8
SE-10044 Stockholm, Sweden
+46 (0)8 790 6465

From tdubuis at scconsultants.com  Thu Jan 26 12:25:05 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Thu Jan 26 12:27:10 2006
Subject: [Paraview] Problem with Session State
Message-ID: <43D905F1.9040404@scconsultants.com>

Hello,

I have a problem with the session state in Paraview 2.4.2.
I load a vtu file make a cut, I save the session state.
The pvs file is Ok
I save again the session state with a new name without do anything else.
The last pvs file is smaller than the first and can't be loaded.

I attached my 2 files

Could you see my problem.

Thank for your help

Best regards
Thierry Dubuis
-------------- next part --------------
# ParaView State Version 2.4

set kw(vtkTemp2) [$Application GetMainWindow]
set kw(vtkTemp85) [$kw(vtkTemp2) GetMainView]
set kw(vtkTemp1070) [$kw(vtkTemp2) GetAnimationManager]
[$kw(vtkTemp2) GetRotateCameraButton] SetSelectedState 1
$kw(vtkTemp2) ChangeInteractorStyle 1

# Glyph Sources
set kw(vtkTemp854) [$kw(vtkTemp2) GetPVSource GlyphSources Arrow0]
set kw(vtkTemp855) [$kw(vtkTemp854) GetPVWidget {TipResolution}]
$kw(vtkTemp855) SetValue 6
set kw(vtkTemp861) [$kw(vtkTemp854) GetPVWidget {TipRadius}]
$kw(vtkTemp861) SetValue 0.1
set kw(vtkTemp867) [$kw(vtkTemp854) GetPVWidget {TipLength}]
$kw(vtkTemp867) SetValue 0.35
set kw(vtkTemp873) [$kw(vtkTemp854) GetPVWidget {ShaftResolution}]
$kw(vtkTemp873) SetValue 6
set kw(vtkTemp879) [$kw(vtkTemp854) GetPVWidget {ShaftRadius}]
$kw(vtkTemp879) SetValue 0.03
$kw(vtkTemp854) AcceptCallback
set kw(vtkTemp885) [$kw(vtkTemp2) GetPVSource GlyphSources Cone0]
set kw(vtkTemp886) [$kw(vtkTemp885) GetPVWidget {Resolution}]
$kw(vtkTemp886) SetValue 6
set kw(vtkTemp892) [$kw(vtkTemp885) GetPVWidget {Radius}]
$kw(vtkTemp892) SetValue 0.5
set kw(vtkTemp897) [$kw(vtkTemp885) GetPVWidget {Height}]
$kw(vtkTemp897) SetValue 1
set kw(vtkTemp902) [$kw(vtkTemp885) GetPVWidget {Capping}]
$kw(vtkTemp902) SetSelectedState 1
$kw(vtkTemp885) AcceptCallback
set kw(vtkTemp905) [$kw(vtkTemp2) GetPVSource GlyphSources Cube0]
set kw(vtkTemp906) [$kw(vtkTemp905) GetPVWidget {XLength}]
$kw(vtkTemp906) SetValue 1
set kw(vtkTemp911) [$kw(vtkTemp905) GetPVWidget {YLength}]
$kw(vtkTemp911) SetValue 1
set kw(vtkTemp916) [$kw(vtkTemp905) GetPVWidget {ZLength}]
$kw(vtkTemp916) SetValue 1
set kw(vtkTemp921) [$kw(vtkTemp905) GetPVWidget {Center}]
$kw(vtkTemp921) SetValue 0 0 0
$kw(vtkTemp905) AcceptCallback
set kw(vtkTemp923) [$kw(vtkTemp2) GetPVSource GlyphSources Line0]
set kw(vtkTemp924) [$kw(vtkTemp923) GetPVWidget {Line}]
$kw(vtkTemp924) SetVisibility 1
$kw(vtkTemp924) SetPoint1 -0.5 0 0
$kw(vtkTemp924) SetPoint2 0.5 0 0
$kw(vtkTemp924) SetResolution 0
set kw(vtkTemp942) [$kw(vtkTemp923) GetPVWidget {Resolution}]
$kw(vtkTemp942) SetValue 6
$kw(vtkTemp923) AcceptCallback
set kw(vtkTemp947) [$kw(vtkTemp2) GetPVSource GlyphSources Sphere0]
set kw(vtkTemp948) [$kw(vtkTemp947) GetPVWidget {Center}]
$kw(vtkTemp948) SetValue 0 0 0
set kw(vtkTemp950) [$kw(vtkTemp947) GetPVWidget {Radius}]
$kw(vtkTemp950) SetValue 0.5
set kw(vtkTemp955) [$kw(vtkTemp947) GetPVWidget {Theta Resolution}]
$kw(vtkTemp955) SetValue 8
set kw(vtkTemp961) [$kw(vtkTemp947) GetPVWidget {Start Theta}]
$kw(vtkTemp961) SetValue 0
set kw(vtkTemp967) [$kw(vtkTemp947) GetPVWidget {End Theta}]
$kw(vtkTemp967) SetValue 360
set kw(vtkTemp973) [$kw(vtkTemp947) GetPVWidget {Phi Resolution}]
$kw(vtkTemp973) SetValue 8
set kw(vtkTemp979) [$kw(vtkTemp947) GetPVWidget {Start Phi}]
$kw(vtkTemp979) SetValue 0
set kw(vtkTemp985) [$kw(vtkTemp947) GetPVWidget {End Phi}]
$kw(vtkTemp985) SetValue 180
$kw(vtkTemp947) AcceptCallback
set kw(vtkTemp991) [$kw(vtkTemp2) GetPVSource GlyphSources Glyph2D0]
set kw(vtkTemp992) [$kw(vtkTemp991) GetPVWidget {GlyphType}]
$kw(vtkTemp992) SelectCallback {Arrow} {9}
set kw(vtkTemp996) [$kw(vtkTemp991) GetPVWidget {Filled}]
$kw(vtkTemp996) SetSelectedState 0
set kw(vtkTemp999) [$kw(vtkTemp991) GetPVWidget {Center}]
$kw(vtkTemp999) SetValue 0 0 0
$kw(vtkTemp991) AcceptCallback

set kw(vtkTemp1011) [$kw(vtkTemp2) InitializeReadCustom "XMLUnstructuredGridReader" "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"]
$kw(vtkTemp2) ReadFileInformation $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp2) FinalizeRead $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1011) SetLabel {Extrusion_1.vtu}
set kw(vtkTemp1020) [$kw(vtkTemp1011) GetPVWidget {Filename}]
$kw(vtkTemp1020) SetValue "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
set kw(vtkTemp1015) [$kw(vtkTemp1011) GetPVWidget {PointSelection}]
$kw(vtkTemp1015) SetArrayStatus {DistanceVis} 1
$kw(vtkTemp1015) SetArrayStatus {FncarVis} 1
$kw(vtkTemp1015) SetArrayStatus {Pression_UM} 1
$kw(vtkTemp1015) SetArrayStatus {Vitesse} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseX} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseY} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseZ} 1
set kw(vtkTemp1019) [$kw(vtkTemp1011) GetPVWidget {CellSelection}]
$kw(vtkTemp1019) SetArrayStatus {TauxCisaillement} 1
$kw(vtkTemp1011) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1011) [$kw(vtkTemp1011) GetDisplayProxy] 
[$pvDisp(vtkTemp1011) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1011) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1011) GetProperty Visibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorSpace] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty HSVWrap] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarVisibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Specular] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarOpacityUnitDistance] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
$pvDisp(vtkTemp1011) UpdateVTKObjects
[$kw(vtkTemp1011) GetPVOutput] Update
[$kw(vtkTemp1011) GetPVOutput] ColorByProperty
$kw(vtkTemp2) SetCurrentPVSourceCallback $kw(vtkTemp1011)
set kw(vtkTemp1072) [$kw(vtkTemp2) CreatePVSource Cut]
$kw(vtkTemp1072) SetLabel {Cut0}
set kw(vtkTemp1073) [$kw(vtkTemp1072) GetPVWidget {Input}]
$kw(vtkTemp1073) SetCurrentValue $kw(vtkTemp1011)
set kw(vtkTemp1116) [$kw(vtkTemp1072) GetPVWidget {Cut Function}]
$kw(vtkTemp1116) SetCurrentValue {Plane}
set kw(vtkTemp1084) [$kw(vtkTemp1116) GetPVWidget {Plane}]
$kw(vtkTemp1084) SetVisibility 1
$kw(vtkTemp1084) SetCenter 0 0 30
$kw(vtkTemp1084) SetNormal 0 0 1
set kw(vtkTemp1117) [$kw(vtkTemp1072) GetPVWidget {Cut Values}]
$kw(vtkTemp1117) RemoveAllValues
$kw(vtkTemp1117) AddValue 0
$kw(vtkTemp1072) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1072) [$kw(vtkTemp1072) GetDisplayProxy] 
[$pvDisp(vtkTemp1072) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1072) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1072) GetProperty Visibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ColorArray] SetElement 0 {Pression_UM}
[$pvDisp(vtkTemp1072) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty ScalarMode] SetElement 0 3
[$pvDisp(vtkTemp1072) GetProperty ScalarVisibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Specular] SetElement 0 0
$pvDisp(vtkTemp1072) UpdateVTKObjects
[$kw(vtkTemp1072) GetPVOutput] ColorByArray {Pression_UM} 3
$kw(vtkTemp1011) SetVisibility 0
$kw(vtkTemp1072) SetVisibility 1
set kw(vtkTemp1191) [$kw(vtkTemp2) GetPVColorMap {Pression_UM} 1]
$kw(vtkTemp1191) SetScalarBarTitle {Pression_UM}
$kw(vtkTemp1191) SetScalarBarVectorTitle {Magnitude}
$kw(vtkTemp1191) SetScalarBarLabelFormat {%-#6.3g}
$kw(vtkTemp1191) SetStartHSV 0.6667 1 1
$kw(vtkTemp1191) SetEndHSV 0 1 1
$kw(vtkTemp1191) SetNumberOfColors 256
$kw(vtkTemp1191) SetScalarRange -11.0444 112.05
$kw(vtkTemp1191) SetScalarRangeLock 0
$kw(vtkTemp1191) SetScalarBarVisibility 0
$kw(vtkTemp1191) SetScalarBarPosition1 0.87 0.25
$kw(vtkTemp1191) SetScalarBarPosition2 0.13 0.5
$kw(vtkTemp1191) SetScalarBarOrientation 1
$kw(vtkTemp85) SetRendererBackgroundColor 0.33 0.35 0.43
$kw(vtkTemp85) ParallelProjectionOff
$kw(vtkTemp85) SetCameraState 171.603 108.631 153.212 0 0 30 -0.23003 0.866299 -0.44341
$kw(vtkTemp85) SetUseTriangleStrips 0
$kw(vtkTemp85) SetUseImmediateMode 1
set kw(vtkTemp423) [$kw(vtkTemp85) GetRenderModuleUI]
catch {$kw(vtkTemp423) SetLODThreshold 5}
catch {$kw(vtkTemp423) SetLODResolution 50}
catch {$kw(vtkTemp423) SetOutlineThreshold 5e+006}
catch {$kw(vtkTemp423) SetRenderInterruptsEnabled 1}
set kw(vtkTemp368) [$kw(vtkTemp85) GetCornerAnnotation]
$kw(vtkTemp368) SetVisibility 0
$kw(vtkTemp368) SetCornerText {} 0
$kw(vtkTemp368) SetCornerText {} 1
$kw(vtkTemp368) SetCornerText {} 2
$kw(vtkTemp368) SetCornerText {} 3
$kw(vtkTemp368) SetMaximumLineHeight 0.07
set kw(vtkTemp389) [$kw(vtkTemp368) GetTextPropertyWidget]
$kw(vtkTemp389) SetColor 1 1 1
$kw(vtkTemp389) SetFontFamily 0
$kw(vtkTemp389) SetBold 0
$kw(vtkTemp389) SetItalic 0
$kw(vtkTemp389) SetShadow 0
$kw(vtkTemp389) SetOpacity 1
$kw(vtkTemp85) SetOrientationAxesVisibility 1
$kw(vtkTemp85) SetOrientationAxesInteractivity 0
$kw(vtkTemp85) SetOrientationAxesOutlineColor 1 1 1
$kw(vtkTemp85) SetOrientationAxesTextColor 1 1 1
set kw(vtkTemp796) [$kw(vtkTemp85) GetManipulatorControl2D]
$kw(vtkTemp796) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp796) SetCurrentManipulator 0 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 0 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp795) [$kw(vtkTemp85) GetManipulatorControl3D]
$kw(vtkTemp795) SetCurrentManipulator 0 2 {FlyIn}
$kw(vtkTemp795) SetCurrentManipulator 2 2 {FlyOut}
$kw(vtkTemp795) SetCurrentManipulator 0 0 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 1 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 2 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp795) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp670) [$kw(vtkTemp1070) GetAnimationScene]
set kw(vtkTemp655) [$kw(vtkTemp1070) GetVAnimationInterface]
set kw(vtkTemp629) [$kw(vtkTemp1070) GetHAnimationInterface]

set kw(vtkTemp632) [$kw(vtkTemp629) GetParentTree]
$kw(vtkTemp632) SetExpanded 1
set kw(vtkTemp699) [$kw(vtkTemp632) GetChild "_dont_validate_.ActiveCamera"]
$kw(vtkTemp699) SetExpanded 0
set kw(vtkTemp702) [$kw(vtkTemp699) GetChild "Camera.-1"]
$kw(vtkTemp702) RemoveAllKeyFrames
set kw(vtkTemp1035) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1011) GetName]"]
$kw(vtkTemp1035) SetExpanded 0
set kw(vtkTemp1037) [$kw(vtkTemp1035) GetChild "FileName.0"]
$kw(vtkTemp1037) RemoveAllKeyFrames

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 0 0]
set kw(vtkTemp1056) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1056) SetKeyTime 0
$kw(vtkTemp1056) SetKeyValue 0 0

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 1 0]
set kw(vtkTemp1064) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1064) SetKeyTime 1
$kw(vtkTemp1064) SetKeyValue 0 7
set kw(vtkTemp1039) [$kw(vtkTemp1035) GetChild "Sources.[$kw(vtkTemp1011) GetName].Display"]
$kw(vtkTemp1039) SetExpanded 0
set kw(vtkTemp1041) [$kw(vtkTemp1039) GetChild "Representation.0"]
$kw(vtkTemp1041) RemoveAllKeyFrames
set kw(vtkTemp1043) [$kw(vtkTemp1039) GetChild "Visibility.0"]
$kw(vtkTemp1043) RemoveAllKeyFrames
set kw(vtkTemp1045) [$kw(vtkTemp1039) GetChild "Orientation"]
$kw(vtkTemp1045) SetExpanded 0
set kw(vtkTemp1047) [$kw(vtkTemp1045) GetChild "Orientation.0"]
$kw(vtkTemp1047) RemoveAllKeyFrames
set kw(vtkTemp1049) [$kw(vtkTemp1045) GetChild "Orientation.1"]
$kw(vtkTemp1049) RemoveAllKeyFrames
set kw(vtkTemp1051) [$kw(vtkTemp1045) GetChild "Orientation.2"]
$kw(vtkTemp1051) RemoveAllKeyFrames
set kw(vtkTemp1053) [$kw(vtkTemp1039) GetChild "Opacity.0"]
$kw(vtkTemp1053) RemoveAllKeyFrames
set kw(vtkTemp1148) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1072) GetName]"]
$kw(vtkTemp1148) SetExpanded 0
set kw(vtkTemp1150) [$kw(vtkTemp1148) GetChild "ContourValues.-1"]
$kw(vtkTemp1150) RemoveAllKeyFrames
set kw(vtkTemp1152) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Plane"]
$kw(vtkTemp1152) SetExpanded 0
set kw(vtkTemp1154) [$kw(vtkTemp1152) GetChild "Normal"]
$kw(vtkTemp1154) SetExpanded 0
set kw(vtkTemp1156) [$kw(vtkTemp1154) GetChild "Normal.0"]
$kw(vtkTemp1156) RemoveAllKeyFrames
set kw(vtkTemp1158) [$kw(vtkTemp1154) GetChild "Normal.1"]
$kw(vtkTemp1158) RemoveAllKeyFrames
set kw(vtkTemp1160) [$kw(vtkTemp1154) GetChild "Normal.2"]
$kw(vtkTemp1160) RemoveAllKeyFrames
set kw(vtkTemp1162) [$kw(vtkTemp1152) GetChild "Offset.0"]
$kw(vtkTemp1162) RemoveAllKeyFrames
set kw(vtkTemp1164) [$kw(vtkTemp1152) GetChild "Origin"]
$kw(vtkTemp1164) SetExpanded 0
set kw(vtkTemp1166) [$kw(vtkTemp1164) GetChild "Origin.0"]
$kw(vtkTemp1166) RemoveAllKeyFrames
set kw(vtkTemp1168) [$kw(vtkTemp1164) GetChild "Origin.1"]
$kw(vtkTemp1168) RemoveAllKeyFrames
set kw(vtkTemp1170) [$kw(vtkTemp1164) GetChild "Origin.2"]
$kw(vtkTemp1170) RemoveAllKeyFrames
set kw(vtkTemp1172) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Display"]
$kw(vtkTemp1172) SetExpanded 0
set kw(vtkTemp1174) [$kw(vtkTemp1172) GetChild "Representation.0"]
$kw(vtkTemp1174) RemoveAllKeyFrames
set kw(vtkTemp1176) [$kw(vtkTemp1172) GetChild "Visibility.0"]
$kw(vtkTemp1176) RemoveAllKeyFrames
set kw(vtkTemp1178) [$kw(vtkTemp1172) GetChild "Orientation"]
$kw(vtkTemp1178) SetExpanded 0
set kw(vtkTemp1180) [$kw(vtkTemp1178) GetChild "Orientation.0"]
$kw(vtkTemp1180) RemoveAllKeyFrames
set kw(vtkTemp1182) [$kw(vtkTemp1178) GetChild "Orientation.1"]
$kw(vtkTemp1182) RemoveAllKeyFrames
set kw(vtkTemp1184) [$kw(vtkTemp1178) GetChild "Orientation.2"]
$kw(vtkTemp1184) RemoveAllKeyFrames
set kw(vtkTemp1186) [$kw(vtkTemp1172) GetChild "Opacity.0"]
$kw(vtkTemp1186) RemoveAllKeyFrames

# State for vtkPVAnimationScene
$kw(vtkTemp670) SetDuration 8
$kw(vtkTemp670) SetPlayMode 0
$kw(vtkTemp670) SetFrameRate 1
$kw(vtkTemp670) SetLoop 0
$kw(vtkTemp670) SetAnimationTime 0
$kw(vtkTemp2) SetCenterOfRotation 0 0 30

# Comparative visualizations
set kw(vtkTemp1254) [$kw(vtkTemp2) GetComparativeVisManagerGUI]
set kw(vtkTemp1281) [$kw(vtkTemp1254) GetManager]

vtkSMObject foo
set proxyManager [foo GetProxyManager]
foo Delete

$kw(vtkTemp1254) Update
-------------- next part --------------
# ParaView State Version 2.4

set kw(vtkTemp2) [$Application GetMainWindow]
set kw(vtkTemp85) [$kw(vtkTemp2) GetMainView]
set kw(vtkTemp1070) [$kw(vtkTemp2) GetAnimationManager]
[$kw(vtkTemp2) GetRotateCameraButton] SetSelectedState 1
$kw(vtkTemp2) ChangeInteractorStyle 1

# Glyph Sources
$kw(vtkTemp855) SetValue 6
$kw(vtkTemp861) SetValue 0.1
$kw(vtkTemp867) SetValue 0.35
$kw(vtkTemp873) SetValue 6
$kw(vtkTemp879) SetValue 0.03
$kw(vtkTemp854) AcceptCallback
$kw(vtkTemp886) SetValue 6
$kw(vtkTemp892) SetValue 0.5
$kw(vtkTemp897) SetValue 1
$kw(vtkTemp902) SetSelectedState 1
$kw(vtkTemp885) AcceptCallback
$kw(vtkTemp906) SetValue 1
$kw(vtkTemp911) SetValue 1
$kw(vtkTemp916) SetValue 1
$kw(vtkTemp921) SetValue 0 0 0
$kw(vtkTemp905) AcceptCallback
$kw(vtkTemp924) SetVisibility 1
$kw(vtkTemp924) SetPoint1 -0.5 0 0
$kw(vtkTemp924) SetPoint2 0.5 0 0
$kw(vtkTemp924) SetResolution 0
$kw(vtkTemp942) SetValue 6
$kw(vtkTemp923) AcceptCallback
$kw(vtkTemp948) SetValue 0 0 0
$kw(vtkTemp950) SetValue 0.5
$kw(vtkTemp955) SetValue 8
$kw(vtkTemp961) SetValue 0
$kw(vtkTemp967) SetValue 360
$kw(vtkTemp973) SetValue 8
$kw(vtkTemp979) SetValue 0
$kw(vtkTemp985) SetValue 180
$kw(vtkTemp947) AcceptCallback
$kw(vtkTemp992) SelectCallback {Arrow} {9}
$kw(vtkTemp996) SetSelectedState 0
$kw(vtkTemp999) SetValue 0 0 0
$kw(vtkTemp991) AcceptCallback

set kw(vtkTemp1011) [$kw(vtkTemp2) InitializeReadCustom "XMLUnstructuredGridReader" "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"]
$kw(vtkTemp2) ReadFileInformation $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp2) FinalizeRead $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1011) SetLabel {Extrusion_1.vtu}
$kw(vtkTemp1020) SetValue "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1015) SetArrayStatus {DistanceVis} 1
$kw(vtkTemp1015) SetArrayStatus {FncarVis} 1
$kw(vtkTemp1015) SetArrayStatus {Pression_UM} 1
$kw(vtkTemp1015) SetArrayStatus {Vitesse} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseX} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseY} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseZ} 1
$kw(vtkTemp1019) SetArrayStatus {TauxCisaillement} 1
$kw(vtkTemp1011) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1011) [$kw(vtkTemp1011) GetDisplayProxy] 
[$pvDisp(vtkTemp1011) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1011) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1011) GetProperty Visibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorSpace] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty HSVWrap] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarVisibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Specular] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarOpacityUnitDistance] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
$pvDisp(vtkTemp1011) UpdateVTKObjects
[$kw(vtkTemp1011) GetPVOutput] Update
[$kw(vtkTemp1011) GetPVOutput] ColorByProperty
$kw(vtkTemp2) SetCurrentPVSourceCallback $kw(vtkTemp1011)
set kw(vtkTemp1072) [$kw(vtkTemp2) CreatePVSource Cut]
$kw(vtkTemp1072) SetLabel {Cut0}
$kw(vtkTemp1073) SetCurrentValue $kw(vtkTemp1011)
$kw(vtkTemp1116) SetCurrentValue {Plane}
$kw(vtkTemp1084) SetVisibility 1
$kw(vtkTemp1084) SetCenter 0 0 30
$kw(vtkTemp1084) SetNormal 0 0 1
$kw(vtkTemp1117) RemoveAllValues
$kw(vtkTemp1117) AddValue 0
$kw(vtkTemp1072) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1072) [$kw(vtkTemp1072) GetDisplayProxy] 
[$pvDisp(vtkTemp1072) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1072) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1072) GetProperty Visibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ColorArray] SetElement 0 {Pression_UM}
[$pvDisp(vtkTemp1072) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty ScalarMode] SetElement 0 3
[$pvDisp(vtkTemp1072) GetProperty ScalarVisibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Specular] SetElement 0 0
$pvDisp(vtkTemp1072) UpdateVTKObjects
[$kw(vtkTemp1072) GetPVOutput] ColorByArray {Pression_UM} 3
$kw(vtkTemp1011) SetVisibility 0
$kw(vtkTemp1072) SetVisibility 1
set kw(vtkTemp1191) [$kw(vtkTemp2) GetPVColorMap {Pression_UM} 1]
$kw(vtkTemp1191) SetScalarBarTitle {Pression_UM}
$kw(vtkTemp1191) SetScalarBarVectorTitle {Magnitude}
$kw(vtkTemp1191) SetScalarBarLabelFormat {%-#6.3g}
$kw(vtkTemp1191) SetStartHSV 0.6667 1 1
$kw(vtkTemp1191) SetEndHSV 0 1 1
$kw(vtkTemp1191) SetNumberOfColors 256
$kw(vtkTemp1191) SetScalarRange -11.0444 112.05
$kw(vtkTemp1191) SetScalarRangeLock 0
$kw(vtkTemp1191) SetScalarBarVisibility 0
$kw(vtkTemp1191) SetScalarBarPosition1 0.87 0.25
$kw(vtkTemp1191) SetScalarBarPosition2 0.13 0.5
$kw(vtkTemp1191) SetScalarBarOrientation 1
$kw(vtkTemp85) SetRendererBackgroundColor 0.33 0.35 0.43
$kw(vtkTemp85) ParallelProjectionOff
$kw(vtkTemp85) SetCameraState 171.603 108.631 153.212 0 0 30 -0.23003 0.866299 -0.44341
$kw(vtkTemp85) SetUseTriangleStrips 0
$kw(vtkTemp85) SetUseImmediateMode 1
set kw(vtkTemp423) [$kw(vtkTemp85) GetRenderModuleUI]
catch {$kw(vtkTemp423) SetLODThreshold 5}
catch {$kw(vtkTemp423) SetLODResolution 50}
catch {$kw(vtkTemp423) SetOutlineThreshold 5e+006}
catch {$kw(vtkTemp423) SetRenderInterruptsEnabled 1}
set kw(vtkTemp368) [$kw(vtkTemp85) GetCornerAnnotation]
$kw(vtkTemp368) SetVisibility 0
$kw(vtkTemp368) SetCornerText {} 0
$kw(vtkTemp368) SetCornerText {} 1
$kw(vtkTemp368) SetCornerText {} 2
$kw(vtkTemp368) SetCornerText {} 3
$kw(vtkTemp368) SetMaximumLineHeight 0.07
set kw(vtkTemp389) [$kw(vtkTemp368) GetTextPropertyWidget]
$kw(vtkTemp389) SetColor 1 1 1
$kw(vtkTemp389) SetFontFamily 0
$kw(vtkTemp389) SetBold 0
$kw(vtkTemp389) SetItalic 0
$kw(vtkTemp389) SetShadow 0
$kw(vtkTemp389) SetOpacity 1
$kw(vtkTemp85) SetOrientationAxesVisibility 1
$kw(vtkTemp85) SetOrientationAxesInteractivity 0
$kw(vtkTemp85) SetOrientationAxesOutlineColor 1 1 1
$kw(vtkTemp85) SetOrientationAxesTextColor 1 1 1
set kw(vtkTemp796) [$kw(vtkTemp85) GetManipulatorControl2D]
$kw(vtkTemp796) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp796) SetCurrentManipulator 0 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 0 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp795) [$kw(vtkTemp85) GetManipulatorControl3D]
$kw(vtkTemp795) SetCurrentManipulator 0 2 {FlyIn}
$kw(vtkTemp795) SetCurrentManipulator 2 2 {FlyOut}
$kw(vtkTemp795) SetCurrentManipulator 0 0 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 1 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 2 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp795) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp670) [$kw(vtkTemp1070) GetAnimationScene]
set kw(vtkTemp655) [$kw(vtkTemp1070) GetVAnimationInterface]
set kw(vtkTemp629) [$kw(vtkTemp1070) GetHAnimationInterface]

set kw(vtkTemp632) [$kw(vtkTemp629) GetParentTree]
$kw(vtkTemp632) SetExpanded 1
set kw(vtkTemp699) [$kw(vtkTemp632) GetChild "_dont_validate_.ActiveCamera"]
$kw(vtkTemp699) SetExpanded 0
set kw(vtkTemp702) [$kw(vtkTemp699) GetChild "Camera.-1"]
$kw(vtkTemp702) RemoveAllKeyFrames
set kw(vtkTemp1035) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1011) GetName]"]
$kw(vtkTemp1035) SetExpanded 0
set kw(vtkTemp1037) [$kw(vtkTemp1035) GetChild "FileName.0"]
$kw(vtkTemp1037) RemoveAllKeyFrames

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 0 0]
set kw(vtkTemp1056) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1056) SetKeyTime 0
$kw(vtkTemp1056) SetKeyValue 0 0

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 1 0]
set kw(vtkTemp1064) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1064) SetKeyTime 1
$kw(vtkTemp1064) SetKeyValue 0 7
set kw(vtkTemp1039) [$kw(vtkTemp1035) GetChild "Sources.[$kw(vtkTemp1011) GetName].Display"]
$kw(vtkTemp1039) SetExpanded 0
set kw(vtkTemp1041) [$kw(vtkTemp1039) GetChild "Representation.0"]
$kw(vtkTemp1041) RemoveAllKeyFrames
set kw(vtkTemp1043) [$kw(vtkTemp1039) GetChild "Visibility.0"]
$kw(vtkTemp1043) RemoveAllKeyFrames
set kw(vtkTemp1045) [$kw(vtkTemp1039) GetChild "Orientation"]
$kw(vtkTemp1045) SetExpanded 0
set kw(vtkTemp1047) [$kw(vtkTemp1045) GetChild "Orientation.0"]
$kw(vtkTemp1047) RemoveAllKeyFrames
set kw(vtkTemp1049) [$kw(vtkTemp1045) GetChild "Orientation.1"]
$kw(vtkTemp1049) RemoveAllKeyFrames
set kw(vtkTemp1051) [$kw(vtkTemp1045) GetChild "Orientation.2"]
$kw(vtkTemp1051) RemoveAllKeyFrames
set kw(vtkTemp1053) [$kw(vtkTemp1039) GetChild "Opacity.0"]
$kw(vtkTemp1053) RemoveAllKeyFrames
set kw(vtkTemp1148) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1072) GetName]"]
$kw(vtkTemp1148) SetExpanded 0
set kw(vtkTemp1150) [$kw(vtkTemp1148) GetChild "ContourValues.-1"]
$kw(vtkTemp1150) RemoveAllKeyFrames
set kw(vtkTemp1152) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Plane"]
$kw(vtkTemp1152) SetExpanded 0
set kw(vtkTemp1154) [$kw(vtkTemp1152) GetChild "Normal"]
$kw(vtkTemp1154) SetExpanded 0
set kw(vtkTemp1156) [$kw(vtkTemp1154) GetChild "Normal.0"]
$kw(vtkTemp1156) RemoveAllKeyFrames
set kw(vtkTemp1158) [$kw(vtkTemp1154) GetChild "Normal.1"]
$kw(vtkTemp1158) RemoveAllKeyFrames
set kw(vtkTemp1160) [$kw(vtkTemp1154) GetChild "Normal.2"]
$kw(vtkTemp1160) RemoveAllKeyFrames
set kw(vtkTemp1162) [$kw(vtkTemp1152) GetChild "Offset.0"]
$kw(vtkTemp1162) RemoveAllKeyFrames
set kw(vtkTemp1164) [$kw(vtkTemp1152) GetChild "Origin"]
$kw(vtkTemp1164) SetExpanded 0
set kw(vtkTemp1166) [$kw(vtkTemp1164) GetChild "Origin.0"]
$kw(vtkTemp1166) RemoveAllKeyFrames
set kw(vtkTemp1168) [$kw(vtkTemp1164) GetChild "Origin.1"]
$kw(vtkTemp1168) RemoveAllKeyFrames
set kw(vtkTemp1170) [$kw(vtkTemp1164) GetChild "Origin.2"]
$kw(vtkTemp1170) RemoveAllKeyFrames
set kw(vtkTemp1172) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Display"]
$kw(vtkTemp1172) SetExpanded 0
set kw(vtkTemp1174) [$kw(vtkTemp1172) GetChild "Representation.0"]
$kw(vtkTemp1174) RemoveAllKeyFrames
set kw(vtkTemp1176) [$kw(vtkTemp1172) GetChild "Visibility.0"]
$kw(vtkTemp1176) RemoveAllKeyFrames
set kw(vtkTemp1178) [$kw(vtkTemp1172) GetChild "Orientation"]
$kw(vtkTemp1178) SetExpanded 0
set kw(vtkTemp1180) [$kw(vtkTemp1178) GetChild "Orientation.0"]
$kw(vtkTemp1180) RemoveAllKeyFrames
set kw(vtkTemp1182) [$kw(vtkTemp1178) GetChild "Orientation.1"]
$kw(vtkTemp1182) RemoveAllKeyFrames
set kw(vtkTemp1184) [$kw(vtkTemp1178) GetChild "Orientation.2"]
$kw(vtkTemp1184) RemoveAllKeyFrames
set kw(vtkTemp1186) [$kw(vtkTemp1172) GetChild "Opacity.0"]
$kw(vtkTemp1186) RemoveAllKeyFrames

# State for vtkPVAnimationScene
$kw(vtkTemp670) SetDuration 8
$kw(vtkTemp670) SetPlayMode 0
$kw(vtkTemp670) SetFrameRate 1
$kw(vtkTemp670) SetLoop 0
$kw(vtkTemp670) SetAnimationTime 0
$kw(vtkTemp2) SetCenterOfRotation 0 0 30

# Comparative visualizations
set kw(vtkTemp1254) [$kw(vtkTemp2) GetComparativeVisManagerGUI]
set kw(vtkTemp1281) [$kw(vtkTemp1254) GetManager]

vtkSMObject foo
set proxyManager [foo GetProxyManager]
foo Delete

$kw(vtkTemp1254) Update
From f.braennstroem at gmx.de  Fri Jan 27 07:05:16 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Fri Jan 27 07:04:31 2006
Subject: [Paraview] display pressure on box
Message-ID: <20060127120516.GB6821@ddorf.de>

Hi,

until recently I always used ensight formatted data files
with several parts, so that I could use the 'Extract parts'
filter to display e.g. the pressure on a special boundary.

Now, when I use ensight files without parts or vtk data
files, the structure looks like:

# vtk DataFile Version 2.0
smc_2
BINARY
DATASET UNSTRUCTURED_GRID

I am obviously not able to extract any parts.

E.g. I want to visualize the pressure data on a cubic
obstacle in a channel flow. Which filter do I have to use?
My idea was to create a box at the obstacle position and
'map' the data on it, but I have no idea how!?

Greetings!
Fabian
-- 
From domi at vision.ee.ethz.ch  Fri Jan 27 07:16:46 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Jan 27 07:16:50 2006
Subject: [Paraview] display pressure on box
In-Reply-To: <20060127120516.GB6821@ddorf.de>
References: <20060127120516.GB6821@ddorf.de>
Message-ID: <43DA0F2E.7000702@vision.ee.ethz.ch>

you can extract/filter geometry of interest by providing domain number
(scalar) and e.g. doing threshold on the data
--dsz

Fabian Braennstroem wrote:
> Hi,
> 
> until recently I always used ensight formatted data files
> with several parts, so that I could use the 'Extract parts'
> filter to display e.g. the pressure on a special boundary.
> 
> Now, when I use ensight files without parts or vtk data
> files, the structure looks like:
> 
> # vtk DataFile Version 2.0
> smc_2
> BINARY
> DATASET UNSTRUCTURED_GRID
> 
> I am obviously not able to extract any parts.
> 
> E.g. I want to visualize the pressure data on a cubic
> obstacle in a channel flow. Which filter do I have to use?
> My idea was to create a box at the obstacle position and
> 'map' the data on it, but I have no idea how!?
> 
> Greetings!
> Fabian

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From berk.geveci at kitware.com  Fri Jan 27 09:24:33 2006
From: berk.geveci at kitware.com (Berk Geveci)
Date: Fri Jan 27 09:24:36 2006
Subject: [Paraview] Paraview survey, favor asked of paraview users
Message-ID: <43DA2D21.5060308@kitware.com>

Dear paraview users,

We are collecting information about paraview users to help us in making 
decisions about future paraview development. Our knowledge of most paraview 
users is limited to the questions they ask on the mailing list. We would like to 
know more about you. Please fill in the survey at:
http://paraview.org/HTML/ParaViewSurvey.html

Regards,
-Berk Geveci
Kitware Inc.
From berk.geveci at gmail.com  Fri Jan 27 09:30:51 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Jan 27 09:30:53 2006
Subject: [Paraview] display pressure on box
In-Reply-To: <20060127120516.GB6821@ddorf.de>
References: <20060127120516.GB6821@ddorf.de>
Message-ID: <a2ab21560601270630k30335579u27af95d48c3419a0@mail.gmail.com>

> E.g. I want to visualize the pressure data on a cubic
> obstacle in a channel flow. Which filter do I have to use?
> My idea was to create a box at the obstacle position and
> 'map' the data on it, but I have no idea how!?

You need to either cut or clip the dataset with a box. Unfortunately,
the cut filter (as it is in paraview) does not support box. Try
clipping with a box or cutting with a few planes.
From Daniel.E.Goldstein at colorado.edu  Fri Jan 27 10:21:19 2006
From: Daniel.E.Goldstein at colorado.edu (Daniel Goldstein)
Date: Fri Jan 27 10:21:30 2006
Subject: [Paraview] common calculations module
In-Reply-To: <1138289024.10821.76.camel@localhost>
References: <1138289024.10821.76.camel@localhost>
Message-ID: <43DA3A6F.2000901@colorado.edu>

Simone Crippa wrote:

>Hi All,
>
>I am wondering what is the best way to implement in Paraview often
>recurring calculations ... maybe an example is better:
>
>I have to postprocess CFD data. My solver gives out pressure,
>density, ... for each point of an unstructured grid, which I import in
>Paraview. If I want to calculate e.g. the entropy production in the
>whole field I open the calculator and calculate it out of the field
>values, e.g. density, pressure and with the constant undisturbed
>(free-stream) values.
>
>I feel a bit dumb to type down the equation(s) every time (in this case
>relative easy, but sometimes it can be pretty complicated to get all the
>braces right), so I thought that maybe I could use the "import modules"
>functionality to first write a module (.xml and .pvsm) which
>incorporates my equation(s) and then "filter" my dataset with this
>module.
>
>Is this the recommended way? How should I do it then? ... use the
>vtkCalculator class, somehow?
>The problem is that I am not very good at coding xml ... actually as an
>engineer I seldom need to code with anything more complex than Fortran
>or Matlab. So if someone out there has solved this type of "problem"
>before, it would be nice to know how. (In a way I can emulate :-)
>
>
>Thanks, Simone
>
>  
>
 Hi Simone
    I have been looking at how to do this also.  I do CFD and also would 
like to setup some startdard post processing in Paraview.
I do not yet have any good solution though. Perhaps a TCL script that 
calls the calculator tool with different equations?
Has anyone come up with a way to set this up?  If anyone has some TCL 
scripts that they use to do standard post processing could
you post some examples for us?


Thanks

Dan

-----------------------------------------
Dan Goldstein
Research Scientist
NorthWest Research Associates, Inc.
Colorado Research Associates Division
Colorado, U.S.A.
-----------------------------------------


From berk.geveci at gmail.com  Fri Jan 27 10:43:57 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Jan 27 10:44:01 2006
Subject: [Paraview] common calculations module
In-Reply-To: <43DA3A6F.2000901@colorado.edu>
References: <1138289024.10821.76.camel@localhost>
	<43DA3A6F.2000901@colorado.edu>
Message-ID: <a2ab21560601270743t23d7a23fjcc9cb02fb8b94f2a@mail.gmail.com>

Save the following to a .pvs file, change the equation, create your
source, load the .pvs file. Of course, make sure that the names in the
equation match the array names.

set EQUATION {RTData*7}

set kw(vtkTemp1) [$Application GetMainWindow]

set calc [$kw(vtkTemp1) CreatePVSource Calculator]
set calcWidget [$calc GetPVWidget {Equation}]
$calcWidget SetFunctionLabel $EQUATION


On 1/27/06, Daniel Goldstein <Daniel.E.Goldstein@colorado.edu> wrote:
> Simone Crippa wrote:
>
> >Hi All,
> >
> >I am wondering what is the best way to implement in Paraview often
> >recurring calculations ... maybe an example is better:
> >
> >I have to postprocess CFD data. My solver gives out pressure,
> >density, ... for each point of an unstructured grid, which I import in
> >Paraview. If I want to calculate e.g. the entropy production in the
> >whole field I open the calculator and calculate it out of the field
> >values, e.g. density, pressure and with the constant undisturbed
> >(free-stream) values.
> >
> >I feel a bit dumb to type down the equation(s) every time (in this case
> >relative easy, but sometimes it can be pretty complicated to get all the
> >braces right), so I thought that maybe I could use the "import modules"
> >functionality to first write a module (.xml and .pvsm) which
> >incorporates my equation(s) and then "filter" my dataset with this
> >module.
> >
> >Is this the recommended way? How should I do it then? ... use the
> >vtkCalculator class, somehow?
> >The problem is that I am not very good at coding xml ... actually as an
> >engineer I seldom need to code with anything more complex than Fortran
> >or Matlab. So if someone out there has solved this type of "problem"
> >before, it would be nice to know how. (In a way I can emulate :-)
> >
> >
> >Thanks, Simone
> >
> >
> >
>  Hi Simone
>     I have been looking at how to do this also.  I do CFD and also would
> like to setup some startdard post processing in Paraview.
> I do not yet have any good solution though. Perhaps a TCL script that
> calls the calculator tool with different equations?
> Has anyone come up with a way to set this up?  If anyone has some TCL
> scripts that they use to do standard post processing could
> you post some examples for us?
>
>
> Thanks
>
> Dan
>
> -----------------------------------------
> Dan Goldstein
> Research Scientist
> NorthWest Research Associates, Inc.
> Colorado Research Associates Division
> Colorado, U.S.A.
> -----------------------------------------
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From berk.geveci at gmail.com  Fri Jan 27 11:37:25 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Jan 27 11:37:29 2006
Subject: [Paraview] common calculations module
In-Reply-To: <1138377727.10821.129.camel@localhost>
References: <1138289024.10821.76.camel@localhost>
	<43DA3A6F.2000901@colorado.edu>
	<a2ab21560601270743t23d7a23fjcc9cb02fb8b94f2a@mail.gmail.com>
	<1138377727.10821.129.camel@localhost>
Message-ID: <a2ab21560601270837o2301185bpb7895232d497d447@mail.gmail.com>

Now you are getting fancy :-) Try the one below:


vtkKWSimpleEntryDialog mydialog
mydialog SetApplication $Application
mydialog SetMasterWindow [$Application GetMainWindow]
mydialog Create
mydialog SetTitle "Enter value"
mydialog SetText "Value for free-stream pressure:"
mydialog Invoke

set value [[[mydialog GetEntry] GetWidget] GetValue]
mydialog Delete

set EQUATION "RTData*7*$value"

set kw(vtkTemp1) [$Application GetMainWindow]

set calc [$kw(vtkTemp1) CreatePVSource Calculator]
set calcWidget [$calc GetPVWidget {Equation}]
$calcWidget SetFunctionLabel $EQUATION


On 1/27/06, Simone Crippa <crippa@kth.se> wrote:
> Thanks Berk, that's already very useful!
>
> Now how can I do it if I need to specify a certain value which differs
> from array to array ... say a case constant such as free-stream
> pressure.
> That's why I thought of going through a module/filter, where one can
> have an input field to specify a case constant ... say I have to
> calculate pressure(local)/pressure(far-field).
>
>
> Regards, Simone
>
>
> On Fri, 2006-01-27 at 10:43 -0500, Berk Geveci wrote:
> > Save the following to a .pvs file, change the equation, create your
> > source, load the .pvs file. Of course, make sure that the names in the
> > equation match the array names.
> >
> > set EQUATION {RTData*7}
> >
> > set kw(vtkTemp1) [$Application GetMainWindow]
> >
> > set calc [$kw(vtkTemp1) CreatePVSource Calculator]
> > set calcWidget [$calc GetPVWidget {Equation}]
> > $calcWidget SetFunctionLabel $EQUATION
> >
> >
> > On 1/27/06, Daniel Goldstein <Daniel.E.Goldstein@colorado.edu> wrote:
> > > Simone Crippa wrote:
> > >
> > > >Hi All,
> > > >
> > > >I am wondering what is the best way to implement in Paraview often
> > > >recurring calculations ... maybe an example is better:
> > > >
> > > >I have to postprocess CFD data. My solver gives out pressure,
> > > >density, ... for each point of an unstructured grid, which I import in
> > > >Paraview. If I want to calculate e.g. the entropy production in the
> > > >whole field I open the calculator and calculate it out of the field
> > > >values, e.g. density, pressure and with the constant undisturbed
> > > >(free-stream) values.
> > > >
> > > >I feel a bit dumb to type down the equation(s) every time (in this case
> > > >relative easy, but sometimes it can be pretty complicated to get all the
> > > >braces right), so I thought that maybe I could use the "import modules"
> > > >functionality to first write a module (.xml and .pvsm) which
> > > >incorporates my equation(s) and then "filter" my dataset with this
> > > >module.
> > > >
> > > >Is this the recommended way? How should I do it then? ... use the
> > > >vtkCalculator class, somehow?
> > > >The problem is that I am not very good at coding xml ... actually as an
> > > >engineer I seldom need to code with anything more complex than Fortran
> > > >or Matlab. So if someone out there has solved this type of "problem"
> > > >before, it would be nice to know how. (In a way I can emulate :-)
> > > >
> > > >
> > > >Thanks, Simone
> > > >
> > > >
> > > >
> > >  Hi Simone
> > >     I have been looking at how to do this also.  I do CFD and also would
> > > like to setup some startdard post processing in Paraview.
> > > I do not yet have any good solution though. Perhaps a TCL script that
> > > calls the calculator tool with different equations?
> > > Has anyone come up with a way to set this up?  If anyone has some TCL
> > > scripts that they use to do standard post processing could
> > > you post some examples for us?
> > >
> > >
> > > Thanks
> > >
> > > Dan
> > >
> > > -----------------------------------------
> > > Dan Goldstein
> > > Research Scientist
> > > NorthWest Research Associates, Inc.
> > > Colorado Research Associates Division
> > > Colorado, U.S.A.
> > > -----------------------------------------
> > >
> > >
> > > _______________________________________________
> > > ParaView mailing list
> > > ParaView@paraview.org
> > > http://www.paraview.org/mailman/listinfo/paraview
> > >
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> --
> Simone Crippa
> Research assistant, Dipl.-Ing.
> Royal Institute of Technology (KTH)
> Aeronautical and Vehicle Engineering
> Division of Aerodynamics
> Teknikringen 8
> SE-10044 Stockholm, Sweden
> +46 (0)8 790 6465
>
>
From imikejackson at gmail.com  Fri Jan 27 13:28:34 2006
From: imikejackson at gmail.com (Mike Jackson)
Date: Fri Jan 27 13:28:40 2006
Subject: [Paraview] Using HDF5 Datasets in Paraview.
Message-ID: <39B6F0A3-FCAC-4DB4-A96E-4C61503DA2A9@gmail.com>

I am building up some data sets and storing them in HDF5. The data  
sets are 256x256 32 bit floating point data that I would like to  
interpret as a grayscale image. There are 256 of these "slices"  
making a nice 256x256x256 volume. The data is all in Floating point  
values. Can Paraview display this type of data? Is there some sort of  
Attribute data that paraview looks for that I can append to each  
dataset to let Paraview better decode the data?

Thanks for any help.

--------
Mike Jackson
imikejackson <at> gmail <dot> com



From crippa at kth.se  Fri Jan 27 13:38:22 2006
From: crippa at kth.se (Simone Crippa)
Date: Fri Jan 27 13:38:32 2006
Subject: [Paraview] common calculations module
In-Reply-To: <a2ab21560601271024w72d448b6nd86eac80e8cb6b5c@mail.gmail.com>
References: <1138289024.10821.76.camel@localhost>
	<43DA3A6F.2000901@colorado.edu>
	<a2ab21560601270743t23d7a23fjcc9cb02fb8b94f2a@mail.gmail.com>
	<1138377727.10821.129.camel@localhost>
	<a2ab21560601270837o2301185bpb7895232d497d447@mail.gmail.com>
	<1138383179.10821.136.camel@localhost>
	<a2ab21560601271003w184fba10kf6d73dec80c65b5d@mail.gmail.com>
	<1138385186.10821.138.camel@localhost>
	<a2ab21560601271024w72d448b6nd86eac80e8cb6b5c@mail.gmail.com>
Message-ID: <1138387102.10821.148.camel@localhost>

Yep, that's it! 

This is not yet what Dan Goldstein and I first had in mind, but for now
it's good enough for me. 

It would still be nice though, to have a module/filter that enables
"standard" CFD calculations to be executed on the fly ... once I knew
how to write such a xml/pvsm file (where calculations are executed via a
button press), it wouldn't be a big problem to implement more complex
stuff like e.g. boundary layer feature extraction (thickness, momentum
thickness, ...).


Thanks a lot for the help so far!


Regards, Simone
   


On Fri, 2006-01-27 at 13:24 -0500, Berk Geveci wrote:
> Try changing
> 
> mydialog Create
> 
> to
> 
> mydialog Create $Application
> 
> -Berk
> 
> 
> On 1/27/06, Simone Crippa <crippa@kth.se> wrote:
> > On Fri, 2006-01-27 at 13:03 -0500, Berk Geveci wrote:
> > > Oops. Which version of ParaView are you using?
> > >
> >
> > paraview 2.2.0 built from source
> >
> >
> > > On 1/27/06, Simone Crippa <crippa@kth.se> wrote:
> > > > Hi,
> > > >
> > > > I tried to do the same as before, but this time I received an error:
> > > >
> > > >       * ErrorMessage
> > > >       * # Error or warning: There was a VTK Error in
> > > >         file: /usr/local/src/paraview-2.2.0/GUI/Widgets/vtkKWApplication.cxx (1300)
> > > >       *
> > > >       *     Script:
> > > >       * /[...]/test2.pvs
> > > >       *     Returned Error on line 4:
> > > >       *       Object named: mydialog, could not find requested method:
> > > >         Create
> > > >       * or the method was called with incorrect arguments.
> > > >       * ErrorMessage end
> > > >
> > > > Then I thought I might have forgot to paste something, so I checked and
> > > > ran again, but still an error:
> > > >
> > > >       * ErrorMessage
> > > >       * # Error or warning: There was a VTK Error in
> > > >         file: /usr/local/src/paraview-2.2.0/GUI/Widgets/vtkKWApplication.cxx (1300)
> > > >       *
> > > >       *     Script:
> > > >       * /[...]/test2.pvs
> > > >       *     Returned Error on line 1:
> > > >       *       mydialog: a vtk object with that name already exists.
> > > >       * ErrorMessage end
> > > >
> > > >
> > > >
> > > >
> > > > Regards, Simone
> > > >
> > > >
> > > >
> > > > On Fri, 2006-01-27 at 11:37 -0500, Berk Geveci wrote:
> > > > > Now you are getting fancy :-) Try the one below:
> > > > >
> > > > >
> > > > > vtkKWSimpleEntryDialog mydialog
> > > > > mydialog SetApplication $Application
> > > > > mydialog SetMasterWindow [$Application GetMainWindow]
> > > > > mydialog Create
> > > > > mydialog SetTitle "Enter value"
> > > > > mydialog SetText "Value for free-stream pressure:"
> > > > > mydialog Invoke
> > > > >
> > > > > set value [[[mydialog GetEntry] GetWidget] GetValue]
> > > > > mydialog Delete
> > > > >
> > > > > set EQUATION "RTData*7*$value"
> > > > >
> > > > > set kw(vtkTemp1) [$Application GetMainWindow]
> > > > >
> > > > > set calc [$kw(vtkTemp1) CreatePVSource Calculator]
> > > > > set calcWidget [$calc GetPVWidget {Equation}]
> > > > > $calcWidget SetFunctionLabel $EQUATION
> > > > >
> > > > >
> > > > > On 1/27/06, Simone Crippa <crippa@kth.se> wrote:
> > > > > > Thanks Berk, that's already very useful!
> > > > > >
> > > > > > Now how can I do it if I need to specify a certain value which differs
> > > > > > from array to array ... say a case constant such as free-stream
> > > > > > pressure.
> > > > > > That's why I thought of going through a module/filter, where one can
> > > > > > have an input field to specify a case constant ... say I have to
> > > > > > calculate pressure(local)/pressure(far-field).
> > > > > >
> > > > > >
> > > > > > Regards, Simone
> > > > > >
> > > > > >
> > > > > > On Fri, 2006-01-27 at 10:43 -0500, Berk Geveci wrote:
> > > > > > > Save the following to a .pvs file, change the equation, create your
> > > > > > > source, load the .pvs file. Of course, make sure that the names in the
> > > > > > > equation match the array names.
> > > > > > >
> > > > > > > set EQUATION {RTData*7}
> > > > > > >
> > > > > > > set kw(vtkTemp1) [$Application GetMainWindow]
> > > > > > >
> > > > > > > set calc [$kw(vtkTemp1) CreatePVSource Calculator]
> > > > > > > set calcWidget [$calc GetPVWidget {Equation}]
> > > > > > > $calcWidget SetFunctionLabel $EQUATION
> > > > > > >
> > > > > > >
> > > > > > > On 1/27/06, Daniel Goldstein <Daniel.E.Goldstein@colorado.edu> wrote:
> > > > > > > > Simone Crippa wrote:
> > > > > > > >
> > > > > > > > >Hi All,
> > > > > > > > >
> > > > > > > > >I am wondering what is the best way to implement in Paraview often
> > > > > > > > >recurring calculations ... maybe an example is better:
> > > > > > > > >
> > > > > > > > >I have to postprocess CFD data. My solver gives out pressure,
> > > > > > > > >density, ... for each point of an unstructured grid, which I import in
> > > > > > > > >Paraview. If I want to calculate e.g. the entropy production in the
> > > > > > > > >whole field I open the calculator and calculate it out of the field
> > > > > > > > >values, e.g. density, pressure and with the constant undisturbed
> > > > > > > > >(free-stream) values.
> > > > > > > > >
> > > > > > > > >I feel a bit dumb to type down the equation(s) every time (in this case
> > > > > > > > >relative easy, but sometimes it can be pretty complicated to get all the
> > > > > > > > >braces right), so I thought that maybe I could use the "import modules"
> > > > > > > > >functionality to first write a module (.xml and .pvsm) which
> > > > > > > > >incorporates my equation(s) and then "filter" my dataset with this
> > > > > > > > >module.
> > > > > > > > >
> > > > > > > > >Is this the recommended way? How should I do it then? ... use the
> > > > > > > > >vtkCalculator class, somehow?
> > > > > > > > >The problem is that I am not very good at coding xml ... actually as an
> > > > > > > > >engineer I seldom need to code with anything more complex than Fortran
> > > > > > > > >or Matlab. So if someone out there has solved this type of "problem"
> > > > > > > > >before, it would be nice to know how. (In a way I can emulate :-)
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >Thanks, Simone
> > > > > > > > >
> > > > > > > > >
> > > > > > > > >
> > > > > > > >  Hi Simone
> > > > > > > >     I have been looking at how to do this also.  I do CFD and also would
> > > > > > > > like to setup some startdard post processing in Paraview.
> > > > > > > > I do not yet have any good solution though. Perhaps a TCL script that
> > > > > > > > calls the calculator tool with different equations?
> > > > > > > > Has anyone come up with a way to set this up?  If anyone has some TCL
> > > > > > > > scripts that they use to do standard post processing could
> > > > > > > > you post some examples for us?
> > > > > > > >
> > > > > > > >
> > > > > > > > Thanks
> > > > > > > >
> > > > > > > > Dan
> > > > > > > >
> > > > > > > > -----------------------------------------
> > > > > > > > Dan Goldstein
> > > > > > > > Research Scientist
> > > > > > > > NorthWest Research Associates, Inc.
> > > > > > > > Colorado Research Associates Division
> > > > > > > > Colorado, U.S.A.
> > > > > > > > -----------------------------------------
> > > > > > > >
> > > > > > > >
> > > > > > > > _______________________________________________
> > > > > > > > ParaView mailing list
> > > > > > > > ParaView@paraview.org
> > > > > > > > http://www.paraview.org/mailman/listinfo/paraview
> > > > > > > >
> > > > > > > _______________________________________________
> > > > > > > ParaView mailing list
> > > > > > > ParaView@paraview.org
> > > > > > > http://www.paraview.org/mailman/listinfo/paraview
> > > > > > --
> > > > > > Simone Crippa
> > > > > > Research assistant, Dipl.-Ing.
> > > > > > Royal Institute of Technology (KTH)
> > > > > > Aeronautical and Vehicle Engineering
> > > > > > Division of Aerodynamics
> > > > > > Teknikringen 8
> > > > > > SE-10044 Stockholm, Sweden
> > > > > > +46 (0)8 790 6465
> > > > > >
> > > > > >
> > > > --
> > > > Simone Crippa
> > > > Research assistant, Dipl.-Ing.
> > > > Royal Institute of Technology (KTH)
> > > > Aeronautical and Vehicle Engineering
> > > > Division of Aerodynamics
> > > > Teknikringen 8
> > > > SE-10044 Stockholm, Sweden
> > > > +46 (0)8 790 6465
> > > >
> > > >
> > --
> > Simone Crippa
> > Research assistant, Dipl.-Ing.
> > Royal Institute of Technology (KTH)
> > Aeronautical and Vehicle Engineering
> > Division of Aerodynamics
> > Teknikringen 8
> > SE-10044 Stockholm, Sweden
> > +46 (0)8 790 6465
> >
> >
-- 
Simone Crippa
Research assistant, Dipl.-Ing.
Royal Institute of Technology (KTH)
Aeronautical and Vehicle Engineering
Division of Aerodynamics
Teknikringen 8
SE-10044 Stockholm, Sweden
+46 (0)8 790 6465

From berk.geveci at gmail.com  Fri Jan 27 13:57:12 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Jan 27 13:57:16 2006
Subject: [Paraview] Using HDF5 Datasets in Paraview.
In-Reply-To: <39B6F0A3-FCAC-4DB4-A96E-4C61503DA2A9@gmail.com>
References: <39B6F0A3-FCAC-4DB4-A96E-4C61503DA2A9@gmail.com>
Message-ID: <a2ab21560601271057j2cafb045gf7b9a64649d00023@mail.gmail.com>

ParaView can't do what you want out-of-box. Someone has to write a
special reader to do it. It would be very straightforward to write one
since ParaView already includes the hdf5 library.

On 1/27/06, Mike Jackson <imikejackson@gmail.com> wrote:
> I am building up some data sets and storing them in HDF5. The data
> sets are 256x256 32 bit floating point data that I would like to
> interpret as a grayscale image. There are 256 of these "slices"
> making a nice 256x256x256 volume. The data is all in Floating point
> values. Can Paraview display this type of data? Is there some sort of
> Attribute data that paraview looks for that I can append to each
> dataset to let Paraview better decode the data?
>
> Thanks for any help.
>
> --------
> Mike Jackson
> imikejackson <at> gmail <dot> com
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From randall.hand at gmail.com  Fri Jan 27 14:11:18 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Fri Jan 27 14:11:22 2006
Subject: [Paraview] Cross Product in the Calculator?
Message-ID: <b02264720601271111w12f4a4d3s263165fe679df963@mail.gmail.com>

Is there any way to perform a Cross Product between 2 vector fields?  I
can't seem to find it in the Calculator.

--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060127/c1ba0360/attachment.html
From amy.squillacote at kitware.com  Fri Jan 27 14:15:56 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Fri Jan 27 14:16:10 2006
Subject: [Paraview] Cross Product in the Calculator?
In-Reply-To: <b02264720601271111w12f4a4d3s263165fe679df963@mail.gmail.co
 m>
References: <b02264720601271111w12f4a4d3s263165fe679df963@mail.gmail.com>
Message-ID: <6.2.5.6.2.20060127141448.045184c0@kitware.com>

That functionality is not supported in the calculator.

- Amy

At 02:11 PM 1/27/2006, Randall Hand wrote:
>Is there any way to perform a Cross Product between 2 vector 
>fields?  I can't seem to find it in the Calculator.
>
>--
>Randall Hand
>Visualization Scientist,
>ERDC-MSRC Vicksburg, MS
>Homepage: <http://www.yeraze.com>http://www.yeraze.com
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060127/d7ec2459/attachment.htm
From max.staufer at gmx.net  Sun Jan 29 09:25:33 2006
From: max.staufer at gmx.net (Max Staufer)
Date: Sun Jan 29 09:28:08 2006
Subject: [Paraview] cgns via hdf5
Message-ID: <1138544733.4489.16.camel@pinguin>

Hi there,

  Im new to the list so I just post.

Im trying to get a cgns file into Paraview using the xdmf reader build
in, that should work because cgns can be used with HDF5 as the
underlying Format. But the code keeps telling it cant find the dataset.

Here are the outputs from h5ls and my xml file, maybe someone knows
whats wrong.


> /\ format                Dataset {15}
> /\ version               Dataset {33}
> /Base                    Group
> /Base/\ data             Dataset {2}
> /Base/Zone\ 1            Group
> /Base/Zone\ 1/\ data     Dataset {3, 3}
> /Base/Zone\ 1/GridCoordinates Group
> /Base/Zone\ 1/GridCoordinates/CoordinateX Group
> /Base/Zone\ 1/GridCoordinates/CoordinateX/\ data Dataset {21, 17, 9}
> /Base/Zone\ 1/GridCoordinates/CoordinateY Group
> /Base/Zone\ 1/GridCoordinates/CoordinateY/\ data Dataset {21, 17, 9}
> /Base/Zone\ 1/GridCoordinates/CoordinateZ Group
> /Base/Zone\ 1/GridCoordinates/CoordinateZ/\ data Dataset {21, 17, 9}
> /Base/Zone\ 1/ZoneType   Group
> /Base/Zone\ 1/ZoneType/\ data Dataset {10}
> /CGNSLibraryVersion      Group
> /CGNSLibraryVersion/\ data Dataset {1}
> 


> <?xml version="1.0" ?>
> <!DOCTYPE Xdmf SYSTEM "Xdmf.dtd" [
> <!ENTITY HeavyData "/home/max/cgns/UserGuideCodeV2/Fortran_code/grid.cgns">
> ]>
> 
> 
> <Domain Name="Zone1">
>    <Grid Name="BLOCK1">
>       <Topology Type="3DSMesh" Dimensions="21 17 9">
>           <Geometry Type="X Y Z">
>            <DataStructure Name="X" Type="Float" Dimensions="3213" Format="HDF">
>             grid.cgns:/Base/Zone\ 1/GridCoordinates/CoordinateX\ data
>            </DataStructure>
>            <DataStructure Name="Y" Type="Float" Dimensions="3213" Format="HDF">
>             grid.cgns:/Base/Zone\ 1/GridCoordinates/CoordinateY\ data
>            </DataStructure>
>            <DataStructure Name="Z" Type="Float" Dimensions="3213" Format="HDF">
>             grid.cgns:/Base/Zone\ 1/GridCoordinates/CoordinateZ\ data
>            </DataStructure>
>         </Geometry>
>       </Topology>
>     </Grid>
> </Domain>

cheers

Max 

From f.braennstroem at gmx.de  Sun Jan 29 14:18:43 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Sun Jan 29 13:18:44 2006
Subject: [Paraview] Re: display pressure on box
In-Reply-To: <a2ab21560601270630k30335579u27af95d48c3419a0@mail.gmail.com>
References: <20060127120516.GB6821@ddorf.de>
	<a2ab21560601270630k30335579u27af95d48c3419a0@mail.gmail.com>
Message-ID: <20060129191843.GA6705@ddorf.de>

Hi to both,

* On 27 Jan 2006 * Berk Geveci wrote:

> > E.g. I want to visualize the pressure data on a cubic
> > obstacle in a channel flow. Which filter do I have to use?
> > My idea was to create a box at the obstacle position and
> > 'map' the data on it, but I have no idea how!?
> 
> You need to either cut or clip the dataset with a box. Unfortunately,
> the cut filter (as it is in paraview) does not support box. Try
> clipping with a box or cutting with a few planes.

Thanks for your help! I will see what I use, the cut or
clip. It sounds like there exist a cut filter which supports
boxes in 'plain' vtk!?

Greetings!
Fabian

-- 
From rnelias at nacad.ufrj.br  Sun Jan 29 18:28:45 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Sun Jan 29 18:27:27 2006
Subject: RES: [Paraview] display pressure on box
In-Reply-To: <20060127120516.GB6821@ddorf.de>
Message-ID: <20060129222708.2BB7972783@mailhost.nacad.ufrj.br>


You can specify a box with 5 (or 6) quadrilateral elements using the nodes
that already exists in your model. I guess it would be easy to do.

Cheers

Renato N. Elias
===================================================
Researcher
High Performance Computing Center - NACAD/COPPE
Federal University of Rio de Janeiro, RJ -Brazil
http://www.nacad.ufrj.br/~rnelias
 

-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Fabian Braennstroem
Enviada em: sexta-feira, 27 de janeiro de 2006 10:05
Para: Paraview List
Assunto: [Paraview] display pressure on box

Hi,

until recently I always used ensight formatted data files with several
parts, so that I could use the 'Extract parts'
filter to display e.g. the pressure on a special boundary.

Now, when I use ensight files without parts or vtk data files, the structure
looks like:

# vtk DataFile Version 2.0
smc_2
BINARY
DATASET UNSTRUCTURED_GRID

I am obviously not able to extract any parts.

E.g. I want to visualize the pressure data on a cubic obstacle in a channel
flow. Which filter do I have to use?
My idea was to create a box at the obstacle position and 'map' the data on
it, but I have no idea how!?

Greetings!
Fabian
--
_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview

From clarke at arl.army.mil  Mon Jan 30 07:07:28 2006
From: clarke at arl.army.mil (Clarke, Jerry (Civ, ARL/CISD))
Date: Mon Jan 30 07:07:36 2006
Subject: [Paraview] Using HDF5 Datasets in Paraview.
References: <39B6F0A3-FCAC-4DB4-A96E-4C61503DA2A9@gmail.com>
	<a2ab21560601271057j2cafb045gf7b9a64649d00023@mail.gmail.com>
Message-ID: <D9A8D98DDC682044806D5B46AF5C11E2039A87@ARLABML01.DS.ARL.ARMY.MIL>


Mike,

You could use the XDMF reader that's built into ParaView. Basically, you write out some XML (MetaData) to describe what's in the HDF5 dataset.

http://www.arl.hpc.mil/ice (XDMF Overview)

-----Original Message-----
From:	paraview-bounces+clarke=arl.army.mil@paraview.org on behalf of Berk Geveci
Sent:	Fri 1/27/2006 1:57 PM
To:	Mike Jackson
Cc:	ParaView Mailing List
Subject:	Re: [Paraview] Using HDF5 Datasets in Paraview.

ParaView can't do what you want out-of-box. Someone has to write a
special reader to do it. It would be very straightforward to write one
since ParaView already includes the hdf5 library.

On 1/27/06, Mike Jackson <imikejackson@gmail.com> wrote:
> I am building up some data sets and storing them in HDF5. The data
> sets are 256x256 32 bit floating point data that I would like to
> interpret as a grayscale image. There are 256 of these "slices"
> making a nice 256x256x256 volume. The data is all in Floating point
> values. Can Paraview display this type of data? Is there some sort of
> Attribute data that paraview looks for that I can append to each
> dataset to let Paraview better decode the data?
>
> Thanks for any help.
>
> --------
> Mike Jackson
> imikejackson <at> gmail <dot> com
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From pivello at gmail.com  Mon Jan 30 07:42:56 2006
From: pivello at gmail.com (=?ISO-8859-1?Q?M=E1rcio_Ricardo_Pivello?=)
Date: Mon Jan 30 07:43:02 2006
Subject: [Paraview] gradient filter
Message-ID: <7d6158b80601300442o1469f835pf4a4a092b149961a@mail.gmail.com>

Hi, I'm using vtk 3.0 file format for input in paraview, but I can't get the
gradient filter active. Do I have to change the file format? If so, which
one?

TIA

M?rcio

--
M?rcio Ricardo Pivello
Mechanical Engineer, MSc.
LTCM and CFD Lab
Mechanical Engineering School
Federal University of Uberl?ndia
Uberl?ndia - MG - Brazil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060130/16fc537b/attachment.htm
From mail at christoph-moder.de  Tue Jan 31 04:19:42 2006
From: mail at christoph-moder.de (Christoph Moder)
Date: Tue Jan 31 04:17:44 2006
Subject: [Paraview] 3D: change of eye distance
Message-ID: <43DF2BAE.6050401@christoph-moder.de>

Hi!

When using Paraview with 3D glasses and zooming close to the object, it 
is difficult to maintain the 3D effect because the two images differ so 
much (looking at them is exhausting). I want to zoom in by changing the 
focal length, not the distance to the object. I have looked in the 
source code and found the file VTK/Rendering/vtkCamera.cxx with the 
statement "this->EyeAngle = 2.0". I have changed it to "= 0.5" which 
does help, but is it actually "the right way" or is there any official 
solution that I have overlooked (since I have only few experience with 
Paraview)?

Thanks,
Christoph
From Stephane.Montesino at hmg.inpg.fr  Tue Jan 31 06:53:23 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Tue Jan 31 06:53:40 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK XMLfiles.
Message-ID: <43DF4FB3.3050901@hmg.inpg.fr>

With Asci, all is OK except the size of my file.
So how to write my data array in binary with my fortran code.
Does anyone have some details ?

!    
******************************************************************************
!    ****                       subrout 
paraview_scalar                        ****
!    
******************************************************************************
!    Export 3D scalar data upon a Non uniform rectilinear Grid
!
!    n1m,n2m,n3m: size of the data and the grid
!    y1,y2,y3: coordinates
!    scal_data: data to write
!    name: name of the data
!
      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
!
      implicit none
!
      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
      CHARACTER(LEN=10)            ,INTENT(IN)::name
!
      integer::i,j,k,nfil
!
      nfil=41
      open(nfil,file=trim(name)//'.vtr')
      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
     &         ' byte_order="LittleEndian">'
      write(nfil,*)'  <RectilinearGrid WholeExtent=',
     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
      write(nfil,*)'    <Piece Extent=',
     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
      write(nfil,*)'      <Coordinates>'
      write(nfil,*)'        <DataArray type="Float32"',
     &                             ' Name="X_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(nfil,*) (y1(i),i=1,n1m)
      write(nfil,*)'        </DataArray>'
      write(nfil,*)'        <DataArray type="Float32"',
     &                             ' Name="Y_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(nfil,*) (y2(j),j=1,n2m)
      write(nfil,*)'        </DataArray>'
      write(nfil,*)'        <DataArray type="Float32"',
     &                             ' Name="Z_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(nfil,*) (y3(k),k=1,n3m)
      write(nfil,*)'        </DataArray>'
      write(nfil,*)'      </Coordinates>'
      write(nfil,*)'      <PointData Scalars="scalar">'
      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
     &                             ' type="Float32"',
     &                             ' NumberOfComponents="1"',
     &                             ' format="ascii">'
      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
      write(nfil,*)'        </DataArray>'
      write(nfil,*)'      </PointData>'
      write(nfil,*)'    </Piece>'
      write(nfil,*)'  </RectilinearGrid>'
      write(nfil,*)'</VTKFile>'
      close(nfil)
!
      return
      end

-- 
St?phane MONTESINO

Doctorant                       tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060131/9d9d23eb/Stephane.Montesino.vcf
From Stephen.Wornom at sophia.inria.fr  Tue Jan 31 07:56:09 2006
From: Stephen.Wornom at sophia.inria.fr (Stephen Wornom)
Date: Tue Jan 31 07:58:49 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF4FB3.3050901@hmg.inpg.fr>
References: <43DF4FB3.3050901@hmg.inpg.fr>
Message-ID: <43DF5E69.8050805@sophia.inria.fr>

St?phane Mont?sino wrote:

> With Asci, all is OK except the size of my file.
> So how to write my data array in binary with my fortran code.
> Does anyone have some details ?
>
> !    
> ****************************************************************************** 
>
> !    ****                       subrout 
> paraview_scalar                        ****
> !    
> ****************************************************************************** 
>
> !    Export 3D scalar data upon a Non uniform rectilinear Grid
> !
> !    n1m,n2m,n3m: size of the data and the grid
> !    y1,y2,y3: coordinates
> !    scal_data: data to write
> !    name: name of the data
> !
>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> !
>      implicit none
> !
>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>      CHARACTER(LEN=10)            ,INTENT(IN)::name
> !
>      integer::i,j,k,nfil
> !
>      nfil=41
>      open(nfil,file=trim(name)//'.vtr')

It is a good question. if want unformatted open as
open(nfil,file=trim(name)//'.vtr',FORM='UNFORMATTED')
and write files as
write(nfil)'<VTKFile type="RectilinearGrid" version="0.1"',
    &         ' byte_order="LittleEndian">'

But does UNFORMATTED=binary?
Can someone explain the difference between binary and UNFORMATTED?
Stephen


>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>     &         ' byte_order="LittleEndian">'
>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>      write(nfil,*)'    <Piece Extent=',
>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>      write(nfil,*)'      <Coordinates>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="X_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y1(i),i=1,n1m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="Y_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y2(j),j=1,n2m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="Z_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y3(k),k=1,n3m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'      </Coordinates>'
>      write(nfil,*)'      <PointData Scalars="scalar">'
>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>     &                             ' type="Float32"',
>     &                             ' NumberOfComponents="1"',
>     &                             ' format="ascii">'
>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'      </PointData>'
>      write(nfil,*)'    </Piece>'
>      write(nfil,*)'  </RectilinearGrid>'
>      write(nfil,*)'</VTKFile>'
>      close(nfil)
> !
>      return
>      end
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

From tdubuis at scconsultants.com  Tue Jan 31 09:13:46 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Tue Jan 31 09:13:49 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF4FB3.3050901@hmg.inpg.fr>
References: <43DF4FB3.3050901@hmg.inpg.fr>
Message-ID: <43DF709A.5000907@scconsultants.com>

Hello St?phane,

perhaps this email can help you ?

Else if you want code directly your program in fortran :
1. You must encode all you data in Base64
2. And write them like a string.
3. don't forget to add the size of your data block (integer*4) encoded 
in base64 before you block.

Best regards,
Thierry Dubuis

-------- Original Message --------
Subject: 	Re: [Paraview] Writing binary files: C/Fortran interface to 
VTK XML files.
Date: 	Tue, 07 Jun 2005 10:06:51 -0400
From: 	Brad King <brad.king@kitware.com>
To: 	SamuelKey <samuelkey@comcast.net>
CC: 	paraview <paraview@paraview.org>, "Wylie, Brian" <bnwylie@sandia.gov>
References: 	<200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com> 
<42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>



SamuelKey wrote:
> Needing to have a C-compiler is not a problem for me; I have one.
> 
> Let me try to work with what you commit next week and see if I have
> any ideas. I will be gone all next week, so you won't hear from me
> until week after next. With luck you may hear from someone else
> that will help keep you busy, though I suspect "busy" is not a
> problem for you.

Okay, the C/Fortran interface is now available.  A C program can do

#include "vtkXMLWriterC.h"

and link to vtkIO.  A Fortran program can use the interface (see the 
example code below) but will need to compile one extra .c file to link 
properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.

-Brad

      PROGRAM Hello
      INTEGER writer
      INTEGER success
      INTEGER*8 numpoints/8/
      INTEGER*8 numcells/1/
      INTEGER*8 cellsSize/9/
      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
      call vtkXMLWriterF_New(writer)
      call vtkXMLWriterF_SetDataObjectType(writer, 4)
      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
     _                                    cellsSize)
      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
     _                                numpoints, 1, 'SCALARS')
      call vtkXMLWriterF_Write(writer, success)
      call vtkXMLWriterF_Delete(writer)
      PRINT *, 'success =', success
      END PROGRAM Hello
_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview




St?phane Mont?sino wrote:

> With Asci, all is OK except the size of my file.
> So how to write my data array in binary with my fortran code.
> Does anyone have some details ?
>
> !    
> ****************************************************************************** 
>
> !    ****                       subrout 
> paraview_scalar                        ****
> !    
> ****************************************************************************** 
>
> !    Export 3D scalar data upon a Non uniform rectilinear Grid
> !
> !    n1m,n2m,n3m: size of the data and the grid
> !    y1,y2,y3: coordinates
> !    scal_data: data to write
> !    name: name of the data
> !
>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> !
>      implicit none
> !
>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>      CHARACTER(LEN=10)            ,INTENT(IN)::name
> !
>      integer::i,j,k,nfil
> !
>      nfil=41
>      open(nfil,file=trim(name)//'.vtr')
>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>     &         ' byte_order="LittleEndian">'
>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>      write(nfil,*)'    <Piece Extent=',
>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>      write(nfil,*)'      <Coordinates>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="X_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y1(i),i=1,n1m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="Y_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y2(j),j=1,n2m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'        <DataArray type="Float32"',
>     &                             ' Name="Z_COORDINATES"',
>     &                             ' NumberOfComponents="1">'
>      write(nfil,*) (y3(k),k=1,n3m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'      </Coordinates>'
>      write(nfil,*)'      <PointData Scalars="scalar">'
>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>     &                             ' type="Float32"',
>     &                             ' NumberOfComponents="1"',
>     &                             ' format="ascii">'
>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>      write(nfil,*)'        </DataArray>'
>      write(nfil,*)'      </PointData>'
>      write(nfil,*)'    </Piece>'
>      write(nfil,*)'  </RectilinearGrid>'
>      write(nfil,*)'</VTKFile>'
>      close(nfil)
> !
>      return
>      end
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

From berk.geveci at gmail.com  Tue Jan 31 09:24:00 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Tue Jan 31 09:24:04 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF4FB3.3050901@hmg.inpg.fr>
References: <43DF4FB3.3050901@hmg.inpg.fr>
Message-ID: <a2ab21560601310624r74cc0e4fqaec31c16d6e5f1af@mail.gmail.com>

I don't know if you already tried it but there is a C interface for
writing XML files in VTK 5.0. Exporting this C interface to work with
fortran is simple. Look at:
VTK/IO/Testing/Cxx/TestXMLCInterface.c and
VTK/IO/Testing/Cxx/vtkFortran.h
for an example.

-Berk

On 1/31/06, St?phane Mont?sino <Stephane.Montesino@hmg.inpg.fr> wrote:
> With Asci, all is OK except the size of my file.
> So how to write my data array in binary with my fortran code.
> Does anyone have some details ?
>
> !
> ******************************************************************************
> !    ****                       subrout
> paraview_scalar                        ****
> !
> ******************************************************************************
> !    Export 3D scalar data upon a Non uniform rectilinear Grid
> !
> !    n1m,n2m,n3m: size of the data and the grid
> !    y1,y2,y3: coordinates
> !    scal_data: data to write
> !    name: name of the data
> !
>       subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> !
>       implicit none
> !
>       INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>       REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>       REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>       REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>       REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>       CHARACTER(LEN=10)            ,INTENT(IN)::name
> !
>       integer::i,j,k,nfil
> !
>       nfil=41
>       open(nfil,file=trim(name)//'.vtr')
>       write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>      &         ' byte_order="LittleEndian">'
>       write(nfil,*)'  <RectilinearGrid WholeExtent=',
>      &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>       write(nfil,*)'    <Piece Extent=',
>      &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>       write(nfil,*)'      <Coordinates>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="X_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y1(i),i=1,n1m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="Y_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y2(j),j=1,n2m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="Z_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y3(k),k=1,n3m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'      </Coordinates>'
>       write(nfil,*)'      <PointData Scalars="scalar">'
>       write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>      &                             ' type="Float32"',
>      &                             ' NumberOfComponents="1"',
>      &                             ' format="ascii">'
>       write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'      </PointData>'
>       write(nfil,*)'    </Piece>'
>       write(nfil,*)'  </RectilinearGrid>'
>       write(nfil,*)'</VTKFile>'
>       close(nfil)
> !
>       return
>       end
>
> --
> St?phane MONTESINO
>
> Doctorant                       tel:+33 4 76 82 52 91
> LEGI                            fax:+33 4 76 82 70 22
> BP 53
> 38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
> France                          http://www.legi.hmg.inpg.fr
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
From brad.king at kitware.com  Tue Jan 31 09:26:27 2006
From: brad.king at kitware.com (Brad King)
Date: Tue Jan 31 09:26:29 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF4FB3.3050901@hmg.inpg.fr>
References: <43DF4FB3.3050901@hmg.inpg.fr>
Message-ID: <43DF7393.2030005@kitware.com>

St?phane Mont?sino wrote:
> With Asci, all is OK except the size of my file.
> So how to write my data array in binary with my fortran code.
> Does anyone have some details ?

Take a look at these links:

http://www.paraview.org/pipermail/paraview/2005-September/002004.html

http://www.vtk.org/cgi-bin/viewcvs.cgi/IO/vtkXMLWriterF.h?view=markup
http://www.vtk.org/cgi-bin/viewcvs.cgi/IO/vtkXMLWriterC.h?view=markup

-Brad
From joeri.wilms at aeolus-consulting.be  Tue Jan 31 11:09:44 2006
From: joeri.wilms at aeolus-consulting.be (Joeri Wilms)
Date: Tue Jan 31 11:10:04 2006
Subject: [Paraview] ''Insufficient disk space'' message while there is 200Gb
	free space
Message-ID: <43DF8BC8.2030709@aeolus-consulting.be>

Hello Paraview users,

one of the regular error messages I have while using Paraview is the 
following:

"There is insufficient disk space to save the images for this animation. 
The file(s) already written will be deleted"

--it is not true that there is no disk space
--there are no files already written to be deleted
--I encounter this message often when trying to write a series of images 
(.jpg .png) of a transient set of data to merge them later into one 
animation.
--I do have full write access to the directory I'm trying  write to. 
Paraview even has written previously a serie of images fro a very 
similar case.
--exiting Paraview en restarting does not solve the problem; rebooting 
the computer may help, but not always.

Anyone out there who recognises these symptoms? Any idea of what might 
cause this behaviour?

thanks in advance for your help,
kind regards,

Joeri,
Belgium


-- 
"Nobody trusts a computer simulation except the guy who did it,
and everybody trusts experimental data, except the guy who did it."

_________________________________________________________________________
ir. Joeri Wilms
CFD-consultant

Aeolus Consulting
tel. +32 16 20.46.65
fax. +32 16 20.46.65
mobile. +32 496 10.94.63
joeri.wilms@aeolus-consulting.be
BE 872.253.197
__________________________________________________________________________



From Yeraze.11960501 at bloglines.com  Tue Jan 31 11:19:46 2006
From: Yeraze.11960501 at bloglines.com (Yeraze.11960501@bloglines.com)
Date: Tue Jan 31 11:19:53 2006
Subject: [Paraview] ''Insufficient disk space'' message while there is
	200Gb free space
Message-ID: <1138724386.2167544409.26401.sendItem@bloglines.com>

Just a thought, but Windows or *nix?  

If *nix, quota?
--- joeri.wilms@aeolus-consulting.be
wrote:
Hello Paraview users,
> 
> one of the regular error messages I have
while using Paraview is the 
> following:
> 
> "There is insufficient disk
space to save the images for this animation. 
> The file(s) already written
will be deleted"
> 
> --it is not true that there is no disk space
> --there
are no files already written to be deleted
> --I encounter this message often
when trying to write a series of images 
> (.jpg .png) of a transient set
of data to merge them later into one 
> animation.
> --I do have full write
access to the directory I'm trying  write to. 
> Paraview even has written
previously a serie of images fro a very 
> similar case.
> --exiting Paraview
en restarting does not solve the problem; rebooting 
> the computer may help,
but not always.
> 
> Anyone out there who recognises these symptoms? Any
idea of what might 
> cause this behaviour?
> 
> thanks in advance for
your help,
> kind regards,
> 
> Joeri,
> Belgium
> 
> 
> -- 
> "Nobody
trusts a computer simulation except the guy who did it,
> and everybody trusts
experimental data, except the guy who did it."
> 
> _________________________________________________________________________

> ir. Joeri Wilms
> CFD-consultant
> 
> Aeolus Consulting
> tel. +32
16 20.46.65
> fax. +32 16 20.46.65
> mobile. +32 496 10.94.63
> joeri.wilms@aeolus-consulting.be

> BE 872.253.197
> __________________________________________________________________________

> 
> 
> 
> _______________________________________________
> ParaView
mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

> 
From berk.geveci at gmail.com  Tue Jan 31 11:42:12 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Tue Jan 31 11:42:17 2006
Subject: [Paraview] ''Insufficient disk space'' message while there is
	200Gb free space
In-Reply-To: <43DF8BC8.2030709@aeolus-consulting.be>
References: <43DF8BC8.2030709@aeolus-consulting.be>
Message-ID: <a2ab21560601310842i121e165cm58d64667cc79b6e9@mail.gmail.com>

It is possible that the writer is failing with another problem and is
reporting that error. Can this be reproduced easily?


On 1/31/06, Joeri Wilms <joeri.wilms@aeolus-consulting.be> wrote:
> Hello Paraview users,
>
> one of the regular error messages I have while using Paraview is the
> following:
>
> "There is insufficient disk space to save the images for this animation.
> The file(s) already written will be deleted"
>
> --it is not true that there is no disk space
> --there are no files already written to be deleted
> --I encounter this message often when trying to write a series of images
> (.jpg .png) of a transient set of data to merge them later into one
> animation.
> --I do have full write access to the directory I'm trying  write to.
> Paraview even has written previously a serie of images fro a very
> similar case.
> --exiting Paraview en restarting does not solve the problem; rebooting
> the computer may help, but not always.
>
> Anyone out there who recognises these symptoms? Any idea of what might
> cause this behaviour?
>
> thanks in advance for your help,
> kind regards,
>
> Joeri,
> Belgium
>
>
> --
> "Nobody trusts a computer simulation except the guy who did it,
> and everybody trusts experimental data, except the guy who did it."
>
> _________________________________________________________________________
> ir. Joeri Wilms
> CFD-consultant
>
> Aeolus Consulting
> tel. +32 16 20.46.65
> fax. +32 16 20.46.65
> mobile. +32 496 10.94.63
> joeri.wilms@aeolus-consulting.be
> BE 872.253.197
> __________________________________________________________________________
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From Stephane.Montesino at hmg.inpg.fr  Tue Jan 31 11:45:19 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Tue Jan 31 11:45:43 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF709A.5000907@scconsultants.com>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
Message-ID: <43DF941F.7030604@hmg.inpg.fr>

Thanks for all tese answers, but I 'm still like an an homosexual with a 
wonderfull girl. I don't know how to use it (sorry her).

In fact, I would like to directly write this type of file that I can 
obtain when I save my data with Paraview:

<?xml version="1.0"?>
<VTKFile type="RectilinearGrid" version="0.1" byte_order="LittleEndian" 
compressor="vtkZLibDataCompressor">
  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
    <Piece Extent="1 8 1 4 1 16">
      <PointData>
        <DataArray type="Float32" Name="pressure" format="appended" 
offset="0"           />
      </PointData>
      <CellData>
      </CellData>
      <Coordinates>
        <DataArray type="Float32" Name="X_COORDINATES" format="appended" 
offset="956"         />
        <DataArray type="Float32" Name="Y_COORDINATES" format="appended" 
offset="1036"        />
        <DataArray type="Float32" Name="Z_COORDINATES" format="appended" 
offset="1092"        />
      </Coordinates>
    </Piece>
  </RectilinearGrid>
  <AppendedData encoding="base64">
   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
  </AppendedData>
</VTKFile>

My knowledge are only reduces to Fluid mechanics.

 >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?   
<<<<<<<<<<<<<<<<<<<<<<

Link properly to vtkIO ? More details please.
 >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on 
the Computer where my CFD code run ?.
 I don't run my code on my own computer. It runs in Computing center 
where I can't install what I want.
 >>>>>>>>So I would like to obtain some fortran routine I could link 
myself  to my  CFD code  <<<<<<<<<<<<<<<<

When I try  to write binary data in a formatted file:
run-time error F6204: WRITE(pressure.vtr)
- unformatted I/O not consistent with OPEN options

When I try  to write formatted string in an unformatted file:
run-time error F6200: WRITE(pressure.vtr)
- formatted I/O not consistent with OPEN options

 >>>>>>>>>>>>>>>>How to convert my data to a string ?   
<<<<<<<<<<<<<<<<<<<<<


The format for raw appended binary data should be

<AppendedData encoding="raw">
  _NNNN...........................
</AppendedData>

Where the underscore is literal (as you already have) and the NNNN is a
four-byte block containing an unsigned 32-bit count of the number of
"words" in the array.  A word is one value of the type of the array, so
in your case the NNNN would have the number of float values.  Then the
number of bytes of binary data to follow should be NNNN*sizeof(float).

If you have another appended data array in the same file then start it
immediately after the end of the first array (with no newline or any
other character.  Then specify in the offset="..." attribute for the
corresponding DataArray the number of bytes beyond the underscore where
the second array begins.

-Brad




Thierry Dubuis wrote:

> Hello St?phane,
>
> perhaps this email can help you ?
>
> Else if you want code directly your program in fortran :
> 1. You must encode all you data in Base64
> 2. And write them like a string.
> 3. don't forget to add the size of your data block (integer*4) encoded 
> in base64 before you block.
>
> Best regards,
> Thierry Dubuis
>
> -------- Original Message --------
> Subject:     Re: [Paraview] Writing binary files: C/Fortran interface 
> to VTK XML files.
> Date:     Tue, 07 Jun 2005 10:06:51 -0400
> From:     Brad King <brad.king@kitware.com>
> To:     SamuelKey <samuelkey@comcast.net>
> CC:     paraview <paraview@paraview.org>, "Wylie, Brian" 
> <bnwylie@sandia.gov>
> References:     
> <200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com> 
> <42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>
>
>
> SamuelKey wrote:
>
>> Needing to have a C-compiler is not a problem for me; I have one.
>>
>> Let me try to work with what you commit next week and see if I have
>> any ideas. I will be gone all next week, so you won't hear from me
>> until week after next. With luck you may hear from someone else
>> that will help keep you busy, though I suspect "busy" is not a
>> problem for you.
>
>
> Okay, the C/Fortran interface is now available.  A C program can do
>
> #include "vtkXMLWriterC.h"
>
> and link to vtkIO.  A Fortran program can use the interface (see the 
> example code below) but will need to compile one extra .c file to link 
> properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>
> -Brad
>
>      PROGRAM Hello
>      INTEGER writer
>      INTEGER success
>      INTEGER*8 numpoints/8/
>      INTEGER*8 numcells/1/
>      INTEGER*8 cellsSize/9/
>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>      call vtkXMLWriterF_New(writer)
>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>     _                                    cellsSize)
>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>     _                                numpoints, 1, 'SCALARS')
>      call vtkXMLWriterF_Write(writer, success)
>      call vtkXMLWriterF_Delete(writer)
>      PRINT *, 'success =', success
>      END PROGRAM Hello
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
> St?phane Mont?sino wrote:
>
>> With Asci, all is OK except the size of my file.
>> So how to write my data array in binary with my fortran code.
>> Does anyone have some details ?
>>
>> !    
>> ****************************************************************************** 
>>
>> !    ****                       subrout 
>> paraview_scalar                        ****
>> !    
>> ****************************************************************************** 
>>
>> !    Export 3D scalar data upon a Non uniform rectilinear Grid
>> !
>> !    n1m,n2m,n3m: size of the data and the grid
>> !    y1,y2,y3: coordinates
>> !    scal_data: data to write
>> !    name: name of the data
>> !
>>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>> !
>>      implicit none
>> !
>>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>      CHARACTER(LEN=10)            ,INTENT(IN)::name
>> !
>>      integer::i,j,k,nfil
>> !
>>      nfil=41
>>      open(nfil,file=trim(name)//'.vtr')
>>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>     &         ' byte_order="LittleEndian">'
>>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>      write(nfil,*)'    <Piece Extent=',
>>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>      write(nfil,*)'      <Coordinates>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="X_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y1(i),i=1,n1m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="Y_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y2(j),j=1,n2m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="Z_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y3(k),k=1,n3m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'      </Coordinates>'
>>      write(nfil,*)'      <PointData Scalars="scalar">'
>>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>     &                             ' type="Float32"',
>>     &                             ' NumberOfComponents="1"',
>>     &                             ' format="ascii">'
>>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'      </PointData>'
>>      write(nfil,*)'    </Piece>'
>>      write(nfil,*)'  </RectilinearGrid>'
>>      write(nfil,*)'</VTKFile>'
>>      close(nfil)
>> !
>>      return
>>      end
>>
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>>  
>>
>


-- 
St?phane MONTESINO

Doctorant                       tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060131/52237ad9/Stephane.Montesino.vcf
From dave.demarle at kitware.com  Tue Jan 31 12:22:24 2006
From: dave.demarle at kitware.com (David E DeMarle)
Date: Tue Jan 31 12:22:46 2006
Subject: [Paraview] ''Insufficient disk space'' message while there is
	200Gb free space
In-Reply-To: <a2ab21560601310842i121e165cm58d64667cc79b6e9@mail.gmail.com>
References: <43DF8BC8.2030709@aeolus-consulting.be>
	<a2ab21560601310842i121e165cm58d64667cc79b6e9@mail.gmail.com>
Message-ID: <43DF9CD0.5000801@kitware.com>


I've noticed the same thing recently. Berk is correct, no matter what 
causes the writer to fail, the error dialog is the same.

I will check in a fix so that the actual cause is displayed in the next 
day or so.

In the mean time, you may have to run paraview in a debugger or put 
print statements in the vtkAVIWriter or vtkMPEGWriter code to see what 
the causes the Write() call to fail.

hth,
Dave DeMarle

Berk Geveci wrote:

>It is possible that the writer is failing with another problem and is
>reporting that error. Can this be reproduced easily?
>
>
>On 1/31/06, Joeri Wilms <joeri.wilms@aeolus-consulting.be> wrote:
>  
>
>>Hello Paraview users,
>>
>>one of the regular error messages I have while using Paraview is the
>>following:
>>
>>"There is insufficient disk space to save the images for this animation.
>>The file(s) already written will be deleted"
>>
>>--it is not true that there is no disk space
>>--there are no files already written to be deleted
>>--I encounter this message often when trying to write a series of images
>>(.jpg .png) of a transient set of data to merge them later into one
>>animation.
>>--I do have full write access to the directory I'm trying  write to.
>>Paraview even has written previously a serie of images fro a very
>>similar case.
>>--exiting Paraview en restarting does not solve the problem; rebooting
>>the computer may help, but not always.
>>
>>Anyone out there who recognises these symptoms? Any idea of what might
>>cause this behaviour?
>>
>>thanks in advance for your help,
>>kind regards,
>>
>>Joeri,
>>Belgium
>>
>>
>>    
>>

From tdubuis at scconsultants.com  Tue Jan 31 12:32:35 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Tue Jan 31 12:33:10 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DF941F.7030604@hmg.inpg.fr>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr>
Message-ID: <43DF9F33.80309@scconsultants.com>

There are lot of encoding Base 64 program on the web but only in C, Java 
or Visual Basic.

If you can use C/C++ compiler, I thing the best way for you is to use 
the Brad King's fortran code example (see my last email).
To convert a data array to a string in C we use the memory copy in 
fortran I don't know.
Could you use pointer? 2 pointer on the same memory adress
1. the fist with the real*8 type
2. the second with a character type

Try in this way.

Best regards,
Thierry Dubuis

St?phane Mont?sino wrote:

> Thanks for all tese answers, but I 'm still like an an homosexual with 
> a wonderfull girl. I don't know how to use it (sorry her).
>
> In fact, I would like to directly write this type of file that I can 
> obtain when I save my data with Paraview:
>
> <?xml version="1.0"?>
> <VTKFile type="RectilinearGrid" version="0.1" 
> byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
>    <Piece Extent="1 8 1 4 1 16">
>      <PointData>
>        <DataArray type="Float32" Name="pressure" format="appended" 
> offset="0"           />
>      </PointData>
>      <CellData>
>      </CellData>
>      <Coordinates>
>        <DataArray type="Float32" Name="X_COORDINATES" 
> format="appended" offset="956"         />
>        <DataArray type="Float32" Name="Y_COORDINATES" 
> format="appended" offset="1036"        />
>        <DataArray type="Float32" Name="Z_COORDINATES" 
> format="appended" offset="1092"        />
>      </Coordinates>
>    </Piece>
>  </RectilinearGrid>
>  <AppendedData encoding="base64">
>   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>  </AppendedData>
> </VTKFile>
>
> My knowledge are only reduces to Fluid mechanics.
>
> >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?   
> <<<<<<<<<<<<<<<<<<<<<<
>
> Link properly to vtkIO ? More details please.
> >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on 
> the Computer where my CFD code run ?.
> I don't run my code on my own computer. It runs in Computing center 
> where I can't install what I want.
> >>>>>>>>So I would like to obtain some fortran routine I could link 
> myself  to my  CFD code  <<<<<<<<<<<<<<<<
>
> When I try  to write binary data in a formatted file:
> run-time error F6204: WRITE(pressure.vtr)
> - unformatted I/O not consistent with OPEN options
>
> When I try  to write formatted string in an unformatted file:
> run-time error F6200: WRITE(pressure.vtr)
> - formatted I/O not consistent with OPEN options
>
> >>>>>>>>>>>>>>>>How to convert my data to a string ?   
> <<<<<<<<<<<<<<<<<<<<<
>
>
> The format for raw appended binary data should be
>
> <AppendedData encoding="raw">
>  _NNNN...........................
> </AppendedData>
>
> Where the underscore is literal (as you already have) and the NNNN is a
> four-byte block containing an unsigned 32-bit count of the number of
> "words" in the array.  A word is one value of the type of the array, so
> in your case the NNNN would have the number of float values.  Then the
> number of bytes of binary data to follow should be NNNN*sizeof(float).
>
> If you have another appended data array in the same file then start it
> immediately after the end of the first array (with no newline or any
> other character.  Then specify in the offset="..." attribute for the
> corresponding DataArray the number of bytes beyond the underscore where
> the second array begins.
>
> -Brad
>
>
>
>
> Thierry Dubuis wrote:
>
>> Hello St?phane,
>>
>> perhaps this email can help you ?
>>
>> Else if you want code directly your program in fortran :
>> 1. You must encode all you data in Base64
>> 2. And write them like a string.
>> 3. don't forget to add the size of your data block (integer*4) 
>> encoded in base64 before you block.
>>
>> Best regards,
>> Thierry Dubuis
>>
>> -------- Original Message --------
>> Subject:     Re: [Paraview] Writing binary files: C/Fortran interface 
>> to VTK XML files.
>> Date:     Tue, 07 Jun 2005 10:06:51 -0400
>> From:     Brad King <brad.king@kitware.com>
>> To:     SamuelKey <samuelkey@comcast.net>
>> CC:     paraview <paraview@paraview.org>, "Wylie, Brian" 
>> <bnwylie@sandia.gov>
>> References:     
>> <200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com> 
>> <42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>
>>
>>
>> SamuelKey wrote:
>>
>>> Needing to have a C-compiler is not a problem for me; I have one.
>>>
>>> Let me try to work with what you commit next week and see if I have
>>> any ideas. I will be gone all next week, so you won't hear from me
>>> until week after next. With luck you may hear from someone else
>>> that will help keep you busy, though I suspect "busy" is not a
>>> problem for you.
>>
>>
>>
>> Okay, the C/Fortran interface is now available.  A C program can do
>>
>> #include "vtkXMLWriterC.h"
>>
>> and link to vtkIO.  A Fortran program can use the interface (see the 
>> example code below) but will need to compile one extra .c file to 
>> link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>
>> -Brad
>>
>>      PROGRAM Hello
>>      INTEGER writer
>>      INTEGER success
>>      INTEGER*8 numpoints/8/
>>      INTEGER*8 numcells/1/
>>      INTEGER*8 cellsSize/9/
>>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>      call vtkXMLWriterF_New(writer)
>>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>     _                                    cellsSize)
>>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>     _                                numpoints, 1, 'SCALARS')
>>      call vtkXMLWriterF_Write(writer, success)
>>      call vtkXMLWriterF_Delete(writer)
>>      PRINT *, 'success =', success
>>      END PROGRAM Hello
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>
>> St?phane Mont?sino wrote:
>>
>>> With Asci, all is OK except the size of my file.
>>> So how to write my data array in binary with my fortran code.
>>> Does anyone have some details ?
>>>
>>> !    
>>> ****************************************************************************** 
>>>
>>> !    ****                       subrout 
>>> paraview_scalar                        ****
>>> !    
>>> ****************************************************************************** 
>>>
>>> !    Export 3D scalar data upon a Non uniform rectilinear Grid
>>> !
>>> !    n1m,n2m,n3m: size of the data and the grid
>>> !    y1,y2,y3: coordinates
>>> !    scal_data: data to write
>>> !    name: name of the data
>>> !
>>>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>> !
>>>      implicit none
>>> !
>>>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>      CHARACTER(LEN=10)            ,INTENT(IN)::name
>>> !
>>>      integer::i,j,k,nfil
>>> !
>>>      nfil=41
>>>      open(nfil,file=trim(name)//'.vtr')
>>>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>     &         ' byte_order="LittleEndian">'
>>>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>      write(nfil,*)'    <Piece Extent=',
>>>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>      write(nfil,*)'      <Coordinates>'
>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>     &                             ' Name="X_COORDINATES"',
>>>     &                             ' NumberOfComponents="1">'
>>>      write(nfil,*) (y1(i),i=1,n1m)
>>>      write(nfil,*)'        </DataArray>'
>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>     &                             ' Name="Y_COORDINATES"',
>>>     &                             ' NumberOfComponents="1">'
>>>      write(nfil,*) (y2(j),j=1,n2m)
>>>      write(nfil,*)'        </DataArray>'
>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>     &                             ' Name="Z_COORDINATES"',
>>>     &                             ' NumberOfComponents="1">'
>>>      write(nfil,*) (y3(k),k=1,n3m)
>>>      write(nfil,*)'        </DataArray>'
>>>      write(nfil,*)'      </Coordinates>'
>>>      write(nfil,*)'      <PointData Scalars="scalar">'
>>>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>     &                             ' type="Float32"',
>>>     &                             ' NumberOfComponents="1"',
>>>     &                             ' format="ascii">'
>>>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>      write(nfil,*)'        </DataArray>'
>>>      write(nfil,*)'      </PointData>'
>>>      write(nfil,*)'    </Piece>'
>>>      write(nfil,*)'  </RectilinearGrid>'
>>>      write(nfil,*)'</VTKFile>'
>>>      close(nfil)
>>> !
>>>      return
>>>      end
>>>
>>> _______________________________________________
>>> ParaView mailing list
>>> ParaView@paraview.org
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>  
>>>
>>
>
>


-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

From mathieu.malaterre at kitware.com  Tue Jan 31 12:36:20 2006
From: mathieu.malaterre at kitware.com (Mathieu Malaterre)
Date: Tue Jan 31 12:41:35 2006
Subject: [Paraview] ''Insufficient disk space'' message while there is
	200Gb free space
In-Reply-To: <43DF9CD0.5000801@kitware.com>
References: <43DF8BC8.2030709@aeolus-consulting.be>	<a2ab21560601310842i121e165cm58d64667cc79b6e9@mail.gmail.com>
	<43DF9CD0.5000801@kitware.com>
Message-ID: <43DFA014.5010002@kitware.com>

Or do a grep for "There is insufficient disk space to save the 
images..." and replace it with
vtkErrorCode::GetLastSystemError() this should help you find the problem.

2 cents,
Mathieu

David E DeMarle wrote:
> 
> I've noticed the same thing recently. Berk is correct, no matter what 
> causes the writer to fail, the error dialog is the same.
> 
> I will check in a fix so that the actual cause is displayed in the next 
> day or so.
> 
> In the mean time, you may have to run paraview in a debugger or put 
> print statements in the vtkAVIWriter or vtkMPEGWriter code to see what 
> the causes the Write() call to fail.
> 
> hth,
> Dave DeMarle
> 
> Berk Geveci wrote:
> 
>> It is possible that the writer is failing with another problem and is
>> reporting that error. Can this be reproduced easily?
>>
>>
>> On 1/31/06, Joeri Wilms <joeri.wilms@aeolus-consulting.be> wrote:
>>  
>>
>>> Hello Paraview users,
>>>
>>> one of the regular error messages I have while using Paraview is the
>>> following:
>>>
>>> "There is insufficient disk space to save the images for this animation.
>>> The file(s) already written will be deleted"
>>>
>>> --it is not true that there is no disk space
>>> --there are no files already written to be deleted
>>> --I encounter this message often when trying to write a series of images
>>> (.jpg .png) of a transient set of data to merge them later into one
>>> animation.
>>> --I do have full write access to the directory I'm trying  write to.
>>> Paraview even has written previously a serie of images fro a very
>>> similar case.
>>> --exiting Paraview en restarting does not solve the problem; rebooting
>>> the computer may help, but not always.
>>>
>>> Anyone out there who recognises these symptoms? Any idea of what might
>>> cause this behaviour?
>>>
>>> thanks in advance for your help,
>>> kind regards,
>>>
>>> Joeri,
>>> Belgium
>>>
>>>
>>>   
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 

From domi at vision.ee.ethz.ch  Tue Jan 31 13:57:47 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan 31 13:57:54 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to
	VTK	XMLfiles.
In-Reply-To: <43DF9F33.80309@scconsultants.com>
References: <43DF4FB3.3050901@hmg.inpg.fr>
	<43DF709A.5000907@scconsultants.com>	<43DF941F.7030604@hmg.inpg.fr>
	<43DF9F33.80309@scconsultants.com>
Message-ID: <43DFB32B.60208@vision.ee.ethz.ch>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Sorry to interupt your discussion but nobody ever explained me this: why
use base64 encoding at all? Isint it a step back to huge ASCII files??
E.g. I see no significant compression with the VTK's zlib compressor
when using XML data files because the compressed stream is converted to
ASCII. Will someone kindly explain me this paradox?
Thanks
Dominik

Thierry Dubuis wrote:
> There are lot of encoding Base 64 program on the web but only in C, Java
> or Visual Basic.
> 
> If you can use C/C++ compiler, I thing the best way for you is to use
> the Brad King's fortran code example (see my last email).
> To convert a data array to a string in C we use the memory copy in
> fortran I don't know.
> Could you use pointer? 2 pointer on the same memory adress
> 1. the fist with the real*8 type
> 2. the second with a character type
> 
> Try in this way.
> 
> Best regards,
> Thierry Dubuis
> 
> St?phane Mont?sino wrote:
> 
>> Thanks for all tese answers, but I 'm still like an an homosexual with
>> a wonderfull girl. I don't know how to use it (sorry her).
>>
>> In fact, I would like to directly write this type of file that I can
>> obtain when I save my data with Paraview:
>>
>> <?xml version="1.0"?>
>> <VTKFile type="RectilinearGrid" version="0.1"
>> byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>    <Piece Extent="1 8 1 4 1 16">
>>      <PointData>
>>        <DataArray type="Float32" Name="pressure" format="appended"
>> offset="0"           />
>>      </PointData>
>>      <CellData>
>>      </CellData>
>>      <Coordinates>
>>        <DataArray type="Float32" Name="X_COORDINATES"
>> format="appended" offset="956"         />
>>        <DataArray type="Float32" Name="Y_COORDINATES"
>> format="appended" offset="1036"        />
>>        <DataArray type="Float32" Name="Z_COORDINATES"
>> format="appended" offset="1092"        />
>>      </Coordinates>
>>    </Piece>
>>  </RectilinearGrid>
>>  <AppendedData encoding="base64">
>>   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>  </AppendedData>
>> </VTKFile>
>>
>> My knowledge are only reduces to Fluid mechanics.
>>
>> >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?  
>> <<<<<<<<<<<<<<<<<<<<<<
>>
>> Link properly to vtkIO ? More details please.
>> >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on
>> the Computer where my CFD code run ?.
>> I don't run my code on my own computer. It runs in Computing center
>> where I can't install what I want.
>> >>>>>>>>So I would like to obtain some fortran routine I could link
>> myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>
>> When I try  to write binary data in a formatted file:
>> run-time error F6204: WRITE(pressure.vtr)
>> - unformatted I/O not consistent with OPEN options
>>
>> When I try  to write formatted string in an unformatted file:
>> run-time error F6200: WRITE(pressure.vtr)
>> - formatted I/O not consistent with OPEN options
>>
>> >>>>>>>>>>>>>>>>How to convert my data to a string ?  
>> <<<<<<<<<<<<<<<<<<<<<
>>
>>
>> The format for raw appended binary data should be
>>
>> <AppendedData encoding="raw">
>>  _NNNN...........................
>> </AppendedData>
>>
>> Where the underscore is literal (as you already have) and the NNNN is a
>> four-byte block containing an unsigned 32-bit count of the number of
>> "words" in the array.  A word is one value of the type of the array, so
>> in your case the NNNN would have the number of float values.  Then the
>> number of bytes of binary data to follow should be NNNN*sizeof(float).
>>
>> If you have another appended data array in the same file then start it
>> immediately after the end of the first array (with no newline or any
>> other character.  Then specify in the offset="..." attribute for the
>> corresponding DataArray the number of bytes beyond the underscore where
>> the second array begins.
>>
>> -Brad
>>
>>
>>
>>
>> Thierry Dubuis wrote:
>>
>>> Hello St?phane,
>>>
>>> perhaps this email can help you ?
>>>
>>> Else if you want code directly your program in fortran :
>>> 1. You must encode all you data in Base64
>>> 2. And write them like a string.
>>> 3. don't forget to add the size of your data block (integer*4)
>>> encoded in base64 before you block.
>>>
>>> Best regards,
>>> Thierry Dubuis
>>>
>>> -------- Original Message --------
>>> Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>> to VTK XML files.
>>> Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>> From:     Brad King <brad.king@kitware.com>
>>> To:     SamuelKey <samuelkey@comcast.net>
>>> CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>> <bnwylie@sandia.gov>
>>> References:    
>>> <200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>> <42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>
>>>
>>>
>>> SamuelKey wrote:
>>>
>>>> Needing to have a C-compiler is not a problem for me; I have one.
>>>>
>>>> Let me try to work with what you commit next week and see if I have
>>>> any ideas. I will be gone all next week, so you won't hear from me
>>>> until week after next. With luck you may hear from someone else
>>>> that will help keep you busy, though I suspect "busy" is not a
>>>> problem for you.
>>>
>>>
>>>
>>>
>>> Okay, the C/Fortran interface is now available.  A C program can do
>>>
>>> #include "vtkXMLWriterC.h"
>>>
>>> and link to vtkIO.  A Fortran program can use the interface (see the
>>> example code below) but will need to compile one extra .c file to
>>> link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>
>>> -Brad
>>>
>>>      PROGRAM Hello
>>>      INTEGER writer
>>>      INTEGER success
>>>      INTEGER*8 numpoints/8/
>>>      INTEGER*8 numcells/1/
>>>      INTEGER*8 cellsSize/9/
>>>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>      call vtkXMLWriterF_New(writer)
>>>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>     _                                    cellsSize)
>>>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>     _                                numpoints, 1, 'SCALARS')
>>>      call vtkXMLWriterF_Write(writer, success)
>>>      call vtkXMLWriterF_Delete(writer)
>>>      PRINT *, 'success =', success
>>>      END PROGRAM Hello
>>> _______________________________________________
>>> ParaView mailing list
>>> ParaView@paraview.org
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>>
>>>
>>> St?phane Mont?sino wrote:
>>>
>>>> With Asci, all is OK except the size of my file.
>>>> So how to write my data array in binary with my fortran code.
>>>> Does anyone have some details ?
>>>>
>>>> !   
>>>> ******************************************************************************
>>>>
>>>> !    ****                       subrout
>>>> paraview_scalar                        ****
>>>> !   
>>>> ******************************************************************************
>>>>
>>>> !    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>> !
>>>> !    n1m,n2m,n3m: size of the data and the grid
>>>> !    y1,y2,y3: coordinates
>>>> !    scal_data: data to write
>>>> !    name: name of the data
>>>> !
>>>>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>> !
>>>>      implicit none
>>>> !
>>>>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>      CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>> !
>>>>      integer::i,j,k,nfil
>>>> !
>>>>      nfil=41
>>>>      open(nfil,file=trim(name)//'.vtr')
>>>>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>     &         ' byte_order="LittleEndian">'
>>>>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>      write(nfil,*)'    <Piece Extent=',
>>>>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>      write(nfil,*)'      <Coordinates>'
>>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>>     &                             ' Name="X_COORDINATES"',
>>>>     &                             ' NumberOfComponents="1">'
>>>>      write(nfil,*) (y1(i),i=1,n1m)
>>>>      write(nfil,*)'        </DataArray>'
>>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>>     &                             ' Name="Y_COORDINATES"',
>>>>     &                             ' NumberOfComponents="1">'
>>>>      write(nfil,*) (y2(j),j=1,n2m)
>>>>      write(nfil,*)'        </DataArray>'
>>>>      write(nfil,*)'        <DataArray type="Float32"',
>>>>     &                             ' Name="Z_COORDINATES"',
>>>>     &                             ' NumberOfComponents="1">'
>>>>      write(nfil,*) (y3(k),k=1,n3m)
>>>>      write(nfil,*)'        </DataArray>'
>>>>      write(nfil,*)'      </Coordinates>'
>>>>      write(nfil,*)'      <PointData Scalars="scalar">'
>>>>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>     &                             ' type="Float32"',
>>>>     &                             ' NumberOfComponents="1"',
>>>>     &                             ' format="ascii">'
>>>>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>      write(nfil,*)'        </DataArray>'
>>>>      write(nfil,*)'      </PointData>'
>>>>      write(nfil,*)'    </Piece>'
>>>>      write(nfil,*)'  </RectilinearGrid>'
>>>>      write(nfil,*)'</VTKFile>'
>>>>      close(nfil)
>>>> !
>>>>      return
>>>>      end
>>>>
>>>> _______________________________________________
>>>> ParaView mailing list
>>>> ParaView@paraview.org
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>  
>>>>
>>>
>>
>>
> 
> 

- --
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFD37Mr/EBMh9bUuzIRAkZnAKCGBCUIdBVf5alZsH+2RqUC1pMmTgCfegH5
lfqHnv0KM0OeTLsoasaTOMU=
=kHFp
-----END PGP SIGNATURE-----
From berk.geveci at gmail.com  Tue Jan 31 14:24:50 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Tue Jan 31 14:24:56 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DFB32B.60208@vision.ee.ethz.ch>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>
	<43DFB32B.60208@vision.ee.ethz.ch>
Message-ID: <a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>

Base64 encoding is only necessary if you want your XML file to be
ASCII. This is necessary if you want the file to conform to XML so
that the file can be opened in XML viewers (like a browser). Also,
some people prefer transferring ASCII files instead of binary files.
If you are not interested in either of these, there is no need to have
base64 encoding. I would recommend not using it in fact. One of these
days I will change the default in paraview so that it does not write
base64 encoded files.


On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> -----BEGIN PGP SIGNED MESSAGE-----
> Hash: SHA1
>
> Sorry to interupt your discussion but nobody ever explained me this: why
> use base64 encoding at all? Isint it a step back to huge ASCII files??
> E.g. I see no significant compression with the VTK's zlib compressor
> when using XML data files because the compressed stream is converted to
> ASCII. Will someone kindly explain me this paradox?
> Thanks
> Dominik
>
> Thierry Dubuis wrote:
> > There are lot of encoding Base 64 program on the web but only in C, Java
> > or Visual Basic.
> >
> > If you can use C/C++ compiler, I thing the best way for you is to use
> > the Brad King's fortran code example (see my last email).
> > To convert a data array to a string in C we use the memory copy in
> > fortran I don't know.
> > Could you use pointer? 2 pointer on the same memory adress
> > 1. the fist with the real*8 type
> > 2. the second with a character type
> >
> > Try in this way.
> >
> > Best regards,
> > Thierry Dubuis
> >
> > St?phane Mont?sino wrote:
> >
> >> Thanks for all tese answers, but I 'm still like an an homosexual with
> >> a wonderfull girl. I don't know how to use it (sorry her).
> >>
> >> In fact, I would like to directly write this type of file that I can
> >> obtain when I save my data with Paraview:
> >>
> >> <?xml version="1.0"?>
> >> <VTKFile type="RectilinearGrid" version="0.1"
> >> byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
> >>  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
> >>    <Piece Extent="1 8 1 4 1 16">
> >>      <PointData>
> >>        <DataArray type="Float32" Name="pressure" format="appended"
> >> offset="0"           />
> >>      </PointData>
> >>      <CellData>
> >>      </CellData>
> >>      <Coordinates>
> >>        <DataArray type="Float32" Name="X_COORDINATES"
> >> format="appended" offset="956"         />
> >>        <DataArray type="Float32" Name="Y_COORDINATES"
> >> format="appended" offset="1036"        />
> >>        <DataArray type="Float32" Name="Z_COORDINATES"
> >> format="appended" offset="1092"        />
> >>      </Coordinates>
> >>    </Piece>
> >>  </RectilinearGrid>
> >>  <AppendedData encoding="base64">
> >>   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
> >>  </AppendedData>
> >> </VTKFile>
> >>
> >> My knowledge are only reduces to Fluid mechanics.
> >>
> >> >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> >> <<<<<<<<<<<<<<<<<<<<<<
> >>
> >> Link properly to vtkIO ? More details please.
> >> >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on
> >> the Computer where my CFD code run ?.
> >> I don't run my code on my own computer. It runs in Computing center
> >> where I can't install what I want.
> >> >>>>>>>>So I would like to obtain some fortran routine I could link
> >> myself  to my  CFD code  <<<<<<<<<<<<<<<<
> >>
> >> When I try  to write binary data in a formatted file:
> >> run-time error F6204: WRITE(pressure.vtr)
> >> - unformatted I/O not consistent with OPEN options
> >>
> >> When I try  to write formatted string in an unformatted file:
> >> run-time error F6200: WRITE(pressure.vtr)
> >> - formatted I/O not consistent with OPEN options
> >>
> >> >>>>>>>>>>>>>>>>How to convert my data to a string ?
> >> <<<<<<<<<<<<<<<<<<<<<
> >>
> >>
> >> The format for raw appended binary data should be
> >>
> >> <AppendedData encoding="raw">
> >>  _NNNN...........................
> >> </AppendedData>
> >>
> >> Where the underscore is literal (as you already have) and the NNNN is a
> >> four-byte block containing an unsigned 32-bit count of the number of
> >> "words" in the array.  A word is one value of the type of the array, so
> >> in your case the NNNN would have the number of float values.  Then the
> >> number of bytes of binary data to follow should be NNNN*sizeof(float).
> >>
> >> If you have another appended data array in the same file then start it
> >> immediately after the end of the first array (with no newline or any
> >> other character.  Then specify in the offset="..." attribute for the
> >> corresponding DataArray the number of bytes beyond the underscore where
> >> the second array begins.
> >>
> >> -Brad
> >>
> >>
> >>
> >>
> >> Thierry Dubuis wrote:
> >>
> >>> Hello St?phane,
> >>>
> >>> perhaps this email can help you ?
> >>>
> >>> Else if you want code directly your program in fortran :
> >>> 1. You must encode all you data in Base64
> >>> 2. And write them like a string.
> >>> 3. don't forget to add the size of your data block (integer*4)
> >>> encoded in base64 before you block.
> >>>
> >>> Best regards,
> >>> Thierry Dubuis
> >>>
> >>> -------- Original Message --------
> >>> Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
> >>> to VTK XML files.
> >>> Date:     Tue, 07 Jun 2005 10:06:51 -0400
> >>> From:     Brad King <brad.king@kitware.com>
> >>> To:     SamuelKey <samuelkey@comcast.net>
> >>> CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
> >>> <bnwylie@sandia.gov>
> >>> References:
> >>> <200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> >>> <42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
> >>>
> >>>
> >>>
> >>> SamuelKey wrote:
> >>>
> >>>> Needing to have a C-compiler is not a problem for me; I have one.
> >>>>
> >>>> Let me try to work with what you commit next week and see if I have
> >>>> any ideas. I will be gone all next week, so you won't hear from me
> >>>> until week after next. With luck you may hear from someone else
> >>>> that will help keep you busy, though I suspect "busy" is not a
> >>>> problem for you.
> >>>
> >>>
> >>>
> >>>
> >>> Okay, the C/Fortran interface is now available.  A C program can do
> >>>
> >>> #include "vtkXMLWriterC.h"
> >>>
> >>> and link to vtkIO.  A Fortran program can use the interface (see the
> >>> example code below) but will need to compile one extra .c file to
> >>> link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
> >>>
> >>> -Brad
> >>>
> >>>      PROGRAM Hello
> >>>      INTEGER writer
> >>>      INTEGER success
> >>>      INTEGER*8 numpoints/8/
> >>>      INTEGER*8 numcells/1/
> >>>      INTEGER*8 cellsSize/9/
> >>>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
> >>>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
> >>>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
> >>>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
> >>>      call vtkXMLWriterF_New(writer)
> >>>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
> >>>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
> >>>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
> >>>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
> >>>     _                                    cellsSize)
> >>>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
> >>>     _                                numpoints, 1, 'SCALARS')
> >>>      call vtkXMLWriterF_Write(writer, success)
> >>>      call vtkXMLWriterF_Delete(writer)
> >>>      PRINT *, 'success =', success
> >>>      END PROGRAM Hello
> >>> _______________________________________________
> >>> ParaView mailing list
> >>> ParaView@paraview.org
> >>> http://www.paraview.org/mailman/listinfo/paraview
> >>>
> >>>
> >>>
> >>>
> >>> St?phane Mont?sino wrote:
> >>>
> >>>> With Asci, all is OK except the size of my file.
> >>>> So how to write my data array in binary with my fortran code.
> >>>> Does anyone have some details ?
> >>>>
> >>>> !
> >>>> ******************************************************************************
> >>>>
> >>>> !    ****                       subrout
> >>>> paraview_scalar                        ****
> >>>> !
> >>>> ******************************************************************************
> >>>>
> >>>> !    Export 3D scalar data upon a Non uniform rectilinear Grid
> >>>> !
> >>>> !    n1m,n2m,n3m: size of the data and the grid
> >>>> !    y1,y2,y3: coordinates
> >>>> !    scal_data: data to write
> >>>> !    name: name of the data
> >>>> !
> >>>>      subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> >>>> !
> >>>>      implicit none
> >>>> !
> >>>>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >>>>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >>>>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >>>>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >>>>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >>>>      CHARACTER(LEN=10)            ,INTENT(IN)::name
> >>>> !
> >>>>      integer::i,j,k,nfil
> >>>> !
> >>>>      nfil=41
> >>>>      open(nfil,file=trim(name)//'.vtr')
> >>>>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >>>>     &         ' byte_order="LittleEndian">'
> >>>>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >>>>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>      write(nfil,*)'    <Piece Extent=',
> >>>>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>      write(nfil,*)'      <Coordinates>'
> >>>>      write(nfil,*)'        <DataArray type="Float32"',
> >>>>     &                             ' Name="X_COORDINATES"',
> >>>>     &                             ' NumberOfComponents="1">'
> >>>>      write(nfil,*) (y1(i),i=1,n1m)
> >>>>      write(nfil,*)'        </DataArray>'
> >>>>      write(nfil,*)'        <DataArray type="Float32"',
> >>>>     &                             ' Name="Y_COORDINATES"',
> >>>>     &                             ' NumberOfComponents="1">'
> >>>>      write(nfil,*) (y2(j),j=1,n2m)
> >>>>      write(nfil,*)'        </DataArray>'
> >>>>      write(nfil,*)'        <DataArray type="Float32"',
> >>>>     &                             ' Name="Z_COORDINATES"',
> >>>>     &                             ' NumberOfComponents="1">'
> >>>>      write(nfil,*) (y3(k),k=1,n3m)
> >>>>      write(nfil,*)'        </DataArray>'
> >>>>      write(nfil,*)'      </Coordinates>'
> >>>>      write(nfil,*)'      <PointData Scalars="scalar">'
> >>>>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >>>>     &                             ' type="Float32"',
> >>>>     &                             ' NumberOfComponents="1"',
> >>>>     &                             ' format="ascii">'
> >>>>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >>>>      write(nfil,*)'        </DataArray>'
> >>>>      write(nfil,*)'      </PointData>'
> >>>>      write(nfil,*)'    </Piece>'
> >>>>      write(nfil,*)'  </RectilinearGrid>'
> >>>>      write(nfil,*)'</VTKFile>'
> >>>>      close(nfil)
> >>>> !
> >>>>      return
> >>>>      end
> >>>>
> >>>> _______________________________________________
> >>>> ParaView mailing list
> >>>> ParaView@paraview.org
> >>>> http://www.paraview.org/mailman/listinfo/paraview
> >>>>
> >>>>
> >>>
> >>
> >>
> >
> >
>
> - --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.1 (GNU/Linux)
> Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org
>
> iD8DBQFD37Mr/EBMh9bUuzIRAkZnAKCGBCUIdBVf5alZsH+2RqUC1pMmTgCfegH5
> lfqHnv0KM0OeTLsoasaTOMU=
> =kHFp
> -----END PGP SIGNATURE-----
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From domi at vision.ee.ethz.ch  Tue Jan 31 14:39:08 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan 31 14:39:13 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr>
	<43DF709A.5000907@scconsultants.com>	
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>	
	<43DFB32B.60208@vision.ee.ethz.ch>
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
Message-ID: <43DFBCDC.8080900@vision.ee.ethz.ch>

I see the point. And yes, I want to stay far away from ASCII. So what
format would you recommend to STORE my results in a COMPRESSED way
maintaining readability with Paraview? Any binary legacy file I produce
takes gigabytes - crunched with gzip a fraction of it, but paraview
won't read it. ASCII is simply prohibitive, base64'ed with
zlibcompressor not much better. At the moment I store my results in my
own gzipped format, and convert them to VTK format on demand - but that
is pretty annoying.
regards,
--dsz

Berk Geveci wrote:
> Base64 encoding is only necessary if you want your XML file to be
> ASCII. This is necessary if you want the file to conform to XML so
> that the file can be opened in XML viewers (like a browser). Also,
> some people prefer transferring ASCII files instead of binary files.
> If you are not interested in either of these, there is no need to have
> base64 encoding. I would recommend not using it in fact. One of these
> days I will change the default in paraview so that it does not write
> base64 encoded files.
> 
> 
> On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> 
> Sorry to interupt your discussion but nobody ever explained me this: why
> use base64 encoding at all? Isint it a step back to huge ASCII files??
> E.g. I see no significant compression with the VTK's zlib compressor
> when using XML data files because the compressed stream is converted to
> ASCII. Will someone kindly explain me this paradox?
> Thanks
> Dominik
> 
> Thierry Dubuis wrote:
> 
>>There are lot of encoding Base 64 program on the web but only in C, Java
>>or Visual Basic.
> 
>>If you can use C/C++ compiler, I thing the best way for you is to use
>>the Brad King's fortran code example (see my last email).
>>To convert a data array to a string in C we use the memory copy in
>>fortran I don't know.
>>Could you use pointer? 2 pointer on the same memory adress
>>1. the fist with the real*8 type
>>2. the second with a character type
> 
>>Try in this way.
> 
>>Best regards,
>>Thierry Dubuis
> 
>>St?phane Mont?sino wrote:
> 
> 
>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>a wonderfull girl. I don't know how to use it (sorry her).
> 
>>>In fact, I would like to directly write this type of file that I can
>>>obtain when I save my data with Paraview:
> 
>>><?xml version="1.0"?>
>>><VTKFile type="RectilinearGrid" version="0.1"
>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>> <RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>   <Piece Extent="1 8 1 4 1 16">
>>>     <PointData>
>>>       <DataArray type="Float32" Name="pressure" format="appended"
>>>offset="0"           />
>>>     </PointData>
>>>     <CellData>
>>>     </CellData>
>>>     <Coordinates>
>>>       <DataArray type="Float32" Name="X_COORDINATES"
>>>format="appended" offset="956"         />
>>>       <DataArray type="Float32" Name="Y_COORDINATES"
>>>format="appended" offset="1036"        />
>>>       <DataArray type="Float32" Name="Z_COORDINATES"
>>>format="appended" offset="1092"        />
>>>     </Coordinates>
>>>   </Piece>
>>> </RectilinearGrid>
>>> <AppendedData encoding="base64">
>>>  _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>> </AppendedData>
>>></VTKFile>
> 
>>>My knowledge are only reduces to Fluid mechanics.
> 
> 
>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> 
>>><<<<<<<<<<<<<<<<<<<<<<
> 
>>>Link properly to vtkIO ? More details please.
> 
>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
> 
>>>the Computer where my CFD code run ?.
>>>I don't run my code on my own computer. It runs in Computing center
>>>where I can't install what I want.
> 
>>>>>>>>>>>So I would like to obtain some fortran routine I could link
> 
>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
> 
>>>When I try  to write binary data in a formatted file:
>>>run-time error F6204: WRITE(pressure.vtr)
>>>- unformatted I/O not consistent with OPEN options
> 
>>>When I try  to write formatted string in an unformatted file:
>>>run-time error F6200: WRITE(pressure.vtr)
>>>- formatted I/O not consistent with OPEN options
> 
> 
>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
> 
>>><<<<<<<<<<<<<<<<<<<<<
> 
> 
>>>The format for raw appended binary data should be
> 
>>><AppendedData encoding="raw">
>>> _NNNN...........................
>>></AppendedData>
> 
>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>four-byte block containing an unsigned 32-bit count of the number of
>>>"words" in the array.  A word is one value of the type of the array, so
>>>in your case the NNNN would have the number of float values.  Then the
>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
> 
>>>If you have another appended data array in the same file then start it
>>>immediately after the end of the first array (with no newline or any
>>>other character.  Then specify in the offset="..." attribute for the
>>>corresponding DataArray the number of bytes beyond the underscore where
>>>the second array begins.
> 
>>>-Brad
> 
> 
> 
> 
>>>Thierry Dubuis wrote:
> 
> 
>>>>Hello St?phane,
>>>>
>>>>perhaps this email can help you ?
>>>>
>>>>Else if you want code directly your program in fortran :
>>>>1. You must encode all you data in Base64
>>>>2. And write them like a string.
>>>>3. don't forget to add the size of your data block (integer*4)
>>>>encoded in base64 before you block.
>>>>
>>>>Best regards,
>>>>Thierry Dubuis
>>>>
>>>>-------- Original Message --------
>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>to VTK XML files.
>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>From:     Brad King <brad.king@kitware.com>
>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>><bnwylie@sandia.gov>
>>>>References:
>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>
>>>>
>>>>
>>>>SamuelKey wrote:
>>>>
>>>>
>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>
>>>>>Let me try to work with what you commit next week and see if I have
>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>until week after next. With luck you may hear from someone else
>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>problem for you.
>>>>
>>>>
>>>>
>>>>
>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>
>>>>#include "vtkXMLWriterC.h"
>>>>
>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>example code below) but will need to compile one extra .c file to
>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>
>>>>-Brad
>>>>
>>>>     PROGRAM Hello
>>>>     INTEGER writer
>>>>     INTEGER success
>>>>     INTEGER*8 numpoints/8/
>>>>     INTEGER*8 numcells/1/
>>>>     INTEGER*8 cellsSize/9/
>>>>     REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>     REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>    _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>     INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>     call vtkXMLWriterF_New(writer)
>>>>     call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>     call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>     call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>     call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>    _                                    cellsSize)
>>>>     call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>>    _                                numpoints, 1, 'SCALARS')
>>>>     call vtkXMLWriterF_Write(writer, success)
>>>>     call vtkXMLWriterF_Delete(writer)
>>>>     PRINT *, 'success =', success
>>>>     END PROGRAM Hello
>>>>_______________________________________________
>>>>ParaView mailing list
>>>>ParaView@paraview.org
>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>>
>>>>
>>>>St?phane Mont?sino wrote:
>>>>
>>>>
>>>>>With Asci, all is OK except the size of my file.
>>>>>So how to write my data array in binary with my fortran code.
>>>>>Does anyone have some details ?
>>>>>
>>>>>!
>>>>>******************************************************************************
>>>>>
>>>>>!    ****                       subrout
>>>>>paraview_scalar                        ****
>>>>>!
>>>>>******************************************************************************
>>>>>
>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>!
>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>!    y1,y2,y3: coordinates
>>>>>!    scal_data: data to write
>>>>>!    name: name of the data
>>>>>!
>>>>>     subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>>>!
>>>>>     implicit none
>>>>>!
>>>>>     INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>     REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>     REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>     REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>     REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>     CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>!
>>>>>     integer::i,j,k,nfil
>>>>>!
>>>>>     nfil=41
>>>>>     open(nfil,file=trim(name)//'.vtr')
>>>>>     write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>    &         ' byte_order="LittleEndian">'
>>>>>     write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>    &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>     write(nfil,*)'    <Piece Extent=',
>>>>>    &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>     write(nfil,*)'      <Coordinates>'
>>>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>>>    &                             ' Name="X_COORDINATES"',
>>>>>    &                             ' NumberOfComponents="1">'
>>>>>     write(nfil,*) (y1(i),i=1,n1m)
>>>>>     write(nfil,*)'        </DataArray>'
>>>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>>>    &                             ' Name="Y_COORDINATES"',
>>>>>    &                             ' NumberOfComponents="1">'
>>>>>     write(nfil,*) (y2(j),j=1,n2m)
>>>>>     write(nfil,*)'        </DataArray>'
>>>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>>>    &                             ' Name="Z_COORDINATES"',
>>>>>    &                             ' NumberOfComponents="1">'
>>>>>     write(nfil,*) (y3(k),k=1,n3m)
>>>>>     write(nfil,*)'        </DataArray>'
>>>>>     write(nfil,*)'      </Coordinates>'
>>>>>     write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>     write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>    &                             ' type="Float32"',
>>>>>    &                             ' NumberOfComponents="1"',
>>>>>    &                             ' format="ascii">'
>>>>>     write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>     write(nfil,*)'        </DataArray>'
>>>>>     write(nfil,*)'      </PointData>'
>>>>>     write(nfil,*)'    </Piece>'
>>>>>     write(nfil,*)'  </RectilinearGrid>'
>>>>>     write(nfil,*)'</VTKFile>'
>>>>>     close(nfil)
>>>>>!
>>>>>     return
>>>>>     end
>>>>>
>>>>>_______________________________________________
>>>>>ParaView mailing list
>>>>>ParaView@paraview.org
>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
> 
> 
> --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From berk.geveci at gmail.com  Tue Jan 31 15:11:04 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Tue Jan 31 15:11:08 2006
Subject: Fwd: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>
	<43DFB32B.60208@vision.ee.ethz.ch>
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
	<43DFBCDC.8080900@vision.ee.ethz.ch>
	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
Message-ID: <a2ab21560601311211s58f63bfejb9716e44af7703b9@mail.gmail.com>

---------- Forwarded message ----------
From: Berk Geveci <berk.geveci@gmail.com>
Date: Jan 31, 2006 3:10 PM
Subject: Re: [Paraview] Writing binary files: C/Fortran interface to
VTK XMLfiles.
To: Dominik Szczerba <domi@vision.ee.ethz.ch>


Why not go zlib compressed without base64 encoding? That's supported you know...

On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> I see the point. And yes, I want to stay far away from ASCII. So what
> format would you recommend to STORE my results in a COMPRESSED way
> maintaining readability with Paraview? Any binary legacy file I produce
> takes gigabytes - crunched with gzip a fraction of it, but paraview
> won't read it. ASCII is simply prohibitive, base64'ed with
> zlibcompressor not much better. At the moment I store my results in my
> own gzipped format, and convert them to VTK format on demand - but that
> is pretty annoying.
> regards,
> --dsz
>
> Berk Geveci wrote:
> > Base64 encoding is only necessary if you want your XML file to be
> > ASCII. This is necessary if you want the file to conform to XML so
> > that the file can be opened in XML viewers (like a browser). Also,
> > some people prefer transferring ASCII files instead of binary files.
> > If you are not interested in either of these, there is no need to have
> > base64 encoding. I would recommend not using it in fact. One of these
> > days I will change the default in paraview so that it does not write
> > base64 encoded files.
> >
> >
> > On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >
> > Sorry to interupt your discussion but nobody ever explained me this: why
> > use base64 encoding at all? Isint it a step back to huge ASCII files??
> > E.g. I see no significant compression with the VTK's zlib compressor
> > when using XML data files because the compressed stream is converted to
> > ASCII. Will someone kindly explain me this paradox?
> > Thanks
> > Dominik
> >
> > Thierry Dubuis wrote:
> >
> >>There are lot of encoding Base 64 program on the web but only in C, Java
> >>or Visual Basic.
> >
> >>If you can use C/C++ compiler, I thing the best way for you is to use
> >>the Brad King's fortran code example (see my last email).
> >>To convert a data array to a string in C we use the memory copy in
> >>fortran I don't know.
> >>Could you use pointer? 2 pointer on the same memory adress
> >>1. the fist with the real*8 type
> >>2. the second with a character type
> >
> >>Try in this way.
> >
> >>Best regards,
> >>Thierry Dubuis
> >
> >>St?phane Mont?sino wrote:
> >
> >
> >>>Thanks for all tese answers, but I 'm still like an an homosexual with
> >>>a wonderfull girl. I don't know how to use it (sorry her).
> >
> >>>In fact, I would like to directly write this type of file that I can
> >>>obtain when I save my data with Paraview:
> >
> >>><?xml version="1.0"?>
> >>><VTKFile type="RectilinearGrid" version="0.1"
> >>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
> >>> <RectilinearGrid WholeExtent="1 8 1 4 1 16">
> >>>   <Piece Extent="1 8 1 4 1 16">
> >>>     <PointData>
> >>>       <DataArray type="Float32" Name="pressure" format="appended"
> >>>offset="0"           />
> >>>     </PointData>
> >>>     <CellData>
> >>>     </CellData>
> >>>     <Coordinates>
> >>>       <DataArray type="Float32" Name="X_COORDINATES"
> >>>format="appended" offset="956"         />
> >>>       <DataArray type="Float32" Name="Y_COORDINATES"
> >>>format="appended" offset="1036"        />
> >>>       <DataArray type="Float32" Name="Z_COORDINATES"
> >>>format="appended" offset="1092"        />
> >>>     </Coordinates>
> >>>   </Piece>
> >>> </RectilinearGrid>
> >>> <AppendedData encoding="base64">
> >>>  _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
> >>> </AppendedData>
> >>></VTKFile>
> >
> >>>My knowledge are only reduces to Fluid mechanics.
> >
> >
> >>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> >
> >>><<<<<<<<<<<<<<<<<<<<<<
> >
> >>>Link properly to vtkIO ? More details please.
> >
> >>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
> >
> >>>the Computer where my CFD code run ?.
> >>>I don't run my code on my own computer. It runs in Computing center
> >>>where I can't install what I want.
> >
> >>>>>>>>>>>So I would like to obtain some fortran routine I could link
> >
> >>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
> >
> >>>When I try  to write binary data in a formatted file:
> >>>run-time error F6204: WRITE(pressure.vtr)
> >>>- unformatted I/O not consistent with OPEN options
> >
> >>>When I try  to write formatted string in an unformatted file:
> >>>run-time error F6200: WRITE(pressure.vtr)
> >>>- formatted I/O not consistent with OPEN options
> >
> >
> >>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
> >
> >>><<<<<<<<<<<<<<<<<<<<<
> >
> >
> >>>The format for raw appended binary data should be
> >
> >>><AppendedData encoding="raw">
> >>> _NNNN...........................
> >>></AppendedData>
> >
> >>>Where the underscore is literal (as you already have) and the NNNN is a
> >>>four-byte block containing an unsigned 32-bit count of the number of
> >>>"words" in the array.  A word is one value of the type of the array, so
> >>>in your case the NNNN would have the number of float values.  Then the
> >>>number of bytes of binary data to follow should be NNNN*sizeof(float).
> >
> >>>If you have another appended data array in the same file then start it
> >>>immediately after the end of the first array (with no newline or any
> >>>other character.  Then specify in the offset="..." attribute for the
> >>>corresponding DataArray the number of bytes beyond the underscore where
> >>>the second array begins.
> >
> >>>-Brad
> >
> >
> >
> >
> >>>Thierry Dubuis wrote:
> >
> >
> >>>>Hello St?phane,
> >>>>
> >>>>perhaps this email can help you ?
> >>>>
> >>>>Else if you want code directly your program in fortran :
> >>>>1. You must encode all you data in Base64
> >>>>2. And write them like a string.
> >>>>3. don't forget to add the size of your data block (integer*4)
> >>>>encoded in base64 before you block.
> >>>>
> >>>>Best regards,
> >>>>Thierry Dubuis
> >>>>
> >>>>-------- Original Message --------
> >>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
> >>>>to VTK XML files.
> >>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
> >>>>From:     Brad King <brad.king@kitware.com>
> >>>>To:     SamuelKey <samuelkey@comcast.net>
> >>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
> >>>><bnwylie@sandia.gov>
> >>>>References:
> >>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> >>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
> >>>>
> >>>>
> >>>>
> >>>>SamuelKey wrote:
> >>>>
> >>>>
> >>>>>Needing to have a C-compiler is not a problem for me; I have one.
> >>>>>
> >>>>>Let me try to work with what you commit next week and see if I have
> >>>>>any ideas. I will be gone all next week, so you won't hear from me
> >>>>>until week after next. With luck you may hear from someone else
> >>>>>that will help keep you busy, though I suspect "busy" is not a
> >>>>>problem for you.
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>Okay, the C/Fortran interface is now available.  A C program can do
> >>>>
> >>>>#include "vtkXMLWriterC.h"
> >>>>
> >>>>and link to vtkIO.  A Fortran program can use the interface (see the
> >>>>example code below) but will need to compile one extra .c file to
> >>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
> >>>>
> >>>>-Brad
> >>>>
> >>>>     PROGRAM Hello
> >>>>     INTEGER writer
> >>>>     INTEGER success
> >>>>     INTEGER*8 numpoints/8/
> >>>>     INTEGER*8 numcells/1/
> >>>>     INTEGER*8 cellsSize/9/
> >>>>     REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
> >>>>     REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
> >>>>    _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
> >>>>     INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
> >>>>     call vtkXMLWriterF_New(writer)
> >>>>     call vtkXMLWriterF_SetDataObjectType(writer, 4)
> >>>>     call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
> >>>>     call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
> >>>>     call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
> >>>>    _                                    cellsSize)
> >>>>     call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
> >>>>    _                                numpoints, 1, 'SCALARS')
> >>>>     call vtkXMLWriterF_Write(writer, success)
> >>>>     call vtkXMLWriterF_Delete(writer)
> >>>>     PRINT *, 'success =', success
> >>>>     END PROGRAM Hello
> >>>>_______________________________________________
> >>>>ParaView mailing list
> >>>>ParaView@paraview.org
> >>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>St?phane Mont?sino wrote:
> >>>>
> >>>>
> >>>>>With Asci, all is OK except the size of my file.
> >>>>>So how to write my data array in binary with my fortran code.
> >>>>>Does anyone have some details ?
> >>>>>
> >>>>>!
> >>>>>******************************************************************************
> >>>>>
> >>>>>!    ****                       subrout
> >>>>>paraview_scalar                        ****
> >>>>>!
> >>>>>******************************************************************************
> >>>>>
> >>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
> >>>>>!
> >>>>>!    n1m,n2m,n3m: size of the data and the grid
> >>>>>!    y1,y2,y3: coordinates
> >>>>>!    scal_data: data to write
> >>>>>!    name: name of the data
> >>>>>!
> >>>>>     subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> >>>>>!
> >>>>>     implicit none
> >>>>>!
> >>>>>     INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >>>>>     REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >>>>>     REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >>>>>     REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >>>>>     REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >>>>>     CHARACTER(LEN=10)            ,INTENT(IN)::name
> >>>>>!
> >>>>>     integer::i,j,k,nfil
> >>>>>!
> >>>>>     nfil=41
> >>>>>     open(nfil,file=trim(name)//'.vtr')
> >>>>>     write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >>>>>    &         ' byte_order="LittleEndian">'
> >>>>>     write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >>>>>    &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>     write(nfil,*)'    <Piece Extent=',
> >>>>>    &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>     write(nfil,*)'      <Coordinates>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="X_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y1(i),i=1,n1m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="Y_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y2(j),j=1,n2m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="Z_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y3(k),k=1,n3m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'      </Coordinates>'
> >>>>>     write(nfil,*)'      <PointData Scalars="scalar">'
> >>>>>     write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >>>>>    &                             ' type="Float32"',
> >>>>>    &                             ' NumberOfComponents="1"',
> >>>>>    &                             ' format="ascii">'
> >>>>>     write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'      </PointData>'
> >>>>>     write(nfil,*)'    </Piece>'
> >>>>>     write(nfil,*)'  </RectilinearGrid>'
> >>>>>     write(nfil,*)'</VTKFile>'
> >>>>>     close(nfil)
> >>>>>!
> >>>>>     return
> >>>>>     end
> >>>>>
> >>>>>_______________________________________________
> >>>>>ParaView mailing list
> >>>>>ParaView@paraview.org
> >>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>
> >>>>>
> >>>>
> >
> >
> > --
> > Dominik Szczerba, Dr.
> > Computer Vision Lab CH-8092 Zurich
> > http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
> --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From randall.hand at gmail.com  Tue Jan 31 15:13:43 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Tue Jan 31 15:13:46 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43DFBCDC.8080900@vision.ee.ethz.ch>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>
	<43DFB32B.60208@vision.ee.ethz.ch>
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
	<43DFBCDC.8080900@vision.ee.ethz.ch>
Message-ID: <b02264720601311213x302e0828n917f8a436e43c47f@mail.gmail.com>

It's got a bit of a learning curve, but have you thought about trying to
integrate HDF5 into your code?  It supports a whole heck of alot of
datatypes, and has built-in compression.  Couple it with Xdmf from ARL
(Write an HDF5 file & a simple ascii Metadata file) or Xmdf from ERDC (Just
write the HDF5 stuff into specially named fields) and it's pretty nice to
work with.

On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>
> I see the point. And yes, I want to stay far away from ASCII. So what
> format would you recommend to STORE my results in a COMPRESSED way
> maintaining readability with Paraview? Any binary legacy file I produce
> takes gigabytes - crunched with gzip a fraction of it, but paraview
> won't read it. ASCII is simply prohibitive, base64'ed with
> zlibcompressor not much better. At the moment I store my results in my
> own gzipped format, and convert them to VTK format on demand - but that
> is pretty annoying.
> regards,
> --dsz
>
> Berk Geveci wrote:
> > Base64 encoding is only necessary if you want your XML file to be
> > ASCII. This is necessary if you want the file to conform to XML so
> > that the file can be opened in XML viewers (like a browser). Also,
> > some people prefer transferring ASCII files instead of binary files.
> > If you are not interested in either of these, there is no need to have
> > base64 encoding. I would recommend not using it in fact. One of these
> > days I will change the default in paraview so that it does not write
> > base64 encoded files.
> >
> >
> > On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >
> > Sorry to interupt your discussion but nobody ever explained me this: why
> > use base64 encoding at all? Isint it a step back to huge ASCII files??
> > E.g. I see no significant compression with the VTK's zlib compressor
> > when using XML data files because the compressed stream is converted to
> > ASCII. Will someone kindly explain me this paradox?
> > Thanks
> > Dominik
> >
> > Thierry Dubuis wrote:
> >
> >>There are lot of encoding Base 64 program on the web but only in C, Java
> >>or Visual Basic.
> >
> >>If you can use C/C++ compiler, I thing the best way for you is to use
> >>the Brad King's fortran code example (see my last email).
> >>To convert a data array to a string in C we use the memory copy in
> >>fortran I don't know.
> >>Could you use pointer? 2 pointer on the same memory adress
> >>1. the fist with the real*8 type
> >>2. the second with a character type
> >
> >>Try in this way.
> >
> >>Best regards,
> >>Thierry Dubuis
> >
> >>St?phane Mont?sino wrote:
> >
> >
> >>>Thanks for all tese answers, but I 'm still like an an homosexual with
> >>>a wonderfull girl. I don't know how to use it (sorry her).
> >
> >>>In fact, I would like to directly write this type of file that I can
> >>>obtain when I save my data with Paraview:
> >
> >>><?xml version="1.0"?>
> >>><VTKFile type="RectilinearGrid" version="0.1"
> >>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
> >>> <RectilinearGrid WholeExtent="1 8 1 4 1 16">
> >>>   <Piece Extent="1 8 1 4 1 16">
> >>>     <PointData>
> >>>       <DataArray type="Float32" Name="pressure" format="appended"
> >>>offset="0"           />
> >>>     </PointData>
> >>>     <CellData>
> >>>     </CellData>
> >>>     <Coordinates>
> >>>       <DataArray type="Float32" Name="X_COORDINATES"
> >>>format="appended" offset="956"         />
> >>>       <DataArray type="Float32" Name="Y_COORDINATES"
> >>>format="appended" offset="1036"        />
> >>>       <DataArray type="Float32" Name="Z_COORDINATES"
> >>>format="appended" offset="1092"        />
> >>>     </Coordinates>
> >>>   </Piece>
> >>> </RectilinearGrid>
> >>> <AppendedData encoding="base64">
> >>>  _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
> >>> </AppendedData>
> >>></VTKFile>
> >
> >>>My knowledge are only reduces to Fluid mechanics.
> >
> >
> >>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> >
> >>><<<<<<<<<<<<<<<<<<<<<<
> >
> >>>Link properly to vtkIO ? More details please.
> >
> >>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
> >
> >>>the Computer where my CFD code run ?.
> >>>I don't run my code on my own computer. It runs in Computing center
> >>>where I can't install what I want.
> >
> >>>>>>>>>>>So I would like to obtain some fortran routine I could link
> >
> >>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
> >
> >>>When I try  to write binary data in a formatted file:
> >>>run-time error F6204: WRITE(pressure.vtr)
> >>>- unformatted I/O not consistent with OPEN options
> >
> >>>When I try  to write formatted string in an unformatted file:
> >>>run-time error F6200: WRITE(pressure.vtr)
> >>>- formatted I/O not consistent with OPEN options
> >
> >
> >>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
> >
> >>><<<<<<<<<<<<<<<<<<<<<
> >
> >
> >>>The format for raw appended binary data should be
> >
> >>><AppendedData encoding="raw">
> >>> _NNNN...........................
> >>></AppendedData>
> >
> >>>Where the underscore is literal (as you already have) and the NNNN is a
> >>>four-byte block containing an unsigned 32-bit count of the number of
> >>>"words" in the array.  A word is one value of the type of the array, so
> >>>in your case the NNNN would have the number of float values.  Then the
> >>>number of bytes of binary data to follow should be NNNN*sizeof(float).
> >
> >>>If you have another appended data array in the same file then start it
> >>>immediately after the end of the first array (with no newline or any
> >>>other character.  Then specify in the offset="..." attribute for the
> >>>corresponding DataArray the number of bytes beyond the underscore where
> >>>the second array begins.
> >
> >>>-Brad
> >
> >
> >
> >
> >>>Thierry Dubuis wrote:
> >
> >
> >>>>Hello St?phane,
> >>>>
> >>>>perhaps this email can help you ?
> >>>>
> >>>>Else if you want code directly your program in fortran :
> >>>>1. You must encode all you data in Base64
> >>>>2. And write them like a string.
> >>>>3. don't forget to add the size of your data block (integer*4)
> >>>>encoded in base64 before you block.
> >>>>
> >>>>Best regards,
> >>>>Thierry Dubuis
> >>>>
> >>>>-------- Original Message --------
> >>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
> >>>>to VTK XML files.
> >>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
> >>>>From:     Brad King <brad.king@kitware.com>
> >>>>To:     SamuelKey <samuelkey@comcast.net>
> >>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
> >>>><bnwylie@sandia.gov>
> >>>>References:
> >>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> >>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
> >>>>
> >>>>
> >>>>
> >>>>SamuelKey wrote:
> >>>>
> >>>>
> >>>>>Needing to have a C-compiler is not a problem for me; I have one.
> >>>>>
> >>>>>Let me try to work with what you commit next week and see if I have
> >>>>>any ideas. I will be gone all next week, so you won't hear from me
> >>>>>until week after next. With luck you may hear from someone else
> >>>>>that will help keep you busy, though I suspect "busy" is not a
> >>>>>problem for you.
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>Okay, the C/Fortran interface is now available.  A C program can do
> >>>>
> >>>>#include "vtkXMLWriterC.h"
> >>>>
> >>>>and link to vtkIO.  A Fortran program can use the interface (see the
> >>>>example code below) but will need to compile one extra .c file to
> >>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
> >>>>
> >>>>-Brad
> >>>>
> >>>>     PROGRAM Hello
> >>>>     INTEGER writer
> >>>>     INTEGER success
> >>>>     INTEGER*8 numpoints/8/
> >>>>     INTEGER*8 numcells/1/
> >>>>     INTEGER*8 cellsSize/9/
> >>>>     REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
> >>>>     REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
> >>>>    _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
> >>>>     INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
> >>>>     call vtkXMLWriterF_New(writer)
> >>>>     call vtkXMLWriterF_SetDataObjectType(writer, 4)
> >>>>     call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
> >>>>     call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
> >>>>     call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
> >>>>    _                                    cellsSize)
> >>>>     call vtkXMLWriterF_SetPointData(writer, 'example data', 10,
> pdata,
> >>>>    _                                numpoints, 1, 'SCALARS')
> >>>>     call vtkXMLWriterF_Write(writer, success)
> >>>>     call vtkXMLWriterF_Delete(writer)
> >>>>     PRINT *, 'success =', success
> >>>>     END PROGRAM Hello
> >>>>_______________________________________________
> >>>>ParaView mailing list
> >>>>ParaView@paraview.org
> >>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>St?phane Mont?sino wrote:
> >>>>
> >>>>
> >>>>>With Asci, all is OK except the size of my file.
> >>>>>So how to write my data array in binary with my fortran code.
> >>>>>Does anyone have some details ?
> >>>>>
> >>>>>!
>
> >>>>>******************************************************************************
> >>>>>
> >>>>>!    ****                       subrout
> >>>>>paraview_scalar                        ****
> >>>>>!
>
> >>>>>******************************************************************************
> >>>>>
> >>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
> >>>>>!
> >>>>>!    n1m,n2m,n3m: size of the data and the grid
> >>>>>!    y1,y2,y3: coordinates
> >>>>>!    scal_data: data to write
> >>>>>!    name: name of the data
> >>>>>!
> >>>>>     subroutine
> paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> >>>>>!
> >>>>>     implicit none
> >>>>>!
> >>>>>     INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >>>>>     REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >>>>>     REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >>>>>     REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >>>>>     REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >>>>>     CHARACTER(LEN=10)            ,INTENT(IN)::name
> >>>>>!
> >>>>>     integer::i,j,k,nfil
> >>>>>!
> >>>>>     nfil=41
> >>>>>     open(nfil,file=trim(name)//'.vtr')
> >>>>>     write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >>>>>    &         ' byte_order="LittleEndian">'
> >>>>>     write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >>>>>    &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>     write(nfil,*)'    <Piece Extent=',
> >>>>>    &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>     write(nfil,*)'      <Coordinates>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="X_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y1(i),i=1,n1m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="Y_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y2(j),j=1,n2m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'        <DataArray type="Float32"',
> >>>>>    &                             ' Name="Z_COORDINATES"',
> >>>>>    &                             ' NumberOfComponents="1">'
> >>>>>     write(nfil,*) (y3(k),k=1,n3m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'      </Coordinates>'
> >>>>>     write(nfil,*)'      <PointData Scalars="scalar">'
> >>>>>     write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >>>>>    &                             ' type="Float32"',
> >>>>>    &                             ' NumberOfComponents="1"',
> >>>>>    &                             ' format="ascii">'
> >>>>>     write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >>>>>     write(nfil,*)'        </DataArray>'
> >>>>>     write(nfil,*)'      </PointData>'
> >>>>>     write(nfil,*)'    </Piece>'
> >>>>>     write(nfil,*)'  </RectilinearGrid>'
> >>>>>     write(nfil,*)'</VTKFile>'
> >>>>>     close(nfil)
> >>>>>!
> >>>>>     return
> >>>>>     end
> >>>>>
> >>>>>_______________________________________________
> >>>>>ParaView mailing list
> >>>>>ParaView@paraview.org
> >>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>
> >>>>>
> >>>>
> >
> >
> > --
> > Dominik Szczerba, Dr.
> > Computer Vision Lab CH-8092 Zurich
> > http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
> --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>



--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060131/cd17ad2d/attachment.htm
From domi at vision.ee.ethz.ch  Tue Jan 31 16:12:11 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan 31 16:12:22 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr>
	<43DF709A.5000907@scconsultants.com>	
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>	
	<43DFB32B.60208@vision.ee.ethz.ch>	
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>	
	<43DFBCDC.8080900@vision.ee.ethz.ch>
	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
Message-ID: <43DFD2AB.5090205@vision.ee.ethz.ch>

OK, I didnt know it is possible. Will give it a try tomorrow evntl. come
back.
Thanks a lot,
Dominik

Berk Geveci wrote:
> Why not go zlib compressed without base64 encoding? That's supported you know...
> 
> On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> 
>>I see the point. And yes, I want to stay far away from ASCII. So what
>>format would you recommend to STORE my results in a COMPRESSED way
>>maintaining readability with Paraview? Any binary legacy file I produce
>>takes gigabytes - crunched with gzip a fraction of it, but paraview
>>won't read it. ASCII is simply prohibitive, base64'ed with
>>zlibcompressor not much better. At the moment I store my results in my
>>own gzipped format, and convert them to VTK format on demand - but that
>>is pretty annoying.
>>regards,
>>--dsz
>>
>>Berk Geveci wrote:
>>
>>>Base64 encoding is only necessary if you want your XML file to be
>>>ASCII. This is necessary if you want the file to conform to XML so
>>>that the file can be opened in XML viewers (like a browser). Also,
>>>some people prefer transferring ASCII files instead of binary files.
>>>If you are not interested in either of these, there is no need to have
>>>base64 encoding. I would recommend not using it in fact. One of these
>>>days I will change the default in paraview so that it does not write
>>>base64 encoded files.
>>>
>>>
>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>
>>>Sorry to interupt your discussion but nobody ever explained me this: why
>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
>>>E.g. I see no significant compression with the VTK's zlib compressor
>>>when using XML data files because the compressed stream is converted to
>>>ASCII. Will someone kindly explain me this paradox?
>>>Thanks
>>>Dominik
>>>
>>>Thierry Dubuis wrote:
>>>
>>>
>>>>There are lot of encoding Base 64 program on the web but only in C, Java
>>>>or Visual Basic.
>>>
>>>>If you can use C/C++ compiler, I thing the best way for you is to use
>>>>the Brad King's fortran code example (see my last email).
>>>>To convert a data array to a string in C we use the memory copy in
>>>>fortran I don't know.
>>>>Could you use pointer? 2 pointer on the same memory adress
>>>>1. the fist with the real*8 type
>>>>2. the second with a character type
>>>
>>>>Try in this way.
>>>
>>>>Best regards,
>>>>Thierry Dubuis
>>>
>>>>St?phane Mont?sino wrote:
>>>
>>>
>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>>>a wonderfull girl. I don't know how to use it (sorry her).
>>>
>>>>>In fact, I would like to directly write this type of file that I can
>>>>>obtain when I save my data with Paraview:
>>>
>>>>><?xml version="1.0"?>
>>>>><VTKFile type="RectilinearGrid" version="0.1"
>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>>>  <Piece Extent="1 8 1 4 1 16">
>>>>>    <PointData>
>>>>>      <DataArray type="Float32" Name="pressure" format="appended"
>>>>>offset="0"           />
>>>>>    </PointData>
>>>>>    <CellData>
>>>>>    </CellData>
>>>>>    <Coordinates>
>>>>>      <DataArray type="Float32" Name="X_COORDINATES"
>>>>>format="appended" offset="956"         />
>>>>>      <DataArray type="Float32" Name="Y_COORDINATES"
>>>>>format="appended" offset="1036"        />
>>>>>      <DataArray type="Float32" Name="Z_COORDINATES"
>>>>>format="appended" offset="1092"        />
>>>>>    </Coordinates>
>>>>>  </Piece>
>>>>></RectilinearGrid>
>>>>><AppendedData encoding="base64">
>>>>> _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>>>></AppendedData>
>>>>></VTKFile>
>>>
>>>>>My knowledge are only reduces to Fluid mechanics.
>>>
>>>
>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
>>>
>>>>><<<<<<<<<<<<<<<<<<<<<<
>>>
>>>>>Link properly to vtkIO ? More details please.
>>>
>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
>>>
>>>>>the Computer where my CFD code run ?.
>>>>>I don't run my code on my own computer. It runs in Computing center
>>>>>where I can't install what I want.
>>>
>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
>>>
>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>>
>>>>>When I try  to write binary data in a formatted file:
>>>>>run-time error F6204: WRITE(pressure.vtr)
>>>>>- unformatted I/O not consistent with OPEN options
>>>
>>>>>When I try  to write formatted string in an unformatted file:
>>>>>run-time error F6200: WRITE(pressure.vtr)
>>>>>- formatted I/O not consistent with OPEN options
>>>
>>>
>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
>>>
>>>>><<<<<<<<<<<<<<<<<<<<<
>>>
>>>
>>>>>The format for raw appended binary data should be
>>>
>>>>><AppendedData encoding="raw">
>>>>>_NNNN...........................
>>>>></AppendedData>
>>>
>>>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>>>four-byte block containing an unsigned 32-bit count of the number of
>>>>>"words" in the array.  A word is one value of the type of the array, so
>>>>>in your case the NNNN would have the number of float values.  Then the
>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
>>>
>>>>>If you have another appended data array in the same file then start it
>>>>>immediately after the end of the first array (with no newline or any
>>>>>other character.  Then specify in the offset="..." attribute for the
>>>>>corresponding DataArray the number of bytes beyond the underscore where
>>>>>the second array begins.
>>>
>>>>>-Brad
>>>
>>>
>>>
>>>
>>>>>Thierry Dubuis wrote:
>>>
>>>
>>>>>>Hello St?phane,
>>>>>>
>>>>>>perhaps this email can help you ?
>>>>>>
>>>>>>Else if you want code directly your program in fortran :
>>>>>>1. You must encode all you data in Base64
>>>>>>2. And write them like a string.
>>>>>>3. don't forget to add the size of your data block (integer*4)
>>>>>>encoded in base64 before you block.
>>>>>>
>>>>>>Best regards,
>>>>>>Thierry Dubuis
>>>>>>
>>>>>>-------- Original Message --------
>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>>>to VTK XML files.
>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>>>From:     Brad King <brad.king@kitware.com>
>>>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>>>><bnwylie@sandia.gov>
>>>>>>References:
>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>>>
>>>>>>
>>>>>>
>>>>>>SamuelKey wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>>>
>>>>>>>Let me try to work with what you commit next week and see if I have
>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>>>until week after next. With luck you may hear from someone else
>>>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>>>problem for you.
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>>>
>>>>>>#include "vtkXMLWriterC.h"
>>>>>>
>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>>>example code below) but will need to compile one extra .c file to
>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>>>
>>>>>>-Brad
>>>>>>
>>>>>>    PROGRAM Hello
>>>>>>    INTEGER writer
>>>>>>    INTEGER success
>>>>>>    INTEGER*8 numpoints/8/
>>>>>>    INTEGER*8 numcells/1/
>>>>>>    INTEGER*8 cellsSize/9/
>>>>>>    REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>>>    REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>>>   _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>>>    INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>>>    call vtkXMLWriterF_New(writer)
>>>>>>    call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>>>    call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>>>    call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>>>    call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>>>   _                                    cellsSize)
>>>>>>    call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>>>>   _                                numpoints, 1, 'SCALARS')
>>>>>>    call vtkXMLWriterF_Write(writer, success)
>>>>>>    call vtkXMLWriterF_Delete(writer)
>>>>>>    PRINT *, 'success =', success
>>>>>>    END PROGRAM Hello
>>>>>>_______________________________________________
>>>>>>ParaView mailing list
>>>>>>ParaView@paraview.org
>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>St?phane Mont?sino wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>>With Asci, all is OK except the size of my file.
>>>>>>>So how to write my data array in binary with my fortran code.
>>>>>>>Does anyone have some details ?
>>>>>>>
>>>>>>>!
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    ****                       subrout
>>>>>>>paraview_scalar                        ****
>>>>>>>!
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>>>!
>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>>>!    y1,y2,y3: coordinates
>>>>>>>!    scal_data: data to write
>>>>>>>!    name: name of the data
>>>>>>>!
>>>>>>>    subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>>>>>!
>>>>>>>    implicit none
>>>>>>>!
>>>>>>>    INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>>>    REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>>>    REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>>>    REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>>>    REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>>>    CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>>>!
>>>>>>>    integer::i,j,k,nfil
>>>>>>>!
>>>>>>>    nfil=41
>>>>>>>    open(nfil,file=trim(name)//'.vtr')
>>>>>>>    write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>>>   &         ' byte_order="LittleEndian">'
>>>>>>>    write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>>>   &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'    <Piece Extent=',
>>>>>>>   &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'      <Coordinates>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="X_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y1(i),i=1,n1m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Y_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y2(j),j=1,n2m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Z_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y3(k),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </Coordinates>'
>>>>>>>    write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>>>    write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>>>   &                             ' type="Float32"',
>>>>>>>   &                             ' NumberOfComponents="1"',
>>>>>>>   &                             ' format="ascii">'
>>>>>>>    write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </PointData>'
>>>>>>>    write(nfil,*)'    </Piece>'
>>>>>>>    write(nfil,*)'  </RectilinearGrid>'
>>>>>>>    write(nfil,*)'</VTKFile>'
>>>>>>>    close(nfil)
>>>>>>>!
>>>>>>>    return
>>>>>>>    end
>>>>>>>
>>>>>>>_______________________________________________
>>>>>>>ParaView mailing list
>>>>>>>ParaView@paraview.org
>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>
>>>
>>>--
>>>Dominik Szczerba, Dr.
>>>Computer Vision Lab CH-8092 Zurich
>>>http://www.vision.ee.ethz.ch/~domi
>>
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>--
>>Dominik Szczerba, Dr.
>>Computer Vision Lab CH-8092 Zurich
>>http://www.vision.ee.ethz.ch/~domi
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From domi at vision.ee.ethz.ch  Tue Jan 31 16:16:12 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Jan 31 16:16:20 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <b02264720601311213x302e0828n917f8a436e43c47f@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr>
	<43DF709A.5000907@scconsultants.com>	
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>	
	<43DFB32B.60208@vision.ee.ethz.ch>	
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>	
	<43DFBCDC.8080900@vision.ee.ethz.ch>
	<b02264720601311213x302e0828n917f8a436e43c47f@mail.gmail.com>
Message-ID: <43DFD39C.5040700@vision.ee.ethz.ch>

That indeed sounds like learning a lot of new stuff. Thanks for a hint,
though - know of any online intro/tutorial?

Dominik

Randall Hand wrote:
> It's got a bit of a learning curve, but have you thought about trying to
> integrate HDF5 into your code?  It supports a whole heck of alot of
> datatypes, and has built-in compression.  Couple it with Xdmf from ARL
> (Write an HDF5 file & a simple ascii Metadata file) or Xmdf from ERDC (Just
> write the HDF5 stuff into specially named fields) and it's pretty nice to
> work with.
> 
> On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> 
>>I see the point. And yes, I want to stay far away from ASCII. So what
>>format would you recommend to STORE my results in a COMPRESSED way
>>maintaining readability with Paraview? Any binary legacy file I produce
>>takes gigabytes - crunched with gzip a fraction of it, but paraview
>>won't read it. ASCII is simply prohibitive, base64'ed with
>>zlibcompressor not much better. At the moment I store my results in my
>>own gzipped format, and convert them to VTK format on demand - but that
>>is pretty annoying.
>>regards,
>>--dsz
>>
>>Berk Geveci wrote:
>>
>>>Base64 encoding is only necessary if you want your XML file to be
>>>ASCII. This is necessary if you want the file to conform to XML so
>>>that the file can be opened in XML viewers (like a browser). Also,
>>>some people prefer transferring ASCII files instead of binary files.
>>>If you are not interested in either of these, there is no need to have
>>>base64 encoding. I would recommend not using it in fact. One of these
>>>days I will change the default in paraview so that it does not write
>>>base64 encoded files.
>>>
>>>
>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>
>>>Sorry to interupt your discussion but nobody ever explained me this: why
>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
>>>E.g. I see no significant compression with the VTK's zlib compressor
>>>when using XML data files because the compressed stream is converted to
>>>ASCII. Will someone kindly explain me this paradox?
>>>Thanks
>>>Dominik
>>>
>>>Thierry Dubuis wrote:
>>>
>>>
>>>>There are lot of encoding Base 64 program on the web but only in C, Java
>>>>or Visual Basic.
>>>
>>>>If you can use C/C++ compiler, I thing the best way for you is to use
>>>>the Brad King's fortran code example (see my last email).
>>>>To convert a data array to a string in C we use the memory copy in
>>>>fortran I don't know.
>>>>Could you use pointer? 2 pointer on the same memory adress
>>>>1. the fist with the real*8 type
>>>>2. the second with a character type
>>>
>>>>Try in this way.
>>>
>>>>Best regards,
>>>>Thierry Dubuis
>>>
>>>>St?phane Mont?sino wrote:
>>>
>>>
>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>>>a wonderfull girl. I don't know how to use it (sorry her).
>>>
>>>>>In fact, I would like to directly write this type of file that I can
>>>>>obtain when I save my data with Paraview:
>>>
>>>>><?xml version="1.0"?>
>>>>><VTKFile type="RectilinearGrid" version="0.1"
>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>>>  <Piece Extent="1 8 1 4 1 16">
>>>>>    <PointData>
>>>>>      <DataArray type="Float32" Name="pressure" format="appended"
>>>>>offset="0"           />
>>>>>    </PointData>
>>>>>    <CellData>
>>>>>    </CellData>
>>>>>    <Coordinates>
>>>>>      <DataArray type="Float32" Name="X_COORDINATES"
>>>>>format="appended" offset="956"         />
>>>>>      <DataArray type="Float32" Name="Y_COORDINATES"
>>>>>format="appended" offset="1036"        />
>>>>>      <DataArray type="Float32" Name="Z_COORDINATES"
>>>>>format="appended" offset="1092"        />
>>>>>    </Coordinates>
>>>>>  </Piece>
>>>>></RectilinearGrid>
>>>>><AppendedData encoding="base64">
>>>>> _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>>>></AppendedData>
>>>>></VTKFile>
>>>
>>>>>My knowledge are only reduces to Fluid mechanics.
>>>
>>>
>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
>>>
>>>>><<<<<<<<<<<<<<<<<<<<<<
>>>
>>>>>Link properly to vtkIO ? More details please.
>>>
>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
>>>
>>>>>the Computer where my CFD code run ?.
>>>>>I don't run my code on my own computer. It runs in Computing center
>>>>>where I can't install what I want.
>>>
>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
>>>
>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>>
>>>>>When I try  to write binary data in a formatted file:
>>>>>run-time error F6204: WRITE(pressure.vtr)
>>>>>- unformatted I/O not consistent with OPEN options
>>>
>>>>>When I try  to write formatted string in an unformatted file:
>>>>>run-time error F6200: WRITE(pressure.vtr)
>>>>>- formatted I/O not consistent with OPEN options
>>>
>>>
>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
>>>
>>>>><<<<<<<<<<<<<<<<<<<<<
>>>
>>>
>>>>>The format for raw appended binary data should be
>>>
>>>>><AppendedData encoding="raw">
>>>>>_NNNN...........................
>>>>></AppendedData>
>>>
>>>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>>>four-byte block containing an unsigned 32-bit count of the number of
>>>>>"words" in the array.  A word is one value of the type of the array, so
>>>>>in your case the NNNN would have the number of float values.  Then the
>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
>>>
>>>>>If you have another appended data array in the same file then start it
>>>>>immediately after the end of the first array (with no newline or any
>>>>>other character.  Then specify in the offset="..." attribute for the
>>>>>corresponding DataArray the number of bytes beyond the underscore where
>>>>>the second array begins.
>>>
>>>>>-Brad
>>>
>>>
>>>
>>>
>>>>>Thierry Dubuis wrote:
>>>
>>>
>>>>>>Hello St?phane,
>>>>>>
>>>>>>perhaps this email can help you ?
>>>>>>
>>>>>>Else if you want code directly your program in fortran :
>>>>>>1. You must encode all you data in Base64
>>>>>>2. And write them like a string.
>>>>>>3. don't forget to add the size of your data block (integer*4)
>>>>>>encoded in base64 before you block.
>>>>>>
>>>>>>Best regards,
>>>>>>Thierry Dubuis
>>>>>>
>>>>>>-------- Original Message --------
>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>>>to VTK XML files.
>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>>>From:     Brad King <brad.king@kitware.com>
>>>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>>>><bnwylie@sandia.gov>
>>>>>>References:
>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>>>
>>>>>>
>>>>>>
>>>>>>SamuelKey wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>>>
>>>>>>>Let me try to work with what you commit next week and see if I have
>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>>>until week after next. With luck you may hear from someone else
>>>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>>>problem for you.
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>>>
>>>>>>#include "vtkXMLWriterC.h"
>>>>>>
>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>>>example code below) but will need to compile one extra .c file to
>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>>>
>>>>>>-Brad
>>>>>>
>>>>>>    PROGRAM Hello
>>>>>>    INTEGER writer
>>>>>>    INTEGER success
>>>>>>    INTEGER*8 numpoints/8/
>>>>>>    INTEGER*8 numcells/1/
>>>>>>    INTEGER*8 cellsSize/9/
>>>>>>    REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>>>    REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>>>   _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>>>    INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>>>    call vtkXMLWriterF_New(writer)
>>>>>>    call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>>>    call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>>>    call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>>>    call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>>>   _                                    cellsSize)
>>>>>>    call vtkXMLWriterF_SetPointData(writer, 'example data', 10,
>>
>>pdata,
>>
>>>>>>   _                                numpoints, 1, 'SCALARS')
>>>>>>    call vtkXMLWriterF_Write(writer, success)
>>>>>>    call vtkXMLWriterF_Delete(writer)
>>>>>>    PRINT *, 'success =', success
>>>>>>    END PROGRAM Hello
>>>>>>_______________________________________________
>>>>>>ParaView mailing list
>>>>>>ParaView@paraview.org
>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>St?phane Mont?sino wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>>With Asci, all is OK except the size of my file.
>>>>>>>So how to write my data array in binary with my fortran code.
>>>>>>>Does anyone have some details ?
>>>>>>>
>>>>>>>!
>>
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    ****                       subrout
>>>>>>>paraview_scalar                        ****
>>>>>>>!
>>
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>>>!
>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>>>!    y1,y2,y3: coordinates
>>>>>>>!    scal_data: data to write
>>>>>>>!    name: name of the data
>>>>>>>!
>>>>>>>    subroutine
>>
>>paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>
>>>>>>>!
>>>>>>>    implicit none
>>>>>>>!
>>>>>>>    INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>>>    REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>>>    REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>>>    REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>>>    REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>>>    CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>>>!
>>>>>>>    integer::i,j,k,nfil
>>>>>>>!
>>>>>>>    nfil=41
>>>>>>>    open(nfil,file=trim(name)//'.vtr')
>>>>>>>    write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>>>   &         ' byte_order="LittleEndian">'
>>>>>>>    write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>>>   &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'    <Piece Extent=',
>>>>>>>   &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'      <Coordinates>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="X_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y1(i),i=1,n1m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Y_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y2(j),j=1,n2m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Z_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y3(k),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </Coordinates>'
>>>>>>>    write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>>>    write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>>>   &                             ' type="Float32"',
>>>>>>>   &                             ' NumberOfComponents="1"',
>>>>>>>   &                             ' format="ascii">'
>>>>>>>    write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </PointData>'
>>>>>>>    write(nfil,*)'    </Piece>'
>>>>>>>    write(nfil,*)'  </RectilinearGrid>'
>>>>>>>    write(nfil,*)'</VTKFile>'
>>>>>>>    close(nfil)
>>>>>>>!
>>>>>>>    return
>>>>>>>    end
>>>>>>>
>>>>>>>_______________________________________________
>>>>>>>ParaView mailing list
>>>>>>>ParaView@paraview.org
>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>
>>>
>>>--
>>>Dominik Szczerba, Dr.
>>>Computer Vision Lab CH-8092 Zurich
>>>http://www.vision.ee.ethz.ch/~domi
>>
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>--
>>Dominik Szczerba, Dr.
>>Computer Vision Lab CH-8092 Zurich
>>http://www.vision.ee.ethz.ch/~domi
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
> 
> 
> 
> 
> --
> Randall Hand
> Visualization Scientist,
> ERDC-MSRC Vicksburg, MS
> Homepage: http://www.yeraze.com
> 

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From rnelias at nacad.ufrj.br  Tue Jan 31 17:45:48 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Tue Jan 31 17:44:22 2006
Subject: RES: [Paraview] Writing binary files: C/Fortran interface to
	VTKXMLfiles.
In-Reply-To: <43DF941F.7030604@hmg.inpg.fr>
Message-ID: <20060131214405.8EC2C727CF@mailhost.nacad.ufrj.br>


Hi St?phane,

When I was starting using Paraview I thought about writing Fortran routines
to write VTK files, but after reading about Base64 compression I gave up. I
think the VTK team has been doing a wonderful work in VTK's file formats and
Base64 really seems incredible to write very small compressed binary files
but, unfortunately, I don't have knowledge enough to implement something
like this in Fortran. Furthermore, I don't know if a pure Fortran code would
be able to produce a Base64 compressed file. Ok, VTK has an interface to
write VTK files from a Fortran code, but it obliges me to install, or pick
and compile the VTK routines needed with my program, in any machine I intend
to run my program. My solution has been working fine for me, and I hope
it'll keep working for a long time... As I work basicaly with CFD, and my
team group has licenses for the Ensight visualizer, I've been writing all my
files in Ensight's format. It's easy to implement in C/C++ or Fortran,
portable (thank God Paraview has support to this format), parallel through
the server-of-server casefile extension and I can keep using Ensight when
I'd like to do something that Paraview can't do yet - almost nothing it
happen ;-)

If you are interested in trying to use Ensight's format, get the following
routines http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
I guess, they can be a good starting point...

Cheers

Renato N. Elias
===================================================
PhD student
High Performance Computing Center - NACAD/COPPE
Federal University of Rio de Janeiro, RJ -Brazil
http://www.nacad.ufrj.br/~rnelias
 


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
St?phane Mont?sino
Enviada em: ter?a-feira, 31 de janeiro de 2006 14:45
Para: Thierry Dubuis; brad.king@kitware.com
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Writing binary files: C/Fortran interface to
VTKXMLfiles.

Thanks for all tese answers, but I 'm still like an an homosexual with a
wonderfull girl. I don't know how to use it (sorry her).

In fact, I would like to directly write this type of file that I can obtain
when I save my data with Paraview:

<?xml version="1.0"?>
<VTKFile type="RectilinearGrid" version="0.1" byte_order="LittleEndian" 
compressor="vtkZLibDataCompressor">
  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
    <Piece Extent="1 8 1 4 1 16">
      <PointData>
        <DataArray type="Float32" Name="pressure" format="appended" 
offset="0"           />
      </PointData>
      <CellData>
      </CellData>
      <Coordinates>
        <DataArray type="Float32" Name="X_COORDINATES" format="appended" 
offset="956"         />
        <DataArray type="Float32" Name="Y_COORDINATES" format="appended" 
offset="1036"        />
        <DataArray type="Float32" Name="Z_COORDINATES" format="appended" 
offset="1092"        />
      </Coordinates>
    </Piece>
  </RectilinearGrid>
  <AppendedData encoding="base64">
   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
  </AppendedData>
</VTKFile>

My knowledge are only reduces to Fluid mechanics.

 >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?   
<<<<<<<<<<<<<<<<<<<<<<

Link properly to vtkIO ? More details please.
 >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on the
Computer where my CFD code run ?.
 I don't run my code on my own computer. It runs in Computing center where I
can't install what I want.
 >>>>>>>>So I would like to obtain some fortran routine I could link myself
to my  CFD code  <<<<<<<<<<<<<<<<

When I try  to write binary data in a formatted file:
run-time error F6204: WRITE(pressure.vtr)
- unformatted I/O not consistent with OPEN options

When I try  to write formatted string in an unformatted file:
run-time error F6200: WRITE(pressure.vtr)
- formatted I/O not consistent with OPEN options

 >>>>>>>>>>>>>>>>How to convert my data to a string ?   
<<<<<<<<<<<<<<<<<<<<<


The format for raw appended binary data should be

<AppendedData encoding="raw">
  _NNNN...........................
</AppendedData>

Where the underscore is literal (as you already have) and the NNNN is a
four-byte block containing an unsigned 32-bit count of the number of "words"
in the array.  A word is one value of the type of the array, so in your case
the NNNN would have the number of float values.  Then the number of bytes of
binary data to follow should be NNNN*sizeof(float).

If you have another appended data array in the same file then start it
immediately after the end of the first array (with no newline or any other
character.  Then specify in the offset="..." attribute for the corresponding
DataArray the number of bytes beyond the underscore where the second array
begins.

-Brad




Thierry Dubuis wrote:

> Hello St?phane,
>
> perhaps this email can help you ?
>
> Else if you want code directly your program in fortran :
> 1. You must encode all you data in Base64 2. And write them like a 
> string.
> 3. don't forget to add the size of your data block (integer*4) encoded 
> in base64 before you block.
>
> Best regards,
> Thierry Dubuis
>
> -------- Original Message --------
> Subject:     Re: [Paraview] Writing binary files: C/Fortran interface 
> to VTK XML files.
> Date:     Tue, 07 Jun 2005 10:06:51 -0400
> From:     Brad King <brad.king@kitware.com>
> To:     SamuelKey <samuelkey@comcast.net>
> CC:     paraview <paraview@paraview.org>, "Wylie, Brian" 
> <bnwylie@sandia.gov>
> References:     
> <200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> <42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>
>
>
> SamuelKey wrote:
>
>> Needing to have a C-compiler is not a problem for me; I have one.
>>
>> Let me try to work with what you commit next week and see if I have 
>> any ideas. I will be gone all next week, so you won't hear from me 
>> until week after next. With luck you may hear from someone else that 
>> will help keep you busy, though I suspect "busy" is not a problem for 
>> you.
>
>
> Okay, the C/Fortran interface is now available.  A C program can do
>
> #include "vtkXMLWriterC.h"
>
> and link to vtkIO.  A Fortran program can use the interface (see the 
> example code below) but will need to compile one extra .c file to link 
> properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>
> -Brad
>
>      PROGRAM Hello
>      INTEGER writer
>      INTEGER success
>      INTEGER*8 numpoints/8/
>      INTEGER*8 numcells/1/
>      INTEGER*8 cellsSize/9/
>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>      call vtkXMLWriterF_New(writer)
>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>     _                                    cellsSize)
>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>     _                                numpoints, 1, 'SCALARS')
>      call vtkXMLWriterF_Write(writer, success)
>      call vtkXMLWriterF_Delete(writer)
>      PRINT *, 'success =', success
>      END PROGRAM Hello
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
> St?phane Mont?sino wrote:
>
>> With Asci, all is OK except the size of my file.
>> So how to write my data array in binary with my fortran code.
>> Does anyone have some details ?
>>
>> !    
>> *********************************************************************
>> *********
>>
>> !    ****                       subrout 
>> paraview_scalar                        ****
>> !    
>> *********************************************************************
>> *********
>>
>> !    Export 3D scalar data upon a Non uniform rectilinear Grid
>> !
>> !    n1m,n2m,n3m: size of the data and the grid
>> !    y1,y2,y3: coordinates
>> !    scal_data: data to write
>> !    name: name of the data
>> !
>>      subroutine 
>> paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>> !
>>      implicit none
>> !
>>      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>      CHARACTER(LEN=10)            ,INTENT(IN)::name
>> !
>>      integer::i,j,k,nfil
>> !
>>      nfil=41
>>      open(nfil,file=trim(name)//'.vtr')
>>      write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>     &         ' byte_order="LittleEndian">'
>>      write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>      write(nfil,*)'    <Piece Extent=',
>>     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>      write(nfil,*)'      <Coordinates>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="X_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y1(i),i=1,n1m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="Y_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y2(j),j=1,n2m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'        <DataArray type="Float32"',
>>     &                             ' Name="Z_COORDINATES"',
>>     &                             ' NumberOfComponents="1">'
>>      write(nfil,*) (y3(k),k=1,n3m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'      </Coordinates>'
>>      write(nfil,*)'      <PointData Scalars="scalar">'
>>      write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>     &                             ' type="Float32"',
>>     &                             ' NumberOfComponents="1"',
>>     &                             ' format="ascii">'
>>      write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>      write(nfil,*)'        </DataArray>'
>>      write(nfil,*)'      </PointData>'
>>      write(nfil,*)'    </Piece>'
>>      write(nfil,*)'  </RectilinearGrid>'
>>      write(nfil,*)'</VTKFile>'
>>      close(nfil)
>> !
>>      return
>>      end
>>
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>>  
>>
>


--
St?phane MONTESINO

Doctorant                       tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 


