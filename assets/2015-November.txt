From reddell at uw.edu  Sun Nov  1 18:36:18 2015
From: reddell at uw.edu (Noah Reddell)
Date: Sun, 1 Nov 2015 15:36:18 -0800
Subject: [Paraview] trying to achieve odd symmetry reflection where axis is
	inside original domain
Message-ID: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>

Hi,

	I?ve simulated a problem in 2D where an odd symmetry boundary condition is applied across the x=0 plane.  I now want to visualize the full domain.
	There seem to be three complications making Paraview capabilities that I currently know about not workable.  Maybe other?s can point out a pipeline that works.  If I need a programmable filter, so far I am lost at what to implement.
	1)  My original data extends beyond the x=0 symmetry plane by two data points.  And I have no data point on x=0 itself.  This is because in the simulation, there is a third-order polynomial element centered on x=0.
	2)  My data is represented as Structured Curvilinear Grid (.VTS files) though in actuality, it is rectilinear.
	3)  Some data arrays have odd symmetry, such that f(x<0) = -f(x>0)

Here?s what I?ve tried.
A) Use the Reflect filter, reflect about x=0.  Works quite well for even symmetry data, but the odd-symmetry data is misrepresented with opposite sign for (x<0).  Also, there are glitches with the doubled-up mesh points about x=0.  That becomes obvious when I tried to add a calculator to correct the odd symmetry based on (x<0) boolean expression.
B) Manually select data points with (x>0); Extract Selection; Reflect that extraction; Group original and new selection.  Problem:  I end up with a band of missing data for the cell centered on x=0.

Ideally, I want to end up with a consistent full-domain representation such that I can perform stream line traces across the x=0 mid-plane.

I?d be very grateful if anyone could point out a working solution.   Here?s one of my data files and some screenshots of my failed attempts.  ( The scalar data item EM_field_n_c4 is a good odd-symmetry example. )

VTS data file 800 kB <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/harris_current_sheet_equilibreum_2.vts>

Existing Curvilinear Mesh representation <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/By.jpg>

ProblemA demonstration of missing band about x=0 <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/missingband.jpg>

ProblemB demonstration of glitch at centerline <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/glitch_at_centerline.jpg>


Best Regards,

Noah Reddell
University of Washington

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151101/d533a362/attachment.html>

From aashish.chaudhary at kitware.com  Mon Nov  2 08:02:32 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Mon, 2 Nov 2015 08:02:32 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
Message-ID: <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>

Hi Simon,

I found the reason behind the appeared performance you were getting. We
have this code in volume rendering that when you interact changes the
sampling distance and in the newer code we were too conservative compare to
the last version. That's why you were getting better quality when you move
your mouse but lower frame rates. I pushed a branch in VTK to address the
issue. Would it be possible for you to build Paraview with VTK master?  It
may take 3-4 days or longer for Paraview's VTK to get updated.

Thanks,
Aashish

On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> Hi Simon,
>
> I am just finishing up a ParaView5 related parallel volume rendering bug
> (pushing a branch today to VTK). This is next on my list.
>
> - Aashish
>
> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <simon.esneault at gmail.com
> > wrote:
>
>> Hello Aashish
>>
>> Did you get a chance to try to load the dataset on Windows ?
>> Can I do anything to help you investigate ? Should I feel a bug, that may
>> act as a reminder ?
>> Have a nice day
>> Simon
>>
>>
>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>> aashish.chaudhary at kitware.com>:
>>
>>> Thanks Simon. This is really strange since we are not seeing it on Mac
>>> and Linux (but both has dedicated cards).
>>>
>>> I will look into it soon.
>>>
>>> - aashish
>>>
>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>> simon.esneault at gmail.com> wrote:
>>>
>>>> Ok, thank you very much fort digging into this.
>>>> I've done some test and I believe I can see a similar slowdown
>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>> graphics.
>>>> Good luck in the investigation, I you need more details, do not
>>>> hesitate to ask
>>>> Simon
>>>>
>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com>:
>>>>
>>>>> Ah, thanks. I will get back to you on this since on Linux I don't any
>>>>> issue so it has to be Windows specific thing.
>>>>>
>>>>> - Aashish
>>>>>
>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>> simon.esneault at gmail.com> wrote:
>>>>>
>>>>>> I tried with that one from yesterday and today's version
>>>>>> (4.4.0-209-gc399648)
>>>>>>
>>>>>> Thanks,
>>>>>> Simon
>>>>>>
>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>
>>>>>>> Thanks.
>>>>>>>
>>>>>>> And when did you download this version? ParaView-latest-Qt4-OpenGL2-
>>>>>>> Windows-64bit.exe
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Aashish
>>>>>>>
>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>
>>>>>>>> Yes, I tried with and without the shading. Without shading enabled,
>>>>>>>> the new Opengl2 is also slower when zoomed in (in the described condition).
>>>>>>>> With shading enabled, the difference in speed between the two version seems
>>>>>>>> even bigger.
>>>>>>>> I got the version from the nightly build download section of
>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>> results.
>>>>>>>>
>>>>>>>> About the FPS, it is difficult to give an exact number, because it
>>>>>>>> depends of the condition (zoomed or not etc...) but yes, this is the idea.
>>>>>>>> In our software, I've exposed the frame rate using this example :
>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>> example), with the same mapper parameters
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> Simon
>>>>>>>>
>>>>>>>>
>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>
>>>>>>>>> Hi Simon,
>>>>>>>>>
>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>
>>>>>>>>> 1) Did you try without the shading and see how the performance
>>>>>>>>> compares?
>>>>>>>>>
>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this one
>>>>>>>>> from (ParaView download page or did you built yourself?)
>>>>>>>>>
>>>>>>>>> Also, so on your system the old mapper is running 30FPS and the
>>>>>>>>> new one at 15-20 FPS as per your summary.
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> - Aashish
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hello Aashish,
>>>>>>>>>>
>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>> I agree the performance is still quite good with the new backend,
>>>>>>>>>> and I also get something like 15/20 fps on windows on an HD screen. But
>>>>>>>>>> when compared to the old one, and in some condition (when zoomed
>>>>>>>>>> especially), it looks really slower to me
>>>>>>>>>> The two tested version are :
>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2 backend.
>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>> Quadro K420
>>>>>>>>>>
>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>> - Select volume rendering
>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>
>>>>>>>>>> And start interacting ...
>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>> interactivity is better.
>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>
>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play with
>>>>>>>>>> this with the old backend to fine tune the interactivity, although what's
>>>>>>>>>> really inside was never clear to me
>>>>>>>>>>
>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>
>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>> Simon
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>
>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>
>>>>>>>>>>> Checking again. Wondering if you can provide some more detail on
>>>>>>>>>>> the binary you are using and whether or not without shading the rendering
>>>>>>>>>>> performance comparable to older version.
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Simon,
>>>>>>>>>>>>
>>>>>>>>>>>> I used your dataset on paraview master as of today on my Linux
>>>>>>>>>>>> box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about 15-20
>>>>>>>>>>>> FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>
>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>
>>>>>>>>>>>> NOTE: You might get multiple emails because of the attachment
>>>>>>>>>>>> size issue. Sorry about that.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>
>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short element
>>>>>>>>>>>>>> (you can find the dataset here :
>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip). So I
>>>>>>>>>>>>>> think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>> The new mapper does bring low resolution, but when compared
>>>>>>>>>>>>>> to the old one, it seems less "low resolution" during interaction than the
>>>>>>>>>>>>>> old one
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What happens
>>>>>>>>>>>>> is that depending on what is interactive, (you can set the desired update
>>>>>>>>>>>>> rate in VTK, not exposed in ParaView I believe),  it will do interactive
>>>>>>>>>>>>> but with higher resolution (smaller sample distance).  If they both have
>>>>>>>>>>>>> the same sample distance, then the new mapper should out perform the old
>>>>>>>>>>>>> one, however, there is another thing we need to consider here which is
>>>>>>>>>>>>> shading.
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Can you disable the shading and see if now they both (opengl1
>>>>>>>>>>>>> and 2) equally better? We already pushed a fix for it but not sure if that
>>>>>>>>>>>>> you have in your build.
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe the
>>>>>>>>>>>>>> GPURenderDemo used with this dataset is enough to highlight the slow down.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with shading
>>>>>>>>>>>>>>> that was causing the slow performance a while back. I don't remember if
>>>>>>>>>>>>>>> that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the data
>>>>>>>>>>>>>>>> type you might be using
>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The performance
>>>>>>>>>>>>>>>> we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new mapper
>>>>>>>>>>>>>>>> is bringing low resolution when you interact with the volume (and whether
>>>>>>>>>>>>>>>> or not it happens with old mapper).
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you compare the
>>>>>>>>>>>>>>>>> latest 4.4 OpenGL2 build with the classic 4.4 build while volume rendering
>>>>>>>>>>>>>>>>> a big enough volume (512^3)
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering implementation
>>>>>>>>>>>>>>>>> should be faster than the old one, is there some more detailed explanation
>>>>>>>>>>>>>>>>> somewhere ? Are there some important parameters that can make the
>>>>>>>>>>>>>>>>> difference ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with the
>>>>>>>>>>>>>>>>> new backend !
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>>           *
>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>           *
>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>> Simon Esneault
>>>>>>>>>> Rennes, France
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>         *
>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> ------------------------------------------------------------------
>>>>>>>> Simon Esneault
>>>>>>>> Rennes, France
>>>>>>>> ------------------------------------------------------------------
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> ------------------------------------------------------------------
>>>>>> Simon Esneault
>>>>>> Rennes, France
>>>>>> ------------------------------------------------------------------
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> ------------------------------------------------------------------
>>>> Simon Esneault
>>>> Rennes, France
>>>> ------------------------------------------------------------------
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>> ------------------------------------------------------------------
>> Simon Esneault
>> Rennes, France
>> ------------------------------------------------------------------
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/ff325d3e/attachment.html>

From giuseppe.bilotta at gmail.com  Mon Nov  2 08:49:13 2015
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Mon, 2 Nov 2015 14:49:13 +0100
Subject: [Paraview] Named blocks in pvd Collection with time series
Message-ID: <CAOxFTcxjQw2YxFWoOcX6E0JL9NMPupN0vgKewaMKKBePEF0Atw@mail.gmail.com>

Hello all,

I have the following situation: I have multiple dataset created by the
same simulation, evolving in time. I'm currently presented wit two
options to preserve time information:

Option 1: I create a pvd in the form:

<?xml version='1.0'?>
<VTKFile type='Collection' version='0.1'>
<Collection>
<DataSet timestep='0' part='1' name='Planes' file='PLANES.vtu'/>
<DataSet timestep='0' part='2' name='WaveGages' file='WaveGage_00000.vtu'/>
<DataSet timestep='0' part='3' name='Particles' file='PART_00000.vtu'/>
<DataSet timestep='0.00049' part='1' name='Planes' file='PLANES.vtu'/>
<DataSet timestep='0.00049' part='2' name='WaveGages'
file='WaveGage_00001.vtu'/>
<DataSet timestep='0.00049' part='3' name='Particles' file='PART_00001.vtu'/>
<!-- etc for the other timesteps -->
</Collection>
</VTKFile>

which is efficient (single index file) but annoying UI-wise (since the
names of the data sets are not used in the muti-block inspector or in
the extract block filter)

Option 2: I have the pvd point, for each timestep, to a single .vtm
file which in turns points to the multiple vtu files for that
timestep: so the pvd is like

<?xml version='1.0'?>
<VTKFile type='Collection' version='0.1'>
<Collection>
<DataSet timestep='0' group='' part='0' file='data_00000.vtm'/>
<DataSet timestep='0.00049' group='' part='0' file='data_00001.vtm'/>
</Collection>
</VTKFile>

and each vtm is like:

<?xml version='1.0'?>
<VTKFile type='vtkMultiBlockDataSet' version='1.0'>
<vtkMultiBlockDataSet>
<DataSet index='0' name='Planes' file='PLANES.vtu'/>
<DataSet index='1' name='WaveGages' file='WaveGage_00000.vtu'/>
<DataSet index='2' name='Particles' file='PART_00000.vtu'/>
</vtkMultiBlockDataSet>
</VTKFile>

This has the advantage that the name of each dataset appears in the
block extraction tool, but the disadvantage that I have to create one
additional file per timestep (which may be a LOT of extra files)

I've also tried Option 3: a pvd pointing to one pvd per block, and
each pvd having the time series for that block, but this simply
segfaults paraview.

So my question is: is there a way to combine the compactness offered
Option 1 with the possibility to see the block names in the UI offered
by Option 2? I've also tried to play around with the group option in
the pvd dataset entries, to no effect (and I'm still not clear on the
difference between group and part, so any clarification on this is
also welcome).

Thanks in advance and best regards,


-- 
Giuseppe "Oblomov" Bilotta

From dan.lipsa at kitware.com  Mon Nov  2 10:42:21 2015
From: dan.lipsa at kitware.com (Dan Lipsa)
Date: Mon, 2 Nov 2015 10:42:21 -0500
Subject: [Paraview] Some questions about Catalyst Live Visualization
In-Reply-To: <CAMaOp+HOWerqEUsQugpPr0+BdazJ0W4GppYAVazEBUiUuz+dTQ@mail.gmail.com>
References: <CANjddW0cRyoAvB1NHum3p_nsD_CKoE7U__7MNTZ6_WNJJbVhtg@mail.gmail.com>
 <db6b9c51332d4785a45426c633e40ed9@MAIL06V-CAS04.fnal.gov>
 <CANjddW0607bqRQnq0rhTOJ5HhhzeqG4vEHL9UjY3YkyPMkG7gg@mail.gmail.com>
 <CADwGrVoSPc7t0X-PPEEiV_fdCRmwxxZvA6dLG=n5=5-+XBZ6dQ@mail.gmail.com>
 <CAMaOp+HOWerqEUsQugpPr0+BdazJ0W4GppYAVazEBUiUuz+dTQ@mail.gmail.com>
Message-ID: <CADwGrVqCZEN80J2GB6zi5CdhxL1rST+LQE8WY=b_Qw7Pgu4SBg@mail.gmail.com>

Hi Andy,


>  (e.g. images, data extracts or to Catalyst Live via a connected client)
> then RequestDataDescription() should return that there's no work to do so
> that no cycles are wasted generating the VTK object.
>

This is a good idea. I think we could  indeed return that there is no work
on the test for execution frequencies so that the user does not have to do
another test.
Here is the bug report for this:

http://www.vtk.org/Bug/view.php?id=15815

Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/fe8abb5d/attachment.html>

From cory.quammen at kitware.com  Mon Nov  2 10:42:37 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Mon, 2 Nov 2015 10:42:37 -0500
Subject: [Paraview] trying to achieve odd symmetry reflection where axis
 is inside original domain
In-Reply-To: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>
References: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>
Message-ID: <CAB5Fpx5K2xKta1WWcYsArTrBJfu1efwwahvXenMCBQbGbxCZNw@mail.gmail.com>

Hi Noah,

See answers and questions for you inlined below.


> 1)  My original data extends beyond the x=0 symmetry plane by two data
> points.  And I have no data point on x=0 itself.  This is because in the
> simulation, there is a third-order polynomial element centered on x=0.
>

What would you like to see on x=0?


> 2)  My data is represented as Structured Curvilinear Grid (.VTS files)
> though in actuality, it is rectilinear.
>

Shouldn't be a problem.


> 3)  Some data arrays have odd symmetry, such that f(x<0) = -f(x>0)
>

The Reflect filter doesn't support this, but you obviously know that.


> Here?s what I?ve tried.
> A) Use the Reflect filter, reflect about x=0.  Works quite well for even
> symmetry data, but the odd-symmetry data is misrepresented with opposite
> sign for (x<0).  Also, there are glitches with the doubled-up mesh points
> about x=0.  That becomes obvious when I tried to add a calculator to
> correct the odd symmetry based on (x<0) boolean expression.
>

Could you describe the glitches? I couldn't understand them from just the
images you attached.


> B) Manually select data points with (x>0); Extract Selection; Reflect that
> extraction; Group original and new selection.  Problem:  I end up with a
> band of missing data for the cell centered on x=0.
>

Again, what do you expect to see at x=0 if your original data doesn't have
anything at x = 0?

Thanks,
Cory


> Ideally, I want to end up with a consistent full-domain representation
> such that I can perform stream line traces across the x=0 mid-plane.
>
> I?d be very grateful if anyone could point out a working solution.
> Here?s one of my data files and some screenshots of my failed attempts.  (
> The scalar data item EM_field_n_c4 is a good odd-symmetry example. )
>
> VTS data file 800 kB
> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/harris_current_sheet_equilibreum_2.vts>
>
> Existing Curvilinear Mesh representation
> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/By.jpg>
>
> ProblemA demonstration of missing band about x=0
> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/missingband.jpg>
>
> ProblemB demonstration of glitch at centerline
> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/glitch_at_centerline.jpg>
>
>
> Best Regards,
>
> Noah Reddell
> University of Washington
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/3bc97899/attachment.html>

From cjg9411 at rit.edu  Mon Nov  2 10:51:15 2015
From: cjg9411 at rit.edu (Charles Gruener)
Date: Mon, 02 Nov 2015 15:51:15 +0000
Subject: [Paraview] Mac DMG issues
Message-ID: <BF0244FB-002D-483C-93DD-D99FD3397356@rit.edu>

In an attempt to deploy the ParaView DMG using Munki, I ran into the issue that the DMG is storing paraview.app with 700 permissions.  This causes the installation via Munki to fail.

As a workaround, I converted the DMG to read-write, mounted it, ran:

chmod -R go+rX paraview.app
mv paraview.app ParaView.app

I also had to add the version information (4.4.0) to the CFBundleShortVersionString variable inside of the Info.plist.

I then converted it back to a read-only DMG.  This then allows the installation via Munki to complete successfully.

I would like to eventually automate downloading updates of your DMG through Autopkg, but these extra steps would be unnecessary should the DMG have the proper settings on the enclosed ParaView.app in the first place.  Could this please be addressed in future builds?

Thanks,
Charles Gruener

From reddell at uw.edu  Mon Nov  2 11:30:07 2015
From: reddell at uw.edu (Noah Reddell)
Date: Mon, 2 Nov 2015 08:30:07 -0800
Subject: [Paraview] trying to achieve odd symmetry reflection where axis
 is inside original domain
In-Reply-To: <CAB5Fpx5K2xKta1WWcYsArTrBJfu1efwwahvXenMCBQbGbxCZNw@mail.gmail.com>
References: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>
 <CAB5Fpx5K2xKta1WWcYsArTrBJfu1efwwahvXenMCBQbGbxCZNw@mail.gmail.com>
Message-ID: <CAJj1tdQea88=ZY-OvrdXWznq98SELCYkuDCp60qwrq81kEo5qQ@mail.gmail.com>

Hi Cory,

   Thanks for your interest.  I can answer your two questions pretty
compactly.

*> Could you describe the glitches? I couldn't understand them from just
the images you attached.*
The scalar variable EM_field_n_c4 in the referenced .VTS file is the
analytic function: *tanh(-x/4.082)*.
The resulting odd symmetry reflection about x=0 should achieve the same
function.  The function is smooth.
I suspect the glitches come from the two nodes left of x=0 in my original
data.  I speculate that the Reflect filter is reflecting those as well.
Actually, I'm pretty sure I observed as much yesterday when not using the
option to copy the original data.  This means some kind of funny overlap
occurs between the before and after reflection data.

*> what do you expect to see at x=0 if your original data doesn't have
anything at x = 0?*
My preference would be to have no new nodes created along x=0.  I have
nodes at x= { 0-d2,  0-d1,  0+d1, 0+d2, 0+d3, 0+d4, ... }.
One way to look at the problem would be to reflect nodes {0+d3,0+d4,...}
about x=0 because the the existing two nodes {0-d2, 0-d1} are already
correct.
Another way to look it it is to discard existing nodes {0-d2, 0-d1} and
reflect what remains about x=0.
In both cases, reflect with possible negative scaling!
I don't care if a new node is created at x=0 which would be the average
value of nodes {0-d1, 0+d1}.  But Paraview linear interpolation already
does this for presentation purposes and it would not be strictly correct
for the underlying polynomial element.

Best Regards,

Noah Reddell

On Mon, Nov 2, 2015 at 7:42 AM, Cory Quammen <cory.quammen at kitware.com>
wrote:

> Hi Noah,
>
> See answers and questions for you inlined below.
>
>
>> 1)  My original data extends beyond the x=0 symmetry plane by two data
>> points.  And I have no data point on x=0 itself.  This is because in the
>> simulation, there is a third-order polynomial element centered on x=0.
>>
>
> What would you like to see on x=0?
>
>
>> 2)  My data is represented as Structured Curvilinear Grid (.VTS files)
>> though in actuality, it is rectilinear.
>>
>
> Shouldn't be a problem.
>
>
>> 3)  Some data arrays have odd symmetry, such that f(x<0) = -f(x>0)
>>
>
> The Reflect filter doesn't support this, but you obviously know that.
>
>
>> Here?s what I?ve tried.
>> A) Use the Reflect filter, reflect about x=0.  Works quite well for even
>> symmetry data, but the odd-symmetry data is misrepresented with opposite
>> sign for (x<0).  Also, there are glitches with the doubled-up mesh points
>> about x=0.  That becomes obvious when I tried to add a calculator to
>> correct the odd symmetry based on (x<0) boolean expression.
>>
>
> Could you describe the glitches? I couldn't understand them from just the
> images you attached.
>
>
>> B) Manually select data points with (x>0); Extract Selection; Reflect
>> that extraction; Group original and new selection.  Problem:  I end up with
>> a band of missing data for the cell centered on x=0.
>>
>
> Again, what do you expect to see at x=0 if your original data doesn't have
> anything at x = 0?
>
> Thanks,
> Cory
>
>
>> Ideally, I want to end up with a consistent full-domain representation
>> such that I can perform stream line traces across the x=0 mid-plane.
>>
>> I?d be very grateful if anyone could point out a working solution.
>> Here?s one of my data files and some screenshots of my failed attempts.  (
>> The scalar data item EM_field_n_c4 is a good odd-symmetry example. )
>>
>> VTS data file 800 kB
>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/harris_current_sheet_equilibreum_2.vts>
>>
>> Existing Curvilinear Mesh representation
>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/By.jpg>
>>
>> ProblemA demonstration of missing band about x=0
>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/missingband.jpg>
>>
>> ProblemB demonstration of glitch at centerline
>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/glitch_at_centerline.jpg>
>>
>>
>> Best Regards,
>>
>> Noah Reddell
>> University of Washington
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>>
>
>
> --
> Cory Quammen
> R&D Engineer
> Kitware, Inc.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/6e18fcaf/attachment.html>

From dennis_conklin at goodyear.com  Mon Nov  2 12:41:42 2015
From: dennis_conklin at goodyear.com (Dennis Conklin)
Date: Mon, 2 Nov 2015 17:41:42 +0000
Subject: [Paraview] [EXT] Re:  Making timesteps
In-Reply-To: <CAB5Fpx7T+c-vZkvujygAwZQoJTHOyNYeCVov+-grO5kRumiStA@mail.gmail.com>
References: <SN1PR0701MB202937796A279FA8C9906F9C9F2F0@SN1PR0701MB2029.namprd07.prod.outlook.com>
 <CAB5Fpx7T+c-vZkvujygAwZQoJTHOyNYeCVov+-grO5kRumiStA@mail.gmail.com>
Message-ID: <SN1PR0701MB202957BC7498EDB21617831F9F2C0@SN1PR0701MB2029.namprd07.prod.outlook.com>

Cory,

Thanks for that example ? I have gotten this working this  morning and validation is underway for our software.

Thanks very much ? it seems serendipitous that you might have been looking for a blog topic at that time.

Dennis

From: Cory Quammen [mailto:cory.quammen at kitware.com]
Sent: Saturday, October 31, 2015 12:31 PM
To: Dennis Conklin <dennis_conklin at goodyear.com>
Cc: Paraview (paraview at paraview.org) <paraview at paraview.org>
Subject: [EXT] Re: [Paraview] Making timesteps

Hi Dennis,

Please see the blog post I just wrote:

http://www.kitware.com/blog/home/post/989

This should give you an overview of the basics of time support in the Programmable Filter.

- Cory

On Fri, Oct 30, 2015 at 8:49 AM, Dennis Conklin <dennis_conklin at goodyear.com<mailto:dennis_conklin at goodyear.com>> wrote:
All,

I would like to take a ring of elements, lets say a ring of 180 elements, each 2degrees of arc.   After loading this ring, each of the 180 elements in the ring will have a specific strain state.

I would like to then take a separate input which would be a single element and give it 180 timesteps and for each timestep assign to this element each of the strain states from the ring.

This is basically to validate a static range calculation versus a rolling time-domain calculation.

I have never understood how to manipulate the time dimension in Paraview and I have no idea how to do this within a Programmable filter.   Are there any good examples of how to create and iterate thru different times and assign CellValues at each time?

Thanks for any hints

Dennis

_______________________________________________
Powered by www.kitware.com<http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Search the list archives at: http://markmail.org/search/?q=ParaView

Follow this link to subscribe/unsubscribe:
http://public.kitware.com/mailman/listinfo/paraview



--
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/81b52fdf/attachment.html>

From andy.bauer at kitware.com  Mon Nov  2 14:17:13 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Mon, 2 Nov 2015 14:17:13 -0500
Subject: [Paraview] Some questions about Catalyst Live Visualization
In-Reply-To: <CADwGrVqCZEN80J2GB6zi5CdhxL1rST+LQE8WY=b_Qw7Pgu4SBg@mail.gmail.com>
References: <CANjddW0cRyoAvB1NHum3p_nsD_CKoE7U__7MNTZ6_WNJJbVhtg@mail.gmail.com>
 <db6b9c51332d4785a45426c633e40ed9@MAIL06V-CAS04.fnal.gov>
 <CANjddW0607bqRQnq0rhTOJ5HhhzeqG4vEHL9UjY3YkyPMkG7gg@mail.gmail.com>
 <CADwGrVoSPc7t0X-PPEEiV_fdCRmwxxZvA6dLG=n5=5-+XBZ6dQ@mail.gmail.com>
 <CAMaOp+HOWerqEUsQugpPr0+BdazJ0W4GppYAVazEBUiUuz+dTQ@mail.gmail.com>
 <CADwGrVqCZEN80J2GB6zi5CdhxL1rST+LQE8WY=b_Qw7Pgu4SBg@mail.gmail.com>
Message-ID: <CAMaOp+EwHPKfWPaZ+xg-ifkJLMGpaxvfTY=hjrMgG9GVtM3E7Q@mail.gmail.com>

Hi Adam,

I just wanted to let you know that the gui name that's shown in the GUI
when doing a live connection is now fixed in ParaView master. It will be in
the upcoming 5.0 release.

Please let me know when you have your plugin for the "continue to the next
time step" available and we'll look into merging that into ParaView master.

Best regards,
Andy

On Mon, Nov 2, 2015 at 10:42 AM, Dan Lipsa <dan.lipsa at kitware.com> wrote:

> Hi Andy,
>
>
>>  (e.g. images, data extracts or to Catalyst Live via a connected client)
>> then RequestDataDescription() should return that there's no work to do so
>> that no cycles are wasted generating the VTK object.
>>
>
> This is a good idea. I think we could  indeed return that there is no work
> on the test for execution frequencies so that the user does not have to do
> another test.
> Here is the bug report for this:
>
> http://www.vtk.org/Bug/view.php?id=15815
>
> Dan
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/55989ee8/attachment.html>

From lyon at fnal.gov  Mon Nov  2 16:06:06 2015
From: lyon at fnal.gov (Adam Lyon)
Date: Mon, 2 Nov 2015 15:06:06 -0600
Subject: [Paraview] Some questions about Catalyst Live Visualization
In-Reply-To: <5f98ae40f3234d2f9b8f6153b43f7a80@MAIL06V-CAS04.fnal.gov>
References: <CANjddW0cRyoAvB1NHum3p_nsD_CKoE7U__7MNTZ6_WNJJbVhtg@mail.gmail.com>
 <db6b9c51332d4785a45426c633e40ed9@MAIL06V-CAS04.fnal.gov>
 <CANjddW0607bqRQnq0rhTOJ5HhhzeqG4vEHL9UjY3YkyPMkG7gg@mail.gmail.com>
 <CADwGrVoSPc7t0X-PPEEiV_fdCRmwxxZvA6dLG=n5=5-+XBZ6dQ@mail.gmail.com>
 <CAMaOp+HOWerqEUsQugpPr0+BdazJ0W4GppYAVazEBUiUuz+dTQ@mail.gmail.com>
 <CADwGrVqCZEN80J2GB6zi5CdhxL1rST+LQE8WY=b_Qw7Pgu4SBg@mail.gmail.com>
 <5f98ae40f3234d2f9b8f6153b43f7a80@MAIL06V-CAS04.fnal.gov>
Message-ID: <CANjddW1QYHtWzSAFd8NAEuvopsUOzNFXn8fF4EgAJhO9fcG3fg@mail.gmail.com>

Hi Andy - I've pushed my "CatalystLiveButtons" plugin to
https://github.com/lyon-fnal/CatalystLiveButtons . It has a button for the
single step and a connection button that also sets the Paused state once
the connection is established. I hope you don't mind me "borrowing" your
icons. One day I'll make better ones.    Don't hesitate to send me comments
or concerns for this code. Thanks! -- Adam

*------*

*Adam L. Lyon*
*Scientist; Associate Division Head for Systems for Scientific Applications*

Scientific Computing Division & Muon g-2 Experiment
Fermi National Accelerator Laboratory
630 840 5522 office
www.fnal.gov
lyon at fnal.gov

Connect with us!
Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
<https://www.facebook.com/Fermilab>  |  Twitter
<https://twitter.com/Fermilab>

On Mon, Nov 2, 2015 at 1:17 PM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Hi Adam,
>
> I just wanted to let you know that the gui name that's shown in the GUI
> when doing a live connection is now fixed in ParaView master. It will be in
> the upcoming 5.0 release.
>
> Please let me know when you have your plugin for the "continue to the next
> time step" available and we'll look into merging that into ParaView master.
>
> Best regards,
> Andy
>
> On Mon, Nov 2, 2015 at 10:42 AM, Dan Lipsa <dan.lipsa at kitware.com> wrote:
>
>> Hi Andy,
>>
>>
>>>  (e.g. images, data extracts or to Catalyst Live via a connected client)
>>> then RequestDataDescription() should return that there's no work to do so
>>> that no cycles are wasted generating the VTK object.
>>>
>>
>> This is a good idea. I think we could  indeed return that there is no
>> work on the test for execution frequencies so that the user does not have
>> to do another test.
>> Here is the bug report for this:
>>
>> http://www.vtk.org/Bug/view.php?id=15815
>>
>> Dan
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151102/f7fecb18/attachment.html>

From reynaud.maxime at gmx.fr  Tue Nov  3 03:32:44 2015
From: reynaud.maxime at gmx.fr (Maxime Reynaud)
Date: Tue, 3 Nov 2015 09:32:44 +0100
Subject: [Paraview] Colormap presets issue
Message-ID: <trinity-b6e50f6b-b254-495d-bf2c-21180937730c-1446539564496@3capp-mailcom-bs11>

An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/117784ec/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: colormap_error.png
Type: image/png
Size: 47647 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/117784ec/attachment.png>

From cory.quammen at kitware.com  Tue Nov  3 08:35:58 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Tue, 3 Nov 2015 08:35:58 -0500
Subject: [Paraview] Colormap presets issue
In-Reply-To: <trinity-b6e50f6b-b254-495d-bf2c-21180937730c-1446539564496@3capp-mailcom-bs11>
References: <trinity-b6e50f6b-b254-495d-bf2c-21180937730c-1446539564496@3capp-mailcom-bs11>
Message-ID: <CAB5Fpx7tCuJ1mdFZ+ZOJMOh7u1JUOo0yARBb43eq2P0S8Pkbfg@mail.gmail.com>

Hi Maxime,

Can you send the .xml file that is causing you problems?

Thanks,
Cory

On Tue, Nov 3, 2015 at 3:32 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
wrote:

> Hi,
>
> I have an issue with the colormap presets. I am using Paraview
> 4.4.0-237-g8db3c8e, and my OS is CentOS 7. The colormap xml file is not
> correctly read by Paraview, resulting in random presets, as it is shown by
> the attached picture. I am able to import a preset with an .xml file, and
> to apply it. However, if I close the ?choose preset? window and open it
> again, the problem is extended to the new imported preset. Does anyone have
> encountered this before?
>
> Thanks,
>
> RM
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/c90c62d0/attachment.html>

From cory.quammen at kitware.com  Tue Nov  3 09:04:16 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Tue, 3 Nov 2015 09:04:16 -0500
Subject: [Paraview] Colormap presets issue
In-Reply-To: <trinity-847c9862-e602-4152-a584-5032d2647e3d-1446558745076@3capp-mailcom-bs08>
References: <trinity-b6e50f6b-b254-495d-bf2c-21180937730c-1446539564496@3capp-mailcom-bs11>
 <CAB5Fpx7tCuJ1mdFZ+ZOJMOh7u1JUOo0yARBb43eq2P0S8Pkbfg@mail.gmail.com>
 <trinity-847c9862-e602-4152-a584-5032d2647e3d-1446558745076@3capp-mailcom-bs08>
Message-ID: <CAB5Fpx6K4=_m+c5i8=a76AnrQHZSVv2ire-0HyQ8JExno4KOMQ@mail.gmail.com>

Hi Maxime,

I cannot reproduce the errors you are seeing with the file you sent.

Do you have any problems importing the newer JSON format? You can test by
exporting a color map and then reimporting it.

Thanks,
Cory

On Tue, Nov 3, 2015 at 8:52 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
wrote:

> The attached file is the ColorMaps.xml corresponding to the version 4.4 of
> Paraview. I have also try to import a ColorMaps.xml from the version 4.1,
> with the same results.
>
> Thanks,
>
> Maxime
>
> *Envoy?:* mardi 3 novembre 2015 ? 14:35
> *De:* "Cory Quammen" <cory.quammen at kitware.com>
> *?:* "Maxime Reynaud" <reynaud.maxime at gmx.fr>
> *Cc:* ParaView <paraview at paraview.org>
> *Objet:* Re: [Paraview] Colormap presets issue
> Hi Maxime,
>
> Can you send the .xml file that is causing you problems?
>
> Thanks,
> Cory
>
> On Tue, Nov 3, 2015 at 3:32 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
> wrote:
>>
>> Hi,
>>
>> I have an issue with the colormap presets. I am using Paraview
>> 4.4.0-237-g8db3c8e, and my OS is CentOS 7. The colormap xml file is not
>> correctly read by Paraview, resulting in random presets, as it is shown by
>> the attached picture. I am able to import a preset with an .xml file, and
>> to apply it. However, if I close the ?choose preset? window and open it
>> again, the problem is extended to the new imported preset. Does anyone have
>> encountered this before?
>>
>> Thanks,
>>
>> RM
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>
>
>
> --
> Cory Quammen
> R&D Engineer
> Kitware, Inc.
>



-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/e1f8d22c/attachment.html>

From k_h at inbox.ru  Tue Nov  3 09:15:28 2015
From: k_h at inbox.ru (=?UTF-8?B?Tmlrb2xheSBLaG9raGxvdg==?=)
Date: Tue, 03 Nov 2015 17:15:28 +0300
Subject: [Paraview] =?utf-8?q?pvti_and_PointData_without_ghost_cells?=
Message-ID: <1446560128.780939@f323.i.mail.ru>

 Hello,
I'm trying to use pvti to store values at grid nodes (not cells).
So I use PointData. When I use serial saving with vti everything is ok.
But when I use pvti something gone wrong.
What I see and what I want to see has shown at picture bug.png.

Here is my files.

./grid2_000009.pvti
<?xml version="1.0"?>
<VTKFile type="PImageData" version="0.1" byte_order="LittleEndian">
? <PImageData WholeExtent="0 10 0 10 0 0" Origin="0.000000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000">
??? <Piece Extent="0 6 0 11 0 1" Source="./grid2_0_000009.vti"/>
??? <Piece Extent="6 11 0 11 0 1" Source="./grid2_1_000009.vti"/>
????? <PPointData Scalars = "vx" >
??????? <PDataArray type="Float32" Name="vx" format="ascii">

??????? </PDataArray>
????? </PPointData>
? </PImageData>
</VTKFile>

./grid2_0_000009.vti
<?xml version="1.0"?>
<VTKFile type="ImageData" version="0.1" byte_order="LittleEndian">
? <ImageData WholeExtent="0 5 0 10 0 0" Origin="0.000000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000">
??? <Piece Extent="0 5 0 10 0 0">
????? <PointData Scalars = "vx" >
??????? <DataArray type="Float32" Name="vx" format="ascii">
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
??????? </DataArray>
????? </PointData>
??? </Piece>
? </ImageData>
</VTKFile>

./grid2_1_000009.vti
<?xml version="1.0"?>
<VTKFile type="ImageData" version="0.1" byte_order="LittleEndian">
? <ImageData WholeExtent="0 4 0 10 0 0" Origin="0.600000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000">
??? <Piece Extent="0 4 0 10 0 0">
????? <PointData Scalars = "vx" >
??????? <DataArray type="Float32" Name="vx" format="ascii">
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 
??????? </DataArray>
????? </PointData>
??? </Piece>
? </ImageData>
</VTKFile>

Thanks.


Best regards,
Nikolay Khokhlov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/984ac09d/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: bug.png
Type: image/png
Size: 29619 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/984ac09d/attachment.png>

From aashish.chaudhary at kitware.com  Tue Nov  3 13:44:34 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Tue, 3 Nov 2015 13:44:34 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
Message-ID: <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>

Hi Simon,

the branch has been merged into VTK master. I am not sure when Paraview is
going to update the VTK, but you can do it manually if needed. We are also
going to run our bench marking again to be sure since recently lot many
changes went into the VTK / volume rendering. Please feel free to ping me
again if it does not solve your issue.

Looking forward to your feedback.

- Aashish

On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> Hi Simon,
>
> I found the reason behind the appeared performance you were getting. We
> have this code in volume rendering that when you interact changes the
> sampling distance and in the newer code we were too conservative compare to
> the last version. That's why you were getting better quality when you move
> your mouse but lower frame rates. I pushed a branch in VTK to address the
> issue. Would it be possible for you to build Paraview with VTK master?  It
> may take 3-4 days or longer for Paraview's VTK to get updated.
>
> Thanks,
> Aashish
>
> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>> Hi Simon,
>>
>> I am just finishing up a ParaView5 related parallel volume rendering bug
>> (pushing a branch today to VTK). This is next on my list.
>>
>> - Aashish
>>
>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>> simon.esneault at gmail.com> wrote:
>>
>>> Hello Aashish
>>>
>>> Did you get a chance to try to load the dataset on Windows ?
>>> Can I do anything to help you investigate ? Should I feel a bug, that
>>> may act as a reminder ?
>>> Have a nice day
>>> Simon
>>>
>>>
>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com>:
>>>
>>>> Thanks Simon. This is really strange since we are not seeing it on Mac
>>>> and Linux (but both has dedicated cards).
>>>>
>>>> I will look into it soon.
>>>>
>>>> - aashish
>>>>
>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>> simon.esneault at gmail.com> wrote:
>>>>
>>>>> Ok, thank you very much fort digging into this.
>>>>> I've done some test and I believe I can see a similar slowdown
>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>> graphics.
>>>>> Good luck in the investigation, I you need more details, do not
>>>>> hesitate to ask
>>>>> Simon
>>>>>
>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>> aashish.chaudhary at kitware.com>:
>>>>>
>>>>>> Ah, thanks. I will get back to you on this since on Linux I don't any
>>>>>> issue so it has to be Windows specific thing.
>>>>>>
>>>>>> - Aashish
>>>>>>
>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>
>>>>>>> I tried with that one from yesterday and today's version
>>>>>>> (4.4.0-209-gc399648)
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Simon
>>>>>>>
>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>
>>>>>>>> Thanks.
>>>>>>>>
>>>>>>>> And when did you download this version?
>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>
>>>>>>>> Thanks,
>>>>>>>> Aashish
>>>>>>>>
>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>> version seems even bigger.
>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>> results.
>>>>>>>>>
>>>>>>>>> About the FPS, it is difficult to give an exact number, because it
>>>>>>>>> depends of the condition (zoomed or not etc...) but yes, this is the idea.
>>>>>>>>> In our software, I've exposed the frame rate using this example :
>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>
>>>>>>>>> Thanks
>>>>>>>>> Simon
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>
>>>>>>>>>> Hi Simon,
>>>>>>>>>>
>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>
>>>>>>>>>> 1) Did you try without the shading and see how the performance
>>>>>>>>>> compares?
>>>>>>>>>>
>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this one
>>>>>>>>>> from (ParaView download page or did you built yourself?)
>>>>>>>>>>
>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and the
>>>>>>>>>> new one at 15-20 FPS as per your summary.
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> - Aashish
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>
>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>> The two tested version are :
>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2 backend.
>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>>> Quadro K420
>>>>>>>>>>>
>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>
>>>>>>>>>>> And start interacting ...
>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>> interactivity is better.
>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>
>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play with
>>>>>>>>>>> this with the old backend to fine tune the interactivity, although what's
>>>>>>>>>>> really inside was never clear to me
>>>>>>>>>>>
>>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>>
>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>> Simon
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>
>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>
>>>>>>>>>>>> Checking again. Wondering if you can provide some more detail
>>>>>>>>>>>> on the binary you are using and whether or not without shading the
>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I used your dataset on paraview master as of today on my Linux
>>>>>>>>>>>>> box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about 15-20
>>>>>>>>>>>>> FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>
>>>>>>>>>>>>> NOTE: You might get multiple emails because of the attachment
>>>>>>>>>>>>> size issue. Sorry about that.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short element
>>>>>>>>>>>>>>> (you can find the dataset here :
>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip). So I
>>>>>>>>>>>>>>> think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when compared
>>>>>>>>>>>>>>> to the old one, it seems less "low resolution" during interaction than the
>>>>>>>>>>>>>>> old one
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What happens
>>>>>>>>>>>>>> is that depending on what is interactive, (you can set the desired update
>>>>>>>>>>>>>> rate in VTK, not exposed in ParaView I believe),  it will do interactive
>>>>>>>>>>>>>> but with higher resolution (smaller sample distance).  If they both have
>>>>>>>>>>>>>> the same sample distance, then the new mapper should out perform the old
>>>>>>>>>>>>>> one, however, there is another thing we need to consider here which is
>>>>>>>>>>>>>> shading.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Can you disable the shading and see if now they both (opengl1
>>>>>>>>>>>>>> and 2) equally better? We already pushed a fix for it but not sure if that
>>>>>>>>>>>>>> you have in your build.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe the
>>>>>>>>>>>>>>> GPURenderDemo used with this dataset is enough to highlight the slow down.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with shading
>>>>>>>>>>>>>>>> that was causing the slow performance a while back. I don't remember if
>>>>>>>>>>>>>>>> that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the data
>>>>>>>>>>>>>>>>> type you might be using
>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The performance
>>>>>>>>>>>>>>>>> we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you compare
>>>>>>>>>>>>>>>>>> the latest 4.4 OpenGL2 build with the classic 4.4 build while volume
>>>>>>>>>>>>>>>>>> rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering implementation
>>>>>>>>>>>>>>>>>> should be faster than the old one, is there some more detailed explanation
>>>>>>>>>>>>>>>>>> somewhere ? Are there some important parameters that can make the
>>>>>>>>>>>>>>>>>> difference ?
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with the
>>>>>>>>>>>>>>>>>> new backend !
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>>           *
>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>> Simon Esneault
>>>>>>>>>>> Rennes, France
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>         *
>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>> Simon Esneault
>>>>>>>>> Rennes, France
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>       *
>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> ------------------------------------------------------------------
>>>>>>> Simon Esneault
>>>>>>> Rennes, France
>>>>>>> ------------------------------------------------------------------
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>     *
>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> ------------------------------------------------------------------
>>>>> Simon Esneault
>>>>> Rennes, France
>>>>> ------------------------------------------------------------------
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>> ------------------------------------------------------------------
>>> Simon Esneault
>>> Rennes, France
>>> ------------------------------------------------------------------
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/78c075b1/attachment.html>

From djortley at gmail.com  Tue Nov  3 13:51:54 2015
From: djortley at gmail.com (David Ortley)
Date: Tue, 3 Nov 2015 11:51:54 -0700
Subject: [Paraview] Bug in 4.2 and above
Message-ID: <CAOmyp+SAHZSfNnb_Nu+EDS0MrjeDumutGcCvPcZhWawnX9DHHg@mail.gmail.com>

All,

I've found a problem in Paraview that seems to be in every version from 4.2
to current (4.4) which involves the selecting and exporting of points as
.csv files.  This problem doesn't appear in version 4.1, and I don't recall
it appearing in versions prior, but I've not tested that fully.

I've also only tested the problem out with moderate sized data sets (around
10k or more points) and only on a Mac Pro (with 64 Gigs of Ram).

To test the problem, I used the following R script will create a file named
'break.csv' (though this seems to be a problem with any large set of
points) :

#!/usr/bin/env Rscript
# cols x,y,z are position
# col r is radius, col n is an index number
df=data.frame(x=rnorm(10000),y=rnorm(10000),z=rnorm(10000),n=seq(10000))
df$r=sqrt(df$x**2 + df$y**2 + df$z**2)
write.csv(df, 'break.csv', row.names=F, quote=F)



Load the file in Paraview, then add 'Table To Points', assigning X,Y and Z
appropriately.
Enable the 'Table To Points' filter in the 3D view and use the 'Select
points through (g)' button on the 3D view to select about half of the
points.

In the Spreadsheet view, make sure the 'TableToPoints*' filter is selected
and click the 'Show only selected elements'.

With the Spreadsheet view still active:
File -> Export Scene...
and save the file as a .CSV.

If you load the newly saved .CSV file and apply 'Table To Points' to
Points:0, Points:1 and Points:2, the data is a mess (you may have to reset
your view to see some of the mess.)

Is anybody else able to reproduce this?  If so, is there already an open
ticket somewhere, or does a bug report need to be written?

-David Ortley.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151103/8f010fb2/attachment.html>

From utkarsh.ayachit at kitware.com  Tue Nov  3 16:47:05 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 3 Nov 2015 16:47:05 -0500
Subject: [Paraview] Bug in 4.2 and above
In-Reply-To: <CAOmyp+SAHZSfNnb_Nu+EDS0MrjeDumutGcCvPcZhWawnX9DHHg@mail.gmail.com>
References: <CAOmyp+SAHZSfNnb_Nu+EDS0MrjeDumutGcCvPcZhWawnX9DHHg@mail.gmail.com>
Message-ID: <CADHSJjBV-CMcCc+TSLCsiPq7pTu3thxfe0Gx0zX1bxt0QQVTPQ@mail.gmail.com>

I couldn't reproduce the issue on linux. Can you share the two CSV
files you're getting?

Utkarsh

On Tue, Nov 3, 2015 at 1:51 PM, David Ortley <djortley at gmail.com> wrote:
> All,
>
> I've found a problem in Paraview that seems to be in every version from 4.2
> to current (4.4) which involves the selecting and exporting of points as
> .csv files.  This problem doesn't appear in version 4.1, and I don't recall
> it appearing in versions prior, but I've not tested that fully.
>
> I've also only tested the problem out with moderate sized data sets (around
> 10k or more points) and only on a Mac Pro (with 64 Gigs of Ram).
>
> To test the problem, I used the following R script will create a file named
> 'break.csv' (though this seems to be a problem with any large set of points)
> :
>
> #!/usr/bin/env Rscript
> # cols x,y,z are position
> # col r is radius, col n is an index number
> df=data.frame(x=rnorm(10000),y=rnorm(10000),z=rnorm(10000),n=seq(10000))
> df$r=sqrt(df$x**2 + df$y**2 + df$z**2)
> write.csv(df, 'break.csv', row.names=F, quote=F)
>
>
>
> Load the file in Paraview, then add 'Table To Points', assigning X,Y and Z
> appropriately.
> Enable the 'Table To Points' filter in the 3D view and use the 'Select
> points through (g)' button on the 3D view to select about half of the
> points.
>
> In the Spreadsheet view, make sure the 'TableToPoints*' filter is selected
> and click the 'Show only selected elements'.
>
> With the Spreadsheet view still active:
> File -> Export Scene...
> and save the file as a .CSV.
>
> If you load the newly saved .CSV file and apply 'Table To Points' to
> Points:0, Points:1 and Points:2, the data is a mess (you may have to reset
> your view to see some of the mess.)
>
> Is anybody else able to reproduce this?  If so, is there already an open
> ticket somewhere, or does a bug report need to be written?
>
> -David Ortley.
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>

From adlinds3 at ncsu.edu  Tue Nov  3 21:17:14 2015
From: adlinds3 at ncsu.edu (Alex Lindsay)
Date: Tue, 3 Nov 2015 21:17:14 -0500
Subject: [Paraview] Editing paraview (specifically ParaView/Python
	Scripting) wiki
Message-ID: <56396AAA.2030202@ncsu.edu>

I just submitted an account request for the paraview.org/Wiki. 
Hopefully, once I have an account, I can add this myself... I want to 
add some short documentation to the Python Scripting page, explaining if 
you're trying to do multiple Render() calls in the same python session, 
you must not close the ParaView figure window that appears after the 
first Render(). Closing the figure window after any Render() will make 
any subsequent Renders() exit the python interpreter (whether pvpython, 
ipython, or the standard python interpreter) with an error like the 
following:

XIO:  fatal IO error 11 (Resource temporarily unavailable) on X server ":0"

I probably spent an hour on google, stack exchange, and various 
help/forum boards trying to figure out why a second call to Render() 
would cause the interpreter to exit. By blind luck I realized that if I 
didn't close the figure produced by the first Render(), then subsequent 
Render() 's would work perfectly fine. Some doco on this might help 
other new users if they by chance like closing windows that are no 
longer needed and are then perplexed when they try and Render a new object.

Anyways, that's long-winded.

Alex

From cory.quammen at kitware.com  Wed Nov  4 11:44:51 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Wed, 4 Nov 2015 11:44:51 -0500
Subject: [Paraview] Named blocks in pvd Collection with time series
In-Reply-To: <CAOxFTcxjQw2YxFWoOcX6E0JL9NMPupN0vgKewaMKKBePEF0Atw@mail.gmail.com>
References: <CAOxFTcxjQw2YxFWoOcX6E0JL9NMPupN0vgKewaMKKBePEF0Atw@mail.gmail.com>
Message-ID: <CAB5Fpx7=vzZ3pqmKs_DhLT2FfT9YT4EbdHEoDHs3NEZYbFXMDw@mail.gmail.com>

Hi Giuseppe,

Your patch for ParaView that sets the block name to the name attribute in
the PVD file has just been merged to the master branch.

https://gitlab.kitware.com/paraview/paraview/merge_requests/454

Thank you for contributing to ParaView!

Best regards,
Cory


On Mon, Nov 2, 2015 at 8:49 AM, Giuseppe Bilotta <giuseppe.bilotta at gmail.com
> wrote:

> Hello all,
>
> I have the following situation: I have multiple dataset created by the
> same simulation, evolving in time. I'm currently presented wit two
> options to preserve time information:
>
> Option 1: I create a pvd in the form:
>
> <?xml version='1.0'?>
> <VTKFile type='Collection' version='0.1'>
> <Collection>
> <DataSet timestep='0' part='1' name='Planes' file='PLANES.vtu'/>
> <DataSet timestep='0' part='2' name='WaveGages' file='WaveGage_00000.vtu'/>
> <DataSet timestep='0' part='3' name='Particles' file='PART_00000.vtu'/>
> <DataSet timestep='0.00049' part='1' name='Planes' file='PLANES.vtu'/>
> <DataSet timestep='0.00049' part='2' name='WaveGages'
> file='WaveGage_00001.vtu'/>
> <DataSet timestep='0.00049' part='3' name='Particles'
> file='PART_00001.vtu'/>
> <!-- etc for the other timesteps -->
> </Collection>
> </VTKFile>
>
> which is efficient (single index file) but annoying UI-wise (since the
> names of the data sets are not used in the muti-block inspector or in
> the extract block filter)
>
> Option 2: I have the pvd point, for each timestep, to a single .vtm
> file which in turns points to the multiple vtu files for that
> timestep: so the pvd is like
>
> <?xml version='1.0'?>
> <VTKFile type='Collection' version='0.1'>
> <Collection>
> <DataSet timestep='0' group='' part='0' file='data_00000.vtm'/>
> <DataSet timestep='0.00049' group='' part='0' file='data_00001.vtm'/>
> </Collection>
> </VTKFile>
>
> and each vtm is like:
>
> <?xml version='1.0'?>
> <VTKFile type='vtkMultiBlockDataSet' version='1.0'>
> <vtkMultiBlockDataSet>
> <DataSet index='0' name='Planes' file='PLANES.vtu'/>
> <DataSet index='1' name='WaveGages' file='WaveGage_00000.vtu'/>
> <DataSet index='2' name='Particles' file='PART_00000.vtu'/>
> </vtkMultiBlockDataSet>
> </VTKFile>
>
> This has the advantage that the name of each dataset appears in the
> block extraction tool, but the disadvantage that I have to create one
> additional file per timestep (which may be a LOT of extra files)
>
> I've also tried Option 3: a pvd pointing to one pvd per block, and
> each pvd having the time series for that block, but this simply
> segfaults paraview.
>
> So my question is: is there a way to combine the compactness offered
> Option 1 with the possibility to see the block names in the UI offered
> by Option 2? I've also tried to play around with the group option in
> the pvd dataset entries, to no effect (and I'm still not clear on the
> difference between group and part, so any clarification on this is
> also welcome).
>
> Thanks in advance and best regards,
>
>
> --
> Giuseppe "Oblomov" Bilotta
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>



-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/7fea442d/attachment.html>

From adlinds3 at ncsu.edu  Wed Nov  4 12:23:22 2015
From: adlinds3 at ncsu.edu (Alex Lindsay)
Date: Wed, 4 Nov 2015 12:23:22 -0500
Subject: [Paraview] Why are multiple csv files written?
Message-ID: <563A3F0A.4030204@ncsu.edu>

I am running this simple script:

    from paraview.simple import *

    path = "/home/lindsayad/gdrive/MooseOutput/"
    file_name =
    "DCPlasma_argon_energy_variable_trans_for_compare_townsend_spline_new_form_var_iz_var_el_new_ip_trans_coeffs_small_plasma_radius_gold_out"
    inp = path + file_name + ".e"
    out = path + file_name + ".csv"

    reader = ExodusIIReader(FileName=inp)
    tsteps = reader.TimestepValues
    writer = CreateWriter(out, reader)
    writer.UpdatePipeline(time=tsteps[len(tsteps)-1])

When I run the script, 5 csv files are written, with suffix *0.csv, 
*1.csv, ..., *4.csv. The *0.csv file contains the data I want; however, 
the other 4 files are empty. Why are these 4 empty files written, and 
how can I prevent it from happening?

Alex
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/5cde576e/attachment.html>

From dan.lipsa at kitware.com  Wed Nov  4 16:30:41 2015
From: dan.lipsa at kitware.com (Dan Lipsa)
Date: Wed, 4 Nov 2015 16:30:41 -0500
Subject: [Paraview] Why are multiple csv files written?
In-Reply-To: <563A3F0A.4030204@ncsu.edu>
References: <563A3F0A.4030204@ncsu.edu>
Message-ID: <CADwGrVqwT3zAN6Bc5WdRJ57WmkhUFbdm3QDq7hhYdGEo_bOrow@mail.gmail.com>

Alex,
I assume your exodus file has 5 time steps. Try writer.UpdatePipelien()
without any parameters. It should only write time step 0.
You can also load your exodus file and/or cvs files in ParaView to look at
them.

Dan


On Wed, Nov 4, 2015 at 12:23 PM, Alex Lindsay <adlinds3 at ncsu.edu> wrote:

> I am running this simple script:
>
> from paraview.simple import *
>
> path = "/home/lindsayad/gdrive/MooseOutput/"
> file_name =
> "DCPlasma_argon_energy_variable_trans_for_compare_townsend_spline_new_form_var_iz_var_el_new_ip_trans_coeffs_small_plasma_radius_gold_out"
> inp = path + file_name + ".e"
> out = path + file_name + ".csv"
>
> reader = ExodusIIReader(FileName=inp)
> tsteps = reader.TimestepValues
> writer = CreateWriter(out, reader)
> writer.UpdatePipeline(time=tsteps[len(tsteps)-1])
>
> When I run the script, 5 csv files are written, with suffix *0.csv,
> *1.csv, ..., *4.csv. The *0.csv file contains the data I want; however, the
> other 4 files are empty. Why are these 4 empty files written, and how can I
> prevent it from happening?
>
> Alex
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/0643ed00/attachment.html>

From tossin at gmail.com  Wed Nov  4 17:47:10 2015
From: tossin at gmail.com (Evan Kao)
Date: Wed, 4 Nov 2015 14:47:10 -0800
Subject: [Paraview] Update Extent / Whole Extent mismatch error when using
	Programmable Filter
Message-ID: <CAEhu9hC-TM0Wut+1RC5Pa__QKEEVOKv2gWCTxC87A14uUravLw@mail.gmail.com>

Hi all,

I'm trying to perform an operation on 2 data objects using the Python
Programmable Filter, specifically 2 structured grids  However, one of them
is in 2D:


?


This appears to force the output to be 2D as well, and I get the following
error:

ERROR: In
C:\DBD\pvs-x64\paraview\src\paraview\VTK\Common\ExecutionModel\vtkStreamingDemandDrivenPipeline.cxx,
line 857

vtkPVPostFilterExecutive (0000000011A65E20): The update extent specified in
the information for output port 0 on algorithm
vtkPVPostFilter(0000000011985EB0) is 0 191 0 255 0 0, which is outside the
whole extent 0 131 0 175 0 31.

If I perform the following snippet:

in1 = self.GetInputDataObject(0,0)

in2 = self.GetInputDataObject(0,1)

out1 = self.GetOutputDataObject(0)


if in1.GetDimensions()[2] == 1:

	out1.DeepCopy(in2)

else:

	out1.DeepCopy(in1)
?

The output data has only 2 dimensions (the green surface):


?

If I examine the data in the Spreadsheet View though, it seems all the
information has been copied over (all points and cells), so only the view
is incorrect.

How do I fix this?

Thanks,
Evan Kao
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/12f47d5d/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Paraview error1.png
Type: image/png
Size: 80553 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/12f47d5d/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Paraview error2.png
Type: image/png
Size: 71933 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151104/12f47d5d/attachment-0001.png>

From giuseppe.bilotta at gmail.com  Thu Nov  5 03:17:31 2015
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Thu, 5 Nov 2015 09:17:31 +0100
Subject: [Paraview] Named blocks in pvd Collection with time series
In-Reply-To: <CAB5Fpx7=vzZ3pqmKs_DhLT2FfT9YT4EbdHEoDHs3NEZYbFXMDw@mail.gmail.com>
References: <CAOxFTcxjQw2YxFWoOcX6E0JL9NMPupN0vgKewaMKKBePEF0Atw@mail.gmail.com>
 <CAB5Fpx7=vzZ3pqmKs_DhLT2FfT9YT4EbdHEoDHs3NEZYbFXMDw@mail.gmail.com>
Message-ID: <CAOxFTcxvMebuXyPH5_gemEpNSwT8nrc=QpumS2JPB72ES66Srw@mail.gmail.com>

Hello Cory,

thank you for merging the patch, it definitely solves my issue ;-)

In the mean time I've also started looking into the segfault when PVD
files link to other PVD files. This was easy to find and fix, so I'll
prepare a new patch soon, but I'll need some help to implement actual
proper nested PVD support (assuming it's ever needed). Where would be
the most appropriate place to discuss this? Here? the -developers ML?
A pull request for a WIP patchset?

Giuseppe

On Wed, Nov 4, 2015 at 5:44 PM, Cory Quammen <cory.quammen at kitware.com> wrote:
> Hi Giuseppe,
>
> Your patch for ParaView that sets the block name to the name attribute in
> the PVD file has just been merged to the master branch.
>
> https://gitlab.kitware.com/paraview/paraview/merge_requests/454
>
> Thank you for contributing to ParaView!



>
> On Mon, Nov 2, 2015 at 8:49 AM, Giuseppe Bilotta
> <giuseppe.bilotta at gmail.com> wrote:
>>
>> Hello all,
>>
>> I have the following situation: I have multiple dataset created by the
>> same simulation, evolving in time. I'm currently presented wit two
>> options to preserve time information:
>>
>> Option 1: I create a pvd in the form:
>>
>> <?xml version='1.0'?>
>> <VTKFile type='Collection' version='0.1'>
>> <Collection>
>> <DataSet timestep='0' part='1' name='Planes' file='PLANES.vtu'/>
>> <DataSet timestep='0' part='2' name='WaveGages'
>> file='WaveGage_00000.vtu'/>
>> <DataSet timestep='0' part='3' name='Particles' file='PART_00000.vtu'/>
>> <DataSet timestep='0.00049' part='1' name='Planes' file='PLANES.vtu'/>
>> <DataSet timestep='0.00049' part='2' name='WaveGages'
>> file='WaveGage_00001.vtu'/>
>> <DataSet timestep='0.00049' part='3' name='Particles'
>> file='PART_00001.vtu'/>
>> <!-- etc for the other timesteps -->
>> </Collection>
>> </VTKFile>
>>
>> which is efficient (single index file) but annoying UI-wise (since the
>> names of the data sets are not used in the muti-block inspector or in
>> the extract block filter)
>>
>> Option 2: I have the pvd point, for each timestep, to a single .vtm
>> file which in turns points to the multiple vtu files for that
>> timestep: so the pvd is like
>>
>> <?xml version='1.0'?>
>> <VTKFile type='Collection' version='0.1'>
>> <Collection>
>> <DataSet timestep='0' group='' part='0' file='data_00000.vtm'/>
>> <DataSet timestep='0.00049' group='' part='0' file='data_00001.vtm'/>
>> </Collection>
>> </VTKFile>
>>
>> and each vtm is like:
>>
>> <?xml version='1.0'?>
>> <VTKFile type='vtkMultiBlockDataSet' version='1.0'>
>> <vtkMultiBlockDataSet>
>> <DataSet index='0' name='Planes' file='PLANES.vtu'/>
>> <DataSet index='1' name='WaveGages' file='WaveGage_00000.vtu'/>
>> <DataSet index='2' name='Particles' file='PART_00000.vtu'/>
>> </vtkMultiBlockDataSet>
>> </VTKFile>
>>
>> This has the advantage that the name of each dataset appears in the
>> block extraction tool, but the disadvantage that I have to create one
>> additional file per timestep (which may be a LOT of extra files)
>>
>> I've also tried Option 3: a pvd pointing to one pvd per block, and
>> each pvd having the time series for that block, but this simply
>> segfaults paraview.
>>
>> So my question is: is there a way to combine the compactness offered
>> Option 1 with the possibility to see the block names in the UI offered
>> by Option 2? I've also tried to play around with the group option in
>> the pvd dataset entries, to no effect (and I'm still not clear on the
>> difference between group and part, so any clarification on this is
>> also welcome).
>>
>> Thanks in advance and best regards,
>>
>>
>> --
>> Giuseppe "Oblomov" Bilotta
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>
>
>
>
> --
> Cory Quammen
> R&D Engineer
> Kitware, Inc.



-- 
Giuseppe "Oblomov" Bilotta

From k_h at inbox.ru  Thu Nov  5 07:49:59 2015
From: k_h at inbox.ru (=?UTF-8?B?Tmlrb2xheSBLaG9raGxvdg==?=)
Date: Thu, 05 Nov 2015 15:49:59 +0300
Subject: [Paraview] =?utf-8?q?pvti_example_with_data_in_cells_question?=
In-Reply-To: <1446560128.780939@f323.i.mail.ru>
References: <1446560128.780939@f323.i.mail.ru>
Message-ID: <1446727799.309105941@f362.i.mail.ru>

 Hello,

I'm trying to use pvti format to save data.
I've create example with 8 cells, but I've got different view when open files *.vti and file pvti separately (image attached).
What could be the problem?


File x.pvti:
<?xml version="1.0"?>
<VTKFile type="PImageData" version="0.1">
? <PImageData WholeExtent="0 4 0 2 0 0" Origin="0.000000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000" GhostLevel="0">
??? <Piece Extent="0 2 0 2 0 0" Source="./1.vti"/>
??? <Piece Extent="2 4 0 2 0 0" Source="./2.vti"/>
????? <PCellData Scalars = "vx" >
????????? <PDataArray type="Float32" Name="vx" />
????? </PCellData>
? </PImageData>
</VTKFile>

File 1.vti:
<?xml version="1.0"?>
<VTKFile type="ImageData" version="0.1">
? <ImageData WholeExtent="0 2 0 2 0 0" Origin="0.000000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000">
??? <Piece Extent="0 2 0 2 0 0">
????? <CellData Scalars = "vx" >
??????? <DataArray type="Float32" Name="vx" format="ascii">
??????????? 1 2 3 4
??????? </DataArray>
????? </CellData>
??? </Piece>
? </ImageData>
</VTKFile>

File 2.vti:
<?xml version="1.0"?>
<VTKFile type="ImageData" version="0.1">
? <ImageData WholeExtent="0 2 0 2 0 0" Origin="0.200000 1.000000 0.000000" Spacing="0.100000 0.100000 0.000000">
??? <Piece Extent="0 2 0 2 0 0">
????? <CellData Scalars = "vx" >
??????? <DataArray type="Float32" Name="vx" format="ascii">
???????????? 5 6 7 8
??????? </DataArray>
????? </CellData>
??? </Piece>
? </ImageData>
</VTKFile>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/cd37a4a9/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pvtiex1.png
Type: image/png
Size: 8066 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/cd37a4a9/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1.vti
Type: application/octet-stream
Size: 400 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/cd37a4a9/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2.vti
Type: application/octet-stream
Size: 401 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/cd37a4a9/attachment-0001.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: x.pvti
Type: application/octet-stream
Size: 425 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/cd37a4a9/attachment-0002.obj>

From cory.quammen at kitware.com  Thu Nov  5 08:45:40 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Thu, 5 Nov 2015 08:45:40 -0500
Subject: [Paraview] Named blocks in pvd Collection with time series
In-Reply-To: <CAOxFTcxvMebuXyPH5_gemEpNSwT8nrc=QpumS2JPB72ES66Srw@mail.gmail.com>
References: <CAOxFTcxjQw2YxFWoOcX6E0JL9NMPupN0vgKewaMKKBePEF0Atw@mail.gmail.com>
 <CAB5Fpx7=vzZ3pqmKs_DhLT2FfT9YT4EbdHEoDHs3NEZYbFXMDw@mail.gmail.com>
 <CAOxFTcxvMebuXyPH5_gemEpNSwT8nrc=QpumS2JPB72ES66Srw@mail.gmail.com>
Message-ID: <CAB5Fpx558BfjbfRHDAQ3X5z2mtw7+qaAc_uqf2THJc8yXn7Zsg@mail.gmail.com>

Giuseppe,

paraview-developers would be a good place for such a discussion.

Thanks,
Cory

On Thu, Nov 5, 2015 at 3:17 AM, Giuseppe Bilotta <giuseppe.bilotta at gmail.com
> wrote:

> Hello Cory,
>
> thank you for merging the patch, it definitely solves my issue ;-)
>
> In the mean time I've also started looking into the segfault when PVD
> files link to other PVD files. This was easy to find and fix, so I'll
> prepare a new patch soon, but I'll need some help to implement actual
> proper nested PVD support (assuming it's ever needed). Where would be
> the most appropriate place to discuss this? Here? the -developers ML?
> A pull request for a WIP patchset?
>
> Giuseppe
>
> On Wed, Nov 4, 2015 at 5:44 PM, Cory Quammen <cory.quammen at kitware.com>
> wrote:
> > Hi Giuseppe,
> >
> > Your patch for ParaView that sets the block name to the name attribute in
> > the PVD file has just been merged to the master branch.
> >
> > https://gitlab.kitware.com/paraview/paraview/merge_requests/454
> >
> > Thank you for contributing to ParaView!
>
>
>
> >
> > On Mon, Nov 2, 2015 at 8:49 AM, Giuseppe Bilotta
> > <giuseppe.bilotta at gmail.com> wrote:
> >>
> >> Hello all,
> >>
> >> I have the following situation: I have multiple dataset created by the
> >> same simulation, evolving in time. I'm currently presented wit two
> >> options to preserve time information:
> >>
> >> Option 1: I create a pvd in the form:
> >>
> >> <?xml version='1.0'?>
> >> <VTKFile type='Collection' version='0.1'>
> >> <Collection>
> >> <DataSet timestep='0' part='1' name='Planes' file='PLANES.vtu'/>
> >> <DataSet timestep='0' part='2' name='WaveGages'
> >> file='WaveGage_00000.vtu'/>
> >> <DataSet timestep='0' part='3' name='Particles' file='PART_00000.vtu'/>
> >> <DataSet timestep='0.00049' part='1' name='Planes' file='PLANES.vtu'/>
> >> <DataSet timestep='0.00049' part='2' name='WaveGages'
> >> file='WaveGage_00001.vtu'/>
> >> <DataSet timestep='0.00049' part='3' name='Particles'
> >> file='PART_00001.vtu'/>
> >> <!-- etc for the other timesteps -->
> >> </Collection>
> >> </VTKFile>
> >>
> >> which is efficient (single index file) but annoying UI-wise (since the
> >> names of the data sets are not used in the muti-block inspector or in
> >> the extract block filter)
> >>
> >> Option 2: I have the pvd point, for each timestep, to a single .vtm
> >> file which in turns points to the multiple vtu files for that
> >> timestep: so the pvd is like
> >>
> >> <?xml version='1.0'?>
> >> <VTKFile type='Collection' version='0.1'>
> >> <Collection>
> >> <DataSet timestep='0' group='' part='0' file='data_00000.vtm'/>
> >> <DataSet timestep='0.00049' group='' part='0' file='data_00001.vtm'/>
> >> </Collection>
> >> </VTKFile>
> >>
> >> and each vtm is like:
> >>
> >> <?xml version='1.0'?>
> >> <VTKFile type='vtkMultiBlockDataSet' version='1.0'>
> >> <vtkMultiBlockDataSet>
> >> <DataSet index='0' name='Planes' file='PLANES.vtu'/>
> >> <DataSet index='1' name='WaveGages' file='WaveGage_00000.vtu'/>
> >> <DataSet index='2' name='Particles' file='PART_00000.vtu'/>
> >> </vtkMultiBlockDataSet>
> >> </VTKFile>
> >>
> >> This has the advantage that the name of each dataset appears in the
> >> block extraction tool, but the disadvantage that I have to create one
> >> additional file per timestep (which may be a LOT of extra files)
> >>
> >> I've also tried Option 3: a pvd pointing to one pvd per block, and
> >> each pvd having the time series for that block, but this simply
> >> segfaults paraview.
> >>
> >> So my question is: is there a way to combine the compactness offered
> >> Option 1 with the possibility to see the block names in the UI offered
> >> by Option 2? I've also tried to play around with the group option in
> >> the pvd dataset entries, to no effect (and I'm still not clear on the
> >> difference between group and part, so any clarification on this is
> >> also welcome).
> >>
> >> Thanks in advance and best regards,
> >>
> >>
> >> --
> >> Giuseppe "Oblomov" Bilotta
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> >> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> >> http://paraview.org/Wiki/ParaView
> >>
> >> Search the list archives at: http://markmail.org/search/?q=ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://public.kitware.com/mailman/listinfo/paraview
> >
> >
> >
> >
> > --
> > Cory Quammen
> > R&D Engineer
> > Kitware, Inc.
>
>
>
> --
> Giuseppe "Oblomov" Bilotta
>



-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/aa796f23/attachment.html>

From terralyn.vandetta at oregonstate.edu  Thu Nov  5 18:16:08 2015
From: terralyn.vandetta at oregonstate.edu (Vandetta, Terralyn)
Date: Thu, 5 Nov 2015 23:16:08 +0000
Subject: [Paraview] pvserver: Could not find a decent visual
Message-ID: <FDD27D28C1482345B37B573E212F883996C8A7E2@EX1.oregonstate.edu>

I currently have paraview 3.98.1 installed on a CentOS 6.2 cluster.  The head node has X installed, but the compute nodes do not.  I have built Paraview with the OSMesa, but cannot seem to get it to work on this server.  I have a Debian system with the same 3.98.1 installation built with OSMesa, and have no problems.

I have tried running with mpi and also just a single instance, and am using pvserver, with a 3.98.1 client on my windows machine.  I can make the connection on my client, and open a file.  As soon as I attempt to view the file, in every incantation I get similar error messages:

Waiting for client...
Connection URL: cs://hpc.fsl.orst.edu:11111
Accepting connection(s): hpc.fsl.orst.edu:11111
Client connected.
ERROR: In /usr/local/src/ParaView-3.98.1-source/VTK/Rendering/OpenGL/vtkXOpenGLRenderWindow.cxx, line 383
vtkXOpenGLRenderWindow (0x1ebf3c0): Could not find a decent visual

[Further message, included in attached file]

Based on information from the paraview wiki, I was under the impression that I should be able to use: pvserver -use-offscreen-rendering to force it to ignore any X connections, but so far, I have had no luck.  The compute nodes do not have X installed at all, and so I tried the reverse connection on the client, with the -use-offscreen-rendering and -ch -rc options, with the same results.  Am I misunderstanding the use of OSMesa and -use-offscreen-rendering?

Any assistance would be appreciated.

Terralyn Vandetta
College of Forestry
Oregon State University
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/c8ff54ad/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pvserver.log
Type: application/octet-stream
Size: 4870 bytes
Desc: pvserver.log
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/c8ff54ad/attachment.obj>

From einatlev at ldeo.columbia.edu  Thu Nov  5 22:27:52 2015
From: einatlev at ldeo.columbia.edu (Einat Lev)
Date: Thu, 5 Nov 2015 22:27:52 -0500
Subject: [Paraview] problem using CSV table as input
Message-ID: <961239F4-C5A3-483B-AA9B-DB10384F429B@ldeo.columbia.edu>

Hello all!

I am trying to load a CSV file and convert it to a structured grid plot. It is a very small table, with one attribute per point. I have no problem converting it to points using the ?table to points? filter, However, Paraview crashes as soon as I try to run the ?table to structured grid? filter. Just before Paraview crashes, it gives the following error message:

ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/ExecutionModel/vtkExecutive.cxx, line 754
vtkPVCompositeDataPipeline (0x1184a6700): Algorithm vtkPTableToStructuredGrid(0x1184a3cf0) returned failure for request: vtkInformation (0x11ef54ab0)
Debug: Off
Modified Time: 135879
Reference Count: 1
Registered Events: (none)
Request: REQUEST_DATA
FROM_OUTPUT_PORT: 0
FORWARD_DIRECTION: 0
ALGORITHM_AFTER_FORWARD: 1


Warning: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/DataModel/vtkDataObject.cxx, line 525
vtkTable (0x118419000): Attempted to ShallowCopy from null.


The CSV table is attached below. Running on a MacbookPro (Yosemite). Paraview version 4.0.1.

All the best,
Einat
Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu <mailto:einatlev at ldeo.columbia.edu>
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964 


Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964 




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/82979f3c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: temp.csv
Type: text/csv
Size: 1406 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/82979f3c/attachment.csv>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/82979f3c/attachment-0001.html>

From wascott at sandia.gov  Thu Nov  5 22:29:50 2015
From: wascott at sandia.gov (Scott, W Alan)
Date: Fri, 6 Nov 2015 03:29:50 +0000
Subject: [Paraview] [EXTERNAL]  problem using CSV table as input
In-Reply-To: <961239F4-C5A3-483B-AA9B-DB10384F429B@ldeo.columbia.edu>
References: <961239F4-C5A3-483B-AA9B-DB10384F429B@ldeo.columbia.edu>
Message-ID: <581db24e5b504f389cb9ee7c38619ba2@ES01AMSNLNT.srn.sandia.gov>

Mind trying a newer version of ParaView?  4.0.1 is a few years old.

Thanks,

Alan

From: ParaView [mailto:paraview-bounces at paraview.org] On Behalf Of Einat Lev
Sent: Thursday, November 05, 2015 8:28 PM
To: paraview at paraview.org
Subject: [EXTERNAL] [Paraview] problem using CSV table as input

Hello all!

I am trying to load a CSV file and convert it to a structured grid plot. It is a very small table, with one attribute per point. I have no problem converting it to points using the ?table to points? filter, However, Paraview crashes as soon as I try to run the ?table to structured grid? filter. Just before Paraview crashes, it gives the following error message:

ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/ExecutionModel/vtkExecutive.cxx, line 754
vtkPVCompositeDataPipeline (0x1184a6700): Algorithm vtkPTableToStructuredGrid(0x1184a3cf0) returned failure for request: vtkInformation (0x11ef54ab0)
Debug: Off
Modified Time: 135879
Reference Count: 1
Registered Events: (none)
Request: REQUEST_DATA
FROM_OUTPUT_PORT: 0
FORWARD_DIRECTION: 0
ALGORITHM_AFTER_FORWARD: 1


Warning: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/DataModel/vtkDataObject.cxx, line 525
vtkTable (0x118419000): Attempted to ShallowCopy from null.


The CSV table is attached below. Running on a MacbookPro (Yosemite). Paraview version 4.0.1.

All the best,
Einat
Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu<mailto:einatlev at ldeo.columbia.edu>
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/df1f4a79/attachment.html>

From cory.quammen at kitware.com  Thu Nov  5 22:41:01 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Thu, 5 Nov 2015 22:41:01 -0500
Subject: [Paraview] trying to achieve odd symmetry reflection where axis
 is inside original domain
In-Reply-To: <CAJj1tdQea88=ZY-OvrdXWznq98SELCYkuDCp60qwrq81kEo5qQ@mail.gmail.com>
References: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>
 <CAB5Fpx5K2xKta1WWcYsArTrBJfu1efwwahvXenMCBQbGbxCZNw@mail.gmail.com>
 <CAJj1tdQea88=ZY-OvrdXWznq98SELCYkuDCp60qwrq81kEo5qQ@mail.gmail.com>
Message-ID: <CAB5Fpx4V_CS6q=bDdLAYz87dCXem2ZbMiNTxU=WRH7Zt2daboQ@mail.gmail.com>

On Mon, Nov 2, 2015 at 11:30 AM, Noah Reddell <reddell at uw.edu> wrote:

> Hi Cory,
>
>    Thanks for your interest.  I can answer your two questions pretty
> compactly.
>
> *> Could you describe the glitches? I couldn't understand them from just
> the images you attached.*
> The scalar variable EM_field_n_c4 in the referenced .VTS file is the
> analytic function: *tanh(-x/4.082)*.
> The resulting odd symmetry reflection about x=0 should achieve the same
> function.  The function is smooth.
> I suspect the glitches come from the two nodes left of x=0 in my original
> data.  I speculate that the Reflect filter is reflecting those as well.
> Actually, I'm pretty sure I observed as much yesterday when not using the
> option to copy the original data.  This means some kind of funny overlap
> occurs between the before and after reflection data.
>

Ah, thanks for clarifying. Now I understand your grid layout better.

*> what do you expect to see at x=0 if your original data doesn't have
> anything at x = 0?*
> My preference would be to have no new nodes created along x=0.  I have
> nodes at x= { 0-d2,  0-d1,  0+d1, 0+d2, 0+d3, 0+d4, ... }.
> One way to look at the problem would be to reflect nodes {0+d3,0+d4,...}
> about x=0 because the the existing two nodes {0-d2, 0-d1} are already
> correct.
> Another way to look it it is to discard existing nodes {0-d2, 0-d1} and
> reflect what remains about x=0.
> In both cases, reflect with possible negative scaling!
>

Yes, I would try trimming the extent to get rid of 0-d2 and 0-d1, then
reflect the rest. This *should* solve the glitch you see, but you will
still have the center missing from the result.


> I don't care if a new node is created at x=0 which would be the average
> value of nodes {0-d1, 0+d1}.  But Paraview linear interpolation already
> does this for presentation purposes and it would not be strictly correct
> for the underlying polynomial element.
>

Your best bet is probably a programmable filter to get the control you
want. You should be able to take care of the trimming away of {0-d2, 0-d1},
do the reflection with odd symmetry, then fill in the center by adding
cells to the output.

- Cory


> Best Regards,
>
> Noah Reddell
>
> On Mon, Nov 2, 2015 at 7:42 AM, Cory Quammen <cory.quammen at kitware.com>
> wrote:
>
>> Hi Noah,
>>
>> See answers and questions for you inlined below.
>>
>>
>>> 1)  My original data extends beyond the x=0 symmetry plane by two data
>>> points.  And I have no data point on x=0 itself.  This is because in the
>>> simulation, there is a third-order polynomial element centered on x=0.
>>>
>>
>> What would you like to see on x=0?
>>
>>
>>> 2)  My data is represented as Structured Curvilinear Grid (.VTS files)
>>> though in actuality, it is rectilinear.
>>>
>>
>> Shouldn't be a problem.
>>
>>
>>> 3)  Some data arrays have odd symmetry, such that f(x<0) = -f(x>0)
>>>
>>
>> The Reflect filter doesn't support this, but you obviously know that.
>>
>>
>>> Here?s what I?ve tried.
>>> A) Use the Reflect filter, reflect about x=0.  Works quite well for even
>>> symmetry data, but the odd-symmetry data is misrepresented with opposite
>>> sign for (x<0).  Also, there are glitches with the doubled-up mesh points
>>> about x=0.  That becomes obvious when I tried to add a calculator to
>>> correct the odd symmetry based on (x<0) boolean expression.
>>>
>>
>> Could you describe the glitches? I couldn't understand them from just the
>> images you attached.
>>
>>
>>> B) Manually select data points with (x>0); Extract Selection; Reflect
>>> that extraction; Group original and new selection.  Problem:  I end up with
>>> a band of missing data for the cell centered on x=0.
>>>
>>
>> Again, what do you expect to see at x=0 if your original data doesn't
>> have anything at x = 0?
>>
>> Thanks,
>> Cory
>>
>>
>>> Ideally, I want to end up with a consistent full-domain representation
>>> such that I can perform stream line traces across the x=0 mid-plane.
>>>
>>> I?d be very grateful if anyone could point out a working solution.
>>> Here?s one of my data files and some screenshots of my failed attempts.  (
>>> The scalar data item EM_field_n_c4 is a good odd-symmetry example. )
>>>
>>> VTS data file 800 kB
>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/harris_current_sheet_equilibreum_2.vts>
>>>
>>> Existing Curvilinear Mesh representation
>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/By.jpg>
>>>
>>> ProblemA demonstration of missing band about x=0
>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/missingband.jpg>
>>>
>>> ProblemB demonstration of glitch at centerline
>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/glitch_at_centerline.jpg>
>>>
>>>
>>> Best Regards,
>>>
>>> Noah Reddell
>>> University of Washington
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>>
>>
>>
>> --
>> Cory Quammen
>> R&D Engineer
>> Kitware, Inc.
>>
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151105/1266c68d/attachment.html>

From kmorel at sandia.gov  Fri Nov  6 08:39:41 2015
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Fri, 6 Nov 2015 13:39:41 +0000
Subject: [Paraview] [EXTERNAL]  problem using CSV table as input
In-Reply-To: <581db24e5b504f389cb9ee7c38619ba2@ES01AMSNLNT.srn.sandia.gov>
References: <961239F4-C5A3-483B-AA9B-DB10384F429B@ldeo.columbia.edu>
 <581db24e5b504f389cb9ee7c38619ba2@ES01AMSNLNT.srn.sandia.gov>
Message-ID: <D261FA46.29F8D%kmorel@sandia.gov>

Einat,

I think the problem is partially an issue with the old version of ParaView you are using and partially that you are missing a line in your csv file.

If you load your csv file in ParaView 4.4.0 and then run "table to structured grid" you get the error, "The input table must have exactly 100 rows. Currently it has 99 rows." Looking more closely at the csv file, it is missing the last line, which should be "1,0.4,0.01,17". If you add that line to the csv file, table to structured grid runs just fine. (At least it runs fine on ParaView 4.4.0. I don't have a version that old handy to try it on.) See the attached screenshot.

I suspect that your old version of ParaView is crashing because it is not detecting that your table is too short and this problem was fixed in later versions.

-Ken


From: ParaView <paraview-bounces at paraview.org<mailto:paraview-bounces at paraview.org>> on behalf of Walter Scott <wascott at sandia.gov<mailto:wascott at sandia.gov>>
Date: Thursday, November 5, 2015 at 8:29 PM
To: Einat Lev <einatlev at ldeo.columbia.edu<mailto:einatlev at ldeo.columbia.edu>>, "paraview at paraview.org<mailto:paraview at paraview.org>" <paraview at paraview.org<mailto:paraview at paraview.org>>
Subject: Re: [Paraview] [EXTERNAL] problem using CSV table as input

Mind trying a newer version of ParaView?  4.0.1 is a few years old.

Thanks,

Alan

From: ParaView [mailto:paraview-bounces at paraview.org] On Behalf Of Einat Lev
Sent: Thursday, November 05, 2015 8:28 PM
To: paraview at paraview.org<mailto:paraview at paraview.org>
Subject: [EXTERNAL] [Paraview] problem using CSV table as input

Hello all!

I am trying to load a CSV file and convert it to a structured grid plot. It is a very small table, with one attribute per point. I have no problem converting it to points using the "table to points" filter, However, Paraview crashes as soon as I try to run the "table to structured grid" filter. Just before Paraview crashes, it gives the following error message:

ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/ExecutionModel/vtkExecutive.cxx, line 754
vtkPVCompositeDataPipeline (0x1184a6700): Algorithm vtkPTableToStructuredGrid(0x1184a3cf0) returned failure for request: vtkInformation (0x11ef54ab0)
Debug: Off
Modified Time: 135879
Reference Count: 1
Registered Events: (none)
Request: REQUEST_DATA
FROM_OUTPUT_PORT: 0
FORWARD_DIRECTION: 0
ALGORITHM_AFTER_FORWARD: 1


Warning: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/DataModel/vtkDataObject.cxx, line 525
vtkTable (0x118419000): Attempted to ShallowCopy from null.


The CSV table is attached below. Running on a MacbookPro (Yosemite). Paraview version 4.0.1.

All the best,
Einat
Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu<mailto:einatlev at ldeo.columbia.edu>
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/9702ccaf/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ParaView-Table-To-Structured.png
Type: image/png
Size: 254408 bytes
Desc: ParaView-Table-To-Structured.png
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/9702ccaf/attachment-0001.png>

From ryan.abernathey at gmail.com  Fri Nov  6 08:58:30 2015
From: ryan.abernathey at gmail.com (Ryan Abernathey)
Date: Fri, 6 Nov 2015 08:58:30 -0500
Subject: [Paraview] can't do stereo animation output in batch mode
In-Reply-To: <CAJAZx5Dr0jHjHAy5uTjkrRrSE+7ftE0wzq0vKL9_PVHDQ3naGQ@mail.gmail.com>
References: <CAJAZx5Dr0jHjHAy5uTjkrRrSE+7ftE0wzq0vKL9_PVHDQ3naGQ@mail.gmail.com>
Message-ID: <CAJAZx5Df01rzurfPQ8LX8tFSd2LVs8uNwcsA=-_YNw6ecR6WgA@mail.gmail.com>

Any thoughts on this issue?

Has anyone else successfully output stereo images from pvbatch?

On Fri, Oct 30, 2015 at 3:38 PM, Ryan Abernathey <ryan.abernathey at gmail.com>
wrote:

> I am trying to output an animation using batch mode in stereo. I want to
> output one set of images for the left eye and one for the right eye. In my
> script, I tried to do this by setting view.StereoType = "Left" or "Right".
> However, this doesn't work; both produce identical output.
>
> Can you give me some advice? Script is below. I am executing this with
> pvbatch.
>
>
> import os
> paraview.simple._DisableFirstRenderCameraReset()
>
> state_dir = '/scratch/Paraview/hurricane/long_hourly_rotating/try4'
> fname = 'filter_pre_render.pvsm'
> st = 'left'
> # or
> # st = 'right'
>
>
> servermanager.LoadState(os.path.join(state_dir, fname))
> outdir =
> '/scratch/Paraview/hurricane/long_hourly_rotating/output/top_view/' + st
> view = GetRenderView()
> view.ViewSize = [1920, 1080]
> view.StereoType = st.capitalize()
> SetActiveView(view)
> Render()
> WriteAnimation(os.path.join(outdir, 'top_view_%s.png' % st))
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/5ac3d136/attachment.html>

From cory.quammen at kitware.com  Fri Nov  6 09:55:42 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Fri, 6 Nov 2015 09:55:42 -0500
Subject: [Paraview] Colormap presets issue
In-Reply-To: <trinity-b55b583d-f648-4b74-b8de-f69df5c280a8-1446815389882@3capp-mailcom-bs15>
References: <trinity-b6e50f6b-b254-495d-bf2c-21180937730c-1446539564496@3capp-mailcom-bs11>
 <CAB5Fpx7tCuJ1mdFZ+ZOJMOh7u1JUOo0yARBb43eq2P0S8Pkbfg@mail.gmail.com>
 <trinity-847c9862-e602-4152-a584-5032d2647e3d-1446558745076@3capp-mailcom-bs08>
 <CAB5Fpx6K4=_m+c5i8=a76AnrQHZSVv2ire-0HyQ8JExno4KOMQ@mail.gmail.com>
 <trinity-b55b583d-f648-4b74-b8de-f69df5c280a8-1446815389882@3capp-mailcom-bs15>
Message-ID: <CAB5Fpx7H2YZfKMc_AukgVg2WSEajfVf6tsY4PSdzpe1+HBxwWQ@mail.gmail.com>

Hi Maxime,

Well, that explains why I couldn't reproduce the issue!

It sounds like the XML parser and JSON parser are expecting the comma
decimal separator. Thanks for letting us know.

Cory

On Fri, Nov 6, 2015 at 8:09 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
wrote:

> Hi Cory,
>
> I have solved the problem (by chance). I have changed the langage settings
> of my system from Fr to Us, and it works ! As in French we use "," instead
> of "." for the decimal separator, it may have lead to misread the json
> files...
>
> Have a good day,
>
> Maxime
> *Envoy?:* mardi 3 novembre 2015 ? 15:04
> *De:* "Cory Quammen" <cory.quammen at kitware.com>
> *?:* "Maxime Reynaud" <reynaud.maxime at gmx.fr>, ParaView <
> paraview at paraview.org>
>
> *Objet:* Re: [Paraview] Colormap presets issue
> Hi Maxime,
>
> I cannot reproduce the errors you are seeing with the file you sent.
>
> Do you have any problems importing the newer JSON format? You can test by
> exporting a color map and then reimporting it.
>
> Thanks,
> Cory
>
> On Tue, Nov 3, 2015 at 8:52 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
> wrote:
>>
>> The attached file is the ColorMaps.xml corresponding to the version 4.4
>> of Paraview. I have also try to import a ColorMaps.xml from the version
>> 4.1, with the same results.
>>
>> Thanks,
>>
>> Maxime
>>
>> *Envoy?:* mardi 3 novembre 2015 ? 14:35
>> *De:* "Cory Quammen" <cory.quammen at kitware.com>
>> *?:* "Maxime Reynaud" <reynaud.maxime at gmx.fr>
>> *Cc:* ParaView <paraview at paraview.org>
>> *Objet:* Re: [Paraview] Colormap presets issue
>> Hi Maxime,
>>
>> Can you send the .xml file that is causing you problems?
>>
>> Thanks,
>> Cory
>>
>> On Tue, Nov 3, 2015 at 3:32 AM, Maxime Reynaud <reynaud.maxime at gmx.fr>
>> wrote:
>>>
>>> Hi,
>>>
>>> I have an issue with the colormap presets. I am using Paraview
>>> 4.4.0-237-g8db3c8e, and my OS is CentOS 7. The colormap xml file is not
>>> correctly read by Paraview, resulting in random presets, as it is shown by
>>> the attached picture. I am able to import a preset with an .xml file, and
>>> to apply it. However, if I close the ?choose preset? window and open it
>>> again, the problem is extended to the new imported preset. Does anyone have
>>> encountered this before?
>>>
>>> Thanks,
>>>
>>> RM
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>
>>
>>
>> --
>> Cory Quammen
>> R&D Engineer
>> Kitware, Inc.
>>
>
>
> --
> Cory Quammen
> R&D Engineer
> Kitware, Inc.
>



-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/e30c70a9/attachment.html>

From cory.quammen at kitware.com  Fri Nov  6 15:04:03 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Fri, 6 Nov 2015 15:04:03 -0500
Subject: [Paraview] trying to achieve odd symmetry reflection where axis
 is inside original domain
In-Reply-To: <CAJj1tdR7XgyA9sazk21hCJ40xQC2pXP=AxWbdyy183d3RUtW4g@mail.gmail.com>
References: <95B15CE8-22B4-42D7-A2D7-09D48603AA64@uw.edu>
 <CAB5Fpx5K2xKta1WWcYsArTrBJfu1efwwahvXenMCBQbGbxCZNw@mail.gmail.com>
 <CAJj1tdQea88=ZY-OvrdXWznq98SELCYkuDCp60qwrq81kEo5qQ@mail.gmail.com>
 <CAB5Fpx4V_CS6q=bDdLAYz87dCXem2ZbMiNTxU=WRH7Zt2daboQ@mail.gmail.com>
 <CAJj1tdR7XgyA9sazk21hCJ40xQC2pXP=AxWbdyy183d3RUtW4g@mail.gmail.com>
Message-ID: <CAB5Fpx60LZ=GpU5mJr=5CjoX0bWPo=ug0qJZTta+r8ik3sp=jw@mail.gmail.com>

Noah,

Unfortunately, no examples that I know of will be adaptable to this
problem. What you would probably want to do is create a new
vtkStructuredGrid of the proper dimension and copy the data you need to the
right locations by looping over the logical grid locations.

HTH,
Cory

On Fri, Nov 6, 2015 at 2:38 PM, Noah Reddell <reddell at uw.edu> wrote:

> Cory,
>   Thanks for the encouragement that a programmable filter may make this
> possible.
>    Can you point to any example code that could do this sort of trimming
> in the programmable filter?  I'm hoping by logical index, but I suppose a
> x-coordinate mask could work too.
>    Likewise, how can cells be added to the output to fill-in the center?
> This point data, so I'm guessing we really need to express the connectivity
> between the old trimmed x>0 nodes and the new reflected (and -1 scaled) x<0
> nodes.
>
> Best Regards,
>
> Noah Reddell
>
> On Thu, Nov 5, 2015 at 7:41 PM, Cory Quammen <cory.quammen at kitware.com>
> wrote:
>
>> On Mon, Nov 2, 2015 at 11:30 AM, Noah Reddell <reddell at uw.edu> wrote:
>>
>>> Hi Cory,
>>>
>>>    Thanks for your interest.  I can answer your two questions pretty
>>> compactly.
>>>
>>> *> Could you describe the glitches? I couldn't understand them from just
>>> the images you attached.*
>>> The scalar variable EM_field_n_c4 in the referenced .VTS file is the
>>> analytic function: *tanh(-x/4.082)*.
>>> The resulting odd symmetry reflection about x=0 should achieve the same
>>> function.  The function is smooth.
>>> I suspect the glitches come from the two nodes left of x=0 in my
>>> original data.  I speculate that the Reflect filter is reflecting those as
>>> well.  Actually, I'm pretty sure I observed as much yesterday when not
>>> using the option to copy the original data.  This means some kind of funny
>>> overlap occurs between the before and after reflection data.
>>>
>>
>> Ah, thanks for clarifying. Now I understand your grid layout better.
>>
>> *> what do you expect to see at x=0 if your original data doesn't have
>>> anything at x = 0?*
>>> My preference would be to have no new nodes created along x=0.  I have
>>> nodes at x= { 0-d2,  0-d1,  0+d1, 0+d2, 0+d3, 0+d4, ... }.
>>> One way to look at the problem would be to reflect nodes {0+d3,0+d4,...}
>>> about x=0 because the the existing two nodes {0-d2, 0-d1} are already
>>> correct.
>>> Another way to look it it is to discard existing nodes {0-d2, 0-d1} and
>>> reflect what remains about x=0.
>>> In both cases, reflect with possible negative scaling!
>>>
>>
>> Yes, I would try trimming the extent to get rid of 0-d2 and 0-d1, then
>> reflect the rest. This *should* solve the glitch you see, but you will
>> still have the center missing from the result.
>>
>>
>>> I don't care if a new node is created at x=0 which would be the average
>>> value of nodes {0-d1, 0+d1}.  But Paraview linear interpolation already
>>> does this for presentation purposes and it would not be strictly correct
>>> for the underlying polynomial element.
>>>
>>
>> Your best bet is probably a programmable filter to get the control you
>> want. You should be able to take care of the trimming away of {0-d2, 0-d1},
>> do the reflection with odd symmetry, then fill in the center by adding
>> cells to the output.
>>
>> - Cory
>>
>>
>>> Best Regards,
>>>
>>> Noah Reddell
>>>
>>> On Mon, Nov 2, 2015 at 7:42 AM, Cory Quammen <cory.quammen at kitware.com>
>>> wrote:
>>>
>>>> Hi Noah,
>>>>
>>>> See answers and questions for you inlined below.
>>>>
>>>>
>>>>> 1)  My original data extends beyond the x=0 symmetry plane by two data
>>>>> points.  And I have no data point on x=0 itself.  This is because in the
>>>>> simulation, there is a third-order polynomial element centered on x=0.
>>>>>
>>>>
>>>> What would you like to see on x=0?
>>>>
>>>>
>>>>> 2)  My data is represented as Structured Curvilinear Grid (.VTS files)
>>>>> though in actuality, it is rectilinear.
>>>>>
>>>>
>>>> Shouldn't be a problem.
>>>>
>>>>
>>>>> 3)  Some data arrays have odd symmetry, such that f(x<0) = -f(x>0)
>>>>>
>>>>
>>>> The Reflect filter doesn't support this, but you obviously know that.
>>>>
>>>>
>>>>> Here?s what I?ve tried.
>>>>> A) Use the Reflect filter, reflect about x=0.  Works quite well for
>>>>> even symmetry data, but the odd-symmetry data is misrepresented with
>>>>> opposite sign for (x<0).  Also, there are glitches with the doubled-up mesh
>>>>> points about x=0.  That becomes obvious when I tried to add a calculator to
>>>>> correct the odd symmetry based on (x<0) boolean expression.
>>>>>
>>>>
>>>> Could you describe the glitches? I couldn't understand them from just
>>>> the images you attached.
>>>>
>>>>
>>>>> B) Manually select data points with (x>0); Extract Selection; Reflect
>>>>> that extraction; Group original and new selection.  Problem:  I end up with
>>>>> a band of missing data for the cell centered on x=0.
>>>>>
>>>>
>>>> Again, what do you expect to see at x=0 if your original data doesn't
>>>> have anything at x = 0?
>>>>
>>>> Thanks,
>>>> Cory
>>>>
>>>>
>>>>> Ideally, I want to end up with a consistent full-domain representation
>>>>> such that I can perform stream line traces across the x=0 mid-plane.
>>>>>
>>>>> I?d be very grateful if anyone could point out a working solution.
>>>>> Here?s one of my data files and some screenshots of my failed attempts.  (
>>>>> The scalar data item EM_field_n_c4 is a good odd-symmetry example. )
>>>>>
>>>>> VTS data file 800 kB
>>>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/harris_current_sheet_equilibreum_2.vts>
>>>>>
>>>>> Existing Curvilinear Mesh representation
>>>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/By.jpg>
>>>>>
>>>>> ProblemA demonstration of missing band about x=0
>>>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/missingband.jpg>
>>>>>
>>>>> ProblemB demonstration of glitch at centerline
>>>>> <https://dl.dropboxusercontent.com/u/54478577/supporting%20forum%20posts/paraview_odd_symmetry_help/glitch_at_centerline.jpg>
>>>>>
>>>>>
>>>>> Best Regards,
>>>>>
>>>>> Noah Reddell
>>>>> University of Washington
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Cory Quammen
>>>> R&D Engineer
>>>> Kitware, Inc.
>>>>
>>>
>>>
>>
>>
>> --
>> Cory Quammen
>> R&D Engineer
>> Kitware, Inc.
>>
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151106/ac9d59cb/attachment.html>

From einatlev at ldeo.columbia.edu  Sun Nov  8 20:20:10 2015
From: einatlev at ldeo.columbia.edu (Einat Lev)
Date: Sun, 8 Nov 2015 20:20:10 -0500
Subject: [Paraview] [EXTERNAL]  problem using CSV table as input
In-Reply-To: <D261FA46.29F8D%kmorel@sandia.gov>
References: <961239F4-C5A3-483B-AA9B-DB10384F429B@ldeo.columbia.edu>
 <581db24e5b504f389cb9ee7c38619ba2@ES01AMSNLNT.srn.sandia.gov>
 <D261FA46.29F8D%kmorel@sandia.gov>
Message-ID: <E749A1FA-D23D-4AA8-9696-05AB6CB9E7FE@ldeo.columbia.edu>

Thanks! This helped a lot. 


Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964 




> On Nov 6, 2015, at 8:39 AM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> 
> Einat,
> 
> I think the problem is partially an issue with the old version of ParaView you are using and partially that you are missing a line in your csv file.
> 
> If you load your csv file in ParaView 4.4.0 and then run "table to structured grid" you get the error, "The input table must have exactly 100 rows. Currently it has 99 rows." Looking more closely at the csv file, it is missing the last line, which should be "1,0.4,0.01,17". If you add that line to the csv file, table to structured grid runs just fine. (At least it runs fine on ParaView 4.4.0. I don't have a version that old handy to try it on.) See the attached screenshot.
> 
> I suspect that your old version of ParaView is crashing because it is not detecting that your table is too short and this problem was fixed in later versions.
> 
> -Ken
> 
> 
> From: ParaView <paraview-bounces at paraview.org <mailto:paraview-bounces at paraview.org>> on behalf of Walter Scott <wascott at sandia.gov <mailto:wascott at sandia.gov>>
> Date: Thursday, November 5, 2015 at 8:29 PM
> To: Einat Lev <einatlev at ldeo.columbia.edu <mailto:einatlev at ldeo.columbia.edu>>, "paraview at paraview.org <mailto:paraview at paraview.org>" <paraview at paraview.org <mailto:paraview at paraview.org>>
> Subject: Re: [Paraview] [EXTERNAL] problem using CSV table as input
> 
> Mind trying a newer version of ParaView?  4.0.1 is a few years old.
>  
> Thanks,
>  
> Alan
>  
> From: ParaView [mailto:paraview-bounces at paraview.org <mailto:paraview-bounces at paraview.org>] On Behalf Of Einat Lev
> Sent: Thursday, November 05, 2015 8:28 PM
> To: paraview at paraview.org <mailto:paraview at paraview.org>
> Subject: [EXTERNAL] [Paraview] problem using CSV table as input
>  
> Hello all!
>  
> I am trying to load a CSV file and convert it to a structured grid plot. It is a very small table, with one attribute per point. I have no problem converting it to points using the ?table to points? filter, However, Paraview crashes as soon as I try to run the ?table to structured grid? filter. Just before Paraview crashes, it gives the following error message:
>  
> ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/ExecutionModel/vtkExecutive.cxx, line 754
> vtkPVCompositeDataPipeline (0x1184a6700): Algorithm vtkPTableToStructuredGrid(0x1184a3cf0) returned failure for request: vtkInformation (0x11ef54ab0)
> Debug: Off
> Modified Time: 135879
> Reference Count: 1
> Registered Events: (none)
> Request: REQUEST_DATA
> FROM_OUTPUT_PORT: 0
> FORWARD_DIRECTION: 0
> ALGORITHM_AFTER_FORWARD: 1
>  
>  
> Warning: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/VTK/Common/DataModel/vtkDataObject.cxx, line 525
> vtkTable (0x118419000): Attempted to ShallowCopy from null.
>  
>  
> The CSV table is attached below. Running on a MacbookPro (Yosemite). Paraview version 4.0.1.
>  
> All the best,
> Einat
> Einat Lev
>  
> Lamont Assistant Research Professor
> einatlev at ldeo.columbia.edu <mailto:einatlev at ldeo.columbia.edu>
> Phone: 845-365-8616
> Seismology 223,
> 61 Route 9W
> Palisades, NY
> 10964 
>  
> <ParaView-Table-To-Structured.png>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151108/d26a3efe/attachment.html>

From david.thompson at kitware.com  Mon Nov  9 10:15:57 2015
From: david.thompson at kitware.com (David Thompson)
Date: Mon, 9 Nov 2015 10:15:57 -0500
Subject: [Paraview] 3D widget in branded app panel?
Message-ID: <6569B1BA-F5C0-4FBB-A65B-775103CB5101@kitware.com>

Hi all,

I need to add some 3D widgets to a custom ParaView application. I've succeeded in creating a pqImplicitPlaneWidget and pqSphereWidget and adding their Qt widgets to the UI. However, the 3D widget never appears in the render view; the plane/sphere show up, but not the widgets. It's unclear from the documentation/code what proxy I should pass to the widget constructors for the "controlled" proxy. This is what I'm currently doing:

  pqServer* server = paraViewApp->getActiveServer();
  pqObjectBuilder* builder = paraViewApp->getObjectBuilder();
  QPointer<pqPipelineSource> source =
    builder->createSource("sources", "PlaneSource", server);
  vtkSMProxy* ctrlProxy = source->getProxy();
  vtkSMProxy* refProxy = ...; // proxy of the pqPipelineSource whose bounds should be used by the widget
  pq3DWidget* pvwidget = new pqImplicitPlaneWidget(refProxy, ctrlProxy);
  pqActiveObjects& actives(pqActiveObjects::instance());
  pvwidget->setView(actives.activeView());
  pqDataRepresentation* rep =
    builder->createDataRepresentation(
      source->getOutputPort(0), actives.activeView())
  panelLayout->addWidget(pvwidget);
  pvwidget->showWidget();

I've even tried

  double bds[6] = { -85, 85, -202, -34, -216, -47 };
  pvwidget->resetBounds(bds);

to fix the bounds to something meaningful, but this has no effect.

Any hints would be useful.

	Thanks,
	David

From utkarsh.ayachit at kitware.com  Mon Nov  9 10:40:57 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 9 Nov 2015 10:40:57 -0500
Subject: [Paraview] 3D widget in branded app panel?
In-Reply-To: <6569B1BA-F5C0-4FBB-A65B-775103CB5101@kitware.com>
References: <6569B1BA-F5C0-4FBB-A65B-775103CB5101@kitware.com>
Message-ID: <CADHSJjAdhDnsLkrUPUu=6r_h9aGuMoaxMCGiKPemSc96DY_DBw@mail.gmail.com>

David,

I believe you're missing a pq3DWIdget::select() call after the showWigdte().

On Mon, Nov 9, 2015 at 10:15 AM, David Thompson
<david.thompson at kitware.com> wrote:
> Hi all,
>
> I need to add some 3D widgets to a custom ParaView application. I've succeeded in creating a pqImplicitPlaneWidget and pqSphereWidget and adding their Qt widgets to the UI. However, the 3D widget never appears in the render view; the plane/sphere show up, but not the widgets. It's unclear from the documentation/code what proxy I should pass to the widget constructors for the "controlled" proxy. This is what I'm currently doing:
>
>   pqServer* server = paraViewApp->getActiveServer();
>   pqObjectBuilder* builder = paraViewApp->getObjectBuilder();
>   QPointer<pqPipelineSource> source =
>     builder->createSource("sources", "PlaneSource", server);
>   vtkSMProxy* ctrlProxy = source->getProxy();
>   vtkSMProxy* refProxy = ...; // proxy of the pqPipelineSource whose bounds should be used by the widget
>   pq3DWidget* pvwidget = new pqImplicitPlaneWidget(refProxy, ctrlProxy);
>   pqActiveObjects& actives(pqActiveObjects::instance());
>   pvwidget->setView(actives.activeView());
>   pqDataRepresentation* rep =
>     builder->createDataRepresentation(
>       source->getOutputPort(0), actives.activeView())
>   panelLayout->addWidget(pvwidget);
>   pvwidget->showWidget();
>
> I've even tried
>
>   double bds[6] = { -85, 85, -202, -34, -216, -47 };
>   pvwidget->resetBounds(bds);
>
> to fix the bounds to something meaningful, but this has no effect.
>
> Any hints would be useful.
>
>         Thanks,
>         David
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

From david.thompson at kitware.com  Mon Nov  9 10:55:03 2015
From: david.thompson at kitware.com (David Thompson)
Date: Mon, 9 Nov 2015 10:55:03 -0500
Subject: [Paraview] 3D widget in branded app panel?
In-Reply-To: <CADHSJjAdhDnsLkrUPUu=6r_h9aGuMoaxMCGiKPemSc96DY_DBw@mail.gmail.com>
References: <6569B1BA-F5C0-4FBB-A65B-775103CB5101@kitware.com>
 <CADHSJjAdhDnsLkrUPUu=6r_h9aGuMoaxMCGiKPemSc96DY_DBw@mail.gmail.com>
Message-ID: <13E01E11-11C8-46F7-8D86-06D63D67BE4E@kitware.com>

Hi Utkarsh,

> I believe you're missing a pq3DWIdget::select() call after the showWigdte().

That did it.

	Thanks!
	David

> 
> On Mon, Nov 9, 2015 at 10:15 AM, David Thompson
> <david.thompson at kitware.com> wrote:
>> Hi all,
>> 
>> I need to add some 3D widgets to a custom ParaView application. I've succeeded in creating a pqImplicitPlaneWidget and pqSphereWidget and adding their Qt widgets to the UI. However, the 3D widget never appears in the render view; the plane/sphere show up, but not the widgets. It's unclear from the documentation/code what proxy I should pass to the widget constructors for the "controlled" proxy. This is what I'm currently doing:
>> 
>>  pqServer* server = paraViewApp->getActiveServer();
>>  pqObjectBuilder* builder = paraViewApp->getObjectBuilder();
>>  QPointer<pqPipelineSource> source =
>>    builder->createSource("sources", "PlaneSource", server);
>>  vtkSMProxy* ctrlProxy = source->getProxy();
>>  vtkSMProxy* refProxy = ...; // proxy of the pqPipelineSource whose bounds should be used by the widget
>>  pq3DWidget* pvwidget = new pqImplicitPlaneWidget(refProxy, ctrlProxy);
>>  pqActiveObjects& actives(pqActiveObjects::instance());
>>  pvwidget->setView(actives.activeView());
>>  pqDataRepresentation* rep =
>>    builder->createDataRepresentation(
>>      source->getOutputPort(0), actives.activeView())
>>  panelLayout->addWidget(pvwidget);
>>  pvwidget->showWidget();
>> 
>> I've even tried
>> 
>>  double bds[6] = { -85, 85, -202, -34, -216, -47 };
>>  pvwidget->resetBounds(bds);
>> 
>> to fix the bounds to something meaningful, but this has no effect.
>> 
>> Any hints would be useful.
>> 
>>        Thanks,
>>        David
>> _______________________________________________
>> Powered by www.kitware.com
>> 
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>> 
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>> 
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>> 
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview


From jm.lucas at gantha.com  Tue Nov 10 08:58:02 2015
From: jm.lucas at gantha.com (Jean-Michel Lucas)
Date: Tue, 10 Nov 2015 14:58:02 +0100
Subject: [Paraview] Customize programmable filters: copy arrays
Message-ID: <000001d11bbf$d2b6e4c0$7824ae40$@lucas@gantha.com>

Dear all,

 

I have been using this method (http://www.kitware.com/blog/home/post/534) to
create programmable filters as XML plugins, and things work fine.

 

With this method, is there a way I can copy the arrays in the input data to
the output ? Programmable filters have a box 'Copy Arrays' that you can
check: I am looking to access this property in my script so the
python_filter_generator can translate it.

 

Thanks in advance,

 

Jean-Michel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/da984067/attachment.html>

From gonzalo.feijoo at siemens.com  Tue Nov 10 09:44:31 2015
From: gonzalo.feijoo at siemens.com (Feijoo, Gonzalo)
Date: Tue, 10 Nov 2015 14:44:31 +0000
Subject: [Paraview] Reconstruction of surface data from point cloud.
Message-ID: <055B9084EECF0244A45C95019FFA1D039530D0BE@USSLMMBX003.net.plm.eds.com>

Dear, All,

I am sure the following had come up before, but I can't find all the information I need to get this done.

I have a point cloud with a scalar value attached to each point. I would like to reconstruct the surface from the point cloud as a triangular mesh and interpolate the scalar values on this mesh. I am using Paraview 4.3.1. I found a couple of messages from David DeMarle on exactly this theme back in January of 2015. The instruction on his email get me almost there, but not quite.

Here is what I did:


(1)    I read the .csv data into Paraview (data read as x,y,z,fval)

(2)    Attached a Table to Points filter and made sure that the X,Y,Z columns point to the appropriate values.

(3)    I can now visualize the points in 3D space and the points are colored according to fval.

(4)    Per David's email, I attached a programmable filter to the table, as output I chose "same as input" then wrote the following in the script box:



import vtk

pdi = self.GetPolyDataInput()

subf1 = vtk.vtkSurfaceReconstructionFilter()

subf1.SetInputData(pdi)

subf2 = vtk.vtkContourFilter()

subf2.SetInputConnection(subf1.GetOutputPort())

subf2.Update()

pdo =  self.GetPolyDataOutput()

pdo.ShallowCopy(subf2.GetOutput())



(5)    A beautiful triangular mesh from the point cloud is now available. But the fval values are not available. As data arrays I see ImageScalars with range [0,0] and Normals. So I guess fval is not being passed along.

Thank you in advance for any help.

Best regards,

Gonzalo
Gonzalo R. Feij?o
Advanced projects and architecture
Specialized Engineering

Siemens Industry Sector
Siemens Product Lifecycle Management Software Inc.
200 Fifth Avenue
Waltham, MA  02451 United States
Tel.      :+1 (781) 907-9751
Fax      :+1 (781) 907-9880
gonzalo.feijoo at siemens.com<mailto:gonzalo.feijoo at siemens.com>
www.siemens.com/plm<http://www.siemens.com/plm>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/d110c144/attachment.html>

From dave.demarle at kitware.com  Tue Nov 10 10:22:01 2015
From: dave.demarle at kitware.com (David E DeMarle)
Date: Tue, 10 Nov 2015 10:22:01 -0500
Subject: [Paraview] Reconstruction of surface data from point cloud.
In-Reply-To: <055B9084EECF0244A45C95019FFA1D039530D0BE@USSLMMBX003.net.plm.eds.com>
References: <055B9084EECF0244A45C95019FFA1D039530D0BE@USSLMMBX003.net.plm.eds.com>
Message-ID: <CANjZAi-ONg62s3J-HtYibVLBcL27LKQUSStBTms7P-uBoYyyFQ@mail.gmail.com>

Try throwing in a call to vtkContourFilter->ComputeScalarsOn() like so.

On Tue, Nov 10, 2015 at 9:44 AM, Feijoo, Gonzalo <gonzalo.feijoo at siemens.com
> wrote:

> mport vtk
>
> pdi = self.GetPolyDataInput()
>
> subf1 = vtk.vtkSurfaceReconstructionFilter()
>
> subf1.SetInputData(pdi)
>
> subf2 = vtk.vtkContourFilter()
>
> subf2.ComputeScalarsOn()

> subf2.SetInputConnection(subf1.GetOutputPort())
>
> subf2.Update()
>
> pdo =  self.GetPolyDataOutput()
>
> pdo.ShallowCopy(subf2.GetOutput())
>
>
>
The default behavior is to not pass arrays through, which is right in the
fairly common case (but not common enough to make it the default in my
opinion) of a single isocontour from a single array. In that case the
values would all be the same.

David E DeMarle
Kitware, Inc.
R&D Engineer
21 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-881-4909
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/9eed4dc1/attachment.html>

From gonzalo.feijoo at siemens.com  Tue Nov 10 12:46:02 2015
From: gonzalo.feijoo at siemens.com (Feijoo, Gonzalo)
Date: Tue, 10 Nov 2015 17:46:02 +0000
Subject: [Paraview] Reconstruction of surface data from point cloud.
In-Reply-To: <CANjZAi-ONg62s3J-HtYibVLBcL27LKQUSStBTms7P-uBoYyyFQ@mail.gmail.com>
References: <055B9084EECF0244A45C95019FFA1D039530D0BE@USSLMMBX003.net.plm.eds.com>
 <CANjZAi-ONg62s3J-HtYibVLBcL27LKQUSStBTms7P-uBoYyyFQ@mail.gmail.com>
Message-ID: <055B9084EECF0244A45C95019FFA1D039530D214@USSLMMBX003.net.plm.eds.com>

Hi, David,

Many thanks for the quick reply! Somehow that did not work. The values are still not being passed to DataArrays. I will look into the documentation to see if there is anything else that can be used.

Best,

Gonzalo

From: David E DeMarle [mailto:dave.demarle at kitware.com]
Sent: Tuesday, November 10, 2015 10:22 AM
To: Feijoo, Gonzalo
Cc: paraview at paraview.org
Subject: Re: [Paraview] Reconstruction of surface data from point cloud.


Try throwing in a call to vtkContourFilter->ComputeScalarsOn() like so.

On Tue, Nov 10, 2015 at 9:44 AM, Feijoo, Gonzalo <gonzalo.feijoo at siemens.com<mailto:gonzalo.feijoo at siemens.com>> wrote:

mport vtk

pdi = self.GetPolyDataInput()

subf1 = vtk.vtkSurfaceReconstructionFilter()

subf1.SetInputData(pdi)

subf2 = vtk.vtkContourFilter()
subf2.ComputeScalarsOn()

subf2.SetInputConnection(subf1.GetOutputPort())

subf2.Update()

pdo =  self.GetPolyDataOutput()

pdo.ShallowCopy(subf2.GetOutput())


The default behavior is to not pass arrays through, which is right in the fairly common case (but not common enough to make it the default in my opinion) of a single isocontour from a single array. In that case the values would all be the same.

David E DeMarle
Kitware, Inc.
R&D Engineer
21 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-881-4909
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/6cdd8c6a/attachment.html>

From dennis_conklin at goodyear.com  Tue Nov 10 13:49:17 2015
From: dennis_conklin at goodyear.com (Dennis Conklin)
Date: Tue, 10 Nov 2015 18:49:17 +0000
Subject: [Paraview] Customize programmable filters: copy arrays
Message-ID: <SN1PR0701MB2029EAC84473373D0330234E9F140@SN1PR0701MB2029.namprd07.prod.outlook.com>

Jean-Michel,

I normally just add the following two statements within my Filter:

output.CopyStructure(inputs[0].VTKObject)
output.DeepCopy(inputs[0].VTKObject)

Dennis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/fefc8d92/attachment.html>

From lnp at healy.washington.dc.us  Tue Nov 10 14:30:03 2015
From: lnp at healy.washington.dc.us (Liam Healy)
Date: Tue, 10 Nov 2015 14:30:03 -0500
Subject: [Paraview] Calculator filter
Message-ID: <CADe9tL5R0=xU4G6bzhsNz_QFeHWYdZqSbVFNg4WX6UMtrLaw7w@mail.gmail.com>

I am trying to compute a quantity based on two 3-vectors as input. All
six components are in six columns of one (csv) file, so I read that in
and create two Table to Points filters. I would like to bring up the
calculator to compute the magnitudes of each vector, but if I
highlight the two filters I cannot select the Calculator tool, it is
greyed out. How do I do computations on two (or more) inputs?

Thanks,
Liam

From dave.demarle at kitware.com  Tue Nov 10 14:34:29 2015
From: dave.demarle at kitware.com (David E DeMarle)
Date: Tue, 10 Nov 2015 14:34:29 -0500
Subject: [Paraview] Calculator filter
In-Reply-To: <CADe9tL5R0=xU4G6bzhsNz_QFeHWYdZqSbVFNg4WX6UMtrLaw7w@mail.gmail.com>
References: <CADe9tL5R0=xU4G6bzhsNz_QFeHWYdZqSbVFNg4WX6UMtrLaw7w@mail.gmail.com>
Message-ID: <CANjZAi8jc4dZFaMD6xhEqpctJTZpiSOc+Q_dif1cnDTrKNZAbg@mail.gmail.com>

The Python Calculator will accept multiple sources so I recommend that.
Otherwise you will need to apply something like the Append or Merge filter
to produce one source for the standard Calculator's input.

David E DeMarle
Kitware, Inc.
R&D Engineer
21 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-881-4909

On Tue, Nov 10, 2015 at 2:30 PM, Liam Healy <lnp at healy.washington.dc.us>
wrote:

> I am trying to compute a quantity based on two 3-vectors as input. All
> six components are in six columns of one (csv) file, so I read that in
> and create two Table to Points filters. I would like to bring up the
> calculator to compute the magnitudes of each vector, but if I
> highlight the two filters I cannot select the Calculator tool, it is
> greyed out. How do I do computations on two (or more) inputs?
>
> Thanks,
> Liam
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/77f7d99a/attachment.html>

From berk.geveci at kitware.com  Tue Nov 10 15:39:41 2015
From: berk.geveci at kitware.com (Berk Geveci)
Date: Tue, 10 Nov 2015 15:39:41 -0500
Subject: [Paraview] Customize programmable filters: copy arrays
In-Reply-To: <SN1PR0701MB2029EAC84473373D0330234E9F140@SN1PR0701MB2029.namprd07.prod.outlook.com>
References: <SN1PR0701MB2029EAC84473373D0330234E9F140@SN1PR0701MB2029.namprd07.prod.outlook.com>
Message-ID: <CAE32kpWL367WTgyvTf7LCznGhfg1mzZDOMnYboomJNmKQ-SdkQ@mail.gmail.com>

Don't use DeepCopy() unless you intend to change the values of the output
arrays. Use ShallowCopy() instead. You don't need CopyStructure() by the
way. Alternatively, you can use PassData(). Something like this:

output.GetPointData().PassData(inputs[0].GetPointData())
output.GeCellData().PassData(inputs[0].GetCellData())


Best,
-berk

On Tue, Nov 10, 2015 at 1:49 PM, Dennis Conklin <dennis_conklin at goodyear.com
> wrote:

> Jean-Michel,
>
>
>
> I normally just add the following two statements within my Filter:
>
>
>
> output.CopyStructure(inputs[0].VTKObject)
>
> output.DeepCopy(inputs[0].VTKObject)
>
>
>
> Dennis
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/7f4dacfe/attachment.html>

From dennis_conklin at goodyear.com  Tue Nov 10 15:59:03 2015
From: dennis_conklin at goodyear.com (Dennis Conklin)
Date: Tue, 10 Nov 2015 20:59:03 +0000
Subject: [Paraview] [EXT] Re: Customize programmable filters: copy arrays
In-Reply-To: <CAE32kpWL367WTgyvTf7LCznGhfg1mzZDOMnYboomJNmKQ-SdkQ@mail.gmail.com>
References: <SN1PR0701MB2029EAC84473373D0330234E9F140@SN1PR0701MB2029.namprd07.prod.outlook.com>
 <CAE32kpWL367WTgyvTf7LCznGhfg1mzZDOMnYboomJNmKQ-SdkQ@mail.gmail.com>
Message-ID: <SN1PR0701MB20295E1986716DD199DFBCF59F140@SN1PR0701MB2029.namprd07.prod.outlook.com>

Berk,

I generally want to add some new variables to the output ? if I don?t DeepCopy, then these new variables get added to the input which violates the vtk rule that a filter can?t change the input.

This is the main reason that I advocate adding the capability for PointData and CellData to be partially DeepCopy (new variables added in Filter)  and partially ShallowCopy (input variables just along for the ride).

I suspect most filters are going to generate new variables, so DeepCopy seems to be appropriate.     Please correct me if I misunderstand this.

Dennis

From: Berk Geveci [mailto:berk.geveci at kitware.com]
Sent: Tuesday, November 10, 2015 3:40 PM
To: Dennis Conklin <dennis_conklin at goodyear.com>
Cc: Paraview (paraview at paraview.org) <paraview at paraview.org>
Subject: [EXT] Re: [Paraview] Customize programmable filters: copy arrays

Don't use DeepCopy() unless you intend to change the values of the output arrays. Use ShallowCopy() instead. You don't need CopyStructure() by the way. Alternatively, you can use PassData(). Something like this:

output.GetPointData().PassData(inputs[0].GetPointData())
output.GeCellData().PassData(inputs[0].GetCellData())


Best,
-berk

On Tue, Nov 10, 2015 at 1:49 PM, Dennis Conklin <dennis_conklin at goodyear.com<mailto:dennis_conklin at goodyear.com>> wrote:
Jean-Michel,

I normally just add the following two statements within my Filter:

output.CopyStructure(inputs[0].VTKObject)
output.DeepCopy(inputs[0].VTKObject)

Dennis

_______________________________________________
Powered by www.kitware.com<http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Search the list archives at: http://markmail.org/search/?q=ParaView

Follow this link to subscribe/unsubscribe:
http://public.kitware.com/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151110/5f51a55d/attachment.html>

From lnp at healy.washington.dc.us  Tue Nov 10 17:32:57 2015
From: lnp at healy.washington.dc.us (Liam Healy)
Date: Tue, 10 Nov 2015 17:32:57 -0500
Subject: [Paraview] Calculator filter
In-Reply-To: <CANjZAi8jc4dZFaMD6xhEqpctJTZpiSOc+Q_dif1cnDTrKNZAbg@mail.gmail.com>
References: <CADe9tL5R0=xU4G6bzhsNz_QFeHWYdZqSbVFNg4WX6UMtrLaw7w@mail.gmail.com>
 <CANjZAi8jc4dZFaMD6xhEqpctJTZpiSOc+Q_dif1cnDTrKNZAbg@mail.gmail.com>
Message-ID: <CADe9tL4NSk2EEtS2zOEDzDaw=5yXMRdaAwf+ANDt9noNVSMhgg@mail.gmail.com>

Thanks for the advice. Indeed, I can select the two filter outputs and
start up a Python Calculator. Now however, I am stumped: I don't know
how to specify the input vectors which Table to Points created. The
spreadsheet view shows all the fields, and a points column which
happens to be the second vector. I don't know where the first one
went. I was able to find http://www.vtk.org/Wiki/Python_Calculator
which is a nice illustration of capability, but it's not specified
there how "BrownianVectors" got named. If I do mag(Points)
(Points=name at top of spreadsheet) or mag(points) or mag(Position)
(Position = name of my first filter) or mag(input[0]), I get an error.
I've tried looking through the documentation but I'm not even sure
where to look.

Thanks,
Liam

On Tue, Nov 10, 2015 at 2:34 PM, David E DeMarle
<dave.demarle at kitware.com> wrote:
> The Python Calculator will accept multiple sources so I recommend that.
> Otherwise you will need to apply something like the Append or Merge filter
> to produce one source for the standard Calculator's input.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 21 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-881-4909
>
> On Tue, Nov 10, 2015 at 2:30 PM, Liam Healy <lnp at healy.washington.dc.us>
> wrote:
>>
>> I am trying to compute a quantity based on two 3-vectors as input. All
>> six components are in six columns of one (csv) file, so I read that in
>> and create two Table to Points filters. I would like to bring up the
>> calculator to compute the magnitudes of each vector, but if I
>> highlight the two filters I cannot select the Calculator tool, it is
>> greyed out. How do I do computations on two (or more) inputs?
>>
>> Thanks,
>> Liam
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>
>

From snakexf at gmail.com  Wed Nov 11 05:54:00 2015
From: snakexf at gmail.com (Feng Xing)
Date: Wed, 11 Nov 2015 11:54:00 +0100
Subject: [Paraview] PythonView error
Message-ID: <AE3704D7-D198-4B63-B524-C335D3334FF2@gmail.com>

Hello everyone,

I would like to use PythonView in Paraview following this documentation: http://www.kitware.com/blog/home/post/588 <http://www.kitware.com/blog/home/post/588>. 

When I load the .pvsm file attached in this web site, I get the following errors:

Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg

I use Paraview 4.3.1 in mac, installed from binary installer. 

Does some functions are updated? 

Best regards,
Feng Xing
Postdoc in France

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151111/b57a4f26/attachment.html>

From cory.quammen at kitware.com  Wed Nov 11 09:27:15 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Wed, 11 Nov 2015 09:27:15 -0500
Subject: [Paraview] PythonView error
In-Reply-To: <AE3704D7-D198-4B63-B524-C335D3334FF2@gmail.com>
References: <AE3704D7-D198-4B63-B524-C335D3334FF2@gmail.com>
Message-ID: <CAB5Fpx4t_u39Gci3sK6RQwy4XTEziEUU2A77=S0rnarRueRbkA@mail.gmail.com>

Hi Fend,

Would you mind downloading and trying ParaView 4.4 to see if the problem
remains in that version?

Thanks,
Cory

On Wed, Nov 11, 2015 at 5:54 AM, Feng Xing <snakexf at gmail.com> wrote:

> Hello everyone,
>
> I would like to use PythonView in Paraview following this documentation:
> http://www.kitware.com/blog/home/post/588.
>
> When I load the .pvsm file attached in this web site, I get the following
> errors:
>
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
>
> I use Paraview 4.3.1 in mac, installed from binary installer.
>
> Does some functions are updated?
>
> Best regards,
> Feng Xing
> Postdoc in France
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151111/6d1008cd/attachment.html>

From snakexf at gmail.com  Wed Nov 11 11:36:06 2015
From: snakexf at gmail.com (Feng Xing)
Date: Wed, 11 Nov 2015 17:36:06 +0100
Subject: [Paraview] PythonView error
In-Reply-To: <CAB5Fpx4t_u39Gci3sK6RQwy4XTEziEUU2A77=S0rnarRueRbkA@mail.gmail.com>
References: <AE3704D7-D198-4B63-B524-C335D3334FF2@gmail.com>
 <CAB5Fpx4t_u39Gci3sK6RQwy4XTEziEUU2A77=S0rnarRueRbkA@mail.gmail.com>
Message-ID: <EC6B56D2-EFC9-42C8-B0F3-56A3C222044D@gmail.com>

Hello Cory,

The problem is same for Paraview 4.4.0 64-bit in mac.

Thanks,
Feng


> On 11 Nov 2015, at 15:27, Cory Quammen <cory.quammen at kitware.com> wrote:
> 
> Hi Fend,
> 
> Would you mind downloading and trying ParaView 4.4 to see if the problem remains in that version?
> 
> Thanks,
> Cory
> 
> On Wed, Nov 11, 2015 at 5:54 AM, Feng Xing <snakexf at gmail.com <mailto:snakexf at gmail.com>> wrote:
> Hello everyone,
> 
> I would like to use PythonView in Paraview following this documentation: http://www.kitware.com/blog/home/post/588 <http://www.kitware.com/blog/home/post/588>. 
> 
> When I load the .pvsm file attached in this web site, I get the following errors:
> 
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
> Error: Cannot import matplotlib.backends.backend_agg.FigureCanvasAgg
> 
> I use Paraview 4.3.1 in mac, installed from binary installer. 
> 
> Does some functions are updated? 
> 
> Best regards,
> Feng Xing
> Postdoc in France
> 
> 
> _______________________________________________
> Powered by www.kitware.com <http://www.kitware.com/>
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html <http://www.kitware.com/opensource/opensource.html>
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView <http://paraview.org/Wiki/ParaView>
> 
> Search the list archives at: http://markmail.org/search/?q=ParaView <http://markmail.org/search/?q=ParaView>
> 
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview <http://public.kitware.com/mailman/listinfo/paraview>
> 
> 
> 
> 
> -- 
> Cory Quammen
> R&D Engineer
> Kitware, Inc.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151111/0ddbf5c6/attachment.html>

From einatlev at ldeo.columbia.edu  Wed Nov 11 15:57:10 2015
From: einatlev at ldeo.columbia.edu (Einat Lev)
Date: Wed, 11 Nov 2015 15:57:10 -0500
Subject: [Paraview] Analyzing and animating a series of CSV tables
Message-ID: <DA0EC1E8-CB5A-44DD-8B4E-DF7A3D704057@ldeo.columbia.edu>

Hello all!

I have a set of CSV data files (named file.csv.1, file.csv.2, file.csv.3 and so on), that I want to load and analyze in Paraview. Each file has 100000 lines, and there is a total of 10 files. The loading works fine. Converting to Structured Grid also works fine.
I display the colored surface, but when I get to the last frame, an error pops up, saying that 

The input table must have exactly 1000000 rows. Currently it has 11000000 rows.

If I then apply a contour filter to get an isosurface, the isosurface shows, but I also get warnings:

Generic Warning: In /Users/kitware/buildbot-slave/paraview-bigmac-osx-shared-release_osx10_7_qt4_superbuild/source-paraview/VTK/Common/Core/vtkMath.cxx, line 1344
Unable to factor linear system

Generic Warning: In /Users/kitware/buildbot-slave/paraview-bigmac-osx-shared-release_osx10_7_qt4_superbuild/source-paraview/VTK/Filters/Core/vtkGridSynchronizedTemplates3D.cxx, line 305
Cannot compute gradient of grid


Generic Warning: In /Users/kitware/buildbot-slave/paraview-bigmac-osx-shared-release_osx10_7_qt4_superbuild/source-paraview/VTK/Common/Core/vtkMath.cxx, line 1344
Unable to factor linear system


Generic Warning: In /Users/kitware/buildbot-slave/paraview-bigmac-osx-shared-release_osx10_7_qt4_superbuild/source-paraview/VTK/Filters/Core/vtkGridSynchronizedTemplates3D.cxx, line 305
Cannot compute gradient of grid


Any suggestions? The end goal is an animation of the isosurfaces over the duration of the sequence.

(attached an example of one of the steps)

Einat Lev

Lamont Assistant Research Professor
einatlev at ldeo.columbia.edu
Phone: 845-365-8616
Seismology 223,
61 Route 9W
Palisades, NY
10964 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151111/656c0fd1/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Paraview_t360s.png
Type: image/png
Size: 22082 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151111/656c0fd1/attachment.png>

From jm.lucas at gantha.com  Thu Nov 12 05:36:52 2015
From: jm.lucas at gantha.com (Jean-Michel Lucas)
Date: Thu, 12 Nov 2015 11:36:52 +0100
Subject: [Paraview] Customize programmable filters: copy arrays
Message-ID: <002b01d11d36$207a71f0$616f55d0$@lucas@gantha.com>

Thank you for your answers, both methods work fine.

I am also adding new variables to the output, so if I understood Dennis'
answer correctly, I should be using DeepCopy() ? However, using PassData(),
it seems to me the new variable is only added to the output. 

 

Jean-Michel

 

From: Dennis Conklin <dennis_conklin at goodyear.com>

To: Berk Geveci <berk.geveci at kitware.com>

Cc: "Paraview \(paraview at paraview.org\)" <paraview at paraview.org>

Subject: Re: [Paraview] [EXT] Re: Customize programmable filters: copy

                arrays

Message-ID:

 
<SN1PR0701MB20295E1986716DD199DFBCF59F140 at SN1PR0701MB2029.namprd07.prod.outl
ook.com>

                

Content-Type: text/plain; charset="utf-8"

 

Berk,

 

I generally want to add some new variables to the output ? if I don?t
DeepCopy, then these new variables get added to the input which violates the
vtk rule that a filter can?t change the input.

 

This is the main reason that I advocate adding the capability for PointData
and CellData to be partially DeepCopy (new variables added in Filter)  and
partially ShallowCopy (input variables just along for the ride).

 

I suspect most filters are going to generate new variables, so DeepCopy
seems to be appropriate.     Please correct me if I misunderstand this.

 

Dennis

 

From: Berk Geveci [mailto:berk.geveci at kitware.com]

Sent: Tuesday, November 10, 2015 3:40 PM

To: Dennis Conklin <dennis_conklin at goodyear.com>

Cc: Paraview (paraview at paraview.org) <paraview at paraview.org>

Subject: [EXT] Re: [Paraview] Customize programmable filters: copy arrays

 

Don't use DeepCopy() unless you intend to change the values of the output
arrays. Use ShallowCopy() instead. You don't need CopyStructure() by the
way. Alternatively, you can use PassData(). Something like this:

 

output.GetPointData().PassData(inputs[0].GetPointData())

output.GeCellData().PassData(inputs[0].GetCellData())

 

 

Best,

-berk

 

On Tue, Nov 10, 2015 at 1:49 PM, Dennis Conklin <
<mailto:dennis_conklin at goodyear.com%3cmailto:dennis_conklin at goodyear.com>
dennis_conklin at goodyear.com<mailto:dennis_conklin at goodyear.com>> wrote:

Jean-Michel,

 

I normally just add the following two statements within my Filter:

 

output.CopyStructure(inputs[0].VTKObject)

output.DeepCopy(inputs[0].VTKObject)

 

Dennis

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/8965c1b7/attachment.html>

From joachim.pouderoux at kitware.com  Thu Nov 12 11:33:21 2015
From: joachim.pouderoux at kitware.com (Joachim Pouderoux)
Date: Thu, 12 Nov 2015 17:33:21 +0100
Subject: [Paraview] announce: Advanced VTK/ParaView Training - December 15
 and 16, 2015, Lyon, France
Message-ID: <CACJ=gTjEJevUKXw3sydd1fV4niMRQFv8NTVBTrVRMkb5RsFOjA@mail.gmail.com>

Kitware will be holding VTK and ParaView training courses respectively on
December 15 and 16 in Lyon, France.

Please visit our web site for more information and registration details at:

 VTK:  http://training.kitware.fr/browse/92
 ParaView:  http://training.kitware.fr/browse/95

Note that the courses will be taught in English. If you have any question,
please contact us at: formations at kitware.fr

Thank you,

*Joachim Pouderoux*

*PhD, Technical Expert*
*Kitware SAS <http://www.kitware.fr>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/4d283346/attachment.html>

From simon.esneault at gmail.com  Thu Nov 12 12:12:14 2015
From: simon.esneault at gmail.com (Simon ESNEAULT)
Date: Thu, 12 Nov 2015 18:12:14 +0100
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
Message-ID: <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>

Hello Aashish,

Sorry for the late reply, I was busy last week.

Thanks for the update, and your work on this topic.
Yes I have seen that your change have been merged concerning the
ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
the new backend. To highlight this, please find attached a very simple
application that loads a volume (
https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
rendering while displaying the frame rate. This is pretty much what we show
to the user in our application, and in this condition, on my machine the
FPS are around 25 with the opengl1 backend
<http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the new
backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>, from this
week VTK master
It is very simple to test, just need change the VTK_DIR to an OpenGL1 or
OpenGL2 build, and place the volume.mhd and raw in the execution path.
Also you will find attached a small text file that summarizes the test that
have been done here.

I think the real reason why it appears slower with the OGL2 version is that
we try to have control on the "MaximalImageSampleDistance". If I remove the
line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get the same
frame rate with each backend. BUT, the new backend does decimate a lot more
the volume, leading to a very blurred image during rendering, and that's
not what we want :/

Again, thanks for paying attention to this problem, I hope this little
application and test case can help you to adjust the parameters...

Simon

PS : I did not get a chance to check the difference on Paraview, but I
believe the result will be the same as the attached example is really
simple.

2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <aashish.chaudhary at kitware.com>
:

> Hi Simon,
>
> the branch has been merged into VTK master. I am not sure when Paraview is
> going to update the VTK, but you can do it manually if needed. We are also
> going to run our bench marking again to be sure since recently lot many
> changes went into the VTK / volume rendering. Please feel free to ping me
> again if it does not solve your issue.
>
> Looking forward to your feedback.
>
> - Aashish
>
> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>> Hi Simon,
>>
>> I found the reason behind the appeared performance you were getting. We
>> have this code in volume rendering that when you interact changes the
>> sampling distance and in the newer code we were too conservative compare to
>> the last version. That's why you were getting better quality when you move
>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>> issue. Would it be possible for you to build Paraview with VTK master?  It
>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>
>> Thanks,
>> Aashish
>>
>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>> aashish.chaudhary at kitware.com> wrote:
>>
>>> Hi Simon,
>>>
>>> I am just finishing up a ParaView5 related parallel volume rendering bug
>>> (pushing a branch today to VTK). This is next on my list.
>>>
>>> - Aashish
>>>
>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>> simon.esneault at gmail.com> wrote:
>>>
>>>> Hello Aashish
>>>>
>>>> Did you get a chance to try to load the dataset on Windows ?
>>>> Can I do anything to help you investigate ? Should I feel a bug, that
>>>> may act as a reminder ?
>>>> Have a nice day
>>>> Simon
>>>>
>>>>
>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com>:
>>>>
>>>>> Thanks Simon. This is really strange since we are not seeing it on Mac
>>>>> and Linux (but both has dedicated cards).
>>>>>
>>>>> I will look into it soon.
>>>>>
>>>>> - aashish
>>>>>
>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>> simon.esneault at gmail.com> wrote:
>>>>>
>>>>>> Ok, thank you very much fort digging into this.
>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>> graphics.
>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>> hesitate to ask
>>>>>> Simon
>>>>>>
>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>
>>>>>>> Ah, thanks. I will get back to you on this since on Linux I don't
>>>>>>> any issue so it has to be Windows specific thing.
>>>>>>>
>>>>>>> - Aashish
>>>>>>>
>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>
>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>
>>>>>>>> Thanks,
>>>>>>>> Simon
>>>>>>>>
>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>
>>>>>>>>> Thanks.
>>>>>>>>>
>>>>>>>>> And when did you download this version?
>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> Aashish
>>>>>>>>>
>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>> version seems even bigger.
>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>> results.
>>>>>>>>>>
>>>>>>>>>> About the FPS, it is difficult to give an exact number, because
>>>>>>>>>> it depends of the condition (zoomed or not etc...) but yes, this is the
>>>>>>>>>> idea.
>>>>>>>>>> In our software, I've exposed the frame rate using this example :
>>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>>
>>>>>>>>>> Thanks
>>>>>>>>>> Simon
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>
>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>
>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>
>>>>>>>>>>> 1) Did you try without the shading and see how the performance
>>>>>>>>>>> compares?
>>>>>>>>>>>
>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this one
>>>>>>>>>>> from (ParaView download page or did you built yourself?)
>>>>>>>>>>>
>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and the
>>>>>>>>>>> new one at 15-20 FPS as per your summary.
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>> - Aashish
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>
>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2 backend.
>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>>>> Quadro K420
>>>>>>>>>>>>
>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>
>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>
>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play with
>>>>>>>>>>>> this with the old backend to fine tune the interactivity, although what's
>>>>>>>>>>>> really inside was never clear to me
>>>>>>>>>>>>
>>>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>> Simon
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>
>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>
>>>>>>>>>>>>> Checking again. Wondering if you can provide some more detail
>>>>>>>>>>>>> on the binary you are using and whether or not without shading the
>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the attachment
>>>>>>>>>>>>>> size issue. Sorry about that.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short element
>>>>>>>>>>>>>>>> (you can find the dataset here :
>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip). So
>>>>>>>>>>>>>>>> I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when compared
>>>>>>>>>>>>>>>> to the old one, it seems less "low resolution" during interaction than the
>>>>>>>>>>>>>>>> old one
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe the
>>>>>>>>>>>>>>>> GPURenderDemo used with this dataset is enough to highlight the slow down.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with shading
>>>>>>>>>>>>>>>>> that was causing the slow performance a while back. I don't remember if
>>>>>>>>>>>>>>>>> that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the data
>>>>>>>>>>>>>>>>>> type you might be using
>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The performance
>>>>>>>>>>>>>>>>>> we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you compare
>>>>>>>>>>>>>>>>>>> the latest 4.4 OpenGL2 build with the classic 4.4 build while volume
>>>>>>>>>>>>>>>>>>> rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering implementation
>>>>>>>>>>>>>>>>>>> should be faster than the old one, is there some more detailed explanation
>>>>>>>>>>>>>>>>>>> somewhere ? Are there some important parameters that can make the
>>>>>>>>>>>>>>>>>>> difference ?
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with the
>>>>>>>>>>>>>>>>>>> new backend !
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>           *
>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>> Simon Esneault
>>>>>>>>>> Rennes, France
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>         *
>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> ------------------------------------------------------------------
>>>>>>>> Simon Esneault
>>>>>>>> Rennes, France
>>>>>>>> ------------------------------------------------------------------
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> ------------------------------------------------------------------
>>>>>> Simon Esneault
>>>>>> Rennes, France
>>>>>> ------------------------------------------------------------------
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> ------------------------------------------------------------------
>>>> Simon Esneault
>>>> Rennes, France
>>>> ------------------------------------------------------------------
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 
------------------------------------------------------------------
Simon Esneault
Rennes, France
------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/4a7130de/attachment.html>
-------------- next part --------------
cmake_minimum_required( VERSION 2.8.5 FATAL_ERROR )

project( VolumeRenderingBenchmark )

find_package( VTK REQUIRED )
include( ${VTK_USE_FILE} )

if( VTK_RENDERING_BACKEND STREQUAL "OpenGL2" )
	message( STATUS "Using new OpenGL2 backend" )
	add_definitions( -DVTK_WAS_BUILT_WITH_OPENGL2 )
else()
	message( STATUS "Using old OpenGL1 backend" )
endif()

add_executable( VolumeRenderingBenchmark MACOSX_BUNDLE VolumeRenderingBenchmark.cxx )
target_link_libraries( VolumeRenderingBenchmark ${VTK_LIBRARIES} )

-------------- next part --------------
#include "vtkCallbackCommand.h"
#include "vtkCamera.h"
#include "vtkColorTransferFunction.h"
#include "vtkGPUVolumeRaycastMapper.h"
#include "vtkImageData.h"
#include "vtkImageResample.h"
#include "vtkInteractorStyle.h"
#include "vtkInteractorStyleTrackballCamera.h"
#include "vtkMath.h"
#include "vtkMetaImageReader.h"
#include "vtkPiecewiseFunction.h"
#include "vtkRenderWindow.h"
#include "vtkRenderWindowInteractor.h"
#include "vtkRenderer.h"
#include "vtkTextActor.h"
#include "vtkTextProperty.h"
#include "vtkVolume.h"
#include "vtkVolumeProperty.h"

#include <numeric>
#include <sstream>


// Helper class for the FPS callback
class vtkFPSCallback : public vtkCommand{
protected:
	vtkTextActor* m_fps_text_actor;
	std::vector<double> m_vec_fps;
	std::vector<double> m_vec_total_fps;
	double m_fps;

public:
	static vtkFPSCallback *New(){ return new vtkFPSCallback; }
	vtkFPSCallback() : m_fps( 0. ){}

	void SetTextActor( vtkTextActor* a_actor ){ m_fps_text_actor = a_actor; }
	void Execute( vtkObject* a_caller, unsigned long vtkNotUsed( a_event ), void *a_call_data ){
		vtkRenderer* l_renderer = static_cast<vtkRenderer*>( a_caller );

		double l_time = l_renderer->GetLastRenderTimeInSeconds();
		double l_fps = static_cast<int>( 1.0 / l_time );

		m_vec_fps.push_back( l_fps );
		m_vec_total_fps.push_back( l_fps );
		if( m_vec_fps.size() == 10 ){
			// compute mean
			m_fps = std::accumulate( m_vec_fps.begin(), m_vec_fps.end(), 0. ) / 10.;
			// manual round
			m_fps = (double)( (int)( m_fps*100. ) ) / 100.;
			m_vec_fps.clear();
		}

		std::ostringstream l_oss;
#ifdef VTK_WAS_BUILT_WITH_OPENGL2
		l_oss << "OpenGL2 : ";
#else
		l_oss << "OpenGL1 : ";
#endif
		l_oss << m_fps;
		l_oss << " FPS";

		m_fps_text_actor->SetInput( l_oss.str().c_str() );
	}

	double getMeanFPS(){
		return std::accumulate( m_vec_total_fps.begin(), m_vec_total_fps.end(), 0. ) / m_vec_total_fps.size();
	}
};


int main( int argc, char *argv[] ){

	// Read volume
	vtkMetaImageReader* l_reader = vtkMetaImageReader::New();
	l_reader->SetFileName( "volume.mhd" );
	l_reader->Update();

	// reduce to 80 Megavoxels
	double l_nb_voxels = l_reader->GetOutput()->GetNumberOfPoints();
	double l_target = 80000000;
	double l_ratio = std::pow( l_target / l_nb_voxels, 1. / 3. );
	vtkImageResample* l_resample = vtkImageResample::New();
	l_resample->SetInputConnection( l_reader->GetOutputPort() );
	l_resample->SetInterpolationModeToLinear();
	for( int i = 0; i < 3; i++ )
		l_resample->SetAxisMagnificationFactor( i, l_ratio );

	// Setup rendering stuff
	vtkRenderer* l_renderer = vtkRenderer::New();
	l_renderer->SetBackground( 0.3, 0.3, 0.3 );

	vtkRenderWindow* l_render_windows = vtkRenderWindow::New();
	l_render_windows->AddRenderer( l_renderer );
	l_render_windows->SetSize( 900, 900 );

	vtkInteractorStyleTrackballCamera* l_trackball = vtkInteractorStyleTrackballCamera::New();

	vtkRenderWindowInteractor* l_iren = vtkRenderWindowInteractor::New();
	l_iren->SetInteractorStyle( l_trackball );
	l_iren->SetRenderWindow( l_render_windows );
	l_iren->GetInteractorStyle()->SetDefaultRenderer( l_renderer );
	l_iren->SetDesiredUpdateRate( 25 );

	// Make sure we have an opengl context
	l_render_windows->Render();

	// Setup GPU volume raycast mapper
	vtkGPUVolumeRayCastMapper* l_gpu_mapper = vtkGPUVolumeRayCastMapper::New();
	l_gpu_mapper->SetMaxMemoryInBytes( std::pow( 1024, 3 ) );
	l_gpu_mapper->SetMaximumImageSampleDistance( 2. );
	l_gpu_mapper->SetInputConnection( l_resample->GetOutputPort() );

	// Setup Volume property
	// Window/Level
	double wl = 260;
	double ww = 270;

	// Color function
	vtkColorTransferFunction* l_color = vtkColorTransferFunction::New();
	l_color->SetColorSpaceToRGB();
	l_color->AddRGBPoint( wl - ww / 2, 0, 0, 0 );
	l_color->AddRGBPoint( wl - ww / 2 + 94 * ( ww / 255.0 ), 1., 21. / 255.0, 27. / 255.0 );
	l_color->AddRGBPoint( wl - ww / 2 + 147 * ( ww / 255.0 ), 1., 176. / 255.0, 9. / 255.0 );
	l_color->AddRGBPoint( wl - ww / 2 + 201 * ( ww / 255.0 ), 1., 241. / 255.0, 39. / 255.0 );
	l_color->AddRGBPoint( wl - ww / 2 + 255 * ( ww / 255.0 ), 1, 1, 1. );
	l_color->Build();

	// Opacity function
	vtkPiecewiseFunction* l_opacity = vtkPiecewiseFunction::New();
	l_opacity->AddPoint( wl - ww / 2, 0 );
	l_opacity->AddPoint( wl + ww / 2, 1 );

	// Volume property, light, shading
	vtkVolumeProperty* l_volume_property = vtkVolumeProperty::New();
	l_volume_property->SetColor( l_color );
	l_volume_property->SetScalarOpacity( l_opacity );
	l_volume_property->SetInterpolationTypeToLinear();
	l_volume_property->ShadeOn();
	l_volume_property->SetAmbient( 0.15 );
	l_volume_property->SetDiffuse( 0.8 );
	l_volume_property->SetSpecular( 0.25 );
	l_volume_property->SetSpecularPower( 40 );

	// Put everything together
	vtkVolume* l_volume = vtkVolume::New();
	l_volume->SetProperty( l_volume_property );
	l_volume->SetMapper( l_gpu_mapper );

	// setup text actor :
	vtkTextActor* l_text_actor = vtkTextActor::New();
	l_text_actor->GetPositionCoordinate()->SetCoordinateSystemToNormalizedViewport();
	l_text_actor->GetPositionCoordinate()->SetValue( 0.01, 0.99 );
	l_text_actor->GetTextProperty()->SetJustificationToLeft();
	l_text_actor->GetTextProperty()->SetVerticalJustificationToTop();
	l_text_actor->GetTextProperty()->SetFontSize( 17 );
#ifdef VTK_WAS_BUILT_WITH_OPENGL2
	l_text_actor->SetInput( "OpenGL2 : 0 FPS" );
#else
	l_text_actor->SetInput( "OpenGL1 : 0 FPS" );
#endif
	l_renderer->AddActor( l_text_actor );

	// setup fps callback
	vtkFPSCallback* l_callback = vtkFPSCallback::New();
	l_callback->SetTextActor( l_text_actor );
	l_renderer->AddObserver( vtkCommand::EndEvent, l_callback );
	l_renderer->AddVolume( l_volume );
	// Adjust camera position
	l_renderer->GetActiveCamera()->SetParallelProjection( false );
	l_renderer->GetActiveCamera()->SetViewUp( 0, 0, 1 );
	double l_distance = 1000;
	double l_center[ 3 ], l_pos[3];
	l_reader->GetOutput()->GetCenter( l_center );
	l_reader->GetOutput()->GetCenter( l_pos );
	l_pos[ 1 ] -= l_distance;
	double l_cam_angle = atan( ( l_center[ 2 ] * 2. ) / ( l_distance * 2. ) ) * 360.0 / vtkMath::Pi();
	l_renderer->GetActiveCamera()->SetFocalPoint( l_center );
	l_renderer->GetActiveCamera()->SetPosition( l_pos );
	l_renderer->GetActiveCamera()->SetViewAngle( l_cam_angle + 1 );
	l_renderer->GetActiveCamera()->SetClippingRange( 0.01, 10000 );

	// Go rendering !
	l_iren->Start();

	std::cout << l_callback->getMeanFPS() << std::endl;

	// Memory cleanup
	l_reader->Delete();
	l_resample->Delete();
	l_renderer->Delete();
	l_render_windows->Delete();
	l_trackball->Delete();
	l_iren->Delete();
	l_gpu_mapper->Delete();
	l_color->Delete();
	l_opacity->Delete();
	l_volume_property->Delete();
	l_volume->Delete();
	l_text_actor->Delete();
	l_callback->Delete();
}
-------------- next part --------------
Benchmark results with MaximumImageSample set to 2.0

Windows 7 | Xeon E3-1220 | 16GB RAM | Nvidia Quadro K420 
- OGL1: 25.29 FPS
- OGL2: 12.36 FPS

Windows 7 | Xeon X5690   | 48GB RAM | NVidia Quadro K620
- OGL1: 26.46 FPS
- OGL2: 29.50 FPS  

From aashish.chaudhary at kitware.com  Thu Nov 12 12:31:05 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 12 Nov 2015 12:31:05 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
Message-ID: <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>

On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <simon.esneault at gmail.com>
wrote:

> Hello Aashish,
>
> Sorry for the late reply, I was busy last week.
>
> Thanks for the update, and your work on this topic.
> Yes I have seen that your change have been merged concerning the
> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
> the new backend. To highlight this, please find attached a very simple
> application that loads a volume (
> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
> rendering while displaying the frame rate. This is pretty much what we show
> to the user in our application, and in this condition, on my machine the
> FPS are around 25 with the opengl1 backend
> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the new
> backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>, from this
> week VTK master
> It is very simple to test, just need change the VTK_DIR to an OpenGL1 or
> OpenGL2 build, and place the volume.mhd and raw in the execution path.
> Also you will find attached a small text file that summarizes the test
> that have been done here.
>

No problem, thanks for the update. Please see my comments below:

>
> I think the real reason why it appears slower with the OGL2 version is
> that we try to have control on the "MaximalImageSampleDistance". If I
> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
> the same frame rate with each backend. BUT, the new backend does decimate a
> lot more the volume, leading to a very blurred image during rendering, and
> that's not what we want :/
>

Aha, this is very useful since this parameters does affecting the reduction
factor. I will try your code; one quick question when the new backend
decimates a lot (by removing the SetMaximumImageSampleDistance), does it
get any faster than the old version? I am going to try it on my Mac and
Linux laptop and report back (mostly tomorrow since I am away today).

>
> Again, thanks for paying attention to this problem, I hope this little
> application and test case can help you to adjust the parameters...
>

Thanks for your help. I am glad you are testing my latest changes.

- Best, Aashish

>
>
> Simon
>
> PS : I did not get a chance to check the difference on Paraview, but I
> believe the result will be the same as the attached example is really
> simple.
>
> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
> aashish.chaudhary at kitware.com>:
>
>> Hi Simon,
>>
>> the branch has been merged into VTK master. I am not sure when Paraview
>> is going to update the VTK, but you can do it manually if needed. We are
>> also going to run our bench marking again to be sure since recently lot
>> many changes went into the VTK / volume rendering. Please feel free to ping
>> me again if it does not solve your issue.
>>
>> Looking forward to your feedback.
>>
>> - Aashish
>>
>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>> aashish.chaudhary at kitware.com> wrote:
>>
>>> Hi Simon,
>>>
>>> I found the reason behind the appeared performance you were getting. We
>>> have this code in volume rendering that when you interact changes the
>>> sampling distance and in the newer code we were too conservative compare to
>>> the last version. That's why you were getting better quality when you move
>>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>>> issue. Would it be possible for you to build Paraview with VTK master?  It
>>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>>
>>> Thanks,
>>> Aashish
>>>
>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com> wrote:
>>>
>>>> Hi Simon,
>>>>
>>>> I am just finishing up a ParaView5 related parallel volume rendering
>>>> bug (pushing a branch today to VTK). This is next on my list.
>>>>
>>>> - Aashish
>>>>
>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>> simon.esneault at gmail.com> wrote:
>>>>
>>>>> Hello Aashish
>>>>>
>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>> Can I do anything to help you investigate ? Should I feel a bug, that
>>>>> may act as a reminder ?
>>>>> Have a nice day
>>>>> Simon
>>>>>
>>>>>
>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>> aashish.chaudhary at kitware.com>:
>>>>>
>>>>>> Thanks Simon. This is really strange since we are not seeing it on
>>>>>> Mac and Linux (but both has dedicated cards).
>>>>>>
>>>>>> I will look into it soon.
>>>>>>
>>>>>> - aashish
>>>>>>
>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>
>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>> graphics.
>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>> hesitate to ask
>>>>>>> Simon
>>>>>>>
>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>
>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I don't
>>>>>>>> any issue so it has to be Windows specific thing.
>>>>>>>>
>>>>>>>> - Aashish
>>>>>>>>
>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> Simon
>>>>>>>>>
>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>
>>>>>>>>>> Thanks.
>>>>>>>>>>
>>>>>>>>>> And when did you download this version?
>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> Aashish
>>>>>>>>>>
>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>> results.
>>>>>>>>>>>
>>>>>>>>>>> About the FPS, it is difficult to give an exact number, because
>>>>>>>>>>> it depends of the condition (zoomed or not etc...) but yes, this is the
>>>>>>>>>>> idea.
>>>>>>>>>>> In our software, I've exposed the frame rate using this example
>>>>>>>>>>> : http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>>>
>>>>>>>>>>> Thanks
>>>>>>>>>>> Simon
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>
>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>
>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>
>>>>>>>>>>>> 1) Did you try without the shading and see how the performance
>>>>>>>>>>>> compares?
>>>>>>>>>>>>
>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this one
>>>>>>>>>>>> from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>
>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and the
>>>>>>>>>>>> new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>
>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2 backend.
>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>>>>> Quadro K420
>>>>>>>>>>>>>
>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>
>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play with
>>>>>>>>>>>>> this with the old backend to fine tune the interactivity, although what's
>>>>>>>>>>>>> really inside was never clear to me
>>>>>>>>>>>>>
>>>>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more detail
>>>>>>>>>>>>>> on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip). So
>>>>>>>>>>>>>>>>> I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe
>>>>>>>>>>>>>>>>> the GPURenderDemo used with this dataset is enough to highlight the slow
>>>>>>>>>>>>>>>>> down.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with shading
>>>>>>>>>>>>>>>>>> that was causing the slow performance a while back. I don't remember if
>>>>>>>>>>>>>>>>>> that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the
>>>>>>>>>>>>>>>>>>> data type you might be using
>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you compare
>>>>>>>>>>>>>>>>>>>> the latest 4.4 OpenGL2 build with the classic 4.4 build while volume
>>>>>>>>>>>>>>>>>>>> rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering implementation
>>>>>>>>>>>>>>>>>>>> should be faster than the old one, is there some more detailed explanation
>>>>>>>>>>>>>>>>>>>> somewhere ? Are there some important parameters that can make the
>>>>>>>>>>>>>>>>>>>> difference ?
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with
>>>>>>>>>>>>>>>>>>>> the new backend !
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>>           *
>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>> Simon Esneault
>>>>>>>>>>> Rennes, France
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>         *
>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>> Simon Esneault
>>>>>>>>> Rennes, France
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>       *
>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> ------------------------------------------------------------------
>>>>>>> Simon Esneault
>>>>>>> Rennes, France
>>>>>>> ------------------------------------------------------------------
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>     *
>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> ------------------------------------------------------------------
>>>>> Simon Esneault
>>>>> Rennes, France
>>>>> ------------------------------------------------------------------
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
> ------------------------------------------------------------------
> Simon Esneault
> Rennes, France
> ------------------------------------------------------------------
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/aa407c97/attachment.html>

From aashish.chaudhary at kitware.com  Thu Nov 12 12:34:29 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 12 Nov 2015 12:34:29 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
 <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
Message-ID: <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>

On Thu, Nov 12, 2015 at 12:31 PM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

>
>
> On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <simon.esneault at gmail.com
> > wrote:
>
>> Hello Aashish,
>>
>> Sorry for the late reply, I was busy last week.
>>
>> Thanks for the update, and your work on this topic.
>> Yes I have seen that your change have been merged concerning the
>> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
>> the new backend. To highlight this, please find attached a very simple
>> application that loads a volume (
>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
>> rendering while displaying the frame rate. This is pretty much what we show
>> to the user in our application, and in this condition, on my machine the
>> FPS are around 25 with the opengl1 backend
>> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the
>> new backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>, from
>> this week VTK master
>> It is very simple to test, just need change the VTK_DIR to an OpenGL1 or
>> OpenGL2 build, and place the volume.mhd and raw in the execution path.
>> Also you will find attached a small text file that summarizes the test
>> that have been done here.
>>
>
> No problem, thanks for the update. Please see my comments below:
>
>>
>> I think the real reason why it appears slower with the OGL2 version is
>> that we try to have control on the "MaximalImageSampleDistance". If I
>> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
>> the same frame rate with each backend. BUT, the new backend does decimate a
>> lot more the volume, leading to a very blurred image during rendering, and
>> that's not what we want :/
>>
>
> Aha, this is very useful since this parameters does affecting the
> reduction factor. I will try your code; one quick question when the new
> backend decimates a lot (by removing the SetMaximumImageSampleDistance),
> does it get any faster than the old version? I am going to try it on my Mac
> and Linux laptop and report back (mostly tomorrow since I am away today).
>
>>
>>
Never mind, I see that you have that in your result file. It seems it does
get faster but more blurry. Would it be possible for you to do one more
test? Can you set a fix sample distance (pick any) for new and the old
mapper and set AutoAdjustSampleDistance to OFF and capture some performance
numbers? In that way we know exactly if something more fundamental is
causing the slowness. The whole reduction factor math is based on
approximate stuff so that will vary between two mappers.

- Aashish


> Again, thanks for paying attention to this problem, I hope this little
>> application and test case can help you to adjust the parameters...
>>
>
> Thanks for your help. I am glad you are testing my latest changes.
>
> - Best, Aashish
>
>>
>>
>> Simon
>>
>> PS : I did not get a chance to check the difference on Paraview, but I
>> believe the result will be the same as the attached example is really
>> simple.
>>
>> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
>> aashish.chaudhary at kitware.com>:
>>
>>> Hi Simon,
>>>
>>> the branch has been merged into VTK master. I am not sure when Paraview
>>> is going to update the VTK, but you can do it manually if needed. We are
>>> also going to run our bench marking again to be sure since recently lot
>>> many changes went into the VTK / volume rendering. Please feel free to ping
>>> me again if it does not solve your issue.
>>>
>>> Looking forward to your feedback.
>>>
>>> - Aashish
>>>
>>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com> wrote:
>>>
>>>> Hi Simon,
>>>>
>>>> I found the reason behind the appeared performance you were getting. We
>>>> have this code in volume rendering that when you interact changes the
>>>> sampling distance and in the newer code we were too conservative compare to
>>>> the last version. That's why you were getting better quality when you move
>>>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>>>> issue. Would it be possible for you to build Paraview with VTK master?  It
>>>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>>>
>>>> Thanks,
>>>> Aashish
>>>>
>>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com> wrote:
>>>>
>>>>> Hi Simon,
>>>>>
>>>>> I am just finishing up a ParaView5 related parallel volume rendering
>>>>> bug (pushing a branch today to VTK). This is next on my list.
>>>>>
>>>>> - Aashish
>>>>>
>>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>>> simon.esneault at gmail.com> wrote:
>>>>>
>>>>>> Hello Aashish
>>>>>>
>>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>>> Can I do anything to help you investigate ? Should I feel a bug, that
>>>>>> may act as a reminder ?
>>>>>> Have a nice day
>>>>>> Simon
>>>>>>
>>>>>>
>>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>
>>>>>>> Thanks Simon. This is really strange since we are not seeing it on
>>>>>>> Mac and Linux (but both has dedicated cards).
>>>>>>>
>>>>>>> I will look into it soon.
>>>>>>>
>>>>>>> - aashish
>>>>>>>
>>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>
>>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>>> graphics.
>>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>>> hesitate to ask
>>>>>>>> Simon
>>>>>>>>
>>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>
>>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I don't
>>>>>>>>> any issue so it has to be Windows specific thing.
>>>>>>>>>
>>>>>>>>> - Aashish
>>>>>>>>>
>>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> Simon
>>>>>>>>>>
>>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>
>>>>>>>>>>> Thanks.
>>>>>>>>>>>
>>>>>>>>>>> And when did you download this version?
>>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>> Aashish
>>>>>>>>>>>
>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>>> results.
>>>>>>>>>>>>
>>>>>>>>>>>> About the FPS, it is difficult to give an exact number, because
>>>>>>>>>>>> it depends of the condition (zoomed or not etc...) but yes, this is the
>>>>>>>>>>>> idea.
>>>>>>>>>>>> In our software, I've exposed the frame rate using this example
>>>>>>>>>>>> : http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks
>>>>>>>>>>>> Simon
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>
>>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>>
>>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>>
>>>>>>>>>>>>> 1) Did you try without the shading and see how the performance
>>>>>>>>>>>>> compares?
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this one
>>>>>>>>>>>>> from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>>
>>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and
>>>>>>>>>>>>> the new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2
>>>>>>>>>>>>>> backend.
>>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>>>>>> Quadro K420
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play with
>>>>>>>>>>>>>> this with the old backend to fine tune the interactivity, although what's
>>>>>>>>>>>>>> really inside was never clear to me
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more
>>>>>>>>>>>>>>> detail on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip).
>>>>>>>>>>>>>>>>>> So I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe
>>>>>>>>>>>>>>>>>> the GPURenderDemo used with this dataset is enough to highlight the slow
>>>>>>>>>>>>>>>>>> down.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with shading
>>>>>>>>>>>>>>>>>>> that was causing the slow performance a while back. I don't remember if
>>>>>>>>>>>>>>>>>>> that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the
>>>>>>>>>>>>>>>>>>>> data type you might be using
>>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you compare
>>>>>>>>>>>>>>>>>>>>> the latest 4.4 OpenGL2 build with the classic 4.4 build while volume
>>>>>>>>>>>>>>>>>>>>> rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering
>>>>>>>>>>>>>>>>>>>>> implementation should be faster than the old one, is there some more
>>>>>>>>>>>>>>>>>>>>> detailed explanation somewhere ? Are there some important parameters that
>>>>>>>>>>>>>>>>>>>>> can make the difference ?
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with
>>>>>>>>>>>>>>>>>>>>> the new backend !
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>           *
>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>> Simon Esneault
>>>>>>>>>> Rennes, France
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>         *
>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> ------------------------------------------------------------------
>>>>>>>> Simon Esneault
>>>>>>>> Rennes, France
>>>>>>>> ------------------------------------------------------------------
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> ------------------------------------------------------------------
>>>>>> Simon Esneault
>>>>>> Rennes, France
>>>>>> ------------------------------------------------------------------
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>> ------------------------------------------------------------------
>> Simon Esneault
>> Rennes, France
>> ------------------------------------------------------------------
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/4c4d5a88/attachment.html>

From ben.boeckel at kitware.com  Thu Nov 12 15:45:30 2015
From: ben.boeckel at kitware.com (Ben Boeckel)
Date: Thu, 12 Nov 2015 15:45:30 -0500
Subject: [Paraview] ANN: ParaView 5.0.0-RC1 is available for download
Message-ID: <20151112204530.GB2853@megas.khq.kitware.com>

Folks,

ParaView 5.0.0-RC1 is now available for download. Checkout the release
notes on the Kitware blog [1].

As always, we look forward to your feedback [2].

Also stay tuned to the Kitware Blog [3] for upcoming features and
enhancements to ParaView, ParaView Catalyst, ParaViewWeb and much
more!

- The ParaView team

[1] http://kitware.com/blog/home/post/998
[2] http://paraview.uservoice.com
[3] http://www.kitware.com/blog/

From enrilizaga at gmail.com  Thu Nov 12 18:02:10 2015
From: enrilizaga at gmail.com (Enrique Lizarraga-Garcia)
Date: Thu, 12 Nov 2015 18:02:10 -0500
Subject: [Paraview] paraview python scripting equivalent of File->save Data
	of contour
Message-ID: <220863C8-C8A3-461E-BEBD-631348EC7D2B@gmail.com>

Hi all,

I would like to automate exporting csv files from countour of vtk files. I am tracing the steps in paraview, but it somehow misses the last part, saving/exporting as csv. When I do it manually, it saves n csv files, where n is the number of blocks I have in my simulation. I have successfully saved as csv files PlotOverLine output, and thus I have tried similar procedure with this:

(?)
Contour1 = Contour( PointMergeMethod="Uniform Binning" )
Contour1.PointMergeMethod = "Uniform Binning"
Contour1.ContourBy = ['POINTS', 'PHI']
Contour1.ComputeNormals = 0
Contour1.Isosurfaces = [0.0]
source = Contour1
name = "LevelSet.csv"
writer = CreateWriter(name , source)
writer.FieldAssociation = "Points" # or "Cells"
writer.UpdatePipeline()
del writer

However, I obtain the following error message

ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/ParaViewCore/VTKExtensions/Default/vtkCSVWriter.cxx, line 82
vtkCSVWriter (0x1213ab5a0): Unable to open file: /LevelSet(...).csv
Is there any way to do it?

Thank you very much in advance,
Enrique



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/98b6481a/attachment.html>

From cory.quammen at kitware.com  Thu Nov 12 20:31:28 2015
From: cory.quammen at kitware.com (Cory Quammen)
Date: Thu, 12 Nov 2015 20:31:28 -0500
Subject: [Paraview] paraview python scripting equivalent of File->save
 Data of contour
In-Reply-To: <220863C8-C8A3-461E-BEBD-631348EC7D2B@gmail.com>
References: <220863C8-C8A3-461E-BEBD-631348EC7D2B@gmail.com>
Message-ID: <CAB5Fpx5FV0PGeTWrM8ByDJWprK-bVQOhE-WU8oWiPdK9wJuOOQ@mail.gmail.com>

Hi Enrique,

It looks like the writer is attempting to write to / and doesn't have
permission to do so. Try specifying the full path in the 'name' variable.

HTH,
Cory

On Thu, Nov 12, 2015 at 6:02 PM, Enrique Lizarraga-Garcia <
enrilizaga at gmail.com> wrote:

> Hi all,
>
> I would like to automate exporting csv files from countour of vtk files. I
> am tracing the steps in paraview, but it somehow misses the last part,
> saving/exporting as csv. When I do it manually, it saves *n* csv files,
> where *n *is the number of blocks I have in my simulation. I have
> successfully saved as csv files PlotOverLine output, and thus I have tried
> similar procedure with this:
>
> (?)
> Contour1 = Contour( PointMergeMethod="Uniform Binning" )
> Contour1.PointMergeMethod = "Uniform Binning"
> Contour1.ContourBy = ['POINTS', 'PHI']
> Contour1.ComputeNormals = 0
> Contour1.Isosurfaces = [0.0]
> source = Contour1
> name = "LevelSet.csv"
> writer = CreateWriter(name , source)
> writer.FieldAssociation = "Points" # or "Cells"
> writer.UpdatePipeline()
> del writer
>
> However, I obtain the following error message
>
> ERROR: In
> /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/ParaViewCore/VTKExtensions/Default/vtkCSVWriter.cxx,
> line 82
> vtkCSVWriter (0x1213ab5a0): Unable to open file: /LevelSet*(...)*.csv
>
> Is there any way to do it?
> Thank you very much in advance,
> Enrique
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 
Cory Quammen
R&D Engineer
Kitware, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151112/7d0a9ae0/attachment.html>

From lyon at fnal.gov  Fri Nov 13 02:16:57 2015
From: lyon at fnal.gov (Adam Lyon)
Date: Fri, 13 Nov 2015 01:16:57 -0600
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
Message-ID: <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>

Hi - I know you all are busy preparing for SC15, but this bug persists in
the ParaView v5 release candidate, which makes it difficult for me to use.
Is there a chance this problem can be looked at and resolved before the
final release? Thanks! Happy SC15!! -- A

*------*

*Adam L. Lyon*
*Scientist; Associate Division Head for Systems for Scientific Applications*

Scientific Computing Division & Muon g-2 Experiment
Fermi National Accelerator Laboratory
630 840 5522 office
www.fnal.gov
lyon at fnal.gov

Connect with us!
Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
<https://www.facebook.com/Fermilab>  |  Twitter
<https://twitter.com/Fermilab>

On Fri, Aug 7, 2015 at 12:32 PM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Adam,
>
> The problem is that the OpenGL2 implementation doesn't work correctly for
> field-data arrays yet.
> I've reported a bug: http://www.paraview.org/Bug/view.php?id=15627
>
> We'll have in tracked down soon.
>
> Utkarsh
>
> On Mon, Aug 3, 2015 at 2:59 PM, Adam Lyon <lyon at fnal.gov> wrote:
>
>> Hi Joachim, Do you want me to send in a bug report for these problems? I
>> assume there's no work-around that I can do to make things work. Using
>> OpenGL2 is quite a bit faster, so I'm hoping a fix can come out soon.
>> Thanks! -- Adam
>>
>> *------*
>>
>> *Adam L. Lyon*
>> *Scientist; Associate Division Head for Systems for Scientific
>> Applications*
>>
>> Scientific Computing Division & Muon g-2 Experiment
>> Fermi National Accelerator Laboratory
>> 630 840 5522 office
>> www.fnal.gov
>> lyon at fnal.gov
>>
>> Connect with us!
>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>> <https://www.facebook.com/Fermilab>  |  Twitter
>> <https://twitter.com/Fermilab>
>>
>> On Fri, Jul 31, 2015 at 10:53 AM, Adam L Lyon <lyon at fnal.gov> wrote:
>>
>>> Hi Joachim - Yes, I noticed that the default color is now
>>> vtkBlockColors. However I changed that to the "color" vector in my data and
>>> that change was not honored by the program. Thanks, Adam
>>>
>>> *------*
>>>
>>> *Adam L. Lyon*
>>> *Scientist; Associate Division Head for Systems for Scientific
>>> Applications*
>>>
>>> Scientific Computing Division & Muon g-2 Experiment
>>> Fermi National Accelerator Laboratory
>>> 630 840 5522 office
>>> www.fnal.gov
>>> lyon at fnal.gov
>>>
>>> Connect with us!
>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>> <https://twitter.com/Fermilab>
>>>
>>> On Fri, Jul 31, 2015 at 2:41 AM, Joachim Pouderoux <
>>> joachim.pouderoux at kitware.com> wrote:
>>>
>>>> Adam,
>>>>
>>>> The color difference can be explained by the default coloring mode
>>>> introduced recently (before the git tag version you tested with).
>>>> Multiblocks are now automatically colored by blocks. Toggle the Color
>>>> Legend and see the coloring array, "vtkBlockColors" is selected wereas in
>>>> previous version it was Solid Color I guess.
>>>> Regarding the missing pieces, I can tell that with the same git version
>>>> and with the OpenGL backend 1 (the old), all pieces are correctly drawn.
>>>> What is specific is that this missing blocks (the data has like a global
>>>> gemetry block + all the internal pieces) are the last block if the first
>>>> level block hierarchy.
>>>>
>>>> Joachim
>>>>
>>>>
>>>> *Joachim Pouderoux*
>>>>
>>>> *PhD, Technical Expert*
>>>> *Kitware SAS <http://www.kitware.fr>*
>>>>
>>>>
>>>> 2015-07-30 22:19 GMT+02:00 Adam Lyon <lyon at fnal.gov>:
>>>>
>>>>> Hi,  I'm trying to use ParaView built with OpenGL2, hoping to see some
>>>>> speed improvement when I interact with my visualization. Indeed for a
>>>>> complicated geometry I see significant speed up (e.g. ~25 fps with OpenGL2
>>>>> vs. 5 fps with regular ParaView). But I also see serious errors in the
>>>>> display. I've attached two images of our "g-2 muon storage ring" (never
>>>>> mind what it actually is, though it is very cool :-) ..
>>>>>
>>>>> [image: Inline image 1]
>>>>>
>>>>> The first, mostly blue image, is from regular ParaView (downloaded Mac
>>>>> binary 4.3.1 64 bit)  and is what the ring is supposed to look like. There
>>>>> is a color vector selected and I've unchecked "Map scalars" so that the
>>>>> colors are "true". And indeed the RGB color values in the vector are what
>>>>> is shown on the display.
>>>>>
>>>>>
>>>>> [image: Inline image 2]
>>>>> The next image, with a chunk on the left side missing, is from the
>>>>> OpenGL2 ParaView (Mac built from source 4.3.1-882-gbdceec7 64 bit)
>>>>> configured identically as the other ParaView. So it should look identical
>>>>> to the mostly blue picture. Along with the missing chunk, you see the
>>>>> colors look very wrong. What's even stranger is that the missing chunk is
>>>>> really missing - not invisible - the visualization is made of multiblock
>>>>> datasets, and right clicking where a structure should be only brings up the
>>>>> link camera option.
>>>>>
>>>>> You can try this yourself -- see
>>>>> https://www.dropbox.com/sh/900ocfc90v0w3r6/AACmqz8kVrGPUMnJbpxAFOzBa?dl=0
>>>>> . The "gm2ring.zip" file has gm2ring.vtm (with the corresponding gm2ring
>>>>> directory) and gm2ring.pvsm to restore my configuration.
>>>>>
>>>>> I'm looking forward to using the OpenGL2 version when it works better.
>>>>> I hope this helps in working out its kinks (or hoping to find out I've
>>>>> built or configured something incorrectly). Let me know how I can help!
>>>>> Thanks! -- Adam
>>>>> *------*
>>>>>
>>>>> *Adam L. Lyon*
>>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>>> Applications*
>>>>>
>>>>> Scientific Computing Division & Muon g-2 Experiment
>>>>> Fermi National Accelerator Laboratory
>>>>> 630 840 5522 office
>>>>> www.fnal.gov
>>>>> lyon at fnal.gov
>>>>>
>>>>> Connect with us!
>>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>>> <https://twitter.com/Fermilab>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/4d1ff321/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl_good.png
Type: image/png
Size: 19431 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/4d1ff321/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl2_bad.png
Type: image/png
Size: 16709 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/4d1ff321/attachment-0001.png>

From denis.cohen at gmail.com  Fri Nov 13 09:09:58 2015
From: denis.cohen at gmail.com (denis cohen)
Date: Fri, 13 Nov 2015 15:09:58 +0100
Subject: [Paraview] Streamlines end in near vertical straight line
Message-ID: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>

Hi,
I am getting strange lines at the end of streamlines that are nearly
vertical and come out of the solution domain (see attached png image). I've
tried changing input parameters to no avail. It's possible the velocity
field is not good there but still how can I get rid of these lines?
Thanks
Denis Cohen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/309af9f2/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test.png
Type: image/png
Size: 309034 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/309af9f2/attachment-0001.png>

From andy.bauer at kitware.com  Fri Nov 13 09:18:06 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 13 Nov 2015 09:18:06 -0500
Subject: [Paraview] Streamlines end in near vertical straight line
In-Reply-To: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
References: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
Message-ID: <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>

Is there any indicator on where the velocity field is valid and where it's
invalid? If there is you can threshold on that. Otherwise you could try
thresholding on the vertical velocity assuming it's significantly larger in
the invalid locations than the valid locations. First you'd have to extract
that component with either the Calculator filter or Python Calculator
filter, and then threshold on the new variable.


On Fri, Nov 13, 2015 at 9:09 AM, denis cohen <denis.cohen at gmail.com> wrote:

> Hi,
> I am getting strange lines at the end of streamlines that are nearly
> vertical and come out of the solution domain (see attached png image). I've
> tried changing input parameters to no avail. It's possible the velocity
> field is not good there but still how can I get rid of these lines?
> Thanks
> Denis Cohen
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/c9619d32/attachment.html>

From denis.cohen at gmail.com  Fri Nov 13 10:01:37 2015
From: denis.cohen at gmail.com (denis cohen)
Date: Fri, 13 Nov 2015 16:01:37 +0100
Subject: [Paraview] Streamlines end in near vertical straight line
In-Reply-To: <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>
References: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
 <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>
Message-ID: <CAKf_S2JK2O_V87LpSiwwD=EHRHHBnxqkrhaO+1yZ-a+drPGvAw@mail.gmail.com>

Hi Andy,
I've tried filtering high values of vertical velocity but I am still
getting these lines.
Thanks.
Denis


On Fri, Nov 13, 2015 at 3:18 PM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Is there any indicator on where the velocity field is valid and where it's
> invalid? If there is you can threshold on that. Otherwise you could try
> thresholding on the vertical velocity assuming it's significantly larger in
> the invalid locations than the valid locations. First you'd have to extract
> that component with either the Calculator filter or Python Calculator
> filter, and then threshold on the new variable.
>
>
> On Fri, Nov 13, 2015 at 9:09 AM, denis cohen <denis.cohen at gmail.com>
> wrote:
>
>> Hi,
>> I am getting strange lines at the end of streamlines that are nearly
>> vertical and come out of the solution domain (see attached png image). I've
>> tried changing input parameters to no avail. It's possible the velocity
>> field is not good there but still how can I get rid of these lines?
>> Thanks
>> Denis Cohen
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/ea2622eb/attachment.html>

From andy.bauer at kitware.com  Fri Nov 13 10:03:50 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 13 Nov 2015 10:03:50 -0500
Subject: [Paraview] Streamlines end in near vertical straight line
In-Reply-To: <CAKf_S2JK2O_V87LpSiwwD=EHRHHBnxqkrhaO+1yZ-a+drPGvAw@mail.gmail.com>
References: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
 <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>
 <CAKf_S2JK2O_V87LpSiwwD=EHRHHBnxqkrhaO+1yZ-a+drPGvAw@mail.gmail.com>
Message-ID: <CAMaOp+GaG+kH4vDEUWjtvorv2churfKRBJOzR00j8BL=ZosOWw@mail.gmail.com>

Can you share your data set and your current pipeline set up? That may help
in trying to figure out a solution.

On Fri, Nov 13, 2015 at 10:01 AM, denis cohen <denis.cohen at gmail.com> wrote:

> Hi Andy,
> I've tried filtering high values of vertical velocity but I am still
> getting these lines.
> Thanks.
> Denis
>
>
> On Fri, Nov 13, 2015 at 3:18 PM, Andy Bauer <andy.bauer at kitware.com>
> wrote:
>
>> Is there any indicator on where the velocity field is valid and where
>> it's invalid? If there is you can threshold on that. Otherwise you could
>> try thresholding on the vertical velocity assuming it's significantly
>> larger in the invalid locations than the valid locations. First you'd have
>> to extract that component with either the Calculator filter or Python
>> Calculator filter, and then threshold on the new variable.
>>
>>
>> On Fri, Nov 13, 2015 at 9:09 AM, denis cohen <denis.cohen at gmail.com>
>> wrote:
>>
>>> Hi,
>>> I am getting strange lines at the end of streamlines that are nearly
>>> vertical and come out of the solution domain (see attached png image). I've
>>> tried changing input parameters to no avail. It's possible the velocity
>>> field is not good there but still how can I get rid of these lines?
>>> Thanks
>>> Denis Cohen
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/0ed16092/attachment.html>

From denis.cohen at gmail.com  Fri Nov 13 10:20:22 2015
From: denis.cohen at gmail.com (denis cohen)
Date: Fri, 13 Nov 2015 16:20:22 +0100
Subject: [Paraview] Streamlines end in near vertical straight line
In-Reply-To: <CAMaOp+GaG+kH4vDEUWjtvorv2churfKRBJOzR00j8BL=ZosOWw@mail.gmail.com>
References: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
 <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>
 <CAKf_S2JK2O_V87LpSiwwD=EHRHHBnxqkrhaO+1yZ-a+drPGvAw@mail.gmail.com>
 <CAMaOp+GaG+kH4vDEUWjtvorv2churfKRBJOzR00j8BL=ZosOWw@mail.gmail.com>
Message-ID: <CAKf_S2KPstgZbYORebvR9xS+kPL_8gnUar=av=8-gA=GKvYCTQ@mail.gmail.com>

I'd be glad to share but one solution is 152 Mb, gziped tar.
Where can I send that?

On Fri, Nov 13, 2015 at 4:03 PM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Can you share your data set and your current pipeline set up? That may
> help in trying to figure out a solution.
>
> On Fri, Nov 13, 2015 at 10:01 AM, denis cohen <denis.cohen at gmail.com>
> wrote:
>
>> Hi Andy,
>> I've tried filtering high values of vertical velocity but I am still
>> getting these lines.
>> Thanks.
>> Denis
>>
>>
>> On Fri, Nov 13, 2015 at 3:18 PM, Andy Bauer <andy.bauer at kitware.com>
>> wrote:
>>
>>> Is there any indicator on where the velocity field is valid and where
>>> it's invalid? If there is you can threshold on that. Otherwise you could
>>> try thresholding on the vertical velocity assuming it's significantly
>>> larger in the invalid locations than the valid locations. First you'd have
>>> to extract that component with either the Calculator filter or Python
>>> Calculator filter, and then threshold on the new variable.
>>>
>>>
>>> On Fri, Nov 13, 2015 at 9:09 AM, denis cohen <denis.cohen at gmail.com>
>>> wrote:
>>>
>>>> Hi,
>>>> I am getting strange lines at the end of streamlines that are nearly
>>>> vertical and come out of the solution domain (see attached png image). I've
>>>> tried changing input parameters to no avail. It's possible the velocity
>>>> field is not good there but still how can I get rid of these lines?
>>>> Thanks
>>>> Denis Cohen
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/3da9b561/attachment.html>

From simon.esneault at gmail.com  Fri Nov 13 10:57:17 2015
From: simon.esneault at gmail.com (Simon ESNEAULT)
Date: Fri, 13 Nov 2015 16:57:17 +0100
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
 <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
 <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>
Message-ID: <CAC9gB0CEV5SFEvL5bM1nqUauHC2MCLcd-puq48V7==p7J4dBcQ@mail.gmail.com>

Hello Aashish,

I've run some quick tests on my computer, and when disabling the automatic
adjustment, both of the volume rendering technique seems to deliver the
same performance, with some random Fixed sample distance. I will run some
more test on the other computer that we've got here, just to be sure. And
also on some mac. And report them to you :)

Is there something else that I can do to help on this problem ?

Simon


2015-11-12 18:34 GMT+01:00 Aashish Chaudhary <aashish.chaudhary at kitware.com>
:

>
>
> On Thu, Nov 12, 2015 at 12:31 PM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>>
>>
>> On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <
>> simon.esneault at gmail.com> wrote:
>>
>>> Hello Aashish,
>>>
>>> Sorry for the late reply, I was busy last week.
>>>
>>> Thanks for the update, and your work on this topic.
>>> Yes I have seen that your change have been merged concerning the
>>> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
>>> the new backend. To highlight this, please find attached a very simple
>>> application that loads a volume (
>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
>>> rendering while displaying the frame rate. This is pretty much what we show
>>> to the user in our application, and in this condition, on my machine the
>>> FPS are around 25 with the opengl1 backend
>>> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the
>>> new backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>, from
>>> this week VTK master
>>> It is very simple to test, just need change the VTK_DIR to an OpenGL1 or
>>> OpenGL2 build, and place the volume.mhd and raw in the execution path.
>>> Also you will find attached a small text file that summarizes the test
>>> that have been done here.
>>>
>>
>> No problem, thanks for the update. Please see my comments below:
>>
>>>
>>> I think the real reason why it appears slower with the OGL2 version is
>>> that we try to have control on the "MaximalImageSampleDistance". If I
>>> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
>>> the same frame rate with each backend. BUT, the new backend does decimate a
>>> lot more the volume, leading to a very blurred image during rendering, and
>>> that's not what we want :/
>>>
>>
>> Aha, this is very useful since this parameters does affecting the
>> reduction factor. I will try your code; one quick question when the new
>> backend decimates a lot (by removing the SetMaximumImageSampleDistance),
>> does it get any faster than the old version? I am going to try it on my Mac
>> and Linux laptop and report back (mostly tomorrow since I am away today).
>>
>>>
>>>
> Never mind, I see that you have that in your result file. It seems it does
> get faster but more blurry. Would it be possible for you to do one more
> test? Can you set a fix sample distance (pick any) for new and the old
> mapper and set AutoAdjustSampleDistance to OFF and capture some performance
> numbers? In that way we know exactly if something more fundamental is
> causing the slowness. The whole reduction factor math is based on
> approximate stuff so that will vary between two mappers.
>
> - Aashish
>
>
>> Again, thanks for paying attention to this problem, I hope this little
>>> application and test case can help you to adjust the parameters...
>>>
>>
>> Thanks for your help. I am glad you are testing my latest changes.
>>
>> - Best, Aashish
>>
>>>
>>>
>>> Simon
>>>
>>> PS : I did not get a chance to check the difference on Paraview, but I
>>> believe the result will be the same as the attached example is really
>>> simple.
>>>
>>> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com>:
>>>
>>>> Hi Simon,
>>>>
>>>> the branch has been merged into VTK master. I am not sure when Paraview
>>>> is going to update the VTK, but you can do it manually if needed. We are
>>>> also going to run our bench marking again to be sure since recently lot
>>>> many changes went into the VTK / volume rendering. Please feel free to ping
>>>> me again if it does not solve your issue.
>>>>
>>>> Looking forward to your feedback.
>>>>
>>>> - Aashish
>>>>
>>>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com> wrote:
>>>>
>>>>> Hi Simon,
>>>>>
>>>>> I found the reason behind the appeared performance you were getting.
>>>>> We have this code in volume rendering that when you interact changes the
>>>>> sampling distance and in the newer code we were too conservative compare to
>>>>> the last version. That's why you were getting better quality when you move
>>>>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>>>>> issue. Would it be possible for you to build Paraview with VTK master?  It
>>>>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>>>>
>>>>> Thanks,
>>>>> Aashish
>>>>>
>>>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>
>>>>>> Hi Simon,
>>>>>>
>>>>>> I am just finishing up a ParaView5 related parallel volume rendering
>>>>>> bug (pushing a branch today to VTK). This is next on my list.
>>>>>>
>>>>>> - Aashish
>>>>>>
>>>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>
>>>>>>> Hello Aashish
>>>>>>>
>>>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>>>> Can I do anything to help you investigate ? Should I feel a bug,
>>>>>>> that may act as a reminder ?
>>>>>>> Have a nice day
>>>>>>> Simon
>>>>>>>
>>>>>>>
>>>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>
>>>>>>>> Thanks Simon. This is really strange since we are not seeing it on
>>>>>>>> Mac and Linux (but both has dedicated cards).
>>>>>>>>
>>>>>>>> I will look into it soon.
>>>>>>>>
>>>>>>>> - aashish
>>>>>>>>
>>>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>>>> graphics.
>>>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>>>> hesitate to ask
>>>>>>>>> Simon
>>>>>>>>>
>>>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>
>>>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I don't
>>>>>>>>>> any issue so it has to be Windows specific thing.
>>>>>>>>>>
>>>>>>>>>> - Aashish
>>>>>>>>>>
>>>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>> Simon
>>>>>>>>>>>
>>>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>
>>>>>>>>>>>> Thanks.
>>>>>>>>>>>>
>>>>>>>>>>>> And when did you download this version?
>>>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> Aashish
>>>>>>>>>>>>
>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>>>> results.
>>>>>>>>>>>>>
>>>>>>>>>>>>> About the FPS, it is difficult to give an exact number,
>>>>>>>>>>>>> because it depends of the condition (zoomed or not etc...) but yes, this is
>>>>>>>>>>>>> the idea.
>>>>>>>>>>>>> In our software, I've exposed the frame rate using this
>>>>>>>>>>>>> example :
>>>>>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 1) Did you try without the shading and see how the
>>>>>>>>>>>>>> performance compares?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this
>>>>>>>>>>>>>> one from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and
>>>>>>>>>>>>>> the new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2
>>>>>>>>>>>>>>> backend.
>>>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and Nvidia
>>>>>>>>>>>>>>> Quadro K420
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate in
>>>>>>>>>>>>>>> Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play
>>>>>>>>>>>>>>> with this with the old backend to fine tune the interactivity, although
>>>>>>>>>>>>>>> what's really inside was never clear to me
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I hope that there is enough information for you to reproduce
>>>>>>>>>>>>>>> this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more
>>>>>>>>>>>>>>>> detail on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip).
>>>>>>>>>>>>>>>>>>> So I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe
>>>>>>>>>>>>>>>>>>> the GPURenderDemo used with this dataset is enough to highlight the slow
>>>>>>>>>>>>>>>>>>> down.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with
>>>>>>>>>>>>>>>>>>>> shading that was causing the slow performance a while back. I don't
>>>>>>>>>>>>>>>>>>>> remember if that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the
>>>>>>>>>>>>>>>>>>>>> data type you might be using
>>>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you
>>>>>>>>>>>>>>>>>>>>>> compare the latest 4.4 OpenGL2 build with the classic 4.4 build while
>>>>>>>>>>>>>>>>>>>>>> volume rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering
>>>>>>>>>>>>>>>>>>>>>> implementation should be faster than the old one, is there some more
>>>>>>>>>>>>>>>>>>>>>> detailed explanation somewhere ? Are there some important parameters that
>>>>>>>>>>>>>>>>>>>>>> can make the difference ?
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with
>>>>>>>>>>>>>>>>>>>>>> the new backend !
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>>           *
>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>> Simon Esneault
>>>>>>>>>>> Rennes, France
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>         *
>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>> Simon Esneault
>>>>>>>>> Rennes, France
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>       *
>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> ------------------------------------------------------------------
>>>>>>> Simon Esneault
>>>>>>> Rennes, France
>>>>>>> ------------------------------------------------------------------
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>     *
>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>> ------------------------------------------------------------------
>>> Simon Esneault
>>> Rennes, France
>>> ------------------------------------------------------------------
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 
------------------------------------------------------------------
Simon Esneault
Rennes, France
------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/19fb9559/attachment.html>

From aashish.chaudhary at kitware.com  Fri Nov 13 11:02:39 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Fri, 13 Nov 2015 11:02:39 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAC9gB0CEV5SFEvL5bM1nqUauHC2MCLcd-puq48V7==p7J4dBcQ@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
 <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
 <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>
 <CAC9gB0CEV5SFEvL5bM1nqUauHC2MCLcd-puq48V7==p7J4dBcQ@mail.gmail.com>
Message-ID: <CAEw35Z-eS-JQcvwB4Et1EtmLKnYYPjSYdXpzLPrO1DcXbtwUsA@mail.gmail.com>

On Fri, Nov 13, 2015 at 10:57 AM, Simon ESNEAULT <simon.esneault at gmail.com>
wrote:

> Hello Aashish,
>
> I've run some quick tests on my computer, and when disabling the automatic
> adjustment, both of the volume rendering technique seems to deliver the
> same performance, with some random Fixed sample distance. I will run some
> more test on the other computer that we've got here, just to be sure. And
> also on some mac. And report them to you :)
>

This is very helpful and sort of confirms my theory the the code in
question is the reduction factor computation. The logic is changed between
the old mapper and the new mapper. I will look again to make them
consistent but it won't be exactly the same since the old mapper code to me
was not making the the right choices and was broken for the new mapper.
Actually, initially we had the exact same code and it was running into
issues since the new mapper was faster and hence breaking some of the
assumptions the old mapper was making.

>
> Is there something else that I can do to help on this problem ?
>

Not at the moment. You helped a lot, the code and the data is really
helpful. I will report back early next week again and will request you to
try again. Thanks for your patience.

- Aashish

>
>
> Simon
>
>
> 2015-11-12 18:34 GMT+01:00 Aashish Chaudhary <
> aashish.chaudhary at kitware.com>:
>
>>
>>
>> On Thu, Nov 12, 2015 at 12:31 PM, Aashish Chaudhary <
>> aashish.chaudhary at kitware.com> wrote:
>>
>>>
>>>
>>> On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <
>>> simon.esneault at gmail.com> wrote:
>>>
>>>> Hello Aashish,
>>>>
>>>> Sorry for the late reply, I was busy last week.
>>>>
>>>> Thanks for the update, and your work on this topic.
>>>> Yes I have seen that your change have been merged concerning the
>>>> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
>>>> the new backend. To highlight this, please find attached a very simple
>>>> application that loads a volume (
>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
>>>> rendering while displaying the frame rate. This is pretty much what we show
>>>> to the user in our application, and in this condition, on my machine the
>>>> FPS are around 25 with the opengl1 backend
>>>> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the
>>>> new backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>, from
>>>> this week VTK master
>>>> It is very simple to test, just need change the VTK_DIR to an OpenGL1
>>>> or OpenGL2 build, and place the volume.mhd and raw in the execution path.
>>>> Also you will find attached a small text file that summarizes the test
>>>> that have been done here.
>>>>
>>>
>>> No problem, thanks for the update. Please see my comments below:
>>>
>>>>
>>>> I think the real reason why it appears slower with the OGL2 version is
>>>> that we try to have control on the "MaximalImageSampleDistance". If I
>>>> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
>>>> the same frame rate with each backend. BUT, the new backend does decimate a
>>>> lot more the volume, leading to a very blurred image during rendering, and
>>>> that's not what we want :/
>>>>
>>>
>>> Aha, this is very useful since this parameters does affecting the
>>> reduction factor. I will try your code; one quick question when the new
>>> backend decimates a lot (by removing the SetMaximumImageSampleDistance),
>>> does it get any faster than the old version? I am going to try it on my Mac
>>> and Linux laptop and report back (mostly tomorrow since I am away today).
>>>
>>>>
>>>>
>> Never mind, I see that you have that in your result file. It seems it
>> does get faster but more blurry. Would it be possible for you to do one
>> more test? Can you set a fix sample distance (pick any) for new and the old
>> mapper and set AutoAdjustSampleDistance to OFF and capture some performance
>> numbers? In that way we know exactly if something more fundamental is
>> causing the slowness. The whole reduction factor math is based on
>> approximate stuff so that will vary between two mappers.
>>
>> - Aashish
>>
>>
>>> Again, thanks for paying attention to this problem, I hope this little
>>>> application and test case can help you to adjust the parameters...
>>>>
>>>
>>> Thanks for your help. I am glad you are testing my latest changes.
>>>
>>> - Best, Aashish
>>>
>>>>
>>>>
>>>> Simon
>>>>
>>>> PS : I did not get a chance to check the difference on Paraview, but I
>>>> believe the result will be the same as the attached example is really
>>>> simple.
>>>>
>>>> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com>:
>>>>
>>>>> Hi Simon,
>>>>>
>>>>> the branch has been merged into VTK master. I am not sure when
>>>>> Paraview is going to update the VTK, but you can do it manually if needed.
>>>>> We are also going to run our bench marking again to be sure since recently
>>>>> lot many changes went into the VTK / volume rendering. Please feel free to
>>>>> ping me again if it does not solve your issue.
>>>>>
>>>>> Looking forward to your feedback.
>>>>>
>>>>> - Aashish
>>>>>
>>>>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>
>>>>>> Hi Simon,
>>>>>>
>>>>>> I found the reason behind the appeared performance you were getting.
>>>>>> We have this code in volume rendering that when you interact changes the
>>>>>> sampling distance and in the newer code we were too conservative compare to
>>>>>> the last version. That's why you were getting better quality when you move
>>>>>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>>>>>> issue. Would it be possible for you to build Paraview with VTK master?  It
>>>>>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>>>>>
>>>>>> Thanks,
>>>>>> Aashish
>>>>>>
>>>>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>
>>>>>>> Hi Simon,
>>>>>>>
>>>>>>> I am just finishing up a ParaView5 related parallel volume rendering
>>>>>>> bug (pushing a branch today to VTK). This is next on my list.
>>>>>>>
>>>>>>> - Aashish
>>>>>>>
>>>>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hello Aashish
>>>>>>>>
>>>>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>>>>> Can I do anything to help you investigate ? Should I feel a bug,
>>>>>>>> that may act as a reminder ?
>>>>>>>> Have a nice day
>>>>>>>> Simon
>>>>>>>>
>>>>>>>>
>>>>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>
>>>>>>>>> Thanks Simon. This is really strange since we are not seeing it on
>>>>>>>>> Mac and Linux (but both has dedicated cards).
>>>>>>>>>
>>>>>>>>> I will look into it soon.
>>>>>>>>>
>>>>>>>>> - aashish
>>>>>>>>>
>>>>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>>>>> graphics.
>>>>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>>>>> hesitate to ask
>>>>>>>>>> Simon
>>>>>>>>>>
>>>>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>
>>>>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I
>>>>>>>>>>> don't any issue so it has to be Windows specific thing.
>>>>>>>>>>>
>>>>>>>>>>> - Aashish
>>>>>>>>>>>
>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> Simon
>>>>>>>>>>>>
>>>>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks.
>>>>>>>>>>>>>
>>>>>>>>>>>>> And when did you download this version?
>>>>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> Aashish
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>>>>> results.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> About the FPS, it is difficult to give an exact number,
>>>>>>>>>>>>>> because it depends of the condition (zoomed or not etc...) but yes, this is
>>>>>>>>>>>>>> the idea.
>>>>>>>>>>>>>> In our software, I've exposed the frame rate using this
>>>>>>>>>>>>>> example :
>>>>>>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>>>>> And the frame rate is around 15/20 for the first backend, and
>>>>>>>>>>>>>> around 6/8 for the new backend, on the same dataset (the one provided for
>>>>>>>>>>>>>> example), with the same mapper parameters
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 1) Did you try without the shading and see how the
>>>>>>>>>>>>>>> performance compares?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this
>>>>>>>>>>>>>>> one from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and
>>>>>>>>>>>>>>> the new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2
>>>>>>>>>>>>>>>> backend.
>>>>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and
>>>>>>>>>>>>>>>> Nvidia Quadro K420
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750] (the
>>>>>>>>>>>>>>>> default "Cool to Warm" is fine)
>>>>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate
>>>>>>>>>>>>>>>> in Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play
>>>>>>>>>>>>>>>> with this with the old backend to fine tune the interactivity, although
>>>>>>>>>>>>>>>> what's really inside was never clear to me
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I hope that there is enough information for you to
>>>>>>>>>>>>>>>> reproduce this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more
>>>>>>>>>>>>>>>>> detail on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked the
>>>>>>>>>>>>>>>>>> shading performance fix was in 4.4 but not in RC's. I don't have access to
>>>>>>>>>>>>>>>>>> Windows box right away but I will try there too.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip).
>>>>>>>>>>>>>>>>>>>> So I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I believe
>>>>>>>>>>>>>>>>>>>> the GPURenderDemo used with this dataset is enough to highlight the slow
>>>>>>>>>>>>>>>>>>>> down.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with
>>>>>>>>>>>>>>>>>>>>> shading that was causing the slow performance a while back. I don't
>>>>>>>>>>>>>>>>>>>>> remember if that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the
>>>>>>>>>>>>>>>>>>>>>> data type you might be using
>>>>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you
>>>>>>>>>>>>>>>>>>>>>>> compare the latest 4.4 OpenGL2 build with the classic 4.4 build while
>>>>>>>>>>>>>>>>>>>>>>> volume rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering
>>>>>>>>>>>>>>>>>>>>>>> implementation should be faster than the old one, is there some more
>>>>>>>>>>>>>>>>>>>>>>> detailed explanation somewhere ? Are there some important parameters that
>>>>>>>>>>>>>>>>>>>>>>> can make the difference ?
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster with
>>>>>>>>>>>>>>>>>>>>>>> the new backend !
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>           *
>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>> Simon Esneault
>>>>>>>>>> Rennes, France
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>         *
>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> ------------------------------------------------------------------
>>>>>>>> Simon Esneault
>>>>>>>> Rennes, France
>>>>>>>> ------------------------------------------------------------------
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>     *
>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> ------------------------------------------------------------------
>>>> Simon Esneault
>>>> Rennes, France
>>>> ------------------------------------------------------------------
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
> ------------------------------------------------------------------
> Simon Esneault
> Rennes, France
> ------------------------------------------------------------------
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151113/49018617/attachment.html>

From giuseppe.bilotta at gmail.com  Sat Nov 14 17:40:18 2015
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Sat, 14 Nov 2015 23:40:18 +0100
Subject: [Paraview] Parallel Projection Camera missing in 5.0.0-RC1
Message-ID: <CAOxFTcz0kZVH35Na0En167XEBi7fNnpgTP-oe+B4PJzEqw58nQ@mail.gmail.com>

Hello,

I can't seem to find an option to enable parallel projection anymore
in the ParaView 5 RC1 (built from source). Is this a side-effect of
the transition to the new rendering engine? is it intentional, or just
missing the proper UI hooks?

Thanks,

-- 
Giuseppe "Oblomov" Bilotta

From enrilizaga at gmail.com  Sat Nov 14 21:02:04 2015
From: enrilizaga at gmail.com (Enrique Lizarraga-Garcia)
Date: Sat, 14 Nov 2015 21:02:04 -0500
Subject: [Paraview] paraview python scripting equivalent of File->save
	Data of contour
In-Reply-To: <CAB5Fpx5FV0PGeTWrM8ByDJWprK-bVQOhE-WU8oWiPdK9wJuOOQ@mail.gmail.com>
References: <220863C8-C8A3-461E-BEBD-631348EC7D2B@gmail.com>
 <CAB5Fpx5FV0PGeTWrM8ByDJWprK-bVQOhE-WU8oWiPdK9wJuOOQ@mail.gmail.com>
Message-ID: <012B82A0-34CD-45A0-8C44-518C5B802A8F@gmail.com>

Hi Cory,

Thank you so much! It works after specifying the fill path.

Best regards,
Enrique

On Nov 12, 2015, at 8:31 PM, Cory Quammen <cory.quammen at kitware.com> wrote:

> Hi Enrique,
> 
> It looks like the writer is attempting to write to / and doesn't have permission to do so. Try specifying the full path in the 'name' variable.
> 
> HTH,
> Cory
> 
> On Thu, Nov 12, 2015 at 6:02 PM, Enrique Lizarraga-Garcia <enrilizaga at gmail.com> wrote:
> Hi all,
> 
> I would like to automate exporting csv files from countour of vtk files. I am tracing the steps in paraview, but it somehow misses the last part, saving/exporting as csv. When I do it manually, it saves n csv files, where n is the number of blocks I have in my simulation. I have successfully saved as csv files PlotOverLine output, and thus I have tried similar procedure with this:
> 
> (?)
> Contour1 = Contour( PointMergeMethod="Uniform Binning" )
> Contour1.PointMergeMethod = "Uniform Binning"
> Contour1.ContourBy = ['POINTS', 'PHI']
> Contour1.ComputeNormals = 0
> Contour1.Isosurfaces = [0.0]
> source = Contour1
> name = "LevelSet.csv"
> writer = CreateWriter(name , source)
> writer.FieldAssociation = "Points" # or "Cells"
> writer.UpdatePipeline()
> del writer
> 
> However, I obtain the following error message
> 
> ERROR: In /Users/kitware/Dashboards/MyTests/NightlyMaster/ParaViewSuperbuild-Release/paraview/src/paraview/ParaViewCore/VTKExtensions/Default/vtkCSVWriter.cxx, line 82
> vtkCSVWriter (0x1213ab5a0): Unable to open file: /LevelSet(...).csv
> Is there any way to do it?
> 
> Thank you very much in advance,
> Enrique
> 
> 
> 
> 
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Search the list archives at: http://markmail.org/search/?q=ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
> 
> 
> 
> 
> -- 
> Cory Quammen
> R&D Engineer
> Kitware, Inc.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151114/b8c5ae36/attachment.html>

From giuseppe.bilotta at gmail.com  Sun Nov 15 03:33:32 2015
From: giuseppe.bilotta at gmail.com (Giuseppe Bilotta)
Date: Sun, 15 Nov 2015 09:33:32 +0100
Subject: [Paraview] Parallel Projection Camera missing in 5.0.0-RC1
In-Reply-To: <CAOxFTcz0kZVH35Na0En167XEBi7fNnpgTP-oe+B4PJzEqw58nQ@mail.gmail.com>
References: <CAOxFTcz0kZVH35Na0En167XEBi7fNnpgTP-oe+B4PJzEqw58nQ@mail.gmail.com>
Message-ID: <CAOxFTcwkGjvtpg-ib20bkSq8+Fi9OmirWKMeFjt7vPgMB-qsTg@mail.gmail.com>

On Sat, Nov 14, 2015 at 11:40 PM, Giuseppe Bilotta
<giuseppe.bilotta at gmail.com> wrote:
> Hello,
>
> I can't seem to find an option to enable parallel projection anymore
> in the ParaView 5 RC1 (built from source). Is this a side-effect of
> the transition to the new rendering engine? is it intentional, or just
> missing the proper UI hooks?

Ok, sorry for the noise, didn't notice that the Advanced options were
not enabled. Found it, but I see that it still has the earlier bug
about the setting not getting properly reloaded if saved as default.
I'll see if I can fix it.

-- 
Giuseppe "Oblomov" Bilotta

From andy.bauer at kitware.com  Sun Nov 15 11:07:34 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Sun, 15 Nov 2015 11:07:34 -0500
Subject: [Paraview] Streamlines end in near vertical straight line
In-Reply-To: <CAKf_S2KPstgZbYORebvR9xS+kPL_8gnUar=av=8-gA=GKvYCTQ@mail.gmail.com>
References: <CAKf_S2JYKOFRjaY3kukFDKeBm30MDsKqiWGRd+BFDE=ZuzVK_w@mail.gmail.com>
 <CAMaOp+FaLf68tCn5x591JkSodr44yLLSJ=PcAxg4aKiYKOY5=w@mail.gmail.com>
 <CAKf_S2JK2O_V87LpSiwwD=EHRHHBnxqkrhaO+1yZ-a+drPGvAw@mail.gmail.com>
 <CAMaOp+GaG+kH4vDEUWjtvorv2churfKRBJOzR00j8BL=ZosOWw@mail.gmail.com>
 <CAKf_S2KPstgZbYORebvR9xS+kPL_8gnUar=av=8-gA=GKvYCTQ@mail.gmail.com>
Message-ID: <CAMaOp+HrmdcPNUd_GSd9-=N4yCdjiJypcMM6QsORAEk3xZpfzg@mail.gmail.com>

Can you share it through google drive? You can just share it with me
personally.

On Fri, Nov 13, 2015 at 10:20 AM, denis cohen <denis.cohen at gmail.com> wrote:

> I'd be glad to share but one solution is 152 Mb, gziped tar.
> Where can I send that?
>
> On Fri, Nov 13, 2015 at 4:03 PM, Andy Bauer <andy.bauer at kitware.com>
> wrote:
>
>> Can you share your data set and your current pipeline set up? That may
>> help in trying to figure out a solution.
>>
>> On Fri, Nov 13, 2015 at 10:01 AM, denis cohen <denis.cohen at gmail.com>
>> wrote:
>>
>>> Hi Andy,
>>> I've tried filtering high values of vertical velocity but I am still
>>> getting these lines.
>>> Thanks.
>>> Denis
>>>
>>>
>>> On Fri, Nov 13, 2015 at 3:18 PM, Andy Bauer <andy.bauer at kitware.com>
>>> wrote:
>>>
>>>> Is there any indicator on where the velocity field is valid and where
>>>> it's invalid? If there is you can threshold on that. Otherwise you could
>>>> try thresholding on the vertical velocity assuming it's significantly
>>>> larger in the invalid locations than the valid locations. First you'd have
>>>> to extract that component with either the Calculator filter or Python
>>>> Calculator filter, and then threshold on the new variable.
>>>>
>>>>
>>>> On Fri, Nov 13, 2015 at 9:09 AM, denis cohen <denis.cohen at gmail.com>
>>>> wrote:
>>>>
>>>>> Hi,
>>>>> I am getting strange lines at the end of streamlines that are nearly
>>>>> vertical and come out of the solution domain (see attached png image). I've
>>>>> tried changing input parameters to no avail. It's possible the velocity
>>>>> field is not good there but still how can I get rid of these lines?
>>>>> Thanks
>>>>> Denis Cohen
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151115/9be61ef0/attachment.html>

From Matthias.Wiesenberger at uibk.ac.at  Mon Nov 16 07:50:18 2015
From: Matthias.Wiesenberger at uibk.ac.at (Wiesenberger, Matthias)
Date: Mon, 16 Nov 2015 12:50:18 +0000
Subject: [Paraview] structured grid in netcdf 4
Message-ID: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>

Dear all,

I use netcdf-4 to write fields (density, temperature,...) in 3 dimensions to disk. These fields are given on a curvilinear grid (e.g. toroidal coordinates X,Y,Z). I have vectors containing the cartesian coordinates dependent on the curvilinear coordinates x(X,Y,Z), y(X,Y,Z), z(X,Y,Z) where x,y,z are cartesian coordinates and X,Y,Z are the curvilinear coordinates.
The CF - conventions tell that these vectors should be written out as auxiliary coordinates and the variables that depend on them should have the auxiliary coordinates as an attribute.
Now I cannot make paraview plot the fields correctly. When I read in the file it always shows me a rectangular box instead of a torus.
I would like to know if there is a working example somewhere on the internet showing how to use netcdf and paraview to first write and then plot a field on a structured grid that is not a simple cartesian or spherical grid. (I spent some time searching for this topic on the net but I couldn't find anything useful) What do I have to do to make paraview recognize my auxiliary coordinates?

Best
Matthias
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/141a0cdc/attachment.html>

From aleksejs.fomins at lspr.ch  Mon Nov 16 08:58:21 2015
From: aleksejs.fomins at lspr.ch (Aleksejs Fomins)
Date: Mon, 16 Nov 2015 14:58:21 +0100
Subject: [Paraview] plot title
In-Reply-To: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>
References: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>
Message-ID: <5649E0FD.60508@lspr.ch>

Dear Paraview,

Sorry for the basic question, but I can't manage to get a title for my plot.
I am visualising a set of PVTU files from which I wish to make a movie.

Would you be so kind as to suggest where I must click to have a user-defined line of text at the top of the plot

Regards,
Aleksejs Fomins

From ken.martin at kitware.com  Mon Nov 16 09:11:34 2015
From: ken.martin at kitware.com (Ken Martin)
Date: Mon, 16 Nov 2015 09:11:34 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
Message-ID: <CANXz0SaXUGAvhPy4zXuJnS94XTNyZVjTEwQp3aJ3jiR66POqSg@mail.gmail.com>

I'd be happy to address this if someone can explain to me what the problem
is. A failing VTK test would be really nice as I'm a bit lost from the
email. I just don't understand the specifics of what is going on here. It
sounds like some sort of CompositePolyData2 with a field data where the
field data contains block colors and the field data is on the
first/last/all block of the dataset? Or maybe I'm confused :-) Do you know
where the code to handle this for OpenGL1 is?

Thanks
Ken

On Fri, Nov 13, 2015 at 2:16 AM, Adam Lyon <lyon at fnal.gov> wrote:

> Hi - I know you all are busy preparing for SC15, but this bug persists in
> the ParaView v5 release candidate, which makes it difficult for me to use.
> Is there a chance this problem can be looked at and resolved before the
> final release? Thanks! Happy SC15!! -- A
>
> *------*
>
> *Adam L. Lyon*
> *Scientist; Associate Division Head for Systems for Scientific
> Applications*
>
> Scientific Computing Division & Muon g-2 Experiment
> Fermi National Accelerator Laboratory
> 630 840 5522 office
> www.fnal.gov
> lyon at fnal.gov
>
> Connect with us!
> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
> <https://www.facebook.com/Fermilab>  |  Twitter
> <https://twitter.com/Fermilab>
>
> On Fri, Aug 7, 2015 at 12:32 PM, Utkarsh Ayachit <
> utkarsh.ayachit at kitware.com> wrote:
>
>> Adam,
>>
>> The problem is that the OpenGL2 implementation doesn't work correctly for
>> field-data arrays yet.
>> I've reported a bug: http://www.paraview.org/Bug/view.php?id=15627
>>
>> We'll have in tracked down soon.
>>
>> Utkarsh
>>
>> On Mon, Aug 3, 2015 at 2:59 PM, Adam Lyon <lyon at fnal.gov> wrote:
>>
>>> Hi Joachim, Do you want me to send in a bug report for these problems? I
>>> assume there's no work-around that I can do to make things work. Using
>>> OpenGL2 is quite a bit faster, so I'm hoping a fix can come out soon.
>>> Thanks! -- Adam
>>>
>>> *------*
>>>
>>> *Adam L. Lyon*
>>> *Scientist; Associate Division Head for Systems for Scientific
>>> Applications*
>>>
>>> Scientific Computing Division & Muon g-2 Experiment
>>> Fermi National Accelerator Laboratory
>>> 630 840 5522 office
>>> www.fnal.gov
>>> lyon at fnal.gov
>>>
>>> Connect with us!
>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>> <https://twitter.com/Fermilab>
>>>
>>> On Fri, Jul 31, 2015 at 10:53 AM, Adam L Lyon <lyon at fnal.gov> wrote:
>>>
>>>> Hi Joachim - Yes, I noticed that the default color is now
>>>> vtkBlockColors. However I changed that to the "color" vector in my data and
>>>> that change was not honored by the program. Thanks, Adam
>>>>
>>>> *------*
>>>>
>>>> *Adam L. Lyon*
>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>> Applications*
>>>>
>>>> Scientific Computing Division & Muon g-2 Experiment
>>>> Fermi National Accelerator Laboratory
>>>> 630 840 5522 office
>>>> www.fnal.gov
>>>> lyon at fnal.gov
>>>>
>>>> Connect with us!
>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>> <https://twitter.com/Fermilab>
>>>>
>>>> On Fri, Jul 31, 2015 at 2:41 AM, Joachim Pouderoux <
>>>> joachim.pouderoux at kitware.com> wrote:
>>>>
>>>>> Adam,
>>>>>
>>>>> The color difference can be explained by the default coloring mode
>>>>> introduced recently (before the git tag version you tested with).
>>>>> Multiblocks are now automatically colored by blocks. Toggle the Color
>>>>> Legend and see the coloring array, "vtkBlockColors" is selected wereas in
>>>>> previous version it was Solid Color I guess.
>>>>> Regarding the missing pieces, I can tell that with the same git
>>>>> version and with the OpenGL backend 1 (the old), all pieces are correctly
>>>>> drawn. What is specific is that this missing blocks (the data has like a
>>>>> global gemetry block + all the internal pieces) are the last block if the
>>>>> first level block hierarchy.
>>>>>
>>>>> Joachim
>>>>>
>>>>>
>>>>> *Joachim Pouderoux*
>>>>>
>>>>> *PhD, Technical Expert*
>>>>> *Kitware SAS <http://www.kitware.fr>*
>>>>>
>>>>>
>>>>> 2015-07-30 22:19 GMT+02:00 Adam Lyon <lyon at fnal.gov>:
>>>>>
>>>>>> Hi,  I'm trying to use ParaView built with OpenGL2, hoping to see
>>>>>> some speed improvement when I interact with my visualization. Indeed for a
>>>>>> complicated geometry I see significant speed up (e.g. ~25 fps with OpenGL2
>>>>>> vs. 5 fps with regular ParaView). But I also see serious errors in the
>>>>>> display. I've attached two images of our "g-2 muon storage ring" (never
>>>>>> mind what it actually is, though it is very cool :-) ..
>>>>>>
>>>>>> [image: Inline image 1]
>>>>>>
>>>>>> The first, mostly blue image, is from regular ParaView (downloaded
>>>>>> Mac binary 4.3.1 64 bit)  and is what the ring is supposed to look like.
>>>>>> There is a color vector selected and I've unchecked "Map scalars" so that
>>>>>> the colors are "true". And indeed the RGB color values in the vector are
>>>>>> what is shown on the display.
>>>>>>
>>>>>>
>>>>>> [image: Inline image 2]
>>>>>> The next image, with a chunk on the left side missing, is from the
>>>>>> OpenGL2 ParaView (Mac built from source 4.3.1-882-gbdceec7 64 bit)
>>>>>> configured identically as the other ParaView. So it should look identical
>>>>>> to the mostly blue picture. Along with the missing chunk, you see the
>>>>>> colors look very wrong. What's even stranger is that the missing chunk is
>>>>>> really missing - not invisible - the visualization is made of multiblock
>>>>>> datasets, and right clicking where a structure should be only brings up the
>>>>>> link camera option.
>>>>>>
>>>>>> You can try this yourself -- see
>>>>>> https://www.dropbox.com/sh/900ocfc90v0w3r6/AACmqz8kVrGPUMnJbpxAFOzBa?dl=0
>>>>>> . The "gm2ring.zip" file has gm2ring.vtm (with the corresponding gm2ring
>>>>>> directory) and gm2ring.pvsm to restore my configuration.
>>>>>>
>>>>>> I'm looking forward to using the OpenGL2 version when it works
>>>>>> better. I hope this helps in working out its kinks (or hoping to find out
>>>>>> I've built or configured something incorrectly). Let me know how I can
>>>>>> help!  Thanks! -- Adam
>>>>>> *------*
>>>>>>
>>>>>> *Adam L. Lyon*
>>>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>>>> Applications*
>>>>>>
>>>>>> Scientific Computing Division & Muon g-2 Experiment
>>>>>> Fermi National Accelerator Laboratory
>>>>>> 630 840 5522 office
>>>>>> www.fnal.gov
>>>>>> lyon at fnal.gov
>>>>>>
>>>>>> Connect with us!
>>>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>>>> <https://twitter.com/Fermilab>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>>
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 
Ken Martin PhD
Chairman & CFO
Kitware Inc.
28 Corporate Drive
Clifton Park NY 12065
518 371 3971

This communication, including all attachments, contains confidential and
legally privileged information, and it is intended only for the use of the
addressee.  Access to this email by anyone else is unauthorized. If you are
not the intended recipient, any disclosure, copying, distribution or any
action taken in reliance on it is prohibited and may be unlawful. If you
received this communication in error please notify us immediately and
destroy the original message.  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/783a7b55/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl2_bad.png
Type: image/png
Size: 16709 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/783a7b55/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl_good.png
Type: image/png
Size: 19431 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/783a7b55/attachment-0001.png>

From samuelkey at bresnan.net  Mon Nov 16 10:26:06 2015
From: samuelkey at bresnan.net (Samuel Key)
Date: Mon, 16 Nov 2015 08:26:06 -0700
Subject: [Paraview] plot title
In-Reply-To: <5649E0FD.60508@lspr.ch>
References: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>
 <5649E0FD.60508@lspr.ch>
Message-ID: <5649F58E.801@bresnan.net>

Aleksejs,

This is not the only way, but a convenient way to add a title to an 
animation.

Add an Annotate Time filter to the pipe line. Hit apply. Make sure that 
'gear' button is slected. There are 6 'default' locations: Top-Left, 
Top-Center, Top-Right, Btm-Left,... Also, you can pick a custom 
location. Text font and size is completely selectable.

You can either use "Time: %f" and add title text after it, before it, or 
erase "Time:%f"

You can add in parallel another Annotate Time filter... und so weiter.

Hope this helps

Samuel W Key
FMA Development, LLC
1005 39th Ave NE
Great Falls, Montana 59404
USA

On 11/16/2015 6:58 AM, Aleksejs Fomins wrote:
> Dear Paraview,
>
> Sorry for the basic question, but I can't manage to get a title for my plot.
> I am visualising a set of PVTU files from which I wish to make a movie.
>
> Would you be so kind as to suggest where I must click to have a user-defined line of text at the top of the plot
>
> Regards,
> Aleksejs Fomins
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview


From lyon at fnal.gov  Mon Nov 16 11:06:22 2015
From: lyon at fnal.gov (Adam Lyon)
Date: Mon, 16 Nov 2015 10:06:22 -0600
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
Message-ID: <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>

Hi Ken - Thanks for your e-mail. If you look at the first message in this
thread with the pictures, you'll see that the OpenGL2 image doesn't look
like the OpenGL1 image. The OpenGL1 image is correct. The OpenGL2 image
should be identical if things are working. That message has a link to my
dropbox directory with a file "gm2ring.zip" - that has the vtm file and its
components, so you should be able to try this yourself. At this point, I
think you can just compare how that file looks (hit the -Y button to get a
good top-down view) in ParaView 4.4 and in ParaView 5.0RC and see the
difference. The image in ParaView 4.4 is correct.

Let me know if that doesn't work or you need me to do anything. I'm happy
to help here! Though sorry I can't help with the code.

-- Adam

*------*

*Adam L. Lyon*
*Scientist; Associate Division Head for Systems for Scientific Applications*

Scientific Computing Division & Muon g-2 Experiment
Fermi National Accelerator Laboratory
630 840 5522 office
www.fnal.gov
lyon at fnal.gov

Connect with us!
Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
<https://www.facebook.com/Fermilab>  |  Twitter
<https://twitter.com/Fermilab>

On Mon, Nov 16, 2015 at 8:11 AM, Ken Martin <ken.martin at kitware.com> wrote:

> I'd be happy to address this if someone can explain to me what the problem
> is. A failing VTK test would be really nice as I'm a bit lost from the
> email. I just don't understand the specifics of what is going on here. It
> sounds like some sort of CompositePolyData2 with a field data where the
> field data contains block colors and the field data is on the
> first/last/all block of the dataset? Or maybe I'm confused :-) Do you know
> where the code to handle this for OpenGL1 is?
>
> Thanks
> Ken
>
> On Fri, Nov 13, 2015 at 2:16 AM, Adam Lyon <lyon at fnal.gov> wrote:
>
>> Hi - I know you all are busy preparing for SC15, but this bug persists in
>> the ParaView v5 release candidate, which makes it difficult for me to use.
>> Is there a chance this problem can be looked at and resolved before the
>> final release? Thanks! Happy SC15!! -- A
>>
>> *------*
>>
>> *Adam L. Lyon*
>> *Scientist; Associate Division Head for Systems for Scientific
>> Applications*
>>
>> Scientific Computing Division & Muon g-2 Experiment
>> Fermi National Accelerator Laboratory
>> 630 840 5522 office
>> www.fnal.gov
>> lyon at fnal.gov
>>
>> Connect with us!
>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>> <https://www.facebook.com/Fermilab>  |  Twitter
>> <https://twitter.com/Fermilab>
>>
>> On Fri, Aug 7, 2015 at 12:32 PM, Utkarsh Ayachit <
>> utkarsh.ayachit at kitware.com> wrote:
>>
>>> Adam,
>>>
>>> The problem is that the OpenGL2 implementation doesn't work correctly
>>> for field-data arrays yet.
>>> I've reported a bug: http://www.paraview.org/Bug/view.php?id=15627
>>>
>>> We'll have in tracked down soon.
>>>
>>> Utkarsh
>>>
>>> On Mon, Aug 3, 2015 at 2:59 PM, Adam Lyon <lyon at fnal.gov> wrote:
>>>
>>>> Hi Joachim, Do you want me to send in a bug report for these problems?
>>>> I assume there's no work-around that I can do to make things work. Using
>>>> OpenGL2 is quite a bit faster, so I'm hoping a fix can come out soon.
>>>> Thanks! -- Adam
>>>>
>>>> *------*
>>>>
>>>> *Adam L. Lyon*
>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>> Applications*
>>>>
>>>> Scientific Computing Division & Muon g-2 Experiment
>>>> Fermi National Accelerator Laboratory
>>>> 630 840 5522 office
>>>> www.fnal.gov
>>>> lyon at fnal.gov
>>>>
>>>> Connect with us!
>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>> <https://twitter.com/Fermilab>
>>>>
>>>> On Fri, Jul 31, 2015 at 10:53 AM, Adam L Lyon <lyon at fnal.gov> wrote:
>>>>
>>>>> Hi Joachim - Yes, I noticed that the default color is now
>>>>> vtkBlockColors. However I changed that to the "color" vector in my data and
>>>>> that change was not honored by the program. Thanks, Adam
>>>>>
>>>>> *------*
>>>>>
>>>>> *Adam L. Lyon*
>>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>>> Applications*
>>>>>
>>>>> Scientific Computing Division & Muon g-2 Experiment
>>>>> Fermi National Accelerator Laboratory
>>>>> 630 840 5522 office
>>>>> www.fnal.gov
>>>>> lyon at fnal.gov
>>>>>
>>>>> Connect with us!
>>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>>> <https://twitter.com/Fermilab>
>>>>>
>>>>> On Fri, Jul 31, 2015 at 2:41 AM, Joachim Pouderoux <
>>>>> joachim.pouderoux at kitware.com> wrote:
>>>>>
>>>>>> Adam,
>>>>>>
>>>>>> The color difference can be explained by the default coloring mode
>>>>>> introduced recently (before the git tag version you tested with).
>>>>>> Multiblocks are now automatically colored by blocks. Toggle the Color
>>>>>> Legend and see the coloring array, "vtkBlockColors" is selected wereas in
>>>>>> previous version it was Solid Color I guess.
>>>>>> Regarding the missing pieces, I can tell that with the same git
>>>>>> version and with the OpenGL backend 1 (the old), all pieces are correctly
>>>>>> drawn. What is specific is that this missing blocks (the data has like a
>>>>>> global gemetry block + all the internal pieces) are the last block if the
>>>>>> first level block hierarchy.
>>>>>>
>>>>>> Joachim
>>>>>>
>>>>>>
>>>>>> *Joachim Pouderoux*
>>>>>>
>>>>>> *PhD, Technical Expert*
>>>>>> *Kitware SAS <http://www.kitware.fr>*
>>>>>>
>>>>>>
>>>>>> 2015-07-30 22:19 GMT+02:00 Adam Lyon <lyon at fnal.gov>:
>>>>>>
>>>>>>> Hi,  I'm trying to use ParaView built with OpenGL2, hoping to see
>>>>>>> some speed improvement when I interact with my visualization. Indeed for a
>>>>>>> complicated geometry I see significant speed up (e.g. ~25 fps with OpenGL2
>>>>>>> vs. 5 fps with regular ParaView). But I also see serious errors in the
>>>>>>> display. I've attached two images of our "g-2 muon storage ring" (never
>>>>>>> mind what it actually is, though it is very cool :-) ..
>>>>>>>
>>>>>>> [image: Inline image 1]
>>>>>>>
>>>>>>> The first, mostly blue image, is from regular ParaView (downloaded
>>>>>>> Mac binary 4.3.1 64 bit)  and is what the ring is supposed to look like.
>>>>>>> There is a color vector selected and I've unchecked "Map scalars" so that
>>>>>>> the colors are "true". And indeed the RGB color values in the vector are
>>>>>>> what is shown on the display.
>>>>>>>
>>>>>>>
>>>>>>> [image: Inline image 2]
>>>>>>> The next image, with a chunk on the left side missing, is from the
>>>>>>> OpenGL2 ParaView (Mac built from source 4.3.1-882-gbdceec7 64 bit)
>>>>>>> configured identically as the other ParaView. So it should look identical
>>>>>>> to the mostly blue picture. Along with the missing chunk, you see the
>>>>>>> colors look very wrong. What's even stranger is that the missing chunk is
>>>>>>> really missing - not invisible - the visualization is made of multiblock
>>>>>>> datasets, and right clicking where a structure should be only brings up the
>>>>>>> link camera option.
>>>>>>>
>>>>>>> You can try this yourself -- see
>>>>>>> https://www.dropbox.com/sh/900ocfc90v0w3r6/AACmqz8kVrGPUMnJbpxAFOzBa?dl=0
>>>>>>> . The "gm2ring.zip" file has gm2ring.vtm (with the corresponding gm2ring
>>>>>>> directory) and gm2ring.pvsm to restore my configuration.
>>>>>>>
>>>>>>> I'm looking forward to using the OpenGL2 version when it works
>>>>>>> better. I hope this helps in working out its kinks (or hoping to find out
>>>>>>> I've built or configured something incorrectly). Let me know how I can
>>>>>>> help!  Thanks! -- Adam
>>>>>>> *------*
>>>>>>>
>>>>>>> *Adam L. Lyon*
>>>>>>> *Scientist; Associate Division Head for Systems for Scientific
>>>>>>> Applications*
>>>>>>>
>>>>>>> Scientific Computing Division & Muon g-2 Experiment
>>>>>>> Fermi National Accelerator Laboratory
>>>>>>> 630 840 5522 office
>>>>>>> www.fnal.gov
>>>>>>> lyon at fnal.gov
>>>>>>>
>>>>>>> Connect with us!
>>>>>>> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
>>>>>>> <https://www.facebook.com/Fermilab>  |  Twitter
>>>>>>> <https://twitter.com/Fermilab>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Powered by www.kitware.com
>>>>>>>
>>>>>>> Visit other Kitware open-source projects at
>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>
>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>
>>>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>>>
>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>>
>
>
> --
> Ken Martin PhD
> Chairman & CFO
> Kitware Inc.
> 28 Corporate Drive
> Clifton Park NY 12065
> 518 371 3971
>
> This communication, including all attachments, contains confidential and
> legally privileged information, and it is intended only for the use of the
> addressee.  Access to this email by anyone else is unauthorized. If you are
> not the intended recipient, any disclosure, copying, distribution or any
> action taken in reliance on it is prohibited and may be unlawful. If you
> received this communication in error please notify us immediately and
> destroy the original message.  Thank you.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/c824531e/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl2_bad.png
Type: image/png
Size: 16709 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/c824531e/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: gm2ringsim_opengl_good.png
Type: image/png
Size: 19431 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/c824531e/attachment-0001.png>

From wascott at sandia.gov  Mon Nov 16 11:07:56 2015
From: wascott at sandia.gov (Scott, W Alan)
Date: Mon, 16 Nov 2015 16:07:56 +0000
Subject: [Paraview] [EXTERNAL] Re:  plot title
In-Reply-To: <5649F58E.801@bresnan.net>
References: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>
 <5649E0FD.60508@lspr.ch> <5649F58E.801@bresnan.net>
Message-ID: <46c8904fc23e4faab3659a1d7e0c68a5@ES01AMSNLNT.srn.sandia.gov>

Another way is the Sources/ Text.  Then, as Samuel says, move it anywhere you want, or to one of the default locations.

Alan

-----Original Message-----
From: ParaView [mailto:paraview-bounces at paraview.org] On Behalf Of Samuel Key
Sent: Monday, November 16, 2015 8:26 AM
To: paraview at paraview.org
Subject: [EXTERNAL] Re: [Paraview] plot title

Aleksejs,

This is not the only way, but a convenient way to add a title to an animation.

Add an Annotate Time filter to the pipe line. Hit apply. Make sure that 'gear' button is slected. There are 6 'default' locations: Top-Left, Top-Center, Top-Right, Btm-Left,... Also, you can pick a custom location. Text font and size is completely selectable.

You can either use "Time: %f" and add title text after it, before it, or erase "Time:%f"

You can add in parallel another Annotate Time filter... und so weiter.

Hope this helps

Samuel W Key
FMA Development, LLC
1005 39th Ave NE
Great Falls, Montana 59404
USA

On 11/16/2015 6:58 AM, Aleksejs Fomins wrote:
> Dear Paraview,
>
> Sorry for the basic question, but I can't manage to get a title for my plot.
> I am visualising a set of PVTU files from which I wish to make a movie.
>
> Would you be so kind as to suggest where I must click to have a 
> user-defined line of text at the top of the plot
>
> Regards,
> Aleksejs Fomins
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Search the list archives at: http://markmail.org/search/?q=ParaView

Follow this link to subscribe/unsubscribe:
http://public.kitware.com/mailman/listinfo/paraview

From giordano_lipari at yahoo.co.uk  Mon Nov 16 11:42:40 2015
From: giordano_lipari at yahoo.co.uk (Giordano Lipari)
Date: Mon, 16 Nov 2015 16:42:40 +0000 (UTC)
Subject: [Paraview] Customize time values displayed in time annotation
References: <1636719764.8988613.1447692160230.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <1636719764.8988613.1447692160230.JavaMail.yahoo@mail.yahoo.com>

Hi all! I use Paraview 4.3.1. I am creating a new animation (with four panels combined) by editing an existing state file (*.pvsm) that I use as template. 

The names of the legacy vtk files that I am loading as frames, are tailed by a progressive file counter (such as *.0001.vtk, *.0002.vtk and so forth). At this stage I am not able/inclined to change this arrangement.

The time annotation shows the 0-based file counter, while I would like to show time values out of a given sequence:

I then thought that editing the property field "TimestepValues" from
????? <Property name="TimestepValues" id="4553.TimestepValues" number_of_elements="6">
??????? <Element index="0" value="0"/>
??????? <Element index="1" value="1"/>
??????? <Element index="2" value="2"/>
??????? <Element index="3" value="3"/>
??????? <Element index="4" value="4"/>
??????? <Element index="5" value="5"/>
????? </Property>
into
????? <Property name="TimestepValues" id="4555.TimestepValues" number_of_elements="6">
??????? <Element index="0" value="0"/>
??????? <Element index="1" value="0.6"/>
??????? <Element index="2" value="1.25"/>
??????? <Element index="3" value="1.85"/>
??????? <Element index="4" value="2.5"/>
??????? <Element index="5" value="3.1"/>
????? </Property>
would have worked well. (I repeat this for all occurrences of TimestepValues owing to the four-panel arrangement.) 

However this is not sufficient, since the new settings are ignored and even overwritten when I save the modified state file.

--1--
Is there any other feature in the pvsm file that I should tweak to make this procedure effective? 
--2--
Or is this idea ill-fated from the outset? 
--3--
If 2==true is the case, is there any recommended way so that the time annotation marks a user defined sequence of values?

Thanks for thinking along and helping me out with tips and wisdom.

Giordano 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151116/df96f3cc/attachment.html>

From aleksejs.fomins at lspr.ch  Mon Nov 16 11:55:04 2015
From: aleksejs.fomins at lspr.ch (Aleksejs Fomins)
Date: Mon, 16 Nov 2015 17:55:04 +0100
Subject: [Paraview] plot title
In-Reply-To: <5649F58E.801@bresnan.net>
References: <4E5215E5BFF302498EEEE6D65C76C9B6420B3F4E@XMBX4.uibk.ac.at>
 <5649E0FD.60508@lspr.ch> <5649F58E.801@bresnan.net>
Message-ID: <564A0A68.3080903@lspr.ch>

Hey Samuel,

This really helps. To be honest, I knew about the annotate time feature, but I thought I could have time in the lower corner and title on the top. Anyway, this works as well

Thank you
Aleksejs

On 16.11.2015 16:26, Samuel Key wrote:
> Aleksejs,
> 
> This is not the only way, but a convenient way to add a title to an animation.
> 
> Add an Annotate Time filter to the pipe line. Hit apply. Make sure that 'gear' button is slected. There are 6 'default' locations: Top-Left, Top-Center, Top-Right, Btm-Left,... Also, you can pick a custom location. Text font and size is completely selectable.
> 
> You can either use "Time: %f" and add title text after it, before it, or erase "Time:%f"
> 
> You can add in parallel another Annotate Time filter... und so weiter.
> 
> Hope this helps
> 
> Samuel W Key
> FMA Development, LLC
> 1005 39th Ave NE
> Great Falls, Montana 59404
> USA
> 
> On 11/16/2015 6:58 AM, Aleksejs Fomins wrote:
>> Dear Paraview,
>>
>> Sorry for the basic question, but I can't manage to get a title for my plot.
>> I am visualising a set of PVTU files from which I wish to make a movie.
>>
>> Would you be so kind as to suggest where I must click to have a user-defined line of text at the top of the plot
>>
>> Regards,
>> Aleksejs Fomins
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Search the list archives at: http://markmail.org/search/?q=ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

From joachim.pouderoux at kitware.com  Tue Nov 17 11:56:54 2015
From: joachim.pouderoux at kitware.com (Joachim Pouderoux)
Date: Tue, 17 Nov 2015 17:56:54 +0100
Subject: [Paraview] Customize programmable filters: copy arrays
In-Reply-To: <56448f84.0704320a.e3343.ffffea8eSMTPIN_ADDED_BROKEN@mx.google.com>
References: <56448f84.0704320a.e3343.ffffea8eSMTPIN_ADDED_BROKEN@mx.google.com>
Message-ID: <CACJ=gTgwVqdiCJpHf-L0Fhs0oPwFeoAf4_1Y1amJGjkSC+hU3A@mail.gmail.com>

Dear Jean-Michel,

Yes, use PassData(), it will shallow copy the arrays from the input to the
output, then you can add new arrays to your output. DeepCopy will works too
but the input arrays will be copied and the copy will be affected to the
output. Use it only if you intend to change the arrays after the copy for
instance, to not alter the input arrays.

Best,
Joachim

*Joachim Pouderoux*

*PhD, Technical Expert*
*Kitware SAS <http://www.kitware.fr>*


2015-11-12 11:36 GMT+01:00 Jean-Michel Lucas <jm.lucas at gantha.com>:

> Thank you for your answers, both methods work fine.
>
> I am also adding new variables to the output, so if I understood Dennis'
> answer correctly, I should be using DeepCopy() ? However, using PassData(),
> it seems to me the new variable is only added to the output.
>
>
>
> Jean-Michel
>
>
>
> From: Dennis Conklin <dennis_conklin at goodyear.com>
>
> To: Berk Geveci <berk.geveci at kitware.com>
>
> Cc: "Paraview \(paraview at paraview.org\)" <paraview at paraview.org>
>
> Subject: Re: [Paraview] [EXT] Re: Customize programmable filters: copy
>
>                 arrays
>
> Message-ID:
>
>                 <
> SN1PR0701MB20295E1986716DD199DFBCF59F140 at SN1PR0701MB2029.namprd07.prod.outlook.com
> >
>
>
>
> Content-Type: text/plain; charset="utf-8"
>
>
>
> Berk,
>
>
>
> I generally want to add some new variables to the output ? if I don?t
> DeepCopy, then these new variables get added to the input which violates
> the vtk rule that a filter can?t change the input.
>
>
>
> This is the main reason that I advocate adding the capability for
> PointData and CellData to be partially DeepCopy (new variables added in
> Filter)  and partially ShallowCopy (input variables just along for the
> ride).
>
>
>
> I suspect most filters are going to generate new variables, so DeepCopy
> seems to be appropriate.     Please correct me if I misunderstand this.
>
>
>
> Dennis
>
>
>
> From: Berk Geveci [mailto:berk.geveci at kitware.com]
>
> Sent: Tuesday, November 10, 2015 3:40 PM
>
> To: Dennis Conklin <dennis_conklin at goodyear.com>
>
> Cc: Paraview (paraview at paraview.org) <paraview at paraview.org>
>
> Subject: [EXT] Re: [Paraview] Customize programmable filters: copy arrays
>
>
>
> Don't use DeepCopy() unless you intend to change the values of the output
> arrays. Use ShallowCopy() instead. You don't need CopyStructure() by the
> way. Alternatively, you can use PassData(). Something like this:
>
>
>
> output.GetPointData().PassData(inputs[0].GetPointData())
>
> output.GeCellData().PassData(inputs[0].GetCellData())
>
>
>
>
>
> Best,
>
> -berk
>
>
>
> On Tue, Nov 10, 2015 at 1:49 PM, Dennis Conklin <
> dennis_conklin at goodyear.com<mailto:dennis_conklin at goodyear.com>> wrote:
>
> Jean-Michel,
>
>
>
> I normally just add the following two statements within my Filter:
>
>
>
> output.CopyStructure(inputs[0].VTKObject)
>
> output.DeepCopy(inputs[0].VTKObject)
>
>
>
> Dennis
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/23b482fb/attachment.html>

From mankoff at gmail.com  Tue Nov 17 14:53:48 2015
From: mankoff at gmail.com (Ken Mankoff)
Date: Tue, 17 Nov 2015 14:53:48 -0500
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
Message-ID: <m2io50bdwz.fsf@gmail.com>

Hi,

I'm trying to get ParaViewWeb (PVW) running. I've read the documentation and have the QuickStart section working, but am still having trouble with a more complicated setup.

My IT support team has the web-facing servers as VMs running a slighly outdated CentOS. I don't think this is a good setup for PVW.

Is it possible to tell apache to just forward all requests to a remote computer? My computer inside the web firewall does run PVW successfully, and I'd like to access that rendering hardware and storage space. Is this a PVW config option? Or just an apache option? Or a paraview server option? 
Can someone advise what ports to forward?

Thanks,

  -k.

From scott.wittenburg at kitware.com  Tue Nov 17 15:04:28 2015
From: scott.wittenburg at kitware.com (Scott Wittenburg)
Date: Tue, 17 Nov 2015 13:04:28 -0700
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <m2io50bdwz.fsf@gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
Message-ID: <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>

Hi Ken,

   Before doing much debugging, can you check and report back here what
version of Apache you're running on the web-facing servers?

Cheers,
Scott

On Tue, Nov 17, 2015 at 12:53 PM, Ken Mankoff <mankoff at gmail.com> wrote:

> Hi,
>
> I'm trying to get ParaViewWeb (PVW) running. I've read the documentation
> and have the QuickStart section working, but am still having trouble with a
> more complicated setup.
>
> My IT support team has the web-facing servers as VMs running a slighly
> outdated CentOS. I don't think this is a good setup for PVW.
>
> Is it possible to tell apache to just forward all requests to a remote
> computer? My computer inside the web firewall does run PVW successfully,
> and I'd like to access that rendering hardware and storage space. Is this a
> PVW config option? Or just an apache option? Or a paraview server option?
> Can someone advise what ports to forward?
>
> Thanks,
>
>   -k.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/c12244cc/attachment.html>

From ptb at lanl.gov  Tue Nov 17 15:09:09 2015
From: ptb at lanl.gov (Peter Brady)
Date: Tue, 17 Nov 2015 13:09:09 -0700
Subject: [Paraview] xdmf with field data in multiple files
Message-ID: <564B8965.5070700@lanl.gov>

I've been using an xdmf file like the following:

<?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
<Xdmf Version="2.0">
   <Domain>
     <Topology TopologyType="2DCoRectMesh" Dimensions="256 512"/>
     <Geometry GeometryType="Origin_DxDy">
       <DataItem Format="XML" NumberType="Float" Dimensions="2">
        0.00000E+00 0.00000E+00
       </DataItem>
       <DataItem Format="XML" NumberType="Float" Dimensions="2">
        1.22718E-02 1.22959E-02
       </DataItem>
     </Geometry>
     <Grid Name="TimeSeries" GridType="Collection" 
CollectionType="Temporal">
       <Time TimeType="List">
         <DataItem Format="XML" NumberType="Float" Dimensions="2">
          0.00000E+00 1.00399E-01
         </DataItem>
       </Time>
       <Grid Name="0" GridType="Uniform">
         <Topology Reference="/Xdmf/Domain/Topology[1]"/>
         <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
         <Attribute Name="density" Type="Scalar" Center="Node">
           <DataItem DataType="Float" Precision="8" Dimensions="256 512" 
Format="Binary" Seek="224">
            rstrt.0000.bin
           </DataItem>
         </Attribute>
         <Attribute Name="temperature" Type="Scalar" Center="Node">
           <DataItem DataType="Float" Precision="8" Dimensions="256 512" 
Format="Binary" Seek="0">
            rstrt.0000.6.bin
           </DataItem>
         </Attribute>
         ...
       </Grid>
...
</Xdmf>

However, as the simulations have gotten larger, the time to write a 
single file like "rstrt.0000.bin" in parallel has become obscene. My 
plan is to have groups of processors write different files where the 
extents written will be a continuous slab of ijk coordinates. I've 
looked at the documentation for hyperslabs in xdmf but can't quite see 
what changes I would need to make to make to my xdmf file.  For example, 
do I only need to change the innermost "DataItem" or do the changes need 
to be made higher up?

Some guidance on how to modify my xdmf file would be greatly appreciated.

Thanks,
Peter.

From scott.wittenburg at kitware.com  Tue Nov 17 15:10:09 2015
From: scott.wittenburg at kitware.com (Scott Wittenburg)
Date: Tue, 17 Nov 2015 13:10:09 -0700
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
Message-ID: <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>

The reason I ask is that Apache 2.4.7 is the oldest version in which all
the required modules are present and work correctly.  You can see the list
of needed modules here:

http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/ubuntu_14_04-section-5

Cheers,
Scott

On Tue, Nov 17, 2015 at 1:04 PM, Scott Wittenburg <
scott.wittenburg at kitware.com> wrote:

> Hi Ken,
>
>    Before doing much debugging, can you check and report back here what
> version of Apache you're running on the web-facing servers?
>
> Cheers,
> Scott
>
> On Tue, Nov 17, 2015 at 12:53 PM, Ken Mankoff <mankoff at gmail.com> wrote:
>
>> Hi,
>>
>> I'm trying to get ParaViewWeb (PVW) running. I've read the documentation
>> and have the QuickStart section working, but am still having trouble with a
>> more complicated setup.
>>
>> My IT support team has the web-facing servers as VMs running a slighly
>> outdated CentOS. I don't think this is a good setup for PVW.
>>
>> Is it possible to tell apache to just forward all requests to a remote
>> computer? My computer inside the web firewall does run PVW successfully,
>> and I'd like to access that rendering hardware and storage space. Is this a
>> PVW config option? Or just an apache option? Or a paraview server option?
>> Can someone advise what ports to forward?
>>
>> Thanks,
>>
>>   -k.
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/a053b192/attachment.html>

From mankoff at gmail.com  Tue Nov 17 15:46:53 2015
From: mankoff at gmail.com (Ken Mankoff)
Date: Tue, 17 Nov 2015 15:46:53 -0500
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
 <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
Message-ID: <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>

Hi Scott,

IT says 2.4.6, but that they have all the modules listed in your
requirements.

We're considering two approaches since their webserver VMs also don't have
good graphics virtualization: 1) Some ParaView software running on the the
web VM that has another computer doing the rendering for it. This seems to
be an officially supported method of running PVW, but I can't quite figure
out how to set this up from the docs, and 2) No PV/Kitware software on the
web VM. Just pass everything (via Apache) to another computer. Not sure
which would be easier for IT, better for the end user, etc.

Thanks,

  -k.

On Tue, Nov 17, 2015 at 3:10 PM, Scott Wittenburg <
scott.wittenburg at kitware.com> wrote:

> The reason I ask is that Apache 2.4.7 is the oldest version in which all
> the required modules are present and work correctly.  You can see the list
> of needed modules here:
>
>
> http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/ubuntu_14_04-section-5
>
> Cheers,
> Scott
>
> On Tue, Nov 17, 2015 at 1:04 PM, Scott Wittenburg <
> scott.wittenburg at kitware.com> wrote:
>
>> Hi Ken,
>>
>>    Before doing much debugging, can you check and report back here what
>> version of Apache you're running on the web-facing servers?
>>
>> Cheers,
>> Scott
>>
>> On Tue, Nov 17, 2015 at 12:53 PM, Ken Mankoff <mankoff at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> I'm trying to get ParaViewWeb (PVW) running. I've read the documentation
>>> and have the QuickStart section working, but am still having trouble with a
>>> more complicated setup.
>>>
>>> My IT support team has the web-facing servers as VMs running a slighly
>>> outdated CentOS. I don't think this is a good setup for PVW.
>>>
>>> Is it possible to tell apache to just forward all requests to a remote
>>> computer? My computer inside the web firewall does run PVW successfully,
>>> and I'd like to access that rendering hardware and storage space. Is this a
>>> PVW config option? Or just an apache option? Or a paraview server option?
>>> Can someone advise what ports to forward?
>>>
>>> Thanks,
>>>
>>>   -k.
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/c09a75e3/attachment.html>

From scott.wittenburg at kitware.com  Tue Nov 17 16:12:36 2015
From: scott.wittenburg at kitware.com (Scott Wittenburg)
Date: Tue, 17 Nov 2015 14:12:36 -0700
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
 <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
 <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>
Message-ID: <CAPiw4fDyzHnLd-2ATXjxQFpd4yNQM=agOVrSNPDVLEvZp4gK5w@mail.gmail.com>

Hi Ken,

   Yes, ParaViewWeb supports either option, though option 1 seems better in
your case.  Additionally, unless you have your own job management software
running on the rendering computer, you may want to look at using the Python
launcher we provide.  See this document:

http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/python_launcher

   Using the Python launcher along with an Apache web server provides you
with seemingly infinite ways to set your system up, so we have provided
another guide which describes some of the common configurations.  That
document is located here:

http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/launching_examples

   The section titled "Second Example: Two machines" shows a diagram of the
use case I think you'll want, and it has an example configuration file for
the Python launcher as well as Apache virtual host configuration example.

Hope this helps,
Scott


On Tue, Nov 17, 2015 at 1:46 PM, Ken Mankoff <mankoff at gmail.com> wrote:

> Hi Scott,
>
> IT says 2.4.6, but that they have all the modules listed in your
> requirements.
>
> We're considering two approaches since their webserver VMs also don't have
> good graphics virtualization: 1) Some ParaView software running on the the
> web VM that has another computer doing the rendering for it. This seems to
> be an officially supported method of running PVW, but I can't quite figure
> out how to set this up from the docs, and 2) No PV/Kitware software on the
> web VM. Just pass everything (via Apache) to another computer. Not sure
> which would be easier for IT, better for the end user, etc.
>
> Thanks,
>
>   -k.
>
> On Tue, Nov 17, 2015 at 3:10 PM, Scott Wittenburg <
> scott.wittenburg at kitware.com> wrote:
>
>> The reason I ask is that Apache 2.4.7 is the oldest version in which all
>> the required modules are present and work correctly.  You can see the list
>> of needed modules here:
>>
>>
>> http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/ubuntu_14_04-section-5
>>
>> Cheers,
>> Scott
>>
>> On Tue, Nov 17, 2015 at 1:04 PM, Scott Wittenburg <
>> scott.wittenburg at kitware.com> wrote:
>>
>>> Hi Ken,
>>>
>>>    Before doing much debugging, can you check and report back here what
>>> version of Apache you're running on the web-facing servers?
>>>
>>> Cheers,
>>> Scott
>>>
>>> On Tue, Nov 17, 2015 at 12:53 PM, Ken Mankoff <mankoff at gmail.com> wrote:
>>>
>>>> Hi,
>>>>
>>>> I'm trying to get ParaViewWeb (PVW) running. I've read the
>>>> documentation and have the QuickStart section working, but am still having
>>>> trouble with a more complicated setup.
>>>>
>>>> My IT support team has the web-facing servers as VMs running a slighly
>>>> outdated CentOS. I don't think this is a good setup for PVW.
>>>>
>>>> Is it possible to tell apache to just forward all requests to a remote
>>>> computer? My computer inside the web firewall does run PVW successfully,
>>>> and I'd like to access that rendering hardware and storage space. Is this a
>>>> PVW config option? Or just an apache option? Or a paraview server option?
>>>> Can someone advise what ports to forward?
>>>>
>>>> Thanks,
>>>>
>>>>   -k.
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/63841794/attachment.html>

From utkarsh.ayachit at kitware.com  Tue Nov 17 17:44:39 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 17 Nov 2015 17:44:39 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
Message-ID: <CADHSJjD9M7_1ccuzj2WBf38vJ58CdK_+DfuN5qB2Wum--q8h_A@mail.gmail.com>

Ken, what Adam has is a multiblock dataset with field data array named
"Color" (with certain blocks missing this array). Now when you color by
this array and then uncheck "Map Scalars", I get the attached images. I'd
contend that 5.0 with OpenGL2 rendering is correct. In 4.4 it would just
bleed some random color through for blocks with missing "Color" array. In
5.0, the color used is the "Solid Color" set before changing the array to
color with.

Adam, are you not seeing rendering as I am with 5.0? I no longer get
rendering similar to the images you reported.

Utkarsh

?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/f18bc33c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rendering5.0.png
Type: image/png
Size: 16770 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/f18bc33c/attachment.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rendering4.4.png
Type: image/png
Size: 16043 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/f18bc33c/attachment-0001.png>

From ken.martin at kitware.com  Tue Nov 17 17:53:03 2015
From: ken.martin at kitware.com (Ken Martin)
Date: Tue, 17 Nov 2015 17:53:03 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CADHSJjD9M7_1ccuzj2WBf38vJ58CdK_+DfuN5qB2Wum--q8h_A@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <CADHSJjD9M7_1ccuzj2WBf38vJ58CdK_+DfuN5qB2Wum--q8h_A@mail.gmail.com>
Message-ID: <CANXz0SaWezZwJt4_Qsy_agqWGqOX_wue=Ei3qKKgDvZ3Vk-4Lg@mail.gmail.com>

Yes, thank goodness, I thought this dataset looked familiar. Now I remember
looking into this a while back and yes, the decision we landed on was as
you specified. The new code is different from the old version, but to me a
much safer and better approach. If the data is missing for a block we use
the solid color, not whatever the last used color happened to be from the
preceding block. Hopefully that explains it (fingers crossed).

Thanks
Ken

On Tue, Nov 17, 2015 at 5:44 PM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Ken, what Adam has is a multiblock dataset with field data array named
> "Color" (with certain blocks missing this array). Now when you color by
> this array and then uncheck "Map Scalars", I get the attached images. I'd
> contend that 5.0 with OpenGL2 rendering is correct. In 4.4 it would just
> bleed some random color through for blocks with missing "Color" array. In
> 5.0, the color used is the "Solid Color" set before changing the array to
> color with.
>
> Adam, are you not seeing rendering as I am with 5.0? I no longer get
> rendering similar to the images you reported.
>
> Utkarsh
>
> ?
>



-- 
Ken Martin PhD
Chairman & CFO
Kitware Inc.
28 Corporate Drive
Clifton Park NY 12065
518 371 3971

This communication, including all attachments, contains confidential and
legally privileged information, and it is intended only for the use of the
addressee.  Access to this email by anyone else is unauthorized. If you are
not the intended recipient, any disclosure, copying, distribution or any
action taken in reliance on it is prohibited and may be unlawful. If you
received this communication in error please notify us immediately and
destroy the original message.  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/79f07373/attachment.html>

From ptb at lanl.gov  Tue Nov 17 17:46:54 2015
From: ptb at lanl.gov (Peter Brady)
Date: Tue, 17 Nov 2015 15:46:54 -0700
Subject: [Paraview] xdmf with field data in multiple files
In-Reply-To: <564B8965.5070700@lanl.gov>
References: <564B8965.5070700@lanl.gov>
Message-ID: <564BAE5E.9080803@lanl.gov>

So it seems that this can be achieved using spatial grid collections.  
Here's what I have now:

<?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
<Xdmf Version="2.0">
   <Domain>
     <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>
     <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>

     <Geometry GeometryType="Origin_DxDyDz">
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
        -1.000000 -0.500000 -0.500000
       </DataItem>
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.01574803 0.01587301 0.01587301
       </DataItem>
     </Geometry>

     <Geometry GeometryType="Origin_DxDyDz">
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.007874 -0.500000 -0.500000
       </DataItem>
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.01574803 0.01587301 0.01587301
       </DataItem>
     </Geometry>

     <Grid Name="TimeSeries" GridType="Collection" 
CollectionType="Temporal">
       <Time TimeType="List">
         <DataItem Format="XML" NumberType="Float" Dimensions="1">
          0.00000E+00
         </DataItem>
       </Time>
       <Grid Name="0" GridType="Collection" CollectionType="Spatial">
         <Grid Name="Section 1" GridType="Uniform">
           <Topology Reference="/Xdmf/Domain/Topology[1]"/>
           <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
           <Attribute Name="G" Type="Scalar" Center="Node">
             <DataItem DataType="Float" Precision="8" Dimensions="64 64 
64" Format="Binary">
               G.1.bin
             </DataItem>
           </Attribute>
         </Grid>

         <Grid Name="Section 2" GridType="Uniform">
           <Topology Reference="/Xdmf/Domain/Topology[2]"/>
           <Geometry Reference="/Xdmf/Domain/Geometry[2]"/>
           <Attribute Name="G" Type="Scalar" Center="Node">
             <DataItem DataType="Float" Precision="8" Dimensions="64 64 
64" Format="Binary">
               G.2.bin
             </DataItem>
           </Attribute>
         </Grid>

       </Grid> <!-- End of Spatial Collection 0 -->
     </Grid> <!-- End of Temporal Collection -->
   </Domain>
</Xdmf>

This works decently well but there is a gap of one grid cell between my 
grid sections.  I can make this go away by having each section extend 
their dimensions by 1 in the appropriate directions but is there a 
better way?  Specifically I would like to know if there is a way to 
specify the connectivity between the grids in my collection or if 
something like Subsets are the way to go.

Thanks,
Peter.

On 11/17/2015 01:09 PM, Peter Brady wrote:
> I've been using an xdmf file like the following:
>
> <?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
> <Xdmf Version="2.0">
>   <Domain>
>     <Topology TopologyType="2DCoRectMesh" Dimensions="256 512"/>
>     <Geometry GeometryType="Origin_DxDy">
>       <DataItem Format="XML" NumberType="Float" Dimensions="2">
>        0.00000E+00 0.00000E+00
>       </DataItem>
>       <DataItem Format="XML" NumberType="Float" Dimensions="2">
>        1.22718E-02 1.22959E-02
>       </DataItem>
>     </Geometry>
>     <Grid Name="TimeSeries" GridType="Collection" 
> CollectionType="Temporal">
>       <Time TimeType="List">
>         <DataItem Format="XML" NumberType="Float" Dimensions="2">
>          0.00000E+00 1.00399E-01
>         </DataItem>
>       </Time>
>       <Grid Name="0" GridType="Uniform">
>         <Topology Reference="/Xdmf/Domain/Topology[1]"/>
>         <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
>         <Attribute Name="density" Type="Scalar" Center="Node">
>           <DataItem DataType="Float" Precision="8" Dimensions="256 
> 512" Format="Binary" Seek="224">
>            rstrt.0000.bin
>           </DataItem>
>         </Attribute>
>         <Attribute Name="temperature" Type="Scalar" Center="Node">
>           <DataItem DataType="Float" Precision="8" Dimensions="256 
> 512" Format="Binary" Seek="0">
>            rstrt.0000.6.bin
>           </DataItem>
>         </Attribute>
>         ...
>       </Grid>
> ...
> </Xdmf>
>
> However, as the simulations have gotten larger, the time to write a 
> single file like "rstrt.0000.bin" in parallel has become obscene. My 
> plan is to have groups of processors write different files where the 
> extents written will be a continuous slab of ijk coordinates. I've 
> looked at the documentation for hyperslabs in xdmf but can't quite see 
> what changes I would need to make to make to my xdmf file.  For 
> example, do I only need to change the innermost "DataItem" or do the 
> changes need to be made higher up?
>
> Some guidance on how to modify my xdmf file would be greatly appreciated.
>
> Thanks,
> Peter.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview


From sebastien.jourdain at kitware.com  Tue Nov 17 23:09:10 2015
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Tue, 17 Nov 2015 22:09:10 -0600
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CAPiw4fDyzHnLd-2ATXjxQFpd4yNQM=agOVrSNPDVLEvZp4gK5w@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
 <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
 <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>
 <CAPiw4fDyzHnLd-2ATXjxQFpd4yNQM=agOVrSNPDVLEvZp4gK5w@mail.gmail.com>
Message-ID: <CABObKxc4B4iwFQAmuaxYr8skf=sj0fg697DPoPnxus9KMn3x-Q@mail.gmail.com>

Hi Ken,

One thing to be aware is that Apache 2.4.6 has a bug in the rewrite module
for web socket. Hence the need to have 2.4.7+.

Seb



On Tue, Nov 17, 2015 at 3:12 PM, Scott Wittenburg <
scott.wittenburg at kitware.com> wrote:

> Hi Ken,
>
>    Yes, ParaViewWeb supports either option, though option 1 seems better
> in your case.  Additionally, unless you have your own job management
> software running on the rendering computer, you may want to look at using
> the Python launcher we provide.  See this document:
>
>
> http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/python_launcher
>
>    Using the Python launcher along with an Apache web server provides you
> with seemingly infinite ways to set your system up, so we have provided
> another guide which describes some of the common configurations.  That
> document is located here:
>
>
> http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/launching_examples
>
>    The section titled "Second Example: Two machines" shows a diagram of
> the use case I think you'll want, and it has an example configuration file
> for the Python launcher as well as Apache virtual host configuration
> example.
>
> Hope this helps,
> Scott
>
>
> On Tue, Nov 17, 2015 at 1:46 PM, Ken Mankoff <mankoff at gmail.com> wrote:
>
>> Hi Scott,
>>
>> IT says 2.4.6, but that they have all the modules listed in your
>> requirements.
>>
>> We're considering two approaches since their webserver VMs also don't
>> have good graphics virtualization: 1) Some ParaView software running on the
>> the web VM that has another computer doing the rendering for it. This seems
>> to be an officially supported method of running PVW, but I can't quite
>> figure out how to set this up from the docs, and 2) No PV/Kitware software
>> on the web VM. Just pass everything (via Apache) to another computer. Not
>> sure which would be easier for IT, better for the end user, etc.
>>
>> Thanks,
>>
>>   -k.
>>
>> On Tue, Nov 17, 2015 at 3:10 PM, Scott Wittenburg <
>> scott.wittenburg at kitware.com> wrote:
>>
>>> The reason I ask is that Apache 2.4.7 is the oldest version in which all
>>> the required modules are present and work correctly.  You can see the list
>>> of needed modules here:
>>>
>>>
>>> http://www.paraview.org/ParaView3/Doc/Nightly/www/js-doc/index.html#!/guide/ubuntu_14_04-section-5
>>>
>>> Cheers,
>>> Scott
>>>
>>> On Tue, Nov 17, 2015 at 1:04 PM, Scott Wittenburg <
>>> scott.wittenburg at kitware.com> wrote:
>>>
>>>> Hi Ken,
>>>>
>>>>    Before doing much debugging, can you check and report back here what
>>>> version of Apache you're running on the web-facing servers?
>>>>
>>>> Cheers,
>>>> Scott
>>>>
>>>> On Tue, Nov 17, 2015 at 12:53 PM, Ken Mankoff <mankoff at gmail.com>
>>>> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> I'm trying to get ParaViewWeb (PVW) running. I've read the
>>>>> documentation and have the QuickStart section working, but am still having
>>>>> trouble with a more complicated setup.
>>>>>
>>>>> My IT support team has the web-facing servers as VMs running a slighly
>>>>> outdated CentOS. I don't think this is a good setup for PVW.
>>>>>
>>>>> Is it possible to tell apache to just forward all requests to a remote
>>>>> computer? My computer inside the web firewall does run PVW successfully,
>>>>> and I'd like to access that rendering hardware and storage space. Is this a
>>>>> PVW config option? Or just an apache option? Or a paraview server option?
>>>>> Can someone advise what ports to forward?
>>>>>
>>>>> Thanks,
>>>>>
>>>>>   -k.
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>>
>>>>
>>>>
>>>
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/c6dedba6/attachment.html>

From christian.richter at ovgu.de  Wed Nov 18 08:57:34 2015
From: christian.richter at ovgu.de (Christian Richter)
Date: Wed, 18 Nov 2015 14:57:34 +0100
Subject: [Paraview] ParaView 5.0.0-RC1 is missing PointSprite Rendering
	Plugin
In-Reply-To: <20151112204530.GB2853@megas.khq.kitware.com>
References: <20151112204530.GB2853@megas.khq.kitware.com>
Message-ID: <564C83CE.7040706@ovgu.de>

The precompiled binaries does not contain the PointSprite Rendering 
Plugin. It seems it is not compatible with the openGL2 rendering engine. 
When I compile from source it works with opengl only.
Is there a plan to support PointSprites in final release version ?
Also there is still a bug since PV 4.2.0 that the Radius and Opacity 
Editor does not respect the selected "Scale by" data-array for the 
scalar range (it did until 4.1.0) so the user needs to set it by hand 
which is really annoying when one needs to scale by radius.
http://www.paraview.org/Bug/view.php?id=15017

Best,
Christian Richter

Am 11/12/2015 um 9:45 PM schrieb Ben Boeckel:
> Folks,
>
> ParaView 5.0.0-RC1 is now available for download. Checkout the release
> notes on the Kitware blog [1].
>
> As always, we look forward to your feedback [2].
>
> Also stay tuned to the Kitware Blog [3] for upcoming features and
> enhancements to ParaView, ParaView Catalyst, ParaViewWeb and much
> more!
>
> - The ParaView team
>
> [1] http://kitware.com/blog/home/post/998
> [2] http://paraview.uservoice.com
> [3] http://www.kitware.com/blog/
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview


From ken.martin at kitware.com  Wed Nov 18 11:09:57 2015
From: ken.martin at kitware.com (Ken Martin)
Date: Wed, 18 Nov 2015 11:09:57 -0500
Subject: [Paraview] ParaView 5.0.0-RC1 is missing PointSprite Rendering
	Plugin
In-Reply-To: <564C83CE.7040706@ovgu.de>
References: <20151112204530.GB2853@megas.khq.kitware.com>
 <564C83CE.7040706@ovgu.de>
Message-ID: <CANXz0SaxA2sAtE9Rw57wFYXTLpYNHeCRa6LohYQ2UMT_LcT+=w@mail.gmail.com>

The OpenGL2 backend includes the vtkPointGaussianMapper which can render
colored points, guassian splats, and more complex options when you specify
your own shader code. Take a look at the code in
VTK/Rendering/OpenGL2/Testing/Cxx/TestPoint* to see some of what you can
do. Most of these feature are also available in PV through the use of the
PointGaussian plugin. Load that plugin before loading your points and then
it should show up as an option for the representation.

Thanks
Ken


On Wed, Nov 18, 2015 at 8:57 AM, Christian Richter <
christian.richter at ovgu.de> wrote:

> The precompiled binaries does not contain the PointSprite Rendering
> Plugin. It seems it is not compatible with the openGL2 rendering engine.
> When I compile from source it works with opengl only.
> Is there a plan to support PointSprites in final release version ?
> Also there is still a bug since PV 4.2.0 that the Radius and Opacity
> Editor does not respect the selected "Scale by" data-array for the scalar
> range (it did until 4.1.0) so the user needs to set it by hand which is
> really annoying when one needs to scale by radius.
> http://www.paraview.org/Bug/view.php?id=15017
>
> Best,
> Christian Richter
>
> Am 11/12/2015 um 9:45 PM schrieb Ben Boeckel:
>
>> Folks,
>>
>> ParaView 5.0.0-RC1 is now available for download. Checkout the release
>> notes on the Kitware blog [1].
>>
>> As always, we look forward to your feedback [2].
>>
>> Also stay tuned to the Kitware Blog [3] for upcoming features and
>> enhancements to ParaView, ParaView Catalyst, ParaViewWeb and much
>> more!
>>
>> - The ParaView team
>>
>> [1] http://kitware.com/blog/home/post/998
>> [2] http://paraview.uservoice.com
>> [3] http://www.kitware.com/blog/
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>



-- 
Ken Martin PhD
Chairman & CFO
Kitware Inc.
28 Corporate Drive
Clifton Park NY 12065
518 371 3971

This communication, including all attachments, contains confidential and
legally privileged information, and it is intended only for the use of the
addressee.  Access to this email by anyone else is unauthorized. If you are
not the intended recipient, any disclosure, copying, distribution or any
action taken in reliance on it is prohibited and may be unlawful. If you
received this communication in error please notify us immediately and
destroy the original message.  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151118/e7847510/attachment.html>

From mankoff at gmail.com  Wed Nov 18 13:43:34 2015
From: mankoff at gmail.com (Ken Mankoff)
Date: Wed, 18 Nov 2015 13:43:34 -0500
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CABObKxc4B4iwFQAmuaxYr8skf=sj0fg697DPoPnxus9KMn3x-Q@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
 <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
 <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>
 <CAPiw4fDyzHnLd-2ATXjxQFpd4yNQM=agOVrSNPDVLEvZp4gK5w@mail.gmail.com>
 <CABObKxc4B4iwFQAmuaxYr8skf=sj0fg697DPoPnxus9KMn3x-Q@mail.gmail.com>
Message-ID: <CAFdBzEopk54XJZMJuuK3jAw9Edyq-z5ajLgi_997JtfvOZZaWg@mail.gmail.com>

Hi Scott and Sebastien,

Thanks for the replies. I will work though this with the IT team here after
Thanksgiving break, and post more questions then if they arise.

  -k.
?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151118/37fa3bbe/attachment.html>

From evilrude at hotmail.it  Wed Nov 18 16:03:56 2015
From: evilrude at hotmail.it (Marco B.)
Date: Wed, 18 Nov 2015 22:03:56 +0100
Subject: [Paraview] Average a radial profile along the axial direction
Message-ID: <DUB115-W4164C2918422E704C23F6FA31C0@phx.gbl>

I have the following Python script to plot the radial porosity profile for a single slice extracted from a VTK file:
import paraview.simple as pvimport numpy as npimport matplotlib.pyplot as pltfrom paraview import numpy_support as nsimport sys
fileName = r'porosity.vtk'
# Bulk velocity and sphere diameterU0 = 0.0033D0 = 0.003
# Slice location in streamwise directionx0 = 0.01
# Translate in y and z direction to get the origin in the middle of the pipel0 = -0.00015-0.0214/2

U = []R = []
# Pipelinereader = pv.OpenDataFile(fileName)transform=pv.Transform(reader)transform.Transform.Translate = [0,l0,l0]slice = pv.Slice(transform,SliceType='Plane')slice.SliceType.Origin = [x0,0,0]slice.SliceType.Normal = [1,0,0]calc = pv.Calculator(slice, ResultArrayName = 'radius', Function = 'sqrt(coordsY^2+coordsZ^2)')contour = pv.Contour(calc,ContourBy = ['POINTS','radius'],Isosurfaces = [0])int = pv.IntegrateVariables(contour)
# Loop over radial distancesfor r in np.linspace(0.00015,0.01065,200):    contour.Isosurfaces = [r]    intData = pv.servermanager.Fetch(int)    L = ns.vtk_to_numpy(intData.GetCellData().GetArray('Length'))[0]    U.append(ns.vtk_to_numpy(intData.GetPointData().GetArray('Porosity'))[0]/L)    R.append(0.01065-r)
# Plot the resultsplt.plot(np.array(R)/D0,np.array(U), 'b-')plt.xlabel('Distance from the wall in particle diameters')plt.ylabel('Porosity')plt.ylim(0,1)plt.show()
How could I modify this Python script to average the radial porosity profiles also along the streamwise (axial) direction (x coordinate)? 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151118/e4ec2c38/attachment.html>

From sebastien.jourdain at kitware.com  Wed Nov 18 18:43:28 2015
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Wed, 18 Nov 2015 18:43:28 -0500
Subject: [Paraview] ParaViewWeb on remote machine w/ port forwarding
In-Reply-To: <CAFdBzEopk54XJZMJuuK3jAw9Edyq-z5ajLgi_997JtfvOZZaWg@mail.gmail.com>
References: <m2io50bdwz.fsf@gmail.com>
 <CAPiw4fBVpFUYkFq+hTz1SPyf8158mn7b8gLUG0kgOOu9JAHU-g@mail.gmail.com>
 <CAPiw4fC2Tvgh5x++pAzMzOrpKD=F7sBZ9Dj3r8jPzw6480BhUA@mail.gmail.com>
 <CAFdBzEoWZ6iMuHDkbEm99BQiReeX83+qARjx2mszfxQsxo+J0Q@mail.gmail.com>
 <CAPiw4fDyzHnLd-2ATXjxQFpd4yNQM=agOVrSNPDVLEvZp4gK5w@mail.gmail.com>
 <CABObKxc4B4iwFQAmuaxYr8skf=sj0fg697DPoPnxus9KMn3x-Q@mail.gmail.com>
 <CAFdBzEopk54XJZMJuuK3jAw9Edyq-z5ajLgi_997JtfvOZZaWg@mail.gmail.com>
Message-ID: <CABObKxf5q3aoUDpsPr9iaskHSLuvxjF3BsmMnahpzKUxsFvdqA@mail.gmail.com>

Sounds good.

Thanks for trying this out.

Seb

On Wed, Nov 18, 2015 at 1:43 PM, Ken Mankoff <mankoff at gmail.com> wrote:

> Hi Scott and Sebastien,
>
> Thanks for the replies. I will work though this with the IT team here
> after Thanksgiving break, and post more questions then if they arise.
>
>   -k.
> ?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151118/52e3020f/attachment.html>

From lyon at fnal.gov  Thu Nov 19 00:38:36 2015
From: lyon at fnal.gov (Adam Lyon)
Date: Wed, 18 Nov 2015 23:38:36 -0600
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
Message-ID: <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>

Indeed you are right! I see the rendering you show for 5.0. Interesting
change with regard to setting the solid color first.

One thing I should note is that image manipulation (pan, zoom, rotate) is
quite slow in 5.0 compared to 4.4. For example, rotating the ring with a
solid color, I get frame-rates  (from the annotation text) of over 100 fps
with 4.4. With 5.0 I generally see about 20-25fps.  Do you see this too?
Thanks again!! -- Adam

*------*

*Adam L. Lyon*
*Scientist; Associate Division Head for Systems for Scientific Applications*

Scientific Computing Division & Muon g-2 Experiment
Fermi National Accelerator Laboratory
630 840 5522 office
www.fnal.gov
lyon at fnal.gov

Connect with us!
Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
<https://www.facebook.com/Fermilab>  |  Twitter
<https://twitter.com/Fermilab>

On Tue, Nov 17, 2015 at 4:44 PM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Ken, what Adam has is a multiblock dataset with field data array named
> "Color" (with certain blocks missing this array). Now when you color by
> this array and then uncheck "Map Scalars", I get the attached images. I'd
> contend that 5.0 with OpenGL2 rendering is correct. In 4.4 it would just
> bleed some random color through for blocks with missing "Color" array. In
> 5.0, the color used is the "Solid Color" set before changing the array to
> color with.
>
> Adam, are you not seeing rendering as I am with 5.0? I no longer get
> rendering similar to the images you reported.
>
> Utkarsh
>
> ?
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151118/382ea68b/attachment.html>

From utkarsh.ayachit at kitware.com  Thu Nov 19 09:05:10 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 19 Nov 2015 09:05:10 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
 <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>
Message-ID: <5BBB77AF-80DE-44B6-A78B-744C4AE89866@kitware.com>

Yes, I am noticing that slowness too. Ken, mind taking a look at that? 

Utkarsh 



> On Nov 19, 2015, at 12:38 AM, Adam Lyon <lyon at fnal.gov> wrote:
> 
> Indeed you are right! I see the rendering you show for 5.0. Interesting change with regard to setting the solid color first. 
> 
> One thing I should note is that image manipulation (pan, zoom, rotate) is quite slow in 5.0 compared to 4.4. For example, rotating the ring with a solid color, I get frame-rates  (from the annotation text) of over 100 fps with 4.4. With 5.0 I generally see about 20-25fps.  Do you see this too? Thanks again!! -- Adam
> 
> ------
> 
> Adam L. Lyon
> Scientist; Associate Division Head for Systems for Scientific Applications
> 
> Scientific Computing Division & Muon g-2 Experiment
> Fermi National Accelerator Laboratory
> 630 840 5522 office
> www.fnal.gov
> lyon at fnal.gov
> 
> Connect with us!
> Newsletter  |  Facebook  |  Twitter
> 
>> On Tue, Nov 17, 2015 at 4:44 PM, Utkarsh Ayachit <utkarsh.ayachit at kitware.com> wrote:
>> Ken, what Adam has is a multiblock dataset with field data array named "Color" (with certain blocks missing this array). Now when you color by this array and then uncheck "Map Scalars", I get the attached images. I'd contend that 5.0 with OpenGL2 rendering is correct. In 4.4 it would just bleed some random color through for blocks with missing "Color" array. In 5.0, the color used is the "Solid Color" set before changing the array to color with.
>> 
>> Adam, are you not seeing rendering as I am with 5.0? I no longer get rendering similar to the images you reported.
>> 
>> Utkarsh
> 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151119/a1e0db6a/attachment.html>

From aashish.chaudhary at kitware.com  Thu Nov 19 13:14:27 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 19 Nov 2015 13:14:27 -0500
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z_ztAXvmaYVsC+EpgezjZRiBTnOiJDj8xgk52p6tRRD_A@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
 <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
 <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>
 <CAC9gB0CEV5SFEvL5bM1nqUauHC2MCLcd-puq48V7==p7J4dBcQ@mail.gmail.com>
 <CAEw35Z-eS-JQcvwB4Et1EtmLKnYYPjSYdXpzLPrO1DcXbtwUsA@mail.gmail.com>
 <CAEw35Z_ztAXvmaYVsC+EpgezjZRiBTnOiJDj8xgk52p6tRRD_A@mail.gmail.com>
Message-ID: <CAEw35Z-bCvXVaa_goK3e_Kt8oYFVcxaKe64Du7MNP4z5gWgcRw@mail.gmail.com>

Dear Simon,

I looked the code carefully and evaluated on mac and Linux (I don't think
its a system specific issue). I also looked into your code and here what I
found:

* In your example code the desired update rate is set to 25 which is
actually on a higher side given the data
* But the max sampling distance factor is set to 2.

1) These parameters results in some interesting computation. Old mapper
would not use your max sampling distance unless some computation it does
cross a threshold.

2) The new mapper always uses the max sampling distance for clamping and
actually if you look at the documentation it should do that.

Given these two situations, the new mapper use higher sampling distance
even when you set it to 2 and therefore runs faster as it tries to match
your desired update rate. The new mapper tries to match as well but then it
get clamped to maximum of 2 which is not enough to keep up with the desired
update rate. Now when you take out this constraint, both of these mappers
can go as low as 10 times the sampling distance initially chosen as the
desired update rate is bit too high for the rendering. I believe that new
mapper is doing the right thing vs the old mapper but I am open for
suggestions.

What I suggest you try these parameters:
Max sampling distance  factor : 4
Desired update rate: 15 or 20

Thanks




On Tue, Nov 17, 2015 at 1:15 AM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> Dear Simon,
>
> Thanks for your example code and data. I used exactly the same code, got
> master of VTK from today, compiled OpenGL1 and OpenGL2 backends on Ubuntu
> 14.01 box then for me, the OpenGL2 backend was running much faster and
> higher resolution than compare to OpenGL1 backend (20 FPS vs 13 FPS).
> Please look at the screenshots attached. I am referring to the number you
> are displaying in the program.
>
> Next, I am going to run the same code on Mac and Windows and see if can
> reproduce your issue. May be it is windows/driver specific issue.
>
> On Fri, Nov 13, 2015 at 11:02 AM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>> On Fri, Nov 13, 2015 at 10:57 AM, Simon ESNEAULT <
>> simon.esneault at gmail.com> wrote:
>>
>>> Hello Aashish,
>>>
>>> I've run some quick tests on my computer, and when disabling the
>>> automatic adjustment, both of the volume rendering technique seems to
>>> deliver the same performance, with some random Fixed sample distance. I
>>> will run some more test on the other computer that we've got here, just to
>>> be sure. And also on some mac. And report them to you :)
>>>
>>
>> This is very helpful and sort of confirms my theory the the code in
>> question is the reduction factor computation. The logic is changed between
>> the old mapper and the new mapper. I will look again to make them
>> consistent but it won't be exactly the same since the old mapper code to me
>> was not making the the right choices and was broken for the new mapper.
>> Actually, initially we had the exact same code and it was running into
>> issues since the new mapper was faster and hence breaking some of the
>> assumptions the old mapper was making.
>>
>>>
>>> Is there something else that I can do to help on this problem ?
>>>
>>
>> Not at the moment. You helped a lot, the code and the data is really
>> helpful. I will report back early next week again and will request you to
>> try again. Thanks for your patience.
>>
>> - Aashish
>>
>>>
>>>
>>> Simon
>>>
>>>
>>> 2015-11-12 18:34 GMT+01:00 Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com>:
>>>
>>>>
>>>>
>>>> On Thu, Nov 12, 2015 at 12:31 PM, Aashish Chaudhary <
>>>> aashish.chaudhary at kitware.com> wrote:
>>>>
>>>>>
>>>>>
>>>>> On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <
>>>>> simon.esneault at gmail.com> wrote:
>>>>>
>>>>>> Hello Aashish,
>>>>>>
>>>>>> Sorry for the late reply, I was busy last week.
>>>>>>
>>>>>> Thanks for the update, and your work on this topic.
>>>>>> Yes I have seen that your change have been merged concerning the
>>>>>> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
>>>>>> the new backend. To highlight this, please find attached a very simple
>>>>>> application that loads a volume (
>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does
>>>>>> volume rendering while displaying the frame rate. This is pretty much what
>>>>>> we show to the user in our application, and in this condition, on my
>>>>>> machine the FPS are around 25 with the opengl1 backend
>>>>>> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with
>>>>>> the new backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>,
>>>>>> from this week VTK master
>>>>>> It is very simple to test, just need change the VTK_DIR to an OpenGL1
>>>>>> or OpenGL2 build, and place the volume.mhd and raw in the execution path.
>>>>>> Also you will find attached a small text file that summarizes the
>>>>>> test that have been done here.
>>>>>>
>>>>>
>>>>> No problem, thanks for the update. Please see my comments below:
>>>>>
>>>>>>
>>>>>> I think the real reason why it appears slower with the OGL2 version
>>>>>> is that we try to have control on the "MaximalImageSampleDistance". If I
>>>>>> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
>>>>>> the same frame rate with each backend. BUT, the new backend does decimate a
>>>>>> lot more the volume, leading to a very blurred image during rendering, and
>>>>>> that's not what we want :/
>>>>>>
>>>>>
>>>>> Aha, this is very useful since this parameters does affecting the
>>>>> reduction factor. I will try your code; one quick question when the new
>>>>> backend decimates a lot (by removing the SetMaximumImageSampleDistance),
>>>>> does it get any faster than the old version? I am going to try it on my Mac
>>>>> and Linux laptop and report back (mostly tomorrow since I am away today).
>>>>>
>>>>>>
>>>>>>
>>>> Never mind, I see that you have that in your result file. It seems it
>>>> does get faster but more blurry. Would it be possible for you to do one
>>>> more test? Can you set a fix sample distance (pick any) for new and the old
>>>> mapper and set AutoAdjustSampleDistance to OFF and capture some performance
>>>> numbers? In that way we know exactly if something more fundamental is
>>>> causing the slowness. The whole reduction factor math is based on
>>>> approximate stuff so that will vary between two mappers.
>>>>
>>>> - Aashish
>>>>
>>>>
>>>>> Again, thanks for paying attention to this problem, I hope this little
>>>>>> application and test case can help you to adjust the parameters...
>>>>>>
>>>>>
>>>>> Thanks for your help. I am glad you are testing my latest changes.
>>>>>
>>>>> - Best, Aashish
>>>>>
>>>>>>
>>>>>>
>>>>>> Simon
>>>>>>
>>>>>> PS : I did not get a chance to check the difference on Paraview, but
>>>>>> I believe the result will be the same as the attached example is really
>>>>>> simple.
>>>>>>
>>>>>> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>
>>>>>>> Hi Simon,
>>>>>>>
>>>>>>> the branch has been merged into VTK master. I am not sure when
>>>>>>> Paraview is going to update the VTK, but you can do it manually if needed.
>>>>>>> We are also going to run our bench marking again to be sure since recently
>>>>>>> lot many changes went into the VTK / volume rendering. Please feel free to
>>>>>>> ping me again if it does not solve your issue.
>>>>>>>
>>>>>>> Looking forward to your feedback.
>>>>>>>
>>>>>>> - Aashish
>>>>>>>
>>>>>>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>
>>>>>>>> Hi Simon,
>>>>>>>>
>>>>>>>> I found the reason behind the appeared performance you were
>>>>>>>> getting. We have this code in volume rendering that when you interact
>>>>>>>> changes the sampling distance and in the newer code we were too
>>>>>>>> conservative compare to the last version. That's why you were getting
>>>>>>>> better quality when you move your mouse but lower frame rates. I pushed a
>>>>>>>> branch in VTK to address the issue. Would it be possible for you to build
>>>>>>>> Paraview with VTK master?  It may take 3-4 days or longer for Paraview's
>>>>>>>> VTK to get updated.
>>>>>>>>
>>>>>>>> Thanks,
>>>>>>>> Aashish
>>>>>>>>
>>>>>>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>
>>>>>>>>> Hi Simon,
>>>>>>>>>
>>>>>>>>> I am just finishing up a ParaView5 related parallel volume
>>>>>>>>> rendering bug (pushing a branch today to VTK). This is next on my list.
>>>>>>>>>
>>>>>>>>> - Aashish
>>>>>>>>>
>>>>>>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hello Aashish
>>>>>>>>>>
>>>>>>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>>>>>>> Can I do anything to help you investigate ? Should I feel a bug,
>>>>>>>>>> that may act as a reminder ?
>>>>>>>>>> Have a nice day
>>>>>>>>>> Simon
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>
>>>>>>>>>>> Thanks Simon. This is really strange since we are not seeing it
>>>>>>>>>>> on Mac and Linux (but both has dedicated cards).
>>>>>>>>>>>
>>>>>>>>>>> I will look into it soon.
>>>>>>>>>>>
>>>>>>>>>>> - aashish
>>>>>>>>>>>
>>>>>>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>>>>>>> graphics.
>>>>>>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>>>>>>> hesitate to ask
>>>>>>>>>>>> Simon
>>>>>>>>>>>>
>>>>>>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>
>>>>>>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I
>>>>>>>>>>>>> don't any issue so it has to be Windows specific thing.
>>>>>>>>>>>>>
>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> And when did you download this version?
>>>>>>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>> Aashish
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>>>>>>> I got the version from the nightly build download section
>>>>>>>>>>>>>>>> of paraview website (it is still available). And I've just tried with that
>>>>>>>>>>>>>>>> one labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>>>>>>> results.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> About the FPS, it is difficult to give an exact number,
>>>>>>>>>>>>>>>> because it depends of the condition (zoomed or not etc...) but yes, this is
>>>>>>>>>>>>>>>> the idea.
>>>>>>>>>>>>>>>> In our software, I've exposed the frame rate using this
>>>>>>>>>>>>>>>> example :
>>>>>>>>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>>>>>>> And the frame rate is around 15/20 for the first backend,
>>>>>>>>>>>>>>>> and around 6/8 for the new backend, on the same dataset (the one provided
>>>>>>>>>>>>>>>> for example), with the same mapper parameters
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 1) Did you try without the shading and see how the
>>>>>>>>>>>>>>>>> performance compares?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this
>>>>>>>>>>>>>>>>> one from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS
>>>>>>>>>>>>>>>>> and the new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2
>>>>>>>>>>>>>>>>>> backend.
>>>>>>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and
>>>>>>>>>>>>>>>>>> Nvidia Quadro K420
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>>>>>>> - Launch both version on the same computer at the same
>>>>>>>>>>>>>>>>>> time
>>>>>>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750]
>>>>>>>>>>>>>>>>>> (the default "Cool to Warm" is fine)
>>>>>>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate
>>>>>>>>>>>>>>>>>> in Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play
>>>>>>>>>>>>>>>>>> with this with the old backend to fine tune the interactivity, although
>>>>>>>>>>>>>>>>>> what's really inside was never clear to me
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I hope that there is enough information for you to
>>>>>>>>>>>>>>>>>> reproduce this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more
>>>>>>>>>>>>>>>>>>> detail on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on
>>>>>>>>>>>>>>>>>>>> my Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting
>>>>>>>>>>>>>>>>>>>> about 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked
>>>>>>>>>>>>>>>>>>>> the shading performance fix was in 4.4 but not in RC's. I don't have access
>>>>>>>>>>>>>>>>>>>> to Windows box right away but I will try there too.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip).
>>>>>>>>>>>>>>>>>>>>>> So I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I
>>>>>>>>>>>>>>>>>>>>>> believe the GPURenderDemo used with this dataset is enough to highlight the
>>>>>>>>>>>>>>>>>>>>>> slow down.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with
>>>>>>>>>>>>>>>>>>>>>>> shading that was causing the slow performance a while back. I don't
>>>>>>>>>>>>>>>>>>>>>>> remember if that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on
>>>>>>>>>>>>>>>>>>>>>>>> the data type you might be using
>>>>>>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the
>>>>>>>>>>>>>>>>>>>>>>>> new mapper is bringing low resolution when you interact with the volume
>>>>>>>>>>>>>>>>>>>>>>>> (and whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new
>>>>>>>>>>>>>>>>>>>>>>>>> OpenGL2 backend for our application, and although the switch was easy
>>>>>>>>>>>>>>>>>>>>>>>>> (thanks for not breaking the API ;) ), we can see a significant slowdown on
>>>>>>>>>>>>>>>>>>>>>>>>> the GPU volume rendering part, especially during interaction. Typically we
>>>>>>>>>>>>>>>>>>>>>>>>> dropped from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia
>>>>>>>>>>>>>>>>>>>>>>>>> Quadro K420), with the same code around.
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you
>>>>>>>>>>>>>>>>>>>>>>>>> compare the latest 4.4 OpenGL2 build with the classic 4.4 build while
>>>>>>>>>>>>>>>>>>>>>>>>> volume rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering
>>>>>>>>>>>>>>>>>>>>>>>>> implementation should be faster than the old one, is there some more
>>>>>>>>>>>>>>>>>>>>>>>>> detailed explanation somewhere ? Are there some important parameters that
>>>>>>>>>>>>>>>>>>>>>>>>> can make the difference ?
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster
>>>>>>>>>>>>>>>>>>>>>>>>> with the new backend !
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>
>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>           *
>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>> Simon Esneault
>>>>>>>>>> Rennes, France
>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>         *
>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>       *
>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> ------------------------------------------------------------------
>>>>>> Simon Esneault
>>>>>> Rennes, France
>>>>>> ------------------------------------------------------------------
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>>
>>>>>
>>>>>
>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>     *
>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>> ------------------------------------------------------------------
>>> Simon Esneault
>>> Rennes, France
>>> ------------------------------------------------------------------
>>>
>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151119/bdea98af/attachment.html>

From ken.martin at kitware.com  Thu Nov 19 16:34:25 2015
From: ken.martin at kitware.com (Ken Martin)
Date: Thu, 19 Nov 2015 16:34:25 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <5BBB77AF-80DE-44B6-A78B-744C4AE89866@kitware.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
 <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>
 <5BBB77AF-80DE-44B6-A78B-744C4AE89866@kitware.com>
Message-ID: <CANXz0SY4dF8PjLFFXx4ZvxZKA2xpFziKGbmuV_sT6CLCh3LvPw@mail.gmail.com>

I took a quick look at it. I see everything from 16 to 111 fps on my laptop
which is a pretty wild range of numbers. I'll do a release build with
OpenGL1 to see what that shows but it will take a while. This dataset is
using the slow path because it has some blocks that have normals and some
that do not. Same idea for tcoords.

I did notice PV is forcing the actor to be modified every time the LOD
changes (which is a lot). Modifying the actor causes the VBO/IBOs to
rebuild so it would be better not to do that unless you really need to and
in this case I'm not sure why it is being done. Specifically I think it is
in vtkPVLODActor::Modified where it calls this->Device->Modified() . The
LOD actor is being modified as a result of calling SetEnableLOD constantly
flipping between true and false. That is not the cause of this issue but it
is something I noticed that will be a pain for large datasets.

Thanks
Ken


On Thu, Nov 19, 2015 at 9:05 AM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Yes, I am noticing that slowness too. Ken, mind taking a look at that?
>
> Utkarsh
>
>
>
> On Nov 19, 2015, at 12:38 AM, Adam Lyon <lyon at fnal.gov> wrote:
>
> Indeed you are right! I see the rendering you show for 5.0. Interesting
> change with regard to setting the solid color first.
>
> One thing I should note is that image manipulation (pan, zoom, rotate) is
> quite slow in 5.0 compared to 4.4. For example, rotating the ring with a
> solid color, I get frame-rates  (from the annotation text) of over 100 fps
> with 4.4. With 5.0 I generally see about 20-25fps.  Do you see this too?
> Thanks again!! -- Adam
>
> *------*
>
> *Adam L. Lyon*
> *Scientist; Associate Division Head for Systems for Scientific
> Applications*
>
> Scientific Computing Division & Muon g-2 Experiment
> Fermi National Accelerator Laboratory
> 630 840 5522 office
> www.fnal.gov
> lyon at fnal.gov
>
> Connect with us!
> Newsletter <http://www.fnal.gov/pub/today/>  |  Facebook
> <https://www.facebook.com/Fermilab>  |  Twitter
> <https://twitter.com/Fermilab>
>
> On Tue, Nov 17, 2015 at 4:44 PM, Utkarsh Ayachit <
> utkarsh.ayachit at kitware.com> wrote:
>
>> Ken, what Adam has is a multiblock dataset with field data array named
>> "Color" (with certain blocks missing this array). Now when you color by
>> this array and then uncheck "Map Scalars", I get the attached images. I'd
>> contend that 5.0 with OpenGL2 rendering is correct. In 4.4 it would just
>> bleed some random color through for blocks with missing "Color" array. In
>> 5.0, the color used is the "Solid Color" set before changing the array to
>> color with.
>>
>> Adam, are you not seeing rendering as I am with 5.0? I no longer get
>> rendering similar to the images you reported.
>>
>> Utkarsh
>>
>> ?
>>
>
>


-- 
Ken Martin PhD
Chairman & CFO
Kitware Inc.
28 Corporate Drive
Clifton Park NY 12065
518 371 3971

This communication, including all attachments, contains confidential and
legally privileged information, and it is intended only for the use of the
addressee.  Access to this email by anyone else is unauthorized. If you are
not the intended recipient, any disclosure, copying, distribution or any
action taken in reliance on it is prohibited and may be unlawful. If you
received this communication in error please notify us immediately and
destroy the original message.  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151119/fc9931dd/attachment.html>

From KSheldon at slb.com  Thu Nov 19 17:43:56 2015
From: KSheldon at slb.com (Ken Sheldon)
Date: Thu, 19 Nov 2015 22:43:56 +0000
Subject: [Paraview] xdmf with field data in multiple files
Message-ID: <2911E772881F8B4AB39462AA4A35EC55012485041A@NL0230MBX12N1.DIR.slb.com>

Peter,
Can you define a single geometry (128x64x64 in your example)
Then, use the XDMF JOIN function to concatenate the individual small data items into one larger data item?

Example:

    <DataItem ItemType="Function" Function="JOIN($0 ; $1)">
        <DataItem DataType="Float" Precision="8" Dimensions="64 64 64" Format="Binary">G.1.bin</DataItem>
        <DataItem DataType="Float" Precision="8" Dimensions="64 64 64" Format="Binary">G.2.bin</DataItem>
    </DataItem>


Depending on the amount of entropy in your data, you might also see significant improvements in file writing if you use HDF5 with compression enabled.  If that provides sufficient improvement, you might not need to split the data into separate files.


Date: Tue, 17 Nov 2015 15:46:54 -0700
From: Peter Brady <ptb at lanl.gov>
To: paraview at paraview.org
Subject: Re: [Paraview] xdmf with field data in multiple files
Message-ID: <564BAE5E.9080803 at lanl.gov>
Content-Type: text/plain; charset=windows-1252; format=flowed

So it seems that this can be achieved using spatial grid collections.  
Here's what I have now:

<?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
<Xdmf Version="2.0">
   <Domain>
     <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>
     <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>

     <Geometry GeometryType="Origin_DxDyDz">
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
        -1.000000 -0.500000 -0.500000
       </DataItem>
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.01574803 0.01587301 0.01587301
       </DataItem>
     </Geometry>

     <Geometry GeometryType="Origin_DxDyDz">
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.007874 -0.500000 -0.500000
       </DataItem>
       <DataItem Format="XML" NumberType="Float" Dimensions="3">
         0.01574803 0.01587301 0.01587301
       </DataItem>
     </Geometry>

     <Grid Name="TimeSeries" GridType="Collection" 
CollectionType="Temporal">
       <Time TimeType="List">
         <DataItem Format="XML" NumberType="Float" Dimensions="1">
          0.00000E+00
         </DataItem>
       </Time>
       <Grid Name="0" GridType="Collection" CollectionType="Spatial">
         <Grid Name="Section 1" GridType="Uniform">
           <Topology Reference="/Xdmf/Domain/Topology[1]"/>
           <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
           <Attribute Name="G" Type="Scalar" Center="Node">
             <DataItem DataType="Float" Precision="8" Dimensions="64 64 
64" Format="Binary">
               G.1.bin
             </DataItem>
           </Attribute>
         </Grid>

         <Grid Name="Section 2" GridType="Uniform">
           <Topology Reference="/Xdmf/Domain/Topology[2]"/>
           <Geometry Reference="/Xdmf/Domain/Geometry[2]"/>
           <Attribute Name="G" Type="Scalar" Center="Node">
             <DataItem DataType="Float" Precision="8" Dimensions="64 64 
64" Format="Binary">
               G.2.bin
             </DataItem>
           </Attribute>
         </Grid>

       </Grid> <!-- End of Spatial Collection 0 -->
     </Grid> <!-- End of Temporal Collection -->
   </Domain>
</Xdmf>

This works decently well but there is a gap of one grid cell between my 
grid sections.  I can make this go away by having each section extend 
their dimensions by 1 in the appropriate directions but is there a 
better way?  Specifically I would like to know if there is a way to 
specify the connectivity between the grids in my collection or if 
something like Subsets are the way to go.

Thanks,
Peter.

On 11/17/2015 01:09 PM, Peter Brady wrote:
> I've been using an xdmf file like the following:
>
> <?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
> <Xdmf Version="2.0">
>   <Domain>
>     <Topology TopologyType="2DCoRectMesh" Dimensions="256 512"/>
>     <Geometry GeometryType="Origin_DxDy">
>       <DataItem Format="XML" NumberType="Float" Dimensions="2">
>        0.00000E+00 0.00000E+00
>       </DataItem>
>       <DataItem Format="XML" NumberType="Float" Dimensions="2">
>        1.22718E-02 1.22959E-02
>       </DataItem>
>     </Geometry>
>     <Grid Name="TimeSeries" GridType="Collection" 
> CollectionType="Temporal">
>       <Time TimeType="List">
>         <DataItem Format="XML" NumberType="Float" Dimensions="2">
>          0.00000E+00 1.00399E-01
>         </DataItem>
>       </Time>
>       <Grid Name="0" GridType="Uniform">
>         <Topology Reference="/Xdmf/Domain/Topology[1]"/>
>         <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
>         <Attribute Name="density" Type="Scalar" Center="Node">
>           <DataItem DataType="Float" Precision="8" Dimensions="256 
> 512" Format="Binary" Seek="224">
>            rstrt.0000.bin
>           </DataItem>
>         </Attribute>
>         <Attribute Name="temperature" Type="Scalar" Center="Node">
>           <DataItem DataType="Float" Precision="8" Dimensions="256 
> 512" Format="Binary" Seek="0">
>            rstrt.0000.6.bin
>           </DataItem>
>         </Attribute>
>         ...
>       </Grid>
> ...
> </Xdmf>
>
> However, as the simulations have gotten larger, the time to write a 
> single file like "rstrt.0000.bin" in parallel has become obscene. My 
> plan is to have groups of processors write different files where the 
> extents written will be a continuous slab of ijk coordinates. I've 
> looked at the documentation for hyperslabs in xdmf but can't quite see 
> what changes I would need to make to make to my xdmf file.  For 
> example, do I only need to change the innermost "DataItem" or do the 
> changes need to be made higher up?
>
> Some guidance on how to modify my xdmf file would be greatly appreciated.
>
> Thanks,
> Peter.
> 


From dennis_conklin at goodyear.com  Fri Nov 20 11:09:07 2015
From: dennis_conklin at goodyear.com (Dennis Conklin)
Date: Fri, 20 Nov 2015 16:09:07 +0000
Subject: [Paraview] [EXT] Re: Customize programmable filters: copy arrays
References: <SN1PR0701MB2029EAC84473373D0330234E9F140@SN1PR0701MB2029.namprd07.prod.outlook.com>
 <CAE32kpWL367WTgyvTf7LCznGhfg1mzZDOMnYboomJNmKQ-SdkQ@mail.gmail.com> 
Message-ID: <SN1PR0701MB202972E3363D9D04BCE3CF5D9F1A0@SN1PR0701MB2029.namprd07.prod.outlook.com>

All,

Can anyone confirm that PassData() works this way?

I tried using PassData() and then appending a new variable and the memory usage seems to indicate that I ended up with a DeepCopy()

Thanks

Dennis

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151120/0cafdd3a/attachment.html>

From hng.email at gmail.com  Fri Nov 20 11:23:02 2015
From: hng.email at gmail.com (Hom Nath Gharti)
Date: Fri, 20 Nov 2015 11:23:02 -0500
Subject: [Paraview] ParaView 5.0.0-RC1: two minor problems
Message-ID: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>

In Linux 64-bit binary
1) error while loading shared libraries: libbz2.so.1.0: cannot open
shared object file: No such file or directory

ln -s /lib64/libbz2.so.1 libbz2.so.1.0 fixed the problem.

2) It seems that the EPS, PDF, PS, and SVG are missing from Export Scene.

Best,
Hom Nath

From ptb at lanl.gov  Fri Nov 20 11:31:24 2015
From: ptb at lanl.gov (Peter Brady)
Date: Fri, 20 Nov 2015 09:31:24 -0700
Subject: [Paraview] xdmf with field data in multiple files
In-Reply-To: <2911E772881F8B4AB39462AA4A35EC55012485041A@NL0230MBX12N1.DIR.slb.com>
References: <2911E772881F8B4AB39462AA4A35EC55012485041A@NL0230MBX12N1.DIR.slb.com>
Message-ID: <564F4ADC.90201@lanl.gov>

Thanks for the reply.

According to the hdf5 website 
https://www.hdfgroup.org/hdf5-quest.html#p5comp, it is not currently 
possible to do parallel io with compression so I won't be able to go 
that route.

I also just recently abandoned using xdmf functions to build a vector 
from 3 scalar datasets because it didn't seem well parallelized (i.e. 
the pvserver crashed when doing largish distributed rendering which I'm 
assuming is caused by loading all the data in the root process and then 
applying the function and then distributing).

Can anyone clarify the level of parallelization in using xdmf functions?




On 11/19/2015 03:43 PM, Ken Sheldon wrote:
> Peter,
> Can you define a single geometry (128x64x64 in your example)
> Then, use the XDMF JOIN function to concatenate the individual small data items into one larger data item?
>
> Example:
>
>      <DataItem ItemType="Function" Function="JOIN($0 ; $1)">
>          <DataItem DataType="Float" Precision="8" Dimensions="64 64 64" Format="Binary">G.1.bin</DataItem>
>          <DataItem DataType="Float" Precision="8" Dimensions="64 64 64" Format="Binary">G.2.bin</DataItem>
>      </DataItem>
>
>
> Depending on the amount of entropy in your data, you might also see significant improvements in file writing if you use HDF5 with compression enabled.  If that provides sufficient improvement, you might not need to split the data into separate files.
>
>
> Date: Tue, 17 Nov 2015 15:46:54 -0700
> From: Peter Brady <ptb at lanl.gov>
> To: paraview at paraview.org
> Subject: Re: [Paraview] xdmf with field data in multiple files
> Message-ID: <564BAE5E.9080803 at lanl.gov>
> Content-Type: text/plain; charset=windows-1252; format=flowed
>
> So it seems that this can be achieved using spatial grid collections.
> Here's what I have now:
>
> <?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
> <Xdmf Version="2.0">
>     <Domain>
>       <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>
>       <Topology TopologyType="3DCoRectMesh" Dimensions="64 64 64"/>
>
>       <Geometry GeometryType="Origin_DxDyDz">
>         <DataItem Format="XML" NumberType="Float" Dimensions="3">
>          -1.000000 -0.500000 -0.500000
>         </DataItem>
>         <DataItem Format="XML" NumberType="Float" Dimensions="3">
>           0.01574803 0.01587301 0.01587301
>         </DataItem>
>       </Geometry>
>
>       <Geometry GeometryType="Origin_DxDyDz">
>         <DataItem Format="XML" NumberType="Float" Dimensions="3">
>           0.007874 -0.500000 -0.500000
>         </DataItem>
>         <DataItem Format="XML" NumberType="Float" Dimensions="3">
>           0.01574803 0.01587301 0.01587301
>         </DataItem>
>       </Geometry>
>
>       <Grid Name="TimeSeries" GridType="Collection"
> CollectionType="Temporal">
>         <Time TimeType="List">
>           <DataItem Format="XML" NumberType="Float" Dimensions="1">
>            0.00000E+00
>           </DataItem>
>         </Time>
>         <Grid Name="0" GridType="Collection" CollectionType="Spatial">
>           <Grid Name="Section 1" GridType="Uniform">
>             <Topology Reference="/Xdmf/Domain/Topology[1]"/>
>             <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
>             <Attribute Name="G" Type="Scalar" Center="Node">
>               <DataItem DataType="Float" Precision="8" Dimensions="64 64
> 64" Format="Binary">
>                 G.1.bin
>               </DataItem>
>             </Attribute>
>           </Grid>
>
>           <Grid Name="Section 2" GridType="Uniform">
>             <Topology Reference="/Xdmf/Domain/Topology[2]"/>
>             <Geometry Reference="/Xdmf/Domain/Geometry[2]"/>
>             <Attribute Name="G" Type="Scalar" Center="Node">
>               <DataItem DataType="Float" Precision="8" Dimensions="64 64
> 64" Format="Binary">
>                 G.2.bin
>               </DataItem>
>             </Attribute>
>           </Grid>
>
>         </Grid> <!-- End of Spatial Collection 0 -->
>       </Grid> <!-- End of Temporal Collection -->
>     </Domain>
> </Xdmf>
>
> This works decently well but there is a gap of one grid cell between my
> grid sections.  I can make this go away by having each section extend
> their dimensions by 1 in the appropriate directions but is there a
> better way?  Specifically I would like to know if there is a way to
> specify the connectivity between the grids in my collection or if
> something like Subsets are the way to go.
>
> Thanks,
> Peter.
>
> On 11/17/2015 01:09 PM, Peter Brady wrote:
>> I've been using an xdmf file like the following:
>>
>> <?xml version="1.0" encoding="utf-8"?><!DOCTYPE Xdmf SYSTEM "Xdmf.dtd">
>> <Xdmf Version="2.0">
>>    <Domain>
>>      <Topology TopologyType="2DCoRectMesh" Dimensions="256 512"/>
>>      <Geometry GeometryType="Origin_DxDy">
>>        <DataItem Format="XML" NumberType="Float" Dimensions="2">
>>         0.00000E+00 0.00000E+00
>>        </DataItem>
>>        <DataItem Format="XML" NumberType="Float" Dimensions="2">
>>         1.22718E-02 1.22959E-02
>>        </DataItem>
>>      </Geometry>
>>      <Grid Name="TimeSeries" GridType="Collection"
>> CollectionType="Temporal">
>>        <Time TimeType="List">
>>          <DataItem Format="XML" NumberType="Float" Dimensions="2">
>>           0.00000E+00 1.00399E-01
>>          </DataItem>
>>        </Time>
>>        <Grid Name="0" GridType="Uniform">
>>          <Topology Reference="/Xdmf/Domain/Topology[1]"/>
>>          <Geometry Reference="/Xdmf/Domain/Geometry[1]"/>
>>          <Attribute Name="density" Type="Scalar" Center="Node">
>>            <DataItem DataType="Float" Precision="8" Dimensions="256
>> 512" Format="Binary" Seek="224">
>>             rstrt.0000.bin
>>            </DataItem>
>>          </Attribute>
>>          <Attribute Name="temperature" Type="Scalar" Center="Node">
>>            <DataItem DataType="Float" Precision="8" Dimensions="256
>> 512" Format="Binary" Seek="0">
>>             rstrt.0000.6.bin
>>            </DataItem>
>>          </Attribute>
>>          ...
>>        </Grid>
>> ...
>> </Xdmf>
>>
>> However, as the simulations have gotten larger, the time to write a
>> single file like "rstrt.0000.bin" in parallel has become obscene. My
>> plan is to have groups of processors write different files where the
>> extents written will be a continuous slab of ijk coordinates. I've
>> looked at the documentation for hyperslabs in xdmf but can't quite see
>> what changes I would need to make to make to my xdmf file.  For
>> example, do I only need to change the innermost "DataItem" or do the
>> changes need to be made higher up?
>>
>> Some guidance on how to modify my xdmf file would be greatly appreciated.
>>
>> Thanks,
>> Peter.
>>


From ben.boeckel at kitware.com  Fri Nov 20 11:34:19 2015
From: ben.boeckel at kitware.com (Ben Boeckel)
Date: Fri, 20 Nov 2015 11:34:19 -0500
Subject: [Paraview] ParaView 5.0.0-RC1: two minor problems
In-Reply-To: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>
References: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>
Message-ID: <20151120163419.GA19792@megas.khq.kitware.com>

On Fri, Nov 20, 2015 at 11:23:02 -0500, Hom Nath Gharti wrote:
> In Linux 64-bit binary
> 1) error while loading shared libraries: libbz2.so.1.0: cannot open
> shared object file: No such file or directory
> 
> ln -s /lib64/libbz2.so.1 libbz2.so.1.0 fixed the problem.

Hmm, interesting. It seems to be popping into binaries and back out
randomly. RC1 doesn't have it, RC1+5 and RC1+7 (5 and 7 commits later)
has the .so (but not the .1.0 version), and the RC1+10 and RC1+16
binaries don't have it again. I'll try and take a look today or early
next week.

Thanks for the report,

--Ben

From utkarsh.ayachit at kitware.com  Fri Nov 20 13:57:36 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Fri, 20 Nov 2015 13:57:36 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CANXz0SY4dF8PjLFFXx4ZvxZKA2xpFziKGbmuV_sT6CLCh3LvPw@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
 <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>
 <5BBB77AF-80DE-44B6-A78B-744C4AE89866@kitware.com>
 <CANXz0SY4dF8PjLFFXx4ZvxZKA2xpFziKGbmuV_sT6CLCh3LvPw@mail.gmail.com>
Message-ID: <CADHSJjDhPfisLFvvqA5-VqW3_vNc9qzzEQmHPC4DdJnKWR_+yg@mail.gmail.com>

> I did notice PV is forcing the actor to be modified every time the LOD
> changes (which is a lot). Modifying the actor causes the VBO/IBOs to rebuild
> so it would be better not to do that unless you really need to and in this
> case I'm not sure why it is being done. Specifically I think it is in
> vtkPVLODActor::Modified where it calls this->Device->Modified() . The LOD
> actor is being modified as a result of calling SetEnableLOD constantly
> flipping between true and false. That is not the cause of this issue but it
> is something I noticed that will be a pain for large datasets.

Ken, currently, there's no way around it. vtkPVLODActor works by
changing the mapper on the internal vtkActor aka Device when LOD mode
is toggled. That will indeed change the Device's MTime even if we stop
calling this->Device->Modiied() in the vtkPVLODActor::Modified(). The
question is why are VBO/IBOs rebuild if actor MTime changes? VBOs
would be data dependent right? Most of data-dependent properties are
on  the Mapper, not the actor. Shouldn't the code that re-creates
VBO/IBOs only depend on Mapper's MTime?

Utkarsh

From ken.martin at kitware.com  Fri Nov 20 14:48:27 2015
From: ken.martin at kitware.com (Ken Martin)
Date: Fri, 20 Nov 2015 14:48:27 -0500
Subject: [Paraview] Differences between OpenGL and OpenGL2 versions of
	ParaView
In-Reply-To: <CADHSJjDhPfisLFvvqA5-VqW3_vNc9qzzEQmHPC4DdJnKWR_+yg@mail.gmail.com>
References: <CANjddW2ooLsY9yo+7+-ON9-uRftDmvc0CiMNS1qCy_6bb2-bOw@mail.gmail.com>
 <df1a83ae294e4325a80c0301532c640d@MAIL05V-CAS02.fnal.gov>
 <3b80307dd0184a7081060df719e33861@MAIL06V-CAS04.fnal.gov>
 <CANjddW06-1j0rnsBsHTwD-vH8b9SULGTM_XKxc-_NjS2-tfgdw@mail.gmail.com>
 <39f822d31fde44f480e4a52108b21e0d@MAIL06V-CAS04.fnal.gov>
 <CANjddW0aaraNzwAPX+v+keh_QZNP+2oXzbiQ2T2y16w_+VqCRw@mail.gmail.com>
 <198e09ec4d914afab6645f4e9b37e5bf@MAIL03V-CAS01.fnal.gov>
 <CANjddW0kKNABSDHJpvTVhq8jtPdE4Mpiy4B4Z5czvdvXQF02bw@mail.gmail.com>
 <9661715ca38f44ddacde89a22785e882@MAIL04V-CAS03.fnal.gov>
 <CANjddW32=hEZJy5tMTxTPc-d5fPX5wr1f0n3a2LTd3VuA8DfRA@mail.gmail.com>
 <5BBB77AF-80DE-44B6-A78B-744C4AE89866@kitware.com>
 <CANXz0SY4dF8PjLFFXx4ZvxZKA2xpFziKGbmuV_sT6CLCh3LvPw@mail.gmail.com>
 <CADHSJjDhPfisLFvvqA5-VqW3_vNc9qzzEQmHPC4DdJnKWR_+yg@mail.gmail.com>
Message-ID: <CANXz0SbozST6vhuBSQbKsLsj=BqU-hfL_UMUgGVeqCH8vo8qKw@mail.gmail.com>

You could maybe have an actor per LOD and then swap actors in and out.

Actor owns the property, backface property, and texture. Changes to those
objects can cause VBO/IBO rebuilds (switching from surface to wireframe,
adding a texture map, flat versus phong shading, edge visibility, line
width, etc.) The old backend only looked at the actor's property which is
sort of broken.

For example in the old backend: create two properties, one set to
wireframe, one set to surface. Then create an actor and mapper set to use
display lists. Switching between the two properties will cause an actor
mtime change, but the properties themselves would still have low mtimes I
believe. In that case the old backend will end up stuck in one
representation because it only looks at the property mtime not actor.

To make the VBO/IBO rebuild safely (but less often than currently) I think
the solution is to check the mtimes as is done currently, if those are
modified then collect up the parameters that require a VBO or IBO rebuild
and compare them to a stored value from the last build. If different force
a rebuild. That is the best solution IMO just takes some time. I sort of
wanted to do that anyhow but now I can say you forced me into it :-)

Thanks
Ken




On Fri, Nov 20, 2015 at 1:57 PM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> > I did notice PV is forcing the actor to be modified every time the LOD
> > changes (which is a lot). Modifying the actor causes the VBO/IBOs to
> rebuild
> > so it would be better not to do that unless you really need to and in
> this
> > case I'm not sure why it is being done. Specifically I think it is in
> > vtkPVLODActor::Modified where it calls this->Device->Modified() . The LOD
> > actor is being modified as a result of calling SetEnableLOD constantly
> > flipping between true and false. That is not the cause of this issue but
> it
> > is something I noticed that will be a pain for large datasets.
>
> Ken, currently, there's no way around it. vtkPVLODActor works by
> changing the mapper on the internal vtkActor aka Device when LOD mode
> is toggled. That will indeed change the Device's MTime even if we stop
> calling this->Device->Modiied() in the vtkPVLODActor::Modified(). The
> question is why are VBO/IBOs rebuild if actor MTime changes? VBOs
> would be data dependent right? Most of data-dependent properties are
> on  the Mapper, not the actor. Shouldn't the code that re-creates
> VBO/IBOs only depend on Mapper's MTime?
>
> Utkarsh
>



-- 
Ken Martin PhD
Chairman & CFO
Kitware Inc.
28 Corporate Drive
Clifton Park NY 12065
518 371 3971

This communication, including all attachments, contains confidential and
legally privileged information, and it is intended only for the use of the
addressee.  Access to this email by anyone else is unauthorized. If you are
not the intended recipient, any disclosure, copying, distribution or any
action taken in reliance on it is prohibited and may be unlawful. If you
received this communication in error please notify us immediately and
destroy the original message.  Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151120/bcd9ff4a/attachment.html>

From tim.gallagher at gatech.edu  Fri Nov 20 14:51:17 2015
From: tim.gallagher at gatech.edu (Tim Gallagher)
Date: Fri, 20 Nov 2015 14:51:17 -0500 (EST)
Subject: [Paraview] Creating a surface along a complex path
Message-ID: <727663339.16621615.1448049077548.JavaMail.root@mail.gatech.edu>

Hi,

I had an idea I would like to explore but I'm not sure the right way to do it. I have a 3D vtkMultiblockDataset that is composed of curvilinear structured blocks. Let's say I create a line source with s = f(x,y,z). This line source can have a normal vector at each point that is confined to a particular plane (so for example, if I have s = x @ y = 0, z = 0 there are 2 normals of s confined to the x-y plane -- (0,1,0) and (0,-1,0)). I would like to create a slice where the local normal of the slice is oriented with one of those two normals (it doesn't matter which since a slice is infinitely thin). 

To give my actual example -- I have a fluid flow and I place a single streamline seed and generate the streamline. In this case, the streamline has constant z coordinates and is a function of x,y. This streamline represents the core of my flow. I would like to extract a slice whose profile (side view) is this streamline. 

And depending on whether that looks cool or not, I would like to try applying a ribbon to my streamline so I now get a rotated shape based on the local rotation in the flow, and then I would like to extract a slice that is locally normal to the ribbon. 

Is there a filter or set of filters that could do this? Do I need to figure out how to write my own to do it?

Thanks,

Tim

From iacopo.borsi at tea-group.com  Sat Nov 21 11:17:56 2015
From: iacopo.borsi at tea-group.com (Iacopo Borsi)
Date: Sat, 21 Nov 2015 16:17:56 +0000
Subject: [Paraview] problem in reading UTCHEM data
Message-ID: <DB5PR01MB1511F407918A78DAA9F407FCC7190@DB5PR01MB1511.eurprd01.prod.exchangelabs.com>

Hi,
I'm using Paraview with RVA plugin to read output generated by UTCHEM code.
In particular, I want to process the CONCP file (concentration).
In original output (text file) I see that my concentrations are there, but when importing data in Paraview I see the range is (0,0), like it is not able to read the values.
Any suggestion?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151121/a5fa0ad7/attachment.html>

From sergi.mateo.bellido at gmail.com  Mon Nov 23 03:38:08 2015
From: sergi.mateo.bellido at gmail.com (Sergi Mateo Bellido)
Date: Mon, 23 Nov 2015 09:38:08 +0100
Subject: [Paraview] pvti example with data in cells question
In-Reply-To: <1446727799.309105941@f362.i.mail.ru>
References: <1446560128.780939@f323.i.mail.ru>
 <1446727799.309105941@f362.i.mail.ru>
Message-ID: <5652D070.2040208@gmail.com>

Hi Nikolay,

I don't know if you still have this problem, if it's fixed feel free to 
ignore this email :)

I think that the main issue is that you are specifying the whole extents 
of the VTI files (i.e. 1.vti and 2.vti) as if they were independent, 
instead of specifying the part of the whole image they occupy (I had a 
similar problem and they told me that).

Another thing that I'm not sure if it is ok is how you describe the 
whole extents: I was told that if you want to declare a 4x2 model the 
whole extent should be  0 3 0 1 0 0.

Best regards,
Sergi

On 11/05/2015 01:49 PM, Nikolay Khokhlov wrote:
> Hello,
>
> I'm trying to use pvti format to save data.
> I've create example with 8 cells, but I've got different view when 
> open files *.vti and file pvti separately (image attached).
> What could be the problem?
>
>
> File x.pvti:
> <?xml version="1.0"?>
> <VTKFile type="PImageData" version="0.1">
>   <PImageData WholeExtent="0 4 0 2 0 0" Origin="0.000000 1.000000 
> 0.000000" Spacing="0.100000 0.100000 0.000000" GhostLevel="0">
>     <Piece Extent="0 2 0 2 0 0" Source="./1.vti"/>
>     <Piece Extent="2 4 0 2 0 0" Source="./2.vti"/>
>       <PCellData Scalars = "vx" >
>           <PDataArray type="Float32" Name="vx" />
>       </PCellData>
>   </PImageData>
> </VTKFile>
>
> File 1.vti:
> <?xml version="1.0"?>
> <VTKFile type="ImageData" version="0.1">
>   <ImageData WholeExtent="0 2 0 2 0 0" Origin="0.000000 1.000000 
> 0.000000" Spacing="0.100000 0.100000 0.000000">
>     <Piece Extent="0 2 0 2 0 0">
>       <CellData Scalars = "vx" >
>         <DataArray type="Float32" Name="vx" format="ascii">
>             1 2 3 4
>         </DataArray>
>       </CellData>
>     </Piece>
>   </ImageData>
> </VTKFile>
>
> File 2.vti:
> <?xml version="1.0"?>
> <VTKFile type="ImageData" version="0.1">
>   <ImageData WholeExtent="0 2 0 2 0 0" Origin="0.200000 1.000000 
> 0.000000" Spacing="0.100000 0.100000 0.000000">
>     <Piece Extent="0 2 0 2 0 0">
>       <CellData Scalars = "vx" >
>         <DataArray type="Float32" Name="vx" format="ascii">
>              5 6 7 8
>         </DataArray>
>       </CellData>
>     </Piece>
>   </ImageData>
> </VTKFile>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151123/bc10d82f/attachment.html>

From sergi.mateo.bellido at gmail.com  Mon Nov 23 08:19:54 2015
From: sergi.mateo.bellido at gmail.com (Sergi Mateo Bellido)
Date: Mon, 23 Nov 2015 14:19:54 +0100
Subject: [Paraview] RayCastAndTextureRenderMode and TextureRenderMode are no
 longer supported in Paraview 5.0.0-RC1
Message-ID: <5653127A.2000307@gmail.com>

Hi,

I tried to use the "RayCast and Texture Mapping" volume rendering mode 
in Paraview 5.0.0-RC1 and I got the following error:

ERROR: In 
/home/kitware/dashboards/buildbot/paraview-debian6dash-linux-shared-release_opengl2_qt4_superbuild/source-paraview/VTK/Rendering/VolumeOpenGL2/vtkSmartVolumeMapper.cxx, 
line 540
vtkSmartVolumeMapper (0x6e402b0): RayCastAndTextureRenderMode and 
TextureRenderMode no longer supported

I received the same error when I tried to use just "Texture Mapping" 
volume rendering mode.

Best regards,

Sergi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151123/854f13ac/attachment.html>

From padamsen at grundfos.com  Mon Nov 23 08:23:26 2015
From: padamsen at grundfos.com (Per Adamsen)
Date: Mon, 23 Nov 2015 13:23:26 +0000
Subject: [Paraview] ParticleTracer filter makes Paraview crash on 'play'
Message-ID: <AM4PR03MB145721873585FC9CF810F620A4070@AM4PR03MB1457.eurprd03.prod.outlook.com>

Hi,

I have been trying to visualize flow using the particle tracers as described at http://openfoamwiki.net/index.php/HowTo_use_particle_tracer_in_paraFoam.

It works when using it on the cavity tutorial but when I try to transfer the setup to one of my own 3D OpenFOAM cases of a pump volute with e.g. 20 timesteps and 900,000 cells Paraview crashes with a segmentation fault when I hit the 'Play' button to step through the individual timesteps.

The pipeline setup is exactly as described in the HowTo (linked above) and I have tried both with and without the Temporal Interpolator and on Linux and Windows platform - all with the same crash result.

I have tried the following 64-bit version:
3.98.1 on Win7
4.4.0 on Win7
4.2.0 on Linux HPC cluster

At first I thought the reason for the crash was due to the use of interfaces in the model but I have tried a model without interfaces at all and the result is the same.

Are there any restriction to the data which can be used?

The following is the trace right up to pressing 'Play':
#### import the simple module from the paraview
from paraview.simple import *
#### disable automatic camera reset on 'Show'
paraview.simple._DisableFirstRenderCameraReset()

# get active source.
q97_volutefoam = GetActiveSource()

# Properties modified on q97_volutefoam
q97_volutefoam.CaseType = 'Decomposed Case'

# get active view
renderView1 = GetActiveViewOrCreate('RenderView')
# uncomment following to set a specific view size
# renderView1.ViewSize = [1025, 773]

# get color transfer function/color map for 'p'
pLUT = GetColorTransferFunction('p')

# show data in view
q97_volutefoamDisplay = Show(q97_volutefoam, renderView1)
# trace defaults for the display properties.
q97_volutefoamDisplay.ColorArrayName = ['POINTS', 'p']
q97_volutefoamDisplay.LookupTable = pLUT
q97_volutefoamDisplay.ScalarOpacityUnitDistance = 0.01089979797382614
q97_volutefoamDisplay.SelectInputVectors = ['POINTS', 'U']
q97_volutefoamDisplay.WriteLog = ''

# reset view to fit data
renderView1.ResetCamera()

# show color bar/color legend
q97_volutefoamDisplay.SetScalarBarVisibility(renderView1, True)

# get animation scene
animationScene1 = GetAnimationScene()

# update animation scene based on data timesteps
animationScene1.UpdateAnimationUsingDataTimeSteps()

# get opacity transfer function/opacity map for 'p'
pPWF = GetOpacityTransferFunction('p')

# create a new 'Plane'
plane1 = Plane()

# Properties modified on q97_volutefoam
q97_volutefoam.CellArrays = ['U', 'k', 'nut', 'omega', 'p', 'gradP', 'myPtot', 'myYPlus', 'uPlus', 'y', 'yPlus']

# Properties modified on plane1
plane1.XResolution = 100
plane1.YResolution = 100

# show data in view
plane1Display = Show(plane1, renderView1)
# trace defaults for the display properties.
plane1Display.ColorArrayName = [None, '']
plane1Display.SelectInputVectors = ['POINTS', 'Normals']
plane1Display.WriteLog = ''

# create a new 'ParticleTracer'
particleTracer1 = ParticleTracer(Input=q97_volutefoam,
    SeedSource=plane1)
particleTracer1.SelectInputVectors = ['POINTS', 'U']

# Properties modified on particleTracer1
particleTracer1.StaticSeeds = 1
particleTracer1.StaticMesh = 1

# show data in view
particleTracer1Display = Show(particleTracer1, renderView1)
# trace defaults for the display properties.
particleTracer1Display.ColorArrayName = ['POINTS', 'p']
particleTracer1Display.LookupTable = pLUT
particleTracer1Display.SelectInputVectors = ['POINTS', 'U']
particleTracer1Display.WriteLog = ''

# hide data in view
Hide(q97_volutefoam, renderView1)

# hide data in view
Hide(plane1, renderView1)

# show color bar/color legend
particleTracer1Display.SetScalarBarVisibility(renderView1, True)

Regards,
Per Adamsen
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151123/f5655360/attachment.html>

From utkarsh.ayachit at kitware.com  Mon Nov 23 10:11:01 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Nov 2015 10:11:01 -0500
Subject: [Paraview] RayCastAndTextureRenderMode and TextureRenderMode
 are no longer supported in Paraview 5.0.0-RC1
In-Reply-To: <5653127A.2000307@gmail.com>
References: <5653127A.2000307@gmail.com>
Message-ID: <CADHSJjD0ZKT7XbEWj6NJprPChOpys+nuF2663OTT=ML+TCLgDw@mail.gmail.com>

Sergi,

The texture-based volume mapper is no longer supported in ParaView
after changes to the rendering engine. Maybe Aashish can elaborate on
the reasons why.

Utkarsh

On Mon, Nov 23, 2015 at 8:19 AM, Sergi Mateo Bellido
<sergi.mateo.bellido at gmail.com> wrote:
> Hi,
>
> I tried to use the "RayCast and Texture Mapping" volume rendering mode in
> Paraview 5.0.0-RC1 and I got the following error:
>
> ERROR: In
> /home/kitware/dashboards/buildbot/paraview-debian6dash-linux-shared-release_opengl2_qt4_superbuild/source-paraview/VTK/Rendering/VolumeOpenGL2/vtkSmartVolumeMapper.cxx,
> line 540
> vtkSmartVolumeMapper (0x6e402b0): RayCastAndTextureRenderMode and
> TextureRenderMode no longer supported
>
> I received the same error when I tried to use just "Texture Mapping" volume
> rendering mode.
>
> Best regards,
>
> Sergi
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>

From sergi.mateo.bellido at gmail.com  Mon Nov 23 10:17:11 2015
From: sergi.mateo.bellido at gmail.com (Sergi Mateo Bellido)
Date: Mon, 23 Nov 2015 16:17:11 +0100
Subject: [Paraview] Smart volume rendering mode
Message-ID: <56532DF7.6060909@gmail.com>

Hi,

I think that I found a bug in the smart volume rendering mode in 
Paraview 4.4.0 and 4.3.1 (I have not tried with older versions).

My input data is a XDMF file that indexes the data depending on the time 
step and two binary raw files for each time step that represent the 
values of two variables (a and b). For the sake of simplicity, this 
example  only has a time step.

If I open the xmdf and visualize the 'a' variable using the smart volume 
rendering mode, the visualization is wrong (you can see the results in 
wrong.png). However, the results are ok if I change the volume rendering 
mode to RayCast (good.png). They are also good If I filter the data 
associated to the 'b' variable, so It looks like the problem is that the 
rendering algorithm is not taking into account that I'm not visualizing 
all the variables. The GPU-based rendering has the same issue.

I tried also with Paraview 5.0.0-RC1. At the beginning I thought it was 
fixed (both visualizations were not so different) but then I realized 
that some data was not being printed when I was using the smart 
algorithm (wrong_5.0.0.png vs good_5.0.0.png).

You can download all the images from the following link:

https://www.dropbox.com/s/pyl06ur041hvtde/img.tar.gz?dl=0

Best regards,

Sergi


From andy.bauer at kitware.com  Mon Nov 23 10:18:00 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Mon, 23 Nov 2015 10:18:00 -0500
Subject: [Paraview] ParticleTracer filter makes Paraview crash on 'play'
In-Reply-To: <AM4PR03MB145721873585FC9CF810F620A4070@AM4PR03MB1457.eurprd03.prod.outlook.com>
References: <AM4PR03MB145721873585FC9CF810F620A4070@AM4PR03MB1457.eurprd03.prod.outlook.com>
Message-ID: <CAMaOp+EEAptGp+4KGB2okiHUycrHCGCGi+_vy4HKzYALvVdazg@mail.gmail.com>

Hi,

My guess is that it has to do with OpenFOAM's way of saving out extra
fields for the initial time step. Several temporal filters assume that the
arrays are ordered the same for different time steps but the OpenFOAM
reader doesn't follow this convention.

Can you share a data set that reproduces the issue?

Andy

On Mon, Nov 23, 2015 at 8:23 AM, Per Adamsen <padamsen at grundfos.com> wrote:

> Hi,
>
>
>
> I have been trying to visualize flow using the particle tracers as
> described at
> http://openfoamwiki.net/index.php/HowTo_use_particle_tracer_in_paraFoam.
>
>
>
> It works when using it on the cavity tutorial but when I try to transfer
> the setup to one of my own 3D OpenFOAM cases of a pump volute with e.g. 20
> timesteps and 900,000 cells Paraview crashes with a segmentation fault when
> I hit the ?Play? button to step through the individual timesteps.
>
>
>
> The pipeline setup is exactly as described in the HowTo (linked above) and
> I have tried both with and without the Temporal Interpolator and on Linux
> and Windows platform ? all with the same crash result.
>
>
>
> I have tried the following 64-bit version:
>
> 3.98.1 on Win7
>
> 4.4.0 on Win7
>
> 4.2.0 on Linux HPC cluster
>
>
>
> At first I thought the reason for the crash was due to the use of
> interfaces in the model but I have tried a model without interfaces at all
> and the result is the same.
>
>
>
> Are there any restriction to the data which can be used?
>
>
>
> The following is the trace right up to pressing ?Play?:
>
> #### import the simple module from the paraview
>
> from paraview.simple import *
>
> #### disable automatic camera reset on 'Show'
>
> paraview.simple._DisableFirstRenderCameraReset()
>
>
>
> # get active source.
>
> q97_volutefoam = GetActiveSource()
>
>
>
> # Properties modified on q97_volutefoam
>
> q97_volutefoam.CaseType = 'Decomposed Case'
>
>
>
> # get active view
>
> renderView1 = GetActiveViewOrCreate('RenderView')
>
> # uncomment following to set a specific view size
>
> # renderView1.ViewSize = [1025, 773]
>
>
>
> # get color transfer function/color map for 'p'
>
> pLUT = GetColorTransferFunction('p')
>
>
>
> # show data in view
>
> q97_volutefoamDisplay = Show(q97_volutefoam, renderView1)
>
> # trace defaults for the display properties.
>
> q97_volutefoamDisplay.ColorArrayName = ['POINTS', 'p']
>
> q97_volutefoamDisplay.LookupTable = pLUT
>
> q97_volutefoamDisplay.ScalarOpacityUnitDistance = 0.01089979797382614
>
> q97_volutefoamDisplay.SelectInputVectors = ['POINTS', 'U']
>
> q97_volutefoamDisplay.WriteLog = ''
>
>
>
> # reset view to fit data
>
> renderView1.ResetCamera()
>
>
>
> # show color bar/color legend
>
> q97_volutefoamDisplay.SetScalarBarVisibility(renderView1, True)
>
>
>
> # get animation scene
>
> animationScene1 = GetAnimationScene()
>
>
>
> # update animation scene based on data timesteps
>
> animationScene1.UpdateAnimationUsingDataTimeSteps()
>
>
>
> # get opacity transfer function/opacity map for 'p'
>
> pPWF = GetOpacityTransferFunction('p')
>
>
>
> # create a new 'Plane'
>
> plane1 = Plane()
>
>
>
> # Properties modified on q97_volutefoam
>
> q97_volutefoam.CellArrays = ['U', 'k', 'nut', 'omega', 'p', 'gradP',
> 'myPtot', 'myYPlus', 'uPlus', 'y', 'yPlus']
>
>
>
> # Properties modified on plane1
>
> plane1.XResolution = 100
>
> plane1.YResolution = 100
>
>
>
> # show data in view
>
> plane1Display = Show(plane1, renderView1)
>
> # trace defaults for the display properties.
>
> plane1Display.ColorArrayName = [None, '']
>
> plane1Display.SelectInputVectors = ['POINTS', 'Normals']
>
> plane1Display.WriteLog = ''
>
>
>
> # create a new 'ParticleTracer'
>
> particleTracer1 = ParticleTracer(Input=q97_volutefoam,
>
>     SeedSource=plane1)
>
> particleTracer1.SelectInputVectors = ['POINTS', 'U']
>
>
>
> # Properties modified on particleTracer1
>
> particleTracer1.StaticSeeds = 1
>
> particleTracer1.StaticMesh = 1
>
>
>
> # show data in view
>
> particleTracer1Display = Show(particleTracer1, renderView1)
>
> # trace defaults for the display properties.
>
> particleTracer1Display.ColorArrayName = ['POINTS', 'p']
>
> particleTracer1Display.LookupTable = pLUT
>
> particleTracer1Display.SelectInputVectors = ['POINTS', 'U']
>
> particleTracer1Display.WriteLog = ''
>
>
>
> # hide data in view
>
> Hide(q97_volutefoam, renderView1)
>
>
>
> # hide data in view
>
> Hide(plane1, renderView1)
>
>
>
> # show color bar/color legend
>
> particleTracer1Display.SetScalarBarVisibility(renderView1, True)
>
>
>
> Regards,
>
> Per Adamsen
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151123/2c75b31f/attachment.html>

From utkarsh.ayachit at kitware.com  Mon Nov 23 10:28:39 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Nov 2015 10:28:39 -0500
Subject: [Paraview] Smart volume rendering mode
In-Reply-To: <56532DF7.6060909@gmail.com>
References: <56532DF7.6060909@gmail.com>
Message-ID: <CADHSJjBz_i92sKpMMpTmqZAQMv0WttGZ239UZOKnSdLkhQbgwg@mail.gmail.com>

Can you share the dataset to reproduce the bug? Thanks

Utkarsh

On Mon, Nov 23, 2015 at 10:17 AM, Sergi Mateo Bellido
<sergi.mateo.bellido at gmail.com> wrote:
> Hi,
>
> I think that I found a bug in the smart volume rendering mode in Paraview
> 4.4.0 and 4.3.1 (I have not tried with older versions).
>
> My input data is a XDMF file that indexes the data depending on the time
> step and two binary raw files for each time step that represent the values
> of two variables (a and b). For the sake of simplicity, this example  only
> has a time step.
>
> If I open the xmdf and visualize the 'a' variable using the smart volume
> rendering mode, the visualization is wrong (you can see the results in
> wrong.png). However, the results are ok if I change the volume rendering
> mode to RayCast (good.png). They are also good If I filter the data
> associated to the 'b' variable, so It looks like the problem is that the
> rendering algorithm is not taking into account that I'm not visualizing all
> the variables. The GPU-based rendering has the same issue.
>
> I tried also with Paraview 5.0.0-RC1. At the beginning I thought it was
> fixed (both visualizations were not so different) but then I realized that
> some data was not being printed when I was using the smart algorithm
> (wrong_5.0.0.png vs good_5.0.0.png).
>
> You can download all the images from the following link:
>
> https://www.dropbox.com/s/pyl06ur041hvtde/img.tar.gz?dl=0
>
> Best regards,
>
> Sergi
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

From sergi.mateo.bellido at gmail.com  Mon Nov 23 10:28:46 2015
From: sergi.mateo.bellido at gmail.com (Sergi Mateo Bellido)
Date: Mon, 23 Nov 2015 16:28:46 +0100
Subject: [Paraview] RayCastAndTextureRenderMode and TextureRenderMode
 are no longer supported in Paraview 5.0.0-RC1
In-Reply-To: <CADHSJjD0ZKT7XbEWj6NJprPChOpys+nuF2663OTT=ML+TCLgDw@mail.gmail.com>
References: <5653127A.2000307@gmail.com>
 <CADHSJjD0ZKT7XbEWj6NJprPChOpys+nuF2663OTT=ML+TCLgDw@mail.gmail.com>
Message-ID: <565330AE.40003@gmail.com>

Hi Utkarsh,

Well, this is a minor issue that I came up when I was trying to 
reproduce the problem with the smart volume rendering mode. However, I 
would remove them from the list if they will not be supported.

Thanks,
Sergi

On 11/23/2015 04:11 PM, Utkarsh Ayachit wrote:
> Sergi,
>
> The texture-based volume mapper is no longer supported in ParaView
> after changes to the rendering engine. Maybe Aashish can elaborate on
> the reasons why.
>
> Utkarsh
>
> On Mon, Nov 23, 2015 at 8:19 AM, Sergi Mateo Bellido
> <sergi.mateo.bellido at gmail.com> wrote:
>> Hi,
>>
>> I tried to use the "RayCast and Texture Mapping" volume rendering mode in
>> Paraview 5.0.0-RC1 and I got the following error:
>>
>> ERROR: In
>> /home/kitware/dashboards/buildbot/paraview-debian6dash-linux-shared-release_opengl2_qt4_superbuild/source-paraview/VTK/Rendering/VolumeOpenGL2/vtkSmartVolumeMapper.cxx,
>> line 540
>> vtkSmartVolumeMapper (0x6e402b0): RayCastAndTextureRenderMode and
>> TextureRenderMode no longer supported
>>
>> I received the same error when I tried to use just "Texture Mapping" volume
>> rendering mode.
>>
>> Best regards,
>>
>> Sergi
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>


From utkarsh.ayachit at kitware.com  Mon Nov 23 10:32:24 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Nov 2015 10:32:24 -0500
Subject: [Paraview] Creating a surface along a complex path
In-Reply-To: <727663339.16621615.1448049077548.JavaMail.root@mail.gatech.edu>
References: <727663339.16621615.1448049077548.JavaMail.root@mail.gatech.edu>
Message-ID: <CADHSJjCivgdF1F5S7R5Mhaoynsumn-1vi9wVe2OTbSpTXjcwzA@mail.gmail.com>

Is this what you're looking for: http://www.kitware.com/blog/home/post/725

Utkarsh

On Fri, Nov 20, 2015 at 2:51 PM, Tim Gallagher <tim.gallagher at gatech.edu> wrote:
> Hi,
>
> I had an idea I would like to explore but I'm not sure the right way to do it. I have a 3D vtkMultiblockDataset that is composed of curvilinear structured blocks. Let's say I create a line source with s = f(x,y,z). This line source can have a normal vector at each point that is confined to a particular plane (so for example, if I have s = x @ y = 0, z = 0 there are 2 normals of s confined to the x-y plane -- (0,1,0) and (0,-1,0)). I would like to create a slice where the local normal of the slice is oriented with one of those two normals (it doesn't matter which since a slice is infinitely thin).
>
> To give my actual example -- I have a fluid flow and I place a single streamline seed and generate the streamline. In this case, the streamline has constant z coordinates and is a function of x,y. This streamline represents the core of my flow. I would like to extract a slice whose profile (side view) is this streamline.
>
> And depending on whether that looks cool or not, I would like to try applying a ribbon to my streamline so I now get a rotated shape based on the local rotation in the flow, and then I would like to extract a slice that is locally normal to the ribbon.
>
> Is there a filter or set of filters that could do this? Do I need to figure out how to write my own to do it?
>
> Thanks,
>
> Tim
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

From utkarsh.ayachit at kitware.com  Mon Nov 23 10:34:24 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Nov 2015 10:34:24 -0500
Subject: [Paraview] RayCastAndTextureRenderMode and TextureRenderMode
 are no longer supported in Paraview 5.0.0-RC1
In-Reply-To: <565330AE.40003@gmail.com>
References: <5653127A.2000307@gmail.com>
 <CADHSJjD0ZKT7XbEWj6NJprPChOpys+nuF2663OTT=ML+TCLgDw@mail.gmail.com>
 <565330AE.40003@gmail.com>
Message-ID: <CADHSJjDion_fAtUdDfGB54ipRSoFZQPVMDD9fT4tXHUVK1YsNA@mail.gmail.com>

> However, I would remove them from the list if they will not be supported.

Good point. Aashish, any reason why they should not be removed? Are
they going to be added back eventually? Let me know and I can have it
fixed accordingly.

Utkarsh

From utkarsh.ayachit at kitware.com  Mon Nov 23 10:37:07 2015
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Nov 2015 10:37:07 -0500
Subject: [Paraview] ParaView 5.0.0-RC1: two minor problems
In-Reply-To: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>
References: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>
Message-ID: <CADHSJjAnjKnqZWM3cK-FtJtHqV==V0wniL=HKzD+XjLXnuB6FQ@mail.gmail.com>

> 2) It seems that the EPS, PDF, PS, and SVG are missing from Export Scene.

That is one of the regressions with the new rendering engine. Vector
graphics exporting cannot be supported in its current form. We have
plans to add a new implementation. In the meantime, use the 4.4
binaries. I am going to look into the possibility of providing
binaries with both rendering backends for future releases in the mean
while.

Utkarsh

From tim.gallagher at gatech.edu  Mon Nov 23 10:42:59 2015
From: tim.gallagher at gatech.edu (Tim Gallagher)
Date: Mon, 23 Nov 2015 10:42:59 -0500 (EST)
Subject: [Paraview] Creating a surface along a complex path
In-Reply-To: <CADHSJjCivgdF1F5S7R5Mhaoynsumn-1vi9wVe2OTbSpTXjcwzA@mail.gmail.com>
Message-ID: <504317718.17013551.1448293379151.JavaMail.root@mail.gatech.edu>

Hi Utkarsh,

I actually found that this morning when I compiled a later version of PV than the one I was using previously (our clusters are behind on dependencies so I've been reluctant to try and upgrade). 

Thanks,

Tim

----- Original Message -----
From: "Utkarsh Ayachit" <utkarsh.ayachit at kitware.com>
To: "Tim Gallagher" <tim.gallagher at gatech.edu>
Cc: "ParaView list" <paraview at paraview.org>
Sent: Monday, November 23, 2015 10:32:24 AM
Subject: Re: [Paraview] Creating a surface along a complex path

Is this what you're looking for: http://www.kitware.com/blog/home/post/725

Utkarsh

On Fri, Nov 20, 2015 at 2:51 PM, Tim Gallagher <tim.gallagher at gatech.edu> wrote:
> Hi,
>
> I had an idea I would like to explore but I'm not sure the right way to do it. I have a 3D vtkMultiblockDataset that is composed of curvilinear structured blocks. Let's say I create a line source with s = f(x,y,z). This line source can have a normal vector at each point that is confined to a particular plane (so for example, if I have s = x @ y = 0, z = 0 there are 2 normals of s confined to the x-y plane -- (0,1,0) and (0,-1,0)). I would like to create a slice where the local normal of the slice is oriented with one of those two normals (it doesn't matter which since a slice is infinitely thin).
>
> To give my actual example -- I have a fluid flow and I place a single streamline seed and generate the streamline. In this case, the streamline has constant z coordinates and is a function of x,y. This streamline represents the core of my flow. I would like to extract a slice whose profile (side view) is this streamline.
>
> And depending on whether that looks cool or not, I would like to try applying a ribbon to my streamline so I now get a rotated shape based on the local rotation in the flow, and then I would like to extract a slice that is locally normal to the ribbon.
>
> Is there a filter or set of filters that could do this? Do I need to figure out how to write my own to do it?
>
> Thanks,
>
> Tim
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

From hng.email at gmail.com  Mon Nov 23 11:01:03 2015
From: hng.email at gmail.com (Hom Nath Gharti)
Date: Mon, 23 Nov 2015 11:01:03 -0500
Subject: [Paraview] ParaView 5.0.0-RC1: two minor problems
In-Reply-To: <CADHSJjAnjKnqZWM3cK-FtJtHqV==V0wniL=HKzD+XjLXnuB6FQ@mail.gmail.com>
References: <CAL+XNdUQgq3hxv4rg4TmYEGHZeiqRd7mAb3emu=BuM9WL3Gc6w@mail.gmail.com>
 <CADHSJjAnjKnqZWM3cK-FtJtHqV==V0wniL=HKzD+XjLXnuB6FQ@mail.gmail.com>
Message-ID: <CAL+XNdUDh7zbZU7qG1H-hSif2-OvGSE+V7VfFH6dXrUCZ2YZzg@mail.gmail.com>

Thanks Ben & Utkarsh.

Hom Nath

On Mon, Nov 23, 2015 at 10:37 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
>> 2) It seems that the EPS, PDF, PS, and SVG are missing from Export Scene.
>
> That is one of the regressions with the new rendering engine. Vector
> graphics exporting cannot be supported in its current form. We have
> plans to add a new implementation. In the meantime, use the 4.4
> binaries. I am going to look into the possibility of providing
> binaries with both rendering backends for future releases in the mean
> while.
>
> Utkarsh

From aashish.chaudhary at kitware.com  Mon Nov 23 11:44:28 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Mon, 23 Nov 2015 11:44:28 -0500
Subject: [Paraview] RayCastAndTextureRenderMode and TextureRenderMode
 are no longer supported in Paraview 5.0.0-RC1
In-Reply-To: <CADHSJjDion_fAtUdDfGB54ipRSoFZQPVMDD9fT4tXHUVK1YsNA@mail.gmail.com>
References: <5653127A.2000307@gmail.com>
 <CADHSJjD0ZKT7XbEWj6NJprPChOpys+nuF2663OTT=ML+TCLgDw@mail.gmail.com>
 <565330AE.40003@gmail.com>
 <CADHSJjDion_fAtUdDfGB54ipRSoFZQPVMDD9fT4tXHUVK1YsNA@mail.gmail.com>
Message-ID: <CAEw35Z-aHEa1XwZDi2U_br2iFOZ3aUb6CCxqQbBJLLSO0qb12w@mail.gmail.com>

In short: texture-based volume mapper is an old technique that produces low
quality rendering and does not provide enough flexibility to support
various volume rendering tricks and modes. It was there mostly to support
legacy systems and since we moved to OpenGL2, we no longer needed it. All
of the features and more are support by RayCast GL mapper.

Hope this helps,
Aashish

On Mon, Nov 23, 2015 at 10:34 AM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> > However, I would remove them from the list if they will not be supported.
>
> Good point. Aashish, any reason why they should not be removed? Are
> they going to be added back eventually? Let me know and I can have it
> fixed accordingly.
>
> Utkarsh
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151123/2015e8c5/attachment.html>

From Jim.Eliot at awe.co.uk  Tue Nov 24 06:04:57 2015
From: Jim.Eliot at awe.co.uk (Jim.Eliot at awe.co.uk)
Date: Tue, 24 Nov 2015 11:04:57 +0000
Subject: [Paraview] Rendering offscreen images from parallel simulation
	using Catalyst
Message-ID: <201511241105.tAOB53KI022707@msw1.awe.co.uk>


Good morning all,

I have experienced some problems when trying to render images in parallel from a multipiece dataset using ParaView Catalyst. It seems to work when I connect live using the ParaView client - I see the full mesh, and a plot of vtkCompositeIndex looks sensible.

However when I try to render out images, one render window appears on screen for each parallel process (in a stack). The windows appear to contain one chunk each. If I manually grab the windows and spread them out so that each is visible on screen, then chunk zero plots updates to include the whole dataset, i.e. it looks as if it is grabbing the data from the screen.

Is there a way to make ParaView Catalyst render offscreen?

I am using ParaView 4.4.0 on my workstation (which has a graphics card) built from source using Superbuild without mesa.

When I run on a remote platform (no graphics cards) where I build ParaView using osmesa, the images render without creating a window and contain all the chunks.

Should I be using a separate ParaView build for my Catalyst simulations that is built with osmesa?

Apologies if there is not much to go on here - it would be tricky to share the simulation code and the catalyst adaptor code that I am using. If more information is needed, I'll try to put together a representative simulation/adaptor.

Thanks everyone,
Jim


Jim Eliot
High Performance Computing Group
AWE, Aldermaston, Reading, RG7 4PR





The information in this email and in any attachment(s) is 
commercial in confidence. If you are not the named addressee(s) 
or 
if you receive this email in error then any distribution, copying or 
use of this communication or the information in it is strictly 
prohibited. Please notify us immediately by email at 
admin.internet(at)awe.co.uk, and then delete this message from 
your computer. While attachments are virus checked, AWE plc 
does not accept any liability in respect of any virus which is not 
detected.

AWE Plc
Registered in England and Wales
Registration No 02763902
AWE, Aldermaston, Reading, RG7 4PR
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151124/8040221d/attachment.html>

From danzhao.nudt at gmail.com  Tue Nov 24 07:13:04 2015
From: danzhao.nudt at gmail.com (Dan Zhao)
Date: Tue, 24 Nov 2015 20:13:04 +0800
Subject: [Paraview] problem of running catalyst on super computer
Message-ID: <CALfEhc+0wNR5pLmABU5075nteZvgsfRJyH_8TO6w27+X3yrsaA@mail.gmail.com>

Hi, everyone.
Recently I am trying to run catalyst on supercomputer. For testing I choose
the demo from kitware defined by 2 python scripts, driver.py and
coprocessing.py. The catalyst is invoked on computation node without any x
server available, thus it is failed with the output as follows,
vtkXOpenGLRenderingWindow (0xceea740): bad X server connection.
DISPLAY=Aborted.

I have also tried the --use-offscreen-rendering, and it didn't wirk out.

PLEASE HELP!

Danny
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151124/f8d5ade2/attachment.html>

From andy.bauer at kitware.com  Tue Nov 24 08:47:44 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Tue, 24 Nov 2015 08:47:44 -0500
Subject: [Paraview] problem of running catalyst on super computer
In-Reply-To: <CALfEhc+0wNR5pLmABU5075nteZvgsfRJyH_8TO6w27+X3yrsaA@mail.gmail.com>
References: <CALfEhc+0wNR5pLmABU5075nteZvgsfRJyH_8TO6w27+X3yrsaA@mail.gmail.com>
Message-ID: <CAMaOp+G_OViHKmi4UGby1a9g458RWGmzmxZyd0Q=GOcQV1KBRQ@mail.gmail.com>

Hi,

Does your supercomputer have X installed on the compute nodes? If it does
you may just need to set the environment to do that ("export DISPLAY=:0"
for many machines). It looks like you do since I don't think you'd be able
to build Catalyst without those libraries.

If you don't have a graphics card or can't use it then you'll need to build
with OSMesa and build Catalyst against that. Information on that is at
http://www.paraview.org/Wiki/ParaView/ParaView_And_Mesa_3D.

Cheers,
Andy


On Tue, Nov 24, 2015 at 7:13 AM, Dan Zhao <danzhao.nudt at gmail.com> wrote:

> Hi, everyone.
> Recently I am trying to run catalyst on supercomputer. For testing I
> choose the demo from kitware defined by 2 python scripts, driver.py and
> coprocessing.py. The catalyst is invoked on computation node without any x
> server available, thus it is failed with the output as follows,
> vtkXOpenGLRenderingWindow (0xceea740): bad X server connection.
> DISPLAY=Aborted.
>
> I have also tried the --use-offscreen-rendering, and it didn't wirk out.
>
> PLEASE HELP!
>
> Danny
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151124/75922914/attachment.html>

From hahnse at ornl.gov  Tue Nov 24 12:19:43 2015
From: hahnse at ornl.gov (Hahn, Steven E.)
Date: Tue, 24 Nov 2015 17:19:43 +0000
Subject: [Paraview] Labels using mathtext notation
Message-ID: <D27A04B9.A3FBA%hahnse@ornl.gov>

Hi,

I am trying to generate a plot using ParaView v5.0.0-RC1 where the axes
contain mathtext labels. If the label is 2 or more characters long, then
everything is OK. If my label is one character only, it plots the $ signs.

Here is a simple way to reproduce this issue:
- Use a sphere source.
- Show the axes
- Edit axes grid
- At the end of X Title string add ?$x$?
- At the end of Y Title string add ?$yy$?

The X axis title is ?X Axis $x$?. The Y axis title is ?Y Axis yy? where yy
is italic.

Best,
Steven Hahn


From tossin at gmail.com  Tue Nov 24 19:24:50 2015
From: tossin at gmail.com (Evan Kao)
Date: Tue, 24 Nov 2015 16:24:50 -0800
Subject: [Paraview] Extracting a block from a vtkMultiBlockDataSet in
	Paraview (Bug?)
Message-ID: <CAEhu9hD6Z_C9JCs5M_AzHWHY+aBPgtFzB1io1sq=O5P0SRr+TQ@mail.gmail.com>

Hi all,

Is there a way to extract a block from a vtkMultiBlockDataSet in Paraview
without using Extract Block > Merge Blocks (which converts the data in an
Unstructured Grid)?

For example, I import EnSight data, which is read in as a
vtkMultiBlockDataSet with a single vtkStructuredGrid block.  A bug prevents
from me from visualizing multi-block dataset with volume rendering, so it
would be nice to extract the structured grid data.  I've tried to do so as
follows in a Programmable Filter:

mbi = self.GetInputDataObject(0,0)
sgo = self.GetStructuredGridOutput()
sgo.DeepCopy(mbi.GetBlock(0))

However, when I apply this filter, there is no output.  There is no visible
object in the render window and there is nothing to inspect in Spreadsheet
View.  But if I print sgo in the Programmable Filter, all the usual
vtkDataObject information is there.

What is happening here, and can I get around it?

Thanks,
Evan Kao
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151124/a22e3fe1/attachment.html>

From rccm.kyoshimi at gmail.com  Tue Nov 24 23:17:21 2015
From: rccm.kyoshimi at gmail.com (kenichiro yoshimi)
Date: Wed, 25 Nov 2015 13:17:21 +0900
Subject: [Paraview] Inconsistent new view with the defalut
Message-ID: <CAHDyfPBFwp92coh-jSoPMecK+zgjmt4fOCqPxnYximO-R2Jguw@mail.gmail.com>

Hi Everyone,

I am using 5.0.0-RC1 64-bit on Windows.

I save the parallel projection setting as default:
- Toggle the advanced properties.
- Open view (Render view).
- Check "Camera Parallel Projection".
- Click on the save button shows "Save current view settings values as
default".

After reopening ParaView, the check box of "Camera Parallel Projection" is
checked, but new view is not parallel. I think it is a bug that needs to be
fixed in 5.0.0.

Thanks,
yoshimi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151125/d634bedd/attachment.html>

From jfavre at cscs.ch  Wed Nov 25 03:16:18 2015
From: jfavre at cscs.ch (Favre  Jean)
Date: Wed, 25 Nov 2015 08:16:18 +0000
Subject: [Paraview] Extracting a block from a vtkMultiBlockDataSet
	in	Paraview (Bug?)
In-Reply-To: <CAEhu9hD6Z_C9JCs5M_AzHWHY+aBPgtFzB1io1sq=O5P0SRr+TQ@mail.gmail.com>
References: <CAEhu9hD6Z_C9JCs5M_AzHWHY+aBPgtFzB1io1sq=O5P0SRr+TQ@mail.gmail.com>
Message-ID: <0EB9B6375711A04B820E6B6F5CCA9F6843527E04@MBX111.d.ethz.ch>

You are missing a RequestInformation Script to indicate the dimensions of the grid you wish to create.

Set the type of the Output Data to "vtkStructuredGrid"

you will need, at the minimum, the following two sections of python code

in the "Script"

mbds = inputs[0]

block0 = mbds.GetBlock(0)

output.ShallowCopy(block0)

(make sure to toggle the Advanced Properties to make the second text input widget to appear, and fill in the "RequestInformation Script" with the following text:


executive = self.GetExecutive()

outInfo = executive.GetOutputInformation(0)

mbds = inputs[0]

block0 = mbds.GetBlock(0)

dims = block0.GetDimensions()

outInfo.Set(executive.WHOLE_EXTENT(), 0, dims[0]-1 , 0, dims[1]-1 , 0, dims[2]-1)

==============
That's all!

Jean/CSCS


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151125/11c1e2ba/attachment.html>

From archaerolog at mail.ru  Wed Nov 25 07:11:43 2015
From: archaerolog at mail.ru (Gena Bug)
Date: Wed, 25 Nov 2015 15:11:43 +0300
Subject: [Paraview]  passing argument to pvpython script
Message-ID: <5655A57F.9060102@mail.ru>

Hi!

I often write simple scripts for pvpython which take one or more 
arguments (usually filenames) and run them so:
$ pvpython myscript.py filename

Till version 5rc1 I parse arguments using simple analysis of sys.argv, 
like this:
{{{
...
import os, sys
from paraview.simple import *
paraview.simple._DisableFirstRenderCameraReset()

if len(sys.argv) < 1:
     sys.exit('One parameter, name of an input file, is mandatory.')
if not os.path.exists(sys.argv[1]):
     sys.exit('Specified file "' + sys.argv[1] + '" does not exists!')

data = OpenDataFile(sys.argv[1])
...
}}}

And this works fine untill I tried new version. In 5rc1 I always get 
Segmentation Fault:
Error running 
"~/ParaView-5.0.0-RC1-Qt4-OpenGL2-Linux-64bit/lib/paraview-5.0/pvpython" 
"myscript.py" "filename"Segmentation fault

Seems, sys module couldn't be imported... Is it problem with rc-version? 
How can I correctly pass arguments to a script?

From andy.bauer at kitware.com  Wed Nov 25 10:30:08 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 25 Nov 2015 10:30:08 -0500
Subject: [Paraview] Rendering offscreen images from parallel simulation
 using Catalyst
In-Reply-To: <201511241105.tAOB53KI022707@msw1.awe.co.uk>
References: <201511241105.tAOB53KI022707@msw1.awe.co.uk>
Message-ID: <CAMaOp+E_Qjz9ZWPuXiZhuvWUg8R3X3phKZqx77nVmwi7PVnVRA@mail.gmail.com>

Hi Jim,

You can use OSMesa if you want offscreen rendering to work. There has been
some work with EGL with NVIDIA but I haven't tried that yet myself since I
don't have the EGL libraries on my machine. Intel's OpenSWR may also be an
option but I haven't tried that either.

I think this issue though is independent of Catalyst. Can you try creating
a Python script that outputs an image and try running that in parallel with
pvbatch? Let me know if you get the same behaviour or not.

Cheers,
Andy

On Tue, Nov 24, 2015 at 6:04 AM, <Jim.Eliot at awe.co.uk> wrote:

>
>
> Good morning all,
>
>
>
> I have experienced some problems when trying to render images in parallel
> from a multipiece dataset using ParaView Catalyst. It seems to work when I
> connect live using the ParaView client ? I see the full mesh, and a plot of
> vtkCompositeIndex looks sensible.
>
>
>
> However when I try to render out images, one render window appears on
> screen for each parallel process (in a stack). The windows appear to
> contain one chunk each. If I manually grab the windows and spread them out
> so that each is visible on screen, then chunk zero plots updates to include
> the whole dataset, i.e. it looks as if it is grabbing the data from the
> screen.
>
>
>
> Is there a way to make ParaView Catalyst render offscreen?
>
>
>
> I am using ParaView 4.4.0 on my workstation (which has a graphics card)
> built from source using Superbuild without mesa.
>
>
>
> When I run on a remote platform (no graphics cards) where I build ParaView
> using osmesa, the images render without creating a window and contain all
> the chunks.
>
>
>
> Should I be using a separate ParaView build for my Catalyst simulations
> that is built with osmesa?
>
>
>
> Apologies if there is not much to go on here ? it would be tricky to share
> the simulation code and the catalyst adaptor code that I am using. If more
> information is needed, I?ll try to put together a representative
> simulation/adaptor.
>
>
>
> Thanks everyone,
>
> Jim
>
>
>
>
>
> *Jim Eliot*
>
> *High Performance Computing Group*
>
> AWE, Aldermaston, Reading, RG7 4PR
>
>
>
> The information in this email and in any attachment(s) is commercial in
> confidence. If you are not the named addressee(s) or if you receive this
> email in error then any distribution, copying or use of this communication
> or the information in it is strictly prohibited. Please notify us
> immediately by email at admin.internet(at)awe.co.uk, and then delete this
> message from your computer. While attachments are virus checked, AWE plc
> does not accept any liability in respect of any virus which is not
> detected. AWE Plc Registered in England and Wales Registration No 02763902
> AWE, Aldermaston, Reading, RG7 4PR
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151125/26249d45/attachment.html>

From ben.boeckel at kitware.com  Wed Nov 25 10:51:54 2015
From: ben.boeckel at kitware.com (Ben Boeckel)
Date: Wed, 25 Nov 2015 10:51:54 -0500
Subject: [Paraview] passing argument to pvpython script
In-Reply-To: <5655A57F.9060102@mail.ru>
References: <5655A57F.9060102@mail.ru>
Message-ID: <20151125155154.GA8383@megas.khq.kitware.com>

On Wed, Nov 25, 2015 at 15:11:43 +0300, Gena Bug wrote:
> And this works fine untill I tried new version. In 5rc1 I always get 
> Segmentation Fault:
> Error running 
> "~/ParaView-5.0.0-RC1-Qt4-OpenGL2-Linux-64bit/lib/paraview-5.0/pvpython" 
> "myscript.py" "filename"Segmentation fault
> 
> Seems, sys module couldn't be imported... Is it problem with rc-version? 
> How can I correctly pass arguments to a script?

What distro? I ran into something with similar symptoms and fixed it
here (no one else could reproduce it, so we didn't delay RC1 for it):

    https://gitlab.kitware.com/paraview/paraview/merge_requests/478

Do the lastest binaries work for you?

    http://www.paraview.org/paraview-downloads/download.php?submit=Download&version=nightly&type=all&os=all&downloadFile=ParaView-5.0.0-RC1-18-g7560de5-Qt4-OpenGL2-Linux-64bit.tar.gz

Thanks,

--Ben

From archaerolog at mail.ru  Wed Nov 25 14:16:26 2015
From: archaerolog at mail.ru (Gena Bug)
Date: Wed, 25 Nov 2015 22:16:26 +0300
Subject: [Paraview] passing argument to pvpython script
In-Reply-To: <20151125155154.GA8383@megas.khq.kitware.com>
References: <5655A57F.9060102@mail.ru>
 <20151125155154.GA8383@megas.khq.kitware.com>
Message-ID: <5656090A.4040005@mail.ru>

On 25.11.2015 18:51, Ben Boeckel wrote:
> On Wed, Nov 25, 2015 at 15:11:43 +0300, Gena Bug wrote:
>> And this works fine untill I tried new version. In 5rc1 I always get
>> Segmentation Fault:
>> Error running
>> "~/ParaView-5.0.0-RC1-Qt4-OpenGL2-Linux-64bit/lib/paraview-5.0/pvpython"
>> "myscript.py" "filename"Segmentation fault
>>
>> Seems, sys module couldn't be imported... Is it problem with rc-version?
>> How can I correctly pass arguments to a script?
>
> What distro? I ran into something with similar symptoms and fixed it
> here (no one else could reproduce it, so we didn't delay RC1 for it):
Debian stable/testing amd64 with KDE4/5

>
>      https://gitlab.kitware.com/paraview/paraview/merge_requests/478
>
> Do the lastest binaries work for you?
Yep, it works! Thank you!

>      http://www.paraview.org/paraview-downloads/download.php?submit=Download&version=nightly&type=all&os=all&downloadFile=ParaView-5.0.0-RC1-18-g7560de5-Qt4-OpenGL2-Linux-64bit.tar.gz
>
> Thanks,
>
> --Ben
>

From tossin at gmail.com  Wed Nov 25 14:35:00 2015
From: tossin at gmail.com (Evan Kao)
Date: Wed, 25 Nov 2015 11:35:00 -0800
Subject: [Paraview] Extracting a block from a vtkMultiBlockDataSet in
 Paraview (Bug?)
In-Reply-To: <0EB9B6375711A04B820E6B6F5CCA9F6843527E04@MBX111.d.ethz.ch>
References: <CAEhu9hD6Z_C9JCs5M_AzHWHY+aBPgtFzB1io1sq=O5P0SRr+TQ@mail.gmail.com>
 <0EB9B6375711A04B820E6B6F5CCA9F6843527E04@MBX111.d.ethz.ch>
Message-ID: <CAEhu9hCDZ2pWfB1Cg2D=-dZfs5oix0t6h=eq0DiySgJj9hjZ3Q@mail.gmail.com>

Thanks Jean!  That did the trick.

- Evan

On Wed, Nov 25, 2015 at 12:16 AM, Favre Jean <jfavre at cscs.ch> wrote:

> You are missing a RequestInformation Script to indicate the dimensions of
> the grid you wish to create.
>
> Set the type of the Output Data to "vtkStructuredGrid"
>
> you will need, at the minimum, the following two sections of python code
>
> in the "Script"
>
> mbds = inputs[0]
>
> block0 = mbds.GetBlock(0)
>
> output.ShallowCopy(block0)
>
> (make sure to toggle the Advanced Properties to make the second text input
> widget to appear, and fill in the "RequestInformation Script" with the
> following text:
>
> executive = self.GetExecutive()
>
> outInfo = executive.GetOutputInformation(0)
>
> mbds = inputs[0]
>
> block0 = mbds.GetBlock(0)
>
> dims = block0.GetDimensions()
>
> outInfo.Set(executive.WHOLE_EXTENT(), 0, dims[0]-1 , 0, dims[1]-1 , 0, dims[2]-1)
>
> ==============
> That's all!
>
> Jean/CSCS
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151125/1e2b4c0a/attachment.html>

From tossin at gmail.com  Wed Nov 25 15:52:48 2015
From: tossin at gmail.com (Evan Kao)
Date: Wed, 25 Nov 2015 12:52:48 -0800
Subject: [Paraview] Extracting a block from a vtkMultiBlockDataSet in
 Paraview (Bug?)
In-Reply-To: <CAEhu9hCDZ2pWfB1Cg2D=-dZfs5oix0t6h=eq0DiySgJj9hjZ3Q@mail.gmail.com>
References: <CAEhu9hD6Z_C9JCs5M_AzHWHY+aBPgtFzB1io1sq=O5P0SRr+TQ@mail.gmail.com>
 <0EB9B6375711A04B820E6B6F5CCA9F6843527E04@MBX111.d.ethz.ch>
 <CAEhu9hCDZ2pWfB1Cg2D=-dZfs5oix0t6h=eq0DiySgJj9hjZ3Q@mail.gmail.com>
Message-ID: <CAEhu9hD3CfWUZYB0RCbnwPBu3Ra11Wv72nnSY3+1gn5UGOPfqw@mail.gmail.com>

Hi all,

I had an additional question.  I'd like to convert this script into a
Custom Filter using the python_filter_generator.py script
<http://www.kitware.com/blog/home/post/534>, but this requires the output
type to be set automatically.  Is that possible with the Programmable
Filter, i.e., is it possible to set the output type without manually using
the drop-down menu?

Thanks,
Evan Kao

On Wed, Nov 25, 2015 at 11:35 AM, Evan Kao <tossin at gmail.com> wrote:

> Thanks Jean!  That did the trick.
>
> - Evan
>
> On Wed, Nov 25, 2015 at 12:16 AM, Favre Jean <jfavre at cscs.ch> wrote:
>
>> You are missing a RequestInformation Script to indicate the dimensions of
>> the grid you wish to create.
>>
>> Set the type of the Output Data to "vtkStructuredGrid"
>>
>> you will need, at the minimum, the following two sections of python code
>>
>> in the "Script"
>>
>> mbds = inputs[0]
>>
>> block0 = mbds.GetBlock(0)
>>
>> output.ShallowCopy(block0)
>>
>> (make sure to toggle the Advanced Properties to make the second text
>> input widget to appear, and fill in the "RequestInformation Script" with
>> the following text:
>>
>> executive = self.GetExecutive()
>>
>> outInfo = executive.GetOutputInformation(0)
>>
>> mbds = inputs[0]
>>
>> block0 = mbds.GetBlock(0)
>>
>> dims = block0.GetDimensions()
>>
>> outInfo.Set(executive.WHOLE_EXTENT(), 0, dims[0]-1 , 0, dims[1]-1 , 0, dims[2]-1)
>>
>> ==============
>> That's all!
>>
>> Jean/CSCS
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151125/8ef07c1e/attachment.html>

From giordano_lipari at yahoo.co.uk  Wed Nov 25 16:15:35 2015
From: giordano_lipari at yahoo.co.uk (Giordano Lipari)
Date: Wed, 25 Nov 2015 22:15:35 +0100
Subject: [Paraview] Customize time values displayed in time annotation [take
	2]
In-Reply-To: <1636719764.8988613.1447692160230.JavaMail.yahoo.ref@mail.yahoo.com>
References: <1636719764.8988613.1447692160230.JavaMail.yahoo.ref@mail.yahoo.com>
Message-ID: <565624F7.9030201@yahoo.co.uk>

Hi all! I am reposting this after several days since I fear that the
first take was swamped in a dense digest. Hope this is OK.

I work with Paraview 4.3.1. I use an existing state file (*.pvsm) as a
template to create a new animation (with four panels combined).

The names of the legacy vtk files that I am loading as frames, are
tailed by a progressive file counter (such as *.0001.vtk, *.0002.vtk and
so forth). At this stage I am not able/inclined to change this situation.

The time annotation in the animation shows the 0-based file counter,
whereas I would like to show the time values out of a given sequence.

I then thought that editing the property field "TimestepValues" in the
state file from
      <Property name="TimestepValues" id="4553.TimestepValues"
number_of_elements="6">
        <Element index="0" value="0"/>
        <Element index="1" value="1"/>
        <Element index="2" value="2"/>
        <Element index="3" value="3"/>
        <Element index="4" value="4"/>
        <Element index="5" value="5"/>
      </Property>
into, for example,
      <Property name="TimestepValues" id="4555.TimestepValues"
number_of_elements="6">
        <Element index="0" value="0"/>
        <Element index="1" value="0.6"/>
        <Element index="2" value="1.25"/>
        <Element index="3" value="1.85"/>
        <Element index="4" value="2.5"/>
        <Element index="5" value="3.1"/>
      </Property>
would have worked well. (I repeat this for all occurrences of
TimestepValues owing to the four-panel arrangement.)

However, this is not sufficient. The new values are ignored and even
overwritten when I save the modified state file.

--1--
Is there any other feature in the pvsm file that I should tweak to make
this substitution effective?
--2--
Or is this idea ill-fated from the outset?
--3--
If 2==true is the case, is there any recommended way such that the time
annotation marks a user-defined sequence of values?

Thanks for thinking along and helping me out with tips and wisdom.

Giordano

From svzj at centrum.cz  Thu Nov 26 07:12:51 2015
From: svzj at centrum.cz (=?utf-8?q?Jiri_Vyskocil?=)
Date: Thu, 26 Nov 2015 13:12:51 +0100
Subject: [Paraview] =?utf-8?q?Using_XDMF_to_visualize_particle_tracks_stor?=
	=?utf-8?q?ed_in_HDF5_file?=
Message-ID: <20151126131251.84DB126B@centrum.cz>

Hello,

I want to visualize tracks of a couple thousand particles from and HDF5 file (optionally including time evolution of the positions, but for starters, tracks would be sufficient).

The HDF5 file is organized as follows:

- Each particle is in its own group identified by particle ID (an integer in the code)
- the group contains several 1D arrays which store time evolution of the particle:
  t - the time 
  x, y, z - coordinates (i.e. in time t[4], coordinates are x[4], y[4], z[4])
  momentum, energy, etc.

So something like:

particles.h5:/123456/t
particles.h5:/123456/x
particles.h5:/123456/y
particles.h5:/123456/z
particles.h5:/123456/ene

The length of the arrays is different for each particle, as they enter and exit the area of interest in different times. What I woud want to do is to draw the trajectories of all these particles (or a subset, etc. as there is thousands of them).

How do I describe this in XDMF? 
Should I use the Polyvertex Topology, as my file stores unconnected points? How do I then express the fact, that a set of points is a sort of timeseries belonging to a single particle, and that they form a track?


Thanks for any tips,
Jiri

From Saideep.Pavuluri at pet.hw.ac.uk  Thu Nov 26 11:32:12 2015
From: Saideep.Pavuluri at pet.hw.ac.uk (Saideep Pavuluri)
Date: Thu, 26 Nov 2015 16:32:12 +0000
Subject: [Paraview] Plotting data over complex surfaces.
Message-ID: <E744507DCB192B45930918B1A2FF1031065DCFCB@petmail.WIN.PET.HW.AC.UK>

Hello guys!!

I have a question regarding plotting data of a variable.

My case:
I would like to plot data continuously over a L - section. I can imagine of two possibilities but both seems not to work for me.


1.       Is it possible to use plot over line sort of utility over a 'L' shaped section? I tried a lot but couldn't get it done.

2.       Is it possible to join two plot over lines into one continuous plot. {i.e. I can plot over two individual sections and join together the data}. This too seems not possible to be done.


All I could ultimately do is to plot two individual plots for both the sections which isn't what I really want.

Anybody with an idea of how can I plot over these sort of irregular surfaces.

Saideep


----- 
We invite research leaders and ambitious early career researchers to 
join us in leading and driving research in key inter-disciplinary themes. 
Please see www.hw.ac.uk/researchleaders for further information and how
to apply.

Heriot-Watt University is a Scottish charity
registered under charity number SC000278.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151126/02d2dd84/attachment.html>

From kokicm at student.ethz.ch  Thu Nov 26 14:51:42 2015
From: kokicm at student.ethz.ch (Marco Kokic)
Date: Thu, 26 Nov 2015 20:51:42 +0100
Subject: [Paraview] small ParaView Script not working
Message-ID: <565762CE.3080804@student.ethz.ch>

Dear ParaViewers,

I have written and tested the following script, which I hope is 
self-explanatory. It doesn't work though (print cells_ gives "None") and 
I can't see what I missed. I'm thankful for any suggestions.

#!/usr/bin/pvpython

#setup paraview connection
from paraview.simple import *

def my_range(start, end, step):
     while start <= end:
         yield start
         start += step

def LoadMultipleFiles(FilePrefix, Low, High):
     for i in my_range(Low,High+1,100):
         reader = XMLMultiBlockDataReader(FileName='/path-to-files/' + 
FilePrefix + str(i) + '.vtm')

cells_ = LoadMultipleFiles('Cells_', 0, 1000)
print cells_

# create a new 'Integrate Variables'
#integrateVariables1 = IntegrateVariables(Input=cells_)
# create a new 'Plot Selection Over Time'
#plotSelectionOverTime1 = 
PlotSelectionOverTime(Input=integrateVariables1,Selection=None)
# save data
#SaveData('/path-to-files/output10_areaovertime.csv', 
proxy=plotSelectionOverTime1, 
Precision=5,UseScientificNotation=0,WriteAllTimeSteps=0)







From kokicm at student.ethz.ch  Fri Nov 27 06:55:26 2015
From: kokicm at student.ethz.ch (Marco Kokic)
Date: Fri, 27 Nov 2015 12:55:26 +0100
Subject: [Paraview] small ParaView Script not working
In-Reply-To: <565762CE.3080804@student.ethz.ch>
References: <565762CE.3080804@student.ethz.ch>
Message-ID: <565844AE.5060206@student.ethz.ch>

I found the reason for print cells_ None, which is that I used the wrong 
datareader, instead the script should look like this:

#!/usr/bin/pvpython

#setup paraview connection
from paraview.simple import *

cells_ = 
XMLMultiBlockDataReader(FileName=['/home/me/Dokumente/TEST/Cells_0.vtm', 
'/home/me/Dokumente/TEST/Cells_100.vtm', 
'/home/me/Dokumente/TEST/Cells_200.vtm'])

# create a new 'Integrate Variables'
integrateVariables1 = IntegrateVariables(Input=cells_)
# set active source
SetActiveSource(integrateVariables1)
# create a new 'Plot Selection Over Time'
plotSelectionOverTime1 = PlotSelectionOverTime(Input=integrateVariables1)
# save data
SaveData('/home/me/Dokumente/TEST/TEST.csv', proxy=plotSelectionOverTime1)


Still the rest of the script doesn't work. I tried to trace every step 
when using the gui and saved it as a macro. Doesn't work.














Am 26.11.2015 um 20:51 schrieb Marco Kokic:
> Dear ParaViewers,
>
> I have written and tested the following script, which I hope is 
> self-explanatory. It doesn't work though (print cells_ gives "None") 
> and I can't see what I missed. I'm thankful for any suggestions.
>
> #!/usr/bin/pvpython
>
> #setup paraview connection
> from paraview.simple import *
>
> def my_range(start, end, step):
>     while start <= end:
>         yield start
>         start += step
>
> def LoadMultipleFiles(FilePrefix, Low, High):
>     for i in my_range(Low,High+1,100):
>         reader = XMLMultiBlockDataReader(FileName='/path-to-files/' + 
> FilePrefix + str(i) + '.vtm')
>
> cells_ = LoadMultipleFiles('Cells_', 0, 1000)
> print cells_
>
> # create a new 'Integrate Variables'
> #integrateVariables1 = IntegrateVariables(Input=cells_)
> # create a new 'Plot Selection Over Time'
> #plotSelectionOverTime1 = 
> PlotSelectionOverTime(Input=integrateVariables1,Selection=None)
> # save data
> #SaveData('/path-to-files/output10_areaovertime.csv', 
> proxy=plotSelectionOverTime1, 
> Precision=5,UseScientificNotation=0,WriteAllTimeSteps=0)
>
>
>
>
>
>


From rahulsoni at immt.res.in  Sun Nov 29 08:42:15 2015
From: rahulsoni at immt.res.in (Rahul Kumar Soni)
Date: Sun, 29 Nov 2015 13:42:15 +0000
Subject: [Paraview] Problem in Extracting of Data
Message-ID: <CA+PKs7cH6y66cus2CdZoPPNO=qS6L_XXWTvXVN7+vT53mnMP-Q@mail.gmail.com>

Hello

I am facing problem in extracting the data from paraview. The case file has
actually came from fluent. After loading it in the paraview, I have applied
arrow glyph and then calculator filter. After writing a formula in the
calculator. I have clicked on plus to open a new layout tab that shows the
data in spreadsheet view.
Surprisingly, the all the data is only from the upper half part of the
fluidized bed reactor. I do not get why the data from the whole setup is
not selected.

Please help to get out of it. [image: Screenshot from 2015-11-29
19-00-42.png]

[image: photo]
*Rahul K Soni*
Scientist, CSIR - Institute of Minerals & Materials Technology
+91-674-237-9335 | +91-8456977780 | http://sites.google.com/site/rahuliitdhn
<http://www.facebook.com/RahulSoni.ISM>
<http://in.linkedin.com/in/rahuliitdhn>  <http://twitter.com/rahul_ism>
? Get a Signature like this: Click Here!
<http://ws-promos.appspot.com/r?rdata=eyJydXJsIjogImh0dHA6Ly93d3cud2lzZXN0YW1wLmNvbS9lbWFpbC1pbnN0YWxsP3dzX25jaWQ9NjcyMjk0MTIwJnV0bV9zb3VyY2U9ZXh0ZW5zaW9uJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPXByb21vXzU3MTM1NzMyNTA1OTY4NjQiLCAiZSI6ICI1NzEzNTczMjUwNTk2ODY0In0=>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151129/8c760840/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2015-11-29 19-00-42.png
Type: image/png
Size: 253245 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151129/8c760840/attachment-0001.png>

From rk.ism10209 at gmail.com  Sun Nov 29 22:51:59 2015
From: rk.ism10209 at gmail.com (Rahul Kumar Soni)
Date: Mon, 30 Nov 2015 03:51:59 +0000
Subject: [Paraview] Problem in Extracting of Data
Message-ID: <CA+PKs7fdoT6BBQkwYQNh0sz=RB973Lj8xJgU9z2Duwh9ZJu2Nw@mail.gmail.com>

Hello

I am facing problem in extracting the data from paraview. The case file has
actually came from fluent. After loading it in the paraview, I have applied
arrow glyph and then calculator filter. After writing a formula in the
calculator. I have clicked on plus to open a new layout tab that shows the
data in spreadsheet view.
Surprisingly, the all the data is only from the upper half part of the
fluidized bed reactor. I do not get why the data from the whole setup is
not selected.

Please help to get out of it.


[image: Screenshot from 2015-11-29 19-00-42.png]




[image: photo]
*Rahul K Soni*
Scientist, CSIR - Institute of Minerals & Materials Technology
+91-674-237-9335 | +91-8456977780 | http://sites.google.com/site/rahuliitdhn
<http://www.facebook.com/RahulSoni.ISM>
<http://in.linkedin.com/in/rahuliitdhn>  <http://twitter.com/rahul_ism>
? Get a Signature like this: Click Here!
<http://ws-promos.appspot.com/r?rdata=eyJydXJsIjogImh0dHA6Ly93d3cud2lzZXN0YW1wLmNvbS9lbWFpbC1pbnN0YWxsP3dzX25jaWQ9NjcyMjk0MTIwJnV0bV9zb3VyY2U9ZXh0ZW5zaW9uJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPXByb21vXzU3MTM1NzMyNTA1OTY4NjQiLCAiZSI6ICI1NzEzNTczMjUwNTk2ODY0In0=>
-- 

--
Regards

Rahul Kumar Soni
Scientist
CSIR-Institute of Minerals & Minerals Technology

[image: photo]
*Rahul K Soni*
Scientist, CSIR - Institute of Minerals & Materials Technology
+91-674-237-9335 | +91-8456977780 | http://sites.google.com/site/rahuliitdhn
<http://www.facebook.com/RahulSoni.ISM>
<http://in.linkedin.com/in/rahuliitdhn>  <http://twitter.com/rahul_ism>
? Get a Signature like this: Click Here!
<http://ws-promos.appspot.com/r?rdata=eyJydXJsIjogImh0dHA6Ly93d3cud2lzZXN0YW1wLmNvbS9lbWFpbC1pbnN0YWxsP3dzX25jaWQ9NjcyMjk0MTIwJnV0bV9zb3VyY2U9ZXh0ZW5zaW9uJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPXByb21vXzU3MTM1NzMyNTA1OTY4NjQiLCAiZSI6ICI1NzEzNTczMjUwNTk2ODY0In0=>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/010c7d4f/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2015-11-29 19-00-42.png
Type: image/png
Size: 253245 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/010c7d4f/attachment-0001.png>

From rccm.kyoshimi at gmail.com  Mon Nov 30 05:15:44 2015
From: rccm.kyoshimi at gmail.com (kenichiro yoshimi)
Date: Mon, 30 Nov 2015 19:15:44 +0900
Subject: [Paraview] Problem in Extracting of Data
In-Reply-To: <CA+PKs7fdoT6BBQkwYQNh0sz=RB973Lj8xJgU9z2Duwh9ZJu2Nw@mail.gmail.com>
References: <CA+PKs7fdoT6BBQkwYQNh0sz=RB973Lj8xJgU9z2Duwh9ZJu2Nw@mail.gmail.com>
Message-ID: <CAHDyfPCqsPcfDjWrXXN8iQp8AukqXyx9LfV8mqg_=c+seYfYXg@mail.gmail.com>

Hi,

vtkFLUENTReader imports data as multi-block dataset.  I think Merge Blocks
filter allows you to operate data without the distinction of fluid zones.

Thanks,
yoshimi

2015-11-30 12:51 GMT+09:00 Rahul Kumar Soni <rk.ism10209 at gmail.com>:

> Hello
>
> I am facing problem in extracting the data from paraview. The case file
> has actually came from fluent. After loading it in the paraview, I have
> applied arrow glyph and then calculator filter. After writing a formula in
> the calculator. I have clicked on plus to open a new layout tab that shows
> the data in spreadsheet view.
> Surprisingly, the all the data is only from the upper half part of the
> fluidized bed reactor. I do not get why the data from the whole setup is
> not selected.
>
> Please help to get out of it.
>
>
> [image: Screenshot from 2015-11-29 19-00-42.png]
>
>
>
>
> [image: photo]
> *Rahul K Soni*
> Scientist, CSIR - Institute of Minerals & Materials Technology
> +91-674-237-9335 | +91-8456977780 |
> http://sites.google.com/site/rahuliitdhn
> <http://www.facebook.com/RahulSoni.ISM>
> <http://in.linkedin.com/in/rahuliitdhn>  <http://twitter.com/rahul_ism>
> ? Get a Signature like this: Click Here!
> <http://ws-promos.appspot.com/r?rdata=eyJydXJsIjogImh0dHA6Ly93d3cud2lzZXN0YW1wLmNvbS9lbWFpbC1pbnN0YWxsP3dzX25jaWQ9NjcyMjk0MTIwJnV0bV9zb3VyY2U9ZXh0ZW5zaW9uJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPXByb21vXzU3MTM1NzMyNTA1OTY4NjQiLCAiZSI6ICI1NzEzNTczMjUwNTk2ODY0In0=>
> --
>
> --
> Regards
>
> Rahul Kumar Soni
> Scientist
> CSIR-Institute of Minerals & Minerals Technology
>
> [image: photo]
> *Rahul K Soni*
> Scientist, CSIR - Institute of Minerals & Materials Technology
> +91-674-237-9335 | +91-8456977780 |
> http://sites.google.com/site/rahuliitdhn
> <http://www.facebook.com/RahulSoni.ISM>
> <http://in.linkedin.com/in/rahuliitdhn>  <http://twitter.com/rahul_ism>
> ? Get a Signature like this: Click Here!
> <http://ws-promos.appspot.com/r?rdata=eyJydXJsIjogImh0dHA6Ly93d3cud2lzZXN0YW1wLmNvbS9lbWFpbC1pbnN0YWxsP3dzX25jaWQ9NjcyMjk0MTIwJnV0bV9zb3VyY2U9ZXh0ZW5zaW9uJnV0bV9tZWRpdW09ZW1haWwmdXRtX2NhbXBhaWduPXByb21vXzU3MTM1NzMyNTA1OTY4NjQiLCAiZSI6ICI1NzEzNTczMjUwNTk2ODY0In0=>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/44caef19/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screenshot from 2015-11-29 19-00-42.png
Type: image/png
Size: 253245 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/44caef19/attachment-0001.png>

From thomas.oliveira at gmail.com  Mon Nov 30 08:54:43 2015
From: thomas.oliveira at gmail.com (Thomas Oliveira)
Date: Mon, 30 Nov 2015 13:54:43 +0000
Subject: [Paraview] Blurred volume rendering
Message-ID: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>

Hi,

The Sample.png file attached is an image of a pore medium. Each voxel in
the image is a cube that is either solid or void.

The Zoom.png file attached is a zoom of it, where it can be seen that the
curved interior solid walls are approximated by a staircase discretization.

How can I render this staircase geometry more clearly? I have tried
tweaking many properties on ParaView but I still get it blurred.

Thank you for your help,

Thomas Oliveira
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/9bb62907/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Sample.png
Type: image/png
Size: 151800 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/9bb62907/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Zoom.png
Type: image/png
Size: 133099 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/9bb62907/attachment-0003.png>

From aashish.chaudhary at kitware.com  Mon Nov 30 10:07:37 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Mon, 30 Nov 2015 10:07:37 -0500
Subject: [Paraview] Blurred volume rendering
In-Reply-To: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
References: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
Message-ID: <CAEw35Z9LKQJPDbDU0fnFnBq8K2tbsckKXDGWXzMPK22VKq7DVw@mail.gmail.com>

Hi Thomas,

On Mon, Nov 30, 2015 at 8:54 AM, Thomas Oliveira <thomas.oliveira at gmail.com>
wrote:

> Hi,
>
> The Sample.png file attached is an image of a pore medium. Each voxel in
> the image is a cube that is either solid or void.
>
> The Zoom.png file attached is a zoom of it, where it can be seen that the
> curved interior solid walls are approximated by a staircase discretization.
>
> How can I render this staircase geometry more clearly?
>

Did you try to tweak the transfer function? Also, you can enable shading to
have a look of a solid surface.


> I have tried tweaking many properties on ParaView but I still get it
> blurred.
>

Just to be sure, what version of ParaView you are using and what OpenGL
backend?

>
> Thank you for your help,
>
> Thomas Oliveira
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview
>
>


-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/f00a2405/attachment.html>

From mvanmoer at illinois.edu  Mon Nov 30 10:38:22 2015
From: mvanmoer at illinois.edu (Vanmoer, Mark W)
Date: Mon, 30 Nov 2015 15:38:22 +0000
Subject: [Paraview] problem in reading UTCHEM data
In-Reply-To: <DB5PR01MB1511F407918A78DAA9F407FCC7190@DB5PR01MB1511.eurprd01.prod.exchangelabs.com>
References: <DB5PR01MB1511F407918A78DAA9F407FCC7190@DB5PR01MB1511.eurprd01.prod.exchangelabs.com>
Message-ID: <7F781841FF1E044388AFA42B70703A7A95D9988C@CHIMBX6.ad.uillinois.edu>

Hi Iacopo,

I've done some work with the RVA plugin, it's very particular about what version of UTChem generated the files - that is it must be from the publically available 9.x series. Have you tried emailing the RVA support email?
rva-support at cs.illinois.edu

Mark

From: ParaView [mailto:paraview-bounces at paraview.org] On Behalf Of Iacopo Borsi
Sent: Saturday, November 21, 2015 10:18 AM
To: paraview at paraview.org
Subject: [Paraview] problem in reading UTCHEM data

Hi,
I'm using Paraview with RVA plugin to read output generated by UTCHEM code.
In particular, I want to process the CONCP file (concentration).
In original output (text file) I see that my concentrations are there, but when importing data in Paraview I see the range is (0,0), like it is not able to read the values.
Any suggestion?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/84ee9373/attachment.html>

From aashish.chaudhary at kitware.com  Mon Nov 30 11:31:48 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Mon, 30 Nov 2015 11:31:48 -0500
Subject: [Paraview] Blurred volume rendering
In-Reply-To: <CADNeF3pAR8vmw1JBMo3brFrB5nhsC9m0iUtiRPidFvHu1RHk4A@mail.gmail.com>
References: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
 <CAEw35Z9LKQJPDbDU0fnFnBq8K2tbsckKXDGWXzMPK22VKq7DVw@mail.gmail.com>
 <CADNeF3pAR8vmw1JBMo3brFrB5nhsC9m0iUtiRPidFvHu1RHk4A@mail.gmail.com>
Message-ID: <CAEw35Z-s6=iFK=611YVyqaWLHv2uTkqHi-MK1y0Dc5zZVUAN8A@mail.gmail.com>

Thomas,



On Mon, Nov 30, 2015 at 10:34 AM, Thomas Oliveira <thomas.oliveira at gmail.com
> wrote:

> Dear Aashish,
>
>
> I'm using Paraview 4.4.0 64-bit , OpenGL Version 4.5.0 NVIDIA 352.55,
> OpenGL Renderer Quadro K600/PCIe/SSE2.
>
> Tweaking the transfer function improved the result, but the corners are
> rendererd rounded, whereas in the original file I have only cubic voxels.
>

I am wondering if that would be because of the interpolation (linear vs
nearest) since linear will smooth out the edges just a bit. Is there a
sample dataset you can send my way?


> I though that unsetting "Properties > Scalar Coloring > Interpolate
> Scalars Before Mapping" would improve the image, but I saw no change.
>
> You suggested to enable shading, but I couldn't find it. Where is it?
>

Its on the same panel (left side), scroll to the bottom or search for
"shade" you should be see it.

- aashish

>
>
> Thank you for your help,
>
> Thomas Oliveira
>
>
> On Mon, Nov 30, 2015 at 3:07 PM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>> Hi Thomas,
>>
>> On Mon, Nov 30, 2015 at 8:54 AM, Thomas Oliveira <
>> thomas.oliveira at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> The Sample.png file attached is an image of a pore medium. Each voxel in
>>> the image is a cube that is either solid or void.
>>>
>>> The Zoom.png file attached is a zoom of it, where it can be seen that
>>> the curved interior solid walls are approximated by a staircase
>>> discretization.
>>>
>>> How can I render this staircase geometry more clearly?
>>>
>>
>> Did you try to tweak the transfer function? Also, you can enable shading
>> to have a look of a solid surface.
>>
>>
>>> I have tried tweaking many properties on ParaView but I still get it
>>> blurred.
>>>
>>
>> Just to be sure, what version of ParaView you are using and what OpenGL
>> backend?
>>
>>>
>>> Thank you for your help,
>>>
>>> Thomas Oliveira
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://public.kitware.com/mailman/listinfo/paraview
>>>
>>>
>>
>>
>> --
>>
>>
>>
>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>> *
>> *| http://www.kitware.com/company/team/chaudhary.html
>> <http://www.kitware.com/company/team/chaudhary.html>*
>>
>
>


-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/891c6bfc/attachment.html>

From andy.bauer at kitware.com  Mon Nov 30 12:53:13 2015
From: andy.bauer at kitware.com (Andy Bauer)
Date: Mon, 30 Nov 2015 12:53:13 -0500
Subject: [Paraview] ParticleTracer filter makes Paraview crash on 'play'
In-Reply-To: <CAMaOp+EEAptGp+4KGB2okiHUycrHCGCGi+_vy4HKzYALvVdazg@mail.gmail.com>
References: <AM4PR03MB145721873585FC9CF810F620A4070@AM4PR03MB1457.eurprd03.prod.outlook.com>
 <CAMaOp+EEAptGp+4KGB2okiHUycrHCGCGi+_vy4HKzYALvVdazg@mail.gmail.com>
Message-ID: <CAMaOp+FrecnVabdnjrrErFf8=abKMdMMwmzH6Hzk-L-N4OLfAA@mail.gmail.com>

Hi,

I was able to get around this issue by doing the following:

   1. Load your data set with just the U field
   2. Use the Pass Arrays filter to only pass the U point data field.
   3. Create a seed source (I used the line source)
   4. Create the Particle Tracer filter

Please let me know if this doesn't work for you.

Best,

Andy

On Mon, Nov 23, 2015 at 10:18 AM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Hi,
>
> My guess is that it has to do with OpenFOAM's way of saving out extra
> fields for the initial time step. Several temporal filters assume that the
> arrays are ordered the same for different time steps but the OpenFOAM
> reader doesn't follow this convention.
>
> Can you share a data set that reproduces the issue?
>
> Andy
>
> On Mon, Nov 23, 2015 at 8:23 AM, Per Adamsen <padamsen at grundfos.com>
> wrote:
>
>> Hi,
>>
>>
>>
>> I have been trying to visualize flow using the particle tracers as
>> described at
>> http://openfoamwiki.net/index.php/HowTo_use_particle_tracer_in_paraFoam.
>>
>>
>>
>> It works when using it on the cavity tutorial but when I try to transfer
>> the setup to one of my own 3D OpenFOAM cases of a pump volute with e.g. 20
>> timesteps and 900,000 cells Paraview crashes with a segmentation fault when
>> I hit the ?Play? button to step through the individual timesteps.
>>
>>
>>
>> The pipeline setup is exactly as described in the HowTo (linked above)
>> and I have tried both with and without the Temporal Interpolator and on
>> Linux and Windows platform ? all with the same crash result.
>>
>>
>>
>> I have tried the following 64-bit version:
>>
>> 3.98.1 on Win7
>>
>> 4.4.0 on Win7
>>
>> 4.2.0 on Linux HPC cluster
>>
>>
>>
>> At first I thought the reason for the crash was due to the use of
>> interfaces in the model but I have tried a model without interfaces at all
>> and the result is the same.
>>
>>
>>
>> Are there any restriction to the data which can be used?
>>
>>
>>
>> The following is the trace right up to pressing ?Play?:
>>
>> #### import the simple module from the paraview
>>
>> from paraview.simple import *
>>
>> #### disable automatic camera reset on 'Show'
>>
>> paraview.simple._DisableFirstRenderCameraReset()
>>
>>
>>
>> # get active source.
>>
>> q97_volutefoam = GetActiveSource()
>>
>>
>>
>> # Properties modified on q97_volutefoam
>>
>> q97_volutefoam.CaseType = 'Decomposed Case'
>>
>>
>>
>> # get active view
>>
>> renderView1 = GetActiveViewOrCreate('RenderView')
>>
>> # uncomment following to set a specific view size
>>
>> # renderView1.ViewSize = [1025, 773]
>>
>>
>>
>> # get color transfer function/color map for 'p'
>>
>> pLUT = GetColorTransferFunction('p')
>>
>>
>>
>> # show data in view
>>
>> q97_volutefoamDisplay = Show(q97_volutefoam, renderView1)
>>
>> # trace defaults for the display properties.
>>
>> q97_volutefoamDisplay.ColorArrayName = ['POINTS', 'p']
>>
>> q97_volutefoamDisplay.LookupTable = pLUT
>>
>> q97_volutefoamDisplay.ScalarOpacityUnitDistance = 0.01089979797382614
>>
>> q97_volutefoamDisplay.SelectInputVectors = ['POINTS', 'U']
>>
>> q97_volutefoamDisplay.WriteLog = ''
>>
>>
>>
>> # reset view to fit data
>>
>> renderView1.ResetCamera()
>>
>>
>>
>> # show color bar/color legend
>>
>> q97_volutefoamDisplay.SetScalarBarVisibility(renderView1, True)
>>
>>
>>
>> # get animation scene
>>
>> animationScene1 = GetAnimationScene()
>>
>>
>>
>> # update animation scene based on data timesteps
>>
>> animationScene1.UpdateAnimationUsingDataTimeSteps()
>>
>>
>>
>> # get opacity transfer function/opacity map for 'p'
>>
>> pPWF = GetOpacityTransferFunction('p')
>>
>>
>>
>> # create a new 'Plane'
>>
>> plane1 = Plane()
>>
>>
>>
>> # Properties modified on q97_volutefoam
>>
>> q97_volutefoam.CellArrays = ['U', 'k', 'nut', 'omega', 'p', 'gradP',
>> 'myPtot', 'myYPlus', 'uPlus', 'y', 'yPlus']
>>
>>
>>
>> # Properties modified on plane1
>>
>> plane1.XResolution = 100
>>
>> plane1.YResolution = 100
>>
>>
>>
>> # show data in view
>>
>> plane1Display = Show(plane1, renderView1)
>>
>> # trace defaults for the display properties.
>>
>> plane1Display.ColorArrayName = [None, '']
>>
>> plane1Display.SelectInputVectors = ['POINTS', 'Normals']
>>
>> plane1Display.WriteLog = ''
>>
>>
>>
>> # create a new 'ParticleTracer'
>>
>> particleTracer1 = ParticleTracer(Input=q97_volutefoam,
>>
>>     SeedSource=plane1)
>>
>> particleTracer1.SelectInputVectors = ['POINTS', 'U']
>>
>>
>>
>> # Properties modified on particleTracer1
>>
>> particleTracer1.StaticSeeds = 1
>>
>> particleTracer1.StaticMesh = 1
>>
>>
>>
>> # show data in view
>>
>> particleTracer1Display = Show(particleTracer1, renderView1)
>>
>> # trace defaults for the display properties.
>>
>> particleTracer1Display.ColorArrayName = ['POINTS', 'p']
>>
>> particleTracer1Display.LookupTable = pLUT
>>
>> particleTracer1Display.SelectInputVectors = ['POINTS', 'U']
>>
>> particleTracer1Display.WriteLog = ''
>>
>>
>>
>> # hide data in view
>>
>> Hide(q97_volutefoam, renderView1)
>>
>>
>>
>> # hide data in view
>>
>> Hide(plane1, renderView1)
>>
>>
>>
>> # show color bar/color legend
>>
>> particleTracer1Display.SetScalarBarVisibility(renderView1, True)
>>
>>
>>
>> Regards,
>>
>> Per Adamsen
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://public.kitware.com/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/d0c8f595/attachment.html>

From apeczak at ara.co.uk  Mon Nov 30 12:45:34 2015
From: apeczak at ara.co.uk (Andrzej Peczak)
Date: Mon, 30 Nov 2015 17:45:34 +0000
Subject: [Paraview] Paraview plugin with drop down list with values from
	input arrays
Message-ID: <5DF928D22AC3AC4B964903E98F2E54515A3D5AE2@sooty3.win.ara>

Hi

Is it possible to create multiple drop down list with values based on arbitrary number of attribute arrays in a dataset ?

Andrzej

**********************************************************************
Please consider the environment. Only print this email if absolutely necessary.

This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/c6d5cd4d/attachment.html>

From mnolde at gmx.net  Mon Nov 30 15:05:46 2015
From: mnolde at gmx.net (Michael Nolde)
Date: Mon, 30 Nov 2015 21:05:46 +0100
Subject: [Paraview] Blurred volume rendering
In-Reply-To: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
References: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
Message-ID: <565CAC1A.9070400@gmx.net>

Hi Thomas,

for visualization purposes you could do a surface extraction using the
Marching Cubes algorithm, like here:

https://pyscience.wordpress.com/2014/09/11/surface-extraction-creating-a-mesh-from-pixel-data-using-python-and-vtk/

Here's the result:
https://pyscience.files.wordpress.com/2014/09/wpid-extractedsurface01.png?w=584


cheers,
Michael


On 30.11.2015 14:54, Thomas Oliveira wrote:
> Hi,
>
> The Sample.png file attached is an image of a pore medium. Each voxel 
> in the image is a cube that is either solid or void.
>
> The Zoom.png file attached is a zoom of it, where it can be seen that 
> the curved interior solid walls are approximated by a staircase 
> discretization.
>
> How can I render this staircase geometry more clearly? I have tried 
> tweaking many properties on ParaView but I still get it blurred.
>
> Thank you for your help,
>
> Thomas Oliveira
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Search the list archives at: http://markmail.org/search/?q=ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://public.kitware.com/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/6c4fe6e1/attachment.html>

From thomas.oliveira at gmail.com  Mon Nov 30 15:06:27 2015
From: thomas.oliveira at gmail.com (Thomas Oliveira)
Date: Mon, 30 Nov 2015 20:06:27 +0000
Subject: [Paraview] Blurred volume rendering
In-Reply-To: <CAEw35Z-s6=iFK=611YVyqaWLHv2uTkqHi-MK1y0Dc5zZVUAN8A@mail.gmail.com>
References: <CADNeF3p_oc7ozXxU5e2=CfB+F5HxFEnknpKsoTfUjuikotu9Mw@mail.gmail.com>
 <CAEw35Z9LKQJPDbDU0fnFnBq8K2tbsckKXDGWXzMPK22VKq7DVw@mail.gmail.com>
 <CADNeF3pAR8vmw1JBMo3brFrB5nhsC9m0iUtiRPidFvHu1RHk4A@mail.gmail.com>
 <CAEw35Z-s6=iFK=611YVyqaWLHv2uTkqHi-MK1y0Dc5zZVUAN8A@mail.gmail.com>
Message-ID: <CADNeF3pKiK6jtj0=z8crioa2tsmPaHRpy6nUUv-tANfLBaOJtg@mail.gmail.com>

Dear Aashish,

Can I choose the interpolation (linear vs nearest) or is it hard-coded on
the call of VTK from Paraview?

A dataset can be downloaded from
http://www3.imperial.ac.uk/pls/portallive/docs/1/33505696.ZIP .
Please extract the Berea.raw file from the zip.
I loaded it using:
"""
Raw (binary) Files
Data Scalar Type: unsigned char
Data Byte Order: Little Endian
Data Extent: 0-399, 0-399, 0-399
"""

Thank you for your attention,

Thomas Oliveira


On Mon, Nov 30, 2015 at 4:31 PM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> Thomas,
>
>
>
> On Mon, Nov 30, 2015 at 10:34 AM, Thomas Oliveira <
> thomas.oliveira at gmail.com> wrote:
>
>> Dear Aashish,
>>
>>
>> I'm using Paraview 4.4.0 64-bit , OpenGL Version 4.5.0 NVIDIA 352.55,
>> OpenGL Renderer Quadro K600/PCIe/SSE2.
>>
>> Tweaking the transfer function improved the result, but the corners are
>> rendererd rounded, whereas in the original file I have only cubic voxels.
>>
>
> I am wondering if that would be because of the interpolation (linear vs
> nearest) since linear will smooth out the edges just a bit. Is there a
> sample dataset you can send my way?
>
>
>> I though that unsetting "Properties > Scalar Coloring > Interpolate
>> Scalars Before Mapping" would improve the image, but I saw no change.
>>
>> You suggested to enable shading, but I couldn't find it. Where is it?
>>
>
> Its on the same panel (left side), scroll to the bottom or search for
> "shade" you should be see it.
>
> - aashish
>
>>
>>
>> Thank you for your help,
>>
>> Thomas Oliveira
>>
>>
>> On Mon, Nov 30, 2015 at 3:07 PM, Aashish Chaudhary <
>> aashish.chaudhary at kitware.com> wrote:
>>
>>> Hi Thomas,
>>>
>>> On Mon, Nov 30, 2015 at 8:54 AM, Thomas Oliveira <
>>> thomas.oliveira at gmail.com> wrote:
>>>
>>>> Hi,
>>>>
>>>> The Sample.png file attached is an image of a pore medium. Each voxel
>>>> in the image is a cube that is either solid or void.
>>>>
>>>> The Zoom.png file attached is a zoom of it, where it can be seen that
>>>> the curved interior solid walls are approximated by a staircase
>>>> discretization.
>>>>
>>>> How can I render this staircase geometry more clearly?
>>>>
>>>
>>> Did you try to tweak the transfer function? Also, you can enable shading
>>> to have a look of a solid surface.
>>>
>>>
>>>> I have tried tweaking many properties on ParaView but I still get it
>>>> blurred.
>>>>
>>>
>>> Just to be sure, what version of ParaView you are using and what OpenGL
>>> backend?
>>>
>>>>
>>>> Thank you for your help,
>>>>
>>>> Thomas Oliveira
>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Search the list archives at: http://markmail.org/search/?q=ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://public.kitware.com/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151130/7c790122/attachment.html>

From david.allen at meliorinnovations.com  Mon Nov 30 19:06:01 2015
From: david.allen at meliorinnovations.com (David Allen)
Date: Tue, 1 Dec 2015 00:06:01 +0000
Subject: [Paraview] ParaViewWeb JS API:  get camera position
Message-ID: <FB64FB78-1EA2-4F91-B893-CBB4540E69F0@meliorinnovations.com>

I have been using the JavaScript API to set the camera position by calling updateCamera() (registered as ?viewport.camera.update?).  However, now I would like to get the camera position after mouse events, etc.  Is this possible through the JavaScript API?  I couldn?t find it in the docs.

Thanks,
Dave
This e-mail is covered by the Electronic Communication Privacy Act, 18 U.S.C. Section 2510-2521 and may be legally privileged. If you have received this transmission in error, please notify the original sender immediately by return e-mail or by telephone at the telephone number provided above and delete/trash the original message from your system. Thank you for your assistance. The information contained herein is confidential information provided only for the use of the individual or entity for whom it was intended. If the reader of this message received it in error, is not the intended recipient, or if an attachment is made in error, the reader is hereby notified that any dissemination, distribution or copying of this communication is strictly prohibited.

From aashish.chaudhary at kitware.com  Tue Nov 17 01:15:07 2015
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Tue, 17 Nov 2015 06:15:07 -0000
Subject: [Paraview] [vtk-developers] [vtk-users] OpenGL2 - GPU Volume
	Rendering performance
In-Reply-To: <CAEw35Z-eS-JQcvwB4Et1EtmLKnYYPjSYdXpzLPrO1DcXbtwUsA@mail.gmail.com>
References: <CAC9gB0BrUjZ6TzN=Czf-5HkfWo5BDc50iHeWtZFPw4fSnHnLJQ@mail.gmail.com>
 <CAEw35Z941sD_2enmKdTUFT=a_4z7dONnmpYt7echH89mhTaSoQ@mail.gmail.com>
 <CAEw35Z8KxRx=Xs5yNzVpUhEFE_5Wr6gisb0Bm--4MJBy8u+Kmg@mail.gmail.com>
 <CAC9gB0D1FO9bGttz_=kOC6i2tPQWxwrQyJWRNXO+MJLx6RM=4A@mail.gmail.com>
 <CAEw35Z9ypu=1h+q8b_mFNSzjV9ZL2oBToeq90=g6iY3hmw-d8Q@mail.gmail.com>
 <CAEw35Z_9WX6JnW1iyJJDdsymr2C7QyJ=udT9RcqT12izd-QqUQ@mail.gmail.com>
 <CAEw35Z_XfhaAnymSzbjxnta80xGMGM_t7SO9hBoQc1sqF8Dr9w@mail.gmail.com>
 <CAC9gB0CpYbDqA6cEBqjXpiiTcAcLRpGnwK+REZsV6hxZgSR11w@mail.gmail.com>
 <CAEw35Z-SCt6sZKAbhmdGDgdCBu_CwGRbeDxUd-azP8g2Heo+=g@mail.gmail.com>
 <CAC9gB0DeAyW1AXj3-bOg9R3BSGv+FRjJBW9nKmRvgtf==tNbsg@mail.gmail.com>
 <CAEw35Z87xfyLpKTbJkBDM5yubyj49dBXnK9M0dyW-nnVA8OaJQ@mail.gmail.com>
 <CAC9gB0CROyHDBf+C=Oz9AqcEDJd3-Le9nAcL1sPsQmeoEu6uig@mail.gmail.com>
 <CAEw35Z-Gw779hoVLW48u98qZ2ku7EBY-q1xsVZ9jVYqTpGBc3g@mail.gmail.com>
 <CAC9gB0DF5n1RaHidDqBGztMLNJHpOEWRQACuw8pF_apUEz49_w@mail.gmail.com>
 <CAEw35Z84GFNgmps6gVM3pPYDKqWNXtaY_n-PvzEyZ6WJU4qCPg@mail.gmail.com>
 <CAC9gB0BbMb5mq4A+uuU6iZAV8Mid4xojS3p3fUrQ1vZMze+sPg@mail.gmail.com>
 <CAEw35Z9PmRRa+_V9VCqz0DnpOdo9Ngjj+0wzbT=44u6WxW3RVQ@mail.gmail.com>
 <CAEw35Z-nqSh28pE0YUGS1bnH8UcO495W7L8=n3Y_5C9E8cMR+w@mail.gmail.com>
 <CAEw35Z-Cz6hMv56yN-Oc15TAvb_he3=x3eJH4Hfz-1icj7vTbA@mail.gmail.com>
 <CAC9gB0CgOTgxGYFWhB-_VP8B=OgrGriu3Xzx-F50WQJNpWeFCA@mail.gmail.com>
 <CAEw35Z9UciFGn_e3oZiPnOEa0VrTrXzqcNfnDyn5VneKBOO0tA@mail.gmail.com>
 <CAEw35Z8eKYLRKn+qyXCu=CWxzYQkArjJer+RD0bcvD2mWNmEPQ@mail.gmail.com>
 <CAC9gB0CEV5SFEvL5bM1nqUauHC2MCLcd-puq48V7==p7J4dBcQ@mail.gmail.com>
 <CAEw35Z-eS-JQcvwB4Et1EtmLKnYYPjSYdXpzLPrO1DcXbtwUsA@mail.gmail.com>
Message-ID: <CAEw35Z_ztAXvmaYVsC+EpgezjZRiBTnOiJDj8xgk52p6tRRD_A@mail.gmail.com>

Dear Simon,

Thanks for your example code and data. I used exactly the same code, got
master of VTK from today, compiled OpenGL1 and OpenGL2 backends on Ubuntu
14.01 box then for me, the OpenGL2 backend was running much faster and
higher resolution than compare to OpenGL1 backend (20 FPS vs 13 FPS).
Please look at the screenshots attached. I am referring to the number you
are displaying in the program.

Next, I am going to run the same code on Mac and Windows and see if can
reproduce your issue. May be it is windows/driver specific issue.

On Fri, Nov 13, 2015 at 11:02 AM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> On Fri, Nov 13, 2015 at 10:57 AM, Simon ESNEAULT <simon.esneault at gmail.com
> > wrote:
>
>> Hello Aashish,
>>
>> I've run some quick tests on my computer, and when disabling the
>> automatic adjustment, both of the volume rendering technique seems to
>> deliver the same performance, with some random Fixed sample distance. I
>> will run some more test on the other computer that we've got here, just to
>> be sure. And also on some mac. And report them to you :)
>>
>
> This is very helpful and sort of confirms my theory the the code in
> question is the reduction factor computation. The logic is changed between
> the old mapper and the new mapper. I will look again to make them
> consistent but it won't be exactly the same since the old mapper code to me
> was not making the the right choices and was broken for the new mapper.
> Actually, initially we had the exact same code and it was running into
> issues since the new mapper was faster and hence breaking some of the
> assumptions the old mapper was making.
>
>>
>> Is there something else that I can do to help on this problem ?
>>
>
> Not at the moment. You helped a lot, the code and the data is really
> helpful. I will report back early next week again and will request you to
> try again. Thanks for your patience.
>
> - Aashish
>
>>
>>
>> Simon
>>
>>
>> 2015-11-12 18:34 GMT+01:00 Aashish Chaudhary <
>> aashish.chaudhary at kitware.com>:
>>
>>>
>>>
>>> On Thu, Nov 12, 2015 at 12:31 PM, Aashish Chaudhary <
>>> aashish.chaudhary at kitware.com> wrote:
>>>
>>>>
>>>>
>>>> On Thu, Nov 12, 2015 at 12:12 PM, Simon ESNEAULT <
>>>> simon.esneault at gmail.com> wrote:
>>>>
>>>>> Hello Aashish,
>>>>>
>>>>> Sorry for the late reply, I was busy last week.
>>>>>
>>>>> Thanks for the update, and your work on this topic.
>>>>> Yes I have seen that your change have been merged concerning the
>>>>> ReductionFactor. Nevertheless, I am still getting a smaller frame rate with
>>>>> the new backend. To highlight this, please find attached a very simple
>>>>> application that loads a volume (
>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip) and does volume
>>>>> rendering while displaying the frame rate. This is pretty much what we show
>>>>> to the user in our application, and in this condition, on my machine the
>>>>> FPS are around 25 with the opengl1 backend
>>>>> <http://picpaste.com/pics/Bench-OGL1.1446644265.png>, and 15 with the
>>>>> new backend <http://picpaste.com/pics/Bench-OGL2.1446644630.png>,
>>>>> from this week VTK master
>>>>> It is very simple to test, just need change the VTK_DIR to an OpenGL1
>>>>> or OpenGL2 build, and place the volume.mhd and raw in the execution path.
>>>>> Also you will find attached a small text file that summarizes the test
>>>>> that have been done here.
>>>>>
>>>>
>>>> No problem, thanks for the update. Please see my comments below:
>>>>
>>>>>
>>>>> I think the real reason why it appears slower with the OGL2 version is
>>>>> that we try to have control on the "MaximalImageSampleDistance". If I
>>>>> remove the line l_gpu_mapper->SetMaximumImageSampleDistance( 2. ); I get
>>>>> the same frame rate with each backend. BUT, the new backend does decimate a
>>>>> lot more the volume, leading to a very blurred image during rendering, and
>>>>> that's not what we want :/
>>>>>
>>>>
>>>> Aha, this is very useful since this parameters does affecting the
>>>> reduction factor. I will try your code; one quick question when the new
>>>> backend decimates a lot (by removing the SetMaximumImageSampleDistance),
>>>> does it get any faster than the old version? I am going to try it on my Mac
>>>> and Linux laptop and report back (mostly tomorrow since I am away today).
>>>>
>>>>>
>>>>>
>>> Never mind, I see that you have that in your result file. It seems it
>>> does get faster but more blurry. Would it be possible for you to do one
>>> more test? Can you set a fix sample distance (pick any) for new and the old
>>> mapper and set AutoAdjustSampleDistance to OFF and capture some performance
>>> numbers? In that way we know exactly if something more fundamental is
>>> causing the slowness. The whole reduction factor math is based on
>>> approximate stuff so that will vary between two mappers.
>>>
>>> - Aashish
>>>
>>>
>>>> Again, thanks for paying attention to this problem, I hope this little
>>>>> application and test case can help you to adjust the parameters...
>>>>>
>>>>
>>>> Thanks for your help. I am glad you are testing my latest changes.
>>>>
>>>> - Best, Aashish
>>>>
>>>>>
>>>>>
>>>>> Simon
>>>>>
>>>>> PS : I did not get a chance to check the difference on Paraview, but I
>>>>> believe the result will be the same as the attached example is really
>>>>> simple.
>>>>>
>>>>> 2015-11-03 19:44 GMT+01:00 Aashish Chaudhary <
>>>>> aashish.chaudhary at kitware.com>:
>>>>>
>>>>>> Hi Simon,
>>>>>>
>>>>>> the branch has been merged into VTK master. I am not sure when
>>>>>> Paraview is going to update the VTK, but you can do it manually if needed.
>>>>>> We are also going to run our bench marking again to be sure since recently
>>>>>> lot many changes went into the VTK / volume rendering. Please feel free to
>>>>>> ping me again if it does not solve your issue.
>>>>>>
>>>>>> Looking forward to your feedback.
>>>>>>
>>>>>> - Aashish
>>>>>>
>>>>>> On Mon, Nov 2, 2015 at 8:02 AM, Aashish Chaudhary <
>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>
>>>>>>> Hi Simon,
>>>>>>>
>>>>>>> I found the reason behind the appeared performance you were getting.
>>>>>>> We have this code in volume rendering that when you interact changes the
>>>>>>> sampling distance and in the newer code we were too conservative compare to
>>>>>>> the last version. That's why you were getting better quality when you move
>>>>>>> your mouse but lower frame rates. I pushed a branch in VTK to address the
>>>>>>> issue. Would it be possible for you to build Paraview with VTK master?  It
>>>>>>> may take 3-4 days or longer for Paraview's VTK to get updated.
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Aashish
>>>>>>>
>>>>>>> On Wed, Oct 28, 2015 at 11:59 AM, Aashish Chaudhary <
>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>
>>>>>>>> Hi Simon,
>>>>>>>>
>>>>>>>> I am just finishing up a ParaView5 related parallel volume
>>>>>>>> rendering bug (pushing a branch today to VTK). This is next on my list.
>>>>>>>>
>>>>>>>> - Aashish
>>>>>>>>
>>>>>>>> On Wed, Oct 28, 2015 at 11:57 AM, Simon ESNEAULT <
>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Hello Aashish
>>>>>>>>>
>>>>>>>>> Did you get a chance to try to load the dataset on Windows ?
>>>>>>>>> Can I do anything to help you investigate ? Should I feel a bug,
>>>>>>>>> that may act as a reminder ?
>>>>>>>>> Have a nice day
>>>>>>>>> Simon
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2015-10-27 18:26 GMT+01:00 Aashish Chaudhary <
>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>
>>>>>>>>>> Thanks Simon. This is really strange since we are not seeing it
>>>>>>>>>> on Mac and Linux (but both has dedicated cards).
>>>>>>>>>>
>>>>>>>>>> I will look into it soon.
>>>>>>>>>>
>>>>>>>>>> - aashish
>>>>>>>>>>
>>>>>>>>>> On Tue, Oct 27, 2015 at 1:03 PM, Simon ESNEAULT <
>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Ok, thank you very much fort digging into this.
>>>>>>>>>>> I've done some test and I believe I can see a similar slowdown
>>>>>>>>>>> happening on OSX, with a MacBook pro retina 13" from 2013, Intel Iris 5100
>>>>>>>>>>> graphics.
>>>>>>>>>>> Good luck in the investigation, I you need more details, do not
>>>>>>>>>>> hesitate to ask
>>>>>>>>>>> Simon
>>>>>>>>>>>
>>>>>>>>>>> 2015-10-27 17:37 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>
>>>>>>>>>>>> Ah, thanks. I will get back to you on this since on Linux I
>>>>>>>>>>>> don't any issue so it has to be Windows specific thing.
>>>>>>>>>>>>
>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>
>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:36 AM, Simon ESNEAULT <
>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> I tried with that one from yesterday and today's version
>>>>>>>>>>>>> (4.4.0-209-gc399648)
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2015-10-27 15:19 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> And when did you download this version?
>>>>>>>>>>>>>> ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> Aashish
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 10:17 AM, Simon ESNEAULT <
>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Yes, I tried with and without the shading. Without shading
>>>>>>>>>>>>>>> enabled, the new Opengl2 is also slower when zoomed in (in the described
>>>>>>>>>>>>>>> condition). With shading enabled, the difference in speed between the two
>>>>>>>>>>>>>>> version seems even bigger.
>>>>>>>>>>>>>>> I got the version from the nightly build download section of
>>>>>>>>>>>>>>> paraview website (it is still available). And I've just tried with that one
>>>>>>>>>>>>>>> labeled "ParaView-latest-Qt4-OpenGL2-Windows-64bit.exe" with the same
>>>>>>>>>>>>>>> results.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> About the FPS, it is difficult to give an exact number,
>>>>>>>>>>>>>>> because it depends of the condition (zoomed or not etc...) but yes, this is
>>>>>>>>>>>>>>> the idea.
>>>>>>>>>>>>>>> In our software, I've exposed the frame rate using this
>>>>>>>>>>>>>>> example :
>>>>>>>>>>>>>>> http://www.vtk.org/Wiki/VTK/Examples/Cxx/Utilities/FrameRate
>>>>>>>>>>>>>>> And the frame rate is around 15/20 for the first backend,
>>>>>>>>>>>>>>> and around 6/8 for the new backend, on the same dataset (the one provided
>>>>>>>>>>>>>>> for example), with the same mapper parameters
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2015-10-27 14:48 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi Simon,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> This is helpful but just missing few more bits:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 1) Did you try without the shading and see how the
>>>>>>>>>>>>>>>> performance compares?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2) ParaView 4.4.0-193-gec96423 --> Where did you get this
>>>>>>>>>>>>>>>> one from (ParaView download page or did you built yourself?)
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Also, so on your system the old mapper is running 30FPS and
>>>>>>>>>>>>>>>> the new one at 15-20 FPS as per your summary.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Tue, Oct 27, 2015 at 9:43 AM, Simon ESNEAULT <
>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Sorry for the late answer, I was busy this morning.
>>>>>>>>>>>>>>>>> Thanks for testing with the DataSet.
>>>>>>>>>>>>>>>>> I agree the performance is still quite good with the new
>>>>>>>>>>>>>>>>> backend, and I also get something like 15/20 fps on windows on an HD
>>>>>>>>>>>>>>>>> screen. But when compared to the old one, and in some condition (when
>>>>>>>>>>>>>>>>> zoomed especially), it looks really slower to me
>>>>>>>>>>>>>>>>> The two tested version are :
>>>>>>>>>>>>>>>>> - ParaView 4.4.0 64 bits final version for the old backend
>>>>>>>>>>>>>>>>> - ParaView 4.4.0-193-gec96423 64 bits, for the OpenGL2
>>>>>>>>>>>>>>>>> backend.
>>>>>>>>>>>>>>>>> on a windows 7 box, Xeon E3-1220 v3 CPU, 16GB ram and
>>>>>>>>>>>>>>>>> Nvidia Quadro K420
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> To highlight the difference, here is what I do :
>>>>>>>>>>>>>>>>> - Launch both version on the same computer at the same time
>>>>>>>>>>>>>>>>> - Load the above dataset on each
>>>>>>>>>>>>>>>>> - Select volume rendering
>>>>>>>>>>>>>>>>> - Adjust the transfer function data range to [100-750]
>>>>>>>>>>>>>>>>> (the default "Cool to Warm" is fine)
>>>>>>>>>>>>>>>>> - Set the view direction to +Y
>>>>>>>>>>>>>>>>> - Adjust the Y of the camera position to -300
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> And start interacting ...
>>>>>>>>>>>>>>>>> Dunno if there is an easy way to print out the Frame Rate
>>>>>>>>>>>>>>>>> in Paraview, but the new version seems really twice slower in these
>>>>>>>>>>>>>>>>> conditions... We can see it does not scale in the same way, the old backend
>>>>>>>>>>>>>>>>> seems more aggressive on the image sample reduction, hence the
>>>>>>>>>>>>>>>>> interactivity is better.
>>>>>>>>>>>>>>>>> Shading enable or not does not change much
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I'm aware of the DesiredUpdateRate thing, we use to play
>>>>>>>>>>>>>>>>> with this with the old backend to fine tune the interactivity, although
>>>>>>>>>>>>>>>>> what's really inside was never clear to me
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I hope that there is enough information for you to
>>>>>>>>>>>>>>>>> reproduce this, do not hesitate to ask for some more information.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks a lot for your help
>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2015-10-27 14:10 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Dear Simon,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Checking again. Wondering if you can provide some more
>>>>>>>>>>>>>>>>>> detail on the binary you are using and whether or not without shading the
>>>>>>>>>>>>>>>>>> rendering performance comparable to older version.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 3:12 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I used your dataset on paraview master as of today on my
>>>>>>>>>>>>>>>>>>> Linux box running Ubuntu 14.04 and NVIDA Quadro card and I am getting about
>>>>>>>>>>>>>>>>>>> 15-20 FPS with shading on with 1920x1080 resolution.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Are you on the proper 4.4 or using RC1/RC2? I checked
>>>>>>>>>>>>>>>>>>> the shading performance fix was in 4.4 but not in RC's. I don't have access
>>>>>>>>>>>>>>>>>>> to Windows box right away but I will try there too.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> NOTE: You might get multiple emails because of the
>>>>>>>>>>>>>>>>>>> attachment size issue. Sorry about that.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:45 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 2:13 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Hello Aashish,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thanks for the quick answer
>>>>>>>>>>>>>>>>>>>>> We are using a vtkImageData, 512x512x591 with short
>>>>>>>>>>>>>>>>>>>>> element (you can find the dataset here :
>>>>>>>>>>>>>>>>>>>>> https://www.dropbox.com/s/ptqwi0ebv75kt35/volume.zip).
>>>>>>>>>>>>>>>>>>>>> So I think it's all about GPU volume raycast mapper.
>>>>>>>>>>>>>>>>>>>>> The new mapper does bring low resolution, but when
>>>>>>>>>>>>>>>>>>>>> compared to the old one, it seems less "low resolution" during interaction
>>>>>>>>>>>>>>>>>>>>> than the old one
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Right, so that's why its not a exact comparison. What
>>>>>>>>>>>>>>>>>>>> happens is that depending on what is interactive, (you can set the desired
>>>>>>>>>>>>>>>>>>>> update rate in VTK, not exposed in ParaView I believe),  it will do
>>>>>>>>>>>>>>>>>>>> interactive but with higher resolution (smaller sample distance).  If they
>>>>>>>>>>>>>>>>>>>> both have the same sample distance, then the new mapper should out perform
>>>>>>>>>>>>>>>>>>>> the old one, however, there is another thing we need to consider here which
>>>>>>>>>>>>>>>>>>>> is shading.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Shading is enabled, gradient opacity disabled
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Can you disable the shading and see if now they both
>>>>>>>>>>>>>>>>>>>> (opengl1 and 2) equally better? We already pushed a fix for it but not sure
>>>>>>>>>>>>>>>>>>>> if that you have in your build.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Don't know if you need a minimal example, but I
>>>>>>>>>>>>>>>>>>>>> believe the GPURenderDemo used with this dataset is enough to highlight the
>>>>>>>>>>>>>>>>>>>>> slow down.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Yes, I will use this dataset. Thanks.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> 2015-10-26 18:57 GMT+01:00 Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com>:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Also,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Do you have shading enabled? We fixed a bug with
>>>>>>>>>>>>>>>>>>>>>> shading that was causing the slow performance a while back. I don't
>>>>>>>>>>>>>>>>>>>>>> remember if that was included in 4.4 or not ( I can check ).
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> - Aashish
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:53 PM, Aashish Chaudhary <
>>>>>>>>>>>>>>>>>>>>>> aashish.chaudhary at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Simon,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> What kind of dataset you are using? Depending on the
>>>>>>>>>>>>>>>>>>>>>>> data type you might be using
>>>>>>>>>>>>>>>>>>>>>>> the GPU one or the unstructured renderer. The
>>>>>>>>>>>>>>>>>>>>>>> performance we measured is related to the GPU ray cast mapper
>>>>>>>>>>>>>>>>>>>>>>> and will apply only to the vtkImageData inputs.
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Also, helpful would be is if you can tell if the new
>>>>>>>>>>>>>>>>>>>>>>> mapper is bringing low resolution when you interact with the volume (and
>>>>>>>>>>>>>>>>>>>>>>> whether or not it happens with old mapper).
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> On Mon, Oct 26, 2015 at 1:47 PM, Simon ESNEAULT <
>>>>>>>>>>>>>>>>>>>>>>> simon.esneault at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> We are trying to make the switch to the new OpenGL2
>>>>>>>>>>>>>>>>>>>>>>>> backend for our application, and although the switch was easy (thanks for
>>>>>>>>>>>>>>>>>>>>>>>> not breaking the API ;) ), we can see a significant slowdown on the GPU
>>>>>>>>>>>>>>>>>>>>>>>> volume rendering part, especially during interaction. Typically we dropped
>>>>>>>>>>>>>>>>>>>>>>>> from 15/20 fps to 7/8 fps, on the same machine (Win32, Nvidia Quadro K420),
>>>>>>>>>>>>>>>>>>>>>>>> with the same code around.
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> This slow down can be seen in ParaView, if you
>>>>>>>>>>>>>>>>>>>>>>>> compare the latest 4.4 OpenGL2 build with the classic 4.4 build while
>>>>>>>>>>>>>>>>>>>>>>>> volume rendering a big enough volume (512^3)
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> The blog post here
>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/blog/home/post/976
>>>>>>>>>>>>>>>>>>>>>>>> claims that the new GPU volume rendering
>>>>>>>>>>>>>>>>>>>>>>>> implementation should be faster than the old one, is there some more
>>>>>>>>>>>>>>>>>>>>>>>> detailed explanation somewhere ? Are there some important parameters that
>>>>>>>>>>>>>>>>>>>>>>>> can make the difference ?
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Simon
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> PS : The polygonal rendering seems a lot faster
>>>>>>>>>>>>>>>>>>>>>>>> with the new backend !
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Search the list archives at:
>>>>>>>>>>>>>>>>>>>>>>>> http://markmail.org/search/?q=vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> http://public.kitware.com/mailman/listinfo/vtk-developers
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         |
>>>>>>>>>>>>>>>>>>> Kitware Inc.            *
>>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> --
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware
>>>>>>>>>>>>>> Inc.            *
>>>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> --
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>> Simon Esneault
>>>>>>>>>>>>> Rennes, France
>>>>>>>>>>>>>
>>>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> --
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>>>           *
>>>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> --
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>> Simon Esneault
>>>>>>>>>>> Rennes, France
>>>>>>>>>>>
>>>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> --
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>>>         *
>>>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> --
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>> Simon Esneault
>>>>>>>>> Rennes, France
>>>>>>>>> ------------------------------------------------------------------
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>>       *
>>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>>       *
>>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>>
>>>>>>
>>>>>>
>>>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>>>     *
>>>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> ------------------------------------------------------------------
>>>>> Simon Esneault
>>>>> Rennes, France
>>>>> ------------------------------------------------------------------
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>>
>>>>
>>>>
>>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>>   *
>>>> *| http://www.kitware.com/company/team/chaudhary.html
>>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>>
>>>
>>>
>>>
>>> --
>>>
>>>
>>>
>>> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.
>>>   *
>>> *| http://www.kitware.com/company/team/chaudhary.html
>>> <http://www.kitware.com/company/team/chaudhary.html>*
>>>
>>
>>
>>
>> --
>> ------------------------------------------------------------------
>> Simon Esneault
>> Rennes, France
>> ------------------------------------------------------------------
>>
>
>
>
> --
>
>
>
> *| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
> *| http://www.kitware.com/company/team/chaudhary.html
> <http://www.kitware.com/company/team/chaudhary.html>*
>



-- 



*| Aashish Chaudhary | Technical Leader         | Kitware Inc.            *
*| http://www.kitware.com/company/team/chaudhary.html
<http://www.kitware.com/company/team/chaudhary.html>*
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/2c79fa69/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: compare.png
Type: image/png
Size: 928919 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/2c79fa69/attachment-0001.png>

From treem22 at gatech.edu  Tue Nov 17 17:32:33 2015
From: treem22 at gatech.edu (Mike Tree)
Date: Tue, 17 Nov 2015 22:32:33 -0000
Subject: [Paraview] Experimental Data Interpolate/Extrapolate to Custom
	Volume Mesh
Message-ID: <CAOO6v04o0eB91=e7jhpYCnMP+TuXvoXXi=K8juRiXwHt-xXF5A@mail.gmail.com>

I have three planes of experimental PIV data with velocity point data in
.dat format loaded in Paraview. I am hoping to use these planes to
interpolate/extrapolate velocity values onto a custom volumetric mesh (i.e.
from a CFD simulation) to compare experimental results with simulation
results in hopes of validating the simulation. I have attached my Paraview
state file. Any help will be much appreciated.

Thanks,
-MT

-- 
Mike Tree, PhD Student
Cardiovascular Fluid Mechanics Laboratory
Georgia Institute of Technology
Atlanta, GA
treem22 at gatech.edu
678-249-0922
?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/5729ff80/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Siemens_Stereo_2015_10_15.pvsm
Type: application/octet-stream
Size: 654228 bytes
Desc: not available
URL: <http://public.kitware.com/pipermail/paraview/attachments/20151117/5729ff80/attachment-0001.obj>

