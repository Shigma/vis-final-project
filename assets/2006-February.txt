From tdubuis at scconsultants.com  Wed Feb  1 02:55:15 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Wed Feb  1 02:55:21 2006
Subject: Fwd: [Paraview] Writing binary files: C/Fortran interface to
	VTK XMLfiles.
In-Reply-To: <a2ab21560601311211s58f63bfejb9716e44af7703b9@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>
	<43DFB32B.60208@vision.ee.ethz.ch>
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
	<43DFBCDC.8080900@vision.ee.ethz.ch>
	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
	<a2ab21560601311211s58f63bfejb9716e44af7703b9@mail.gmail.com>
Message-ID: <43E06963.4000005@scconsultants.com>

I didn't know this information.
Could I write vtu file without base 64 encoding and without compression ?
And if it's possible how I make the difference between 2 vtu one base 64 
encoding and one without base 64 encoding.

regards,
Thierry Dubuis
Berk Geveci wrote:

>---------- Forwarded message ----------
>From: Berk Geveci <berk.geveci@gmail.com>
>Date: Jan 31, 2006 3:10 PM
>Subject: Re: [Paraview] Writing binary files: C/Fortran interface to
>VTK XMLfiles.
>To: Dominik Szczerba <domi@vision.ee.ethz.ch>
>
>
>Why not go zlib compressed without base64 encoding? That's supported you know...
>
>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>  
>
>>I see the point. And yes, I want to stay far away from ASCII. So what
>>format would you recommend to STORE my results in a COMPRESSED way
>>maintaining readability with Paraview? Any binary legacy file I produce
>>takes gigabytes - crunched with gzip a fraction of it, but paraview
>>won't read it. ASCII is simply prohibitive, base64'ed with
>>zlibcompressor not much better. At the moment I store my results in my
>>own gzipped format, and convert them to VTK format on demand - but that
>>is pretty annoying.
>>regards,
>>--dsz
>>
>>Berk Geveci wrote:
>>    
>>
>>>Base64 encoding is only necessary if you want your XML file to be
>>>ASCII. This is necessary if you want the file to conform to XML so
>>>that the file can be opened in XML viewers (like a browser). Also,
>>>some people prefer transferring ASCII files instead of binary files.
>>>If you are not interested in either of these, there is no need to have
>>>base64 encoding. I would recommend not using it in fact. One of these
>>>days I will change the default in paraview so that it does not write
>>>base64 encoded files.
>>>
>>>
>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>
>>>Sorry to interupt your discussion but nobody ever explained me this: why
>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
>>>E.g. I see no significant compression with the VTK's zlib compressor
>>>when using XML data files because the compressed stream is converted to
>>>ASCII. Will someone kindly explain me this paradox?
>>>Thanks
>>>Dominik
>>>
>>>Thierry Dubuis wrote:
>>>
>>>      
>>>
>>>>There are lot of encoding Base 64 program on the web but only in C, Java
>>>>or Visual Basic.
>>>>        
>>>>
>>>>If you can use C/C++ compiler, I thing the best way for you is to use
>>>>the Brad King's fortran code example (see my last email).
>>>>To convert a data array to a string in C we use the memory copy in
>>>>fortran I don't know.
>>>>Could you use pointer? 2 pointer on the same memory adress
>>>>1. the fist with the real*8 type
>>>>2. the second with a character type
>>>>        
>>>>
>>>>Try in this way.
>>>>        
>>>>
>>>>Best regards,
>>>>Thierry Dubuis
>>>>        
>>>>
>>>>St?phane Mont?sino wrote:
>>>>        
>>>>
>>>      
>>>
>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>>>a wonderfull girl. I don't know how to use it (sorry her).
>>>>>          
>>>>>
>>>>>In fact, I would like to directly write this type of file that I can
>>>>>obtain when I save my data with Paraview:
>>>>>          
>>>>>
>>>>><?xml version="1.0"?>
>>>>><VTKFile type="RectilinearGrid" version="0.1"
>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>>>  <Piece Extent="1 8 1 4 1 16">
>>>>>    <PointData>
>>>>>      <DataArray type="Float32" Name="pressure" format="appended"
>>>>>offset="0"           />
>>>>>    </PointData>
>>>>>    <CellData>
>>>>>    </CellData>
>>>>>    <Coordinates>
>>>>>      <DataArray type="Float32" Name="X_COORDINATES"
>>>>>format="appended" offset="956"         />
>>>>>      <DataArray type="Float32" Name="Y_COORDINATES"
>>>>>format="appended" offset="1036"        />
>>>>>      <DataArray type="Float32" Name="Z_COORDINATES"
>>>>>format="appended" offset="1092"        />
>>>>>    </Coordinates>
>>>>>  </Piece>
>>>>></RectilinearGrid>
>>>>><AppendedData encoding="base64">
>>>>> _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>>>></AppendedData>
>>>>></VTKFile>
>>>>>          
>>>>>
>>>>>My knowledge are only reduces to Fluid mechanics.
>>>>>          
>>>>>
>>>      
>>>
>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
>>>>>>>>>>>>>>>>>>                                    
>>>>>>>>>>>>>>>>>>
>>>>><<<<<<<<<<<<<<<<<<<<<<
>>>>>          
>>>>>
>>>>>Link properly to vtkIO ? More details please.
>>>>>          
>>>>>
>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
>>>>>>>>>>>>>>>>>>>                                      
>>>>>>>>>>>>>>>>>>>
>>>>>the Computer where my CFD code run ?.
>>>>>I don't run my code on my own computer. It runs in Computing center
>>>>>where I can't install what I want.
>>>>>          
>>>>>
>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
>>>>>>>>>>>>>                          
>>>>>>>>>>>>>
>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>>>>          
>>>>>
>>>>>When I try  to write binary data in a formatted file:
>>>>>run-time error F6204: WRITE(pressure.vtr)
>>>>>- unformatted I/O not consistent with OPEN options
>>>>>          
>>>>>
>>>>>When I try  to write formatted string in an unformatted file:
>>>>>run-time error F6200: WRITE(pressure.vtr)
>>>>>- formatted I/O not consistent with OPEN options
>>>>>          
>>>>>
>>>      
>>>
>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
>>>>>>>>>>>>>>>>>>>>>                                          
>>>>>>>>>>>>>>>>>>>>>
>>>>><<<<<<<<<<<<<<<<<<<<<
>>>>>          
>>>>>
>>>      
>>>
>>>>>The format for raw appended binary data should be
>>>>>          
>>>>>
>>>>><AppendedData encoding="raw">
>>>>>_NNNN...........................
>>>>></AppendedData>
>>>>>          
>>>>>
>>>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>>>four-byte block containing an unsigned 32-bit count of the number of
>>>>>"words" in the array.  A word is one value of the type of the array, so
>>>>>in your case the NNNN would have the number of float values.  Then the
>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
>>>>>          
>>>>>
>>>>>If you have another appended data array in the same file then start it
>>>>>immediately after the end of the first array (with no newline or any
>>>>>other character.  Then specify in the offset="..." attribute for the
>>>>>corresponding DataArray the number of bytes beyond the underscore where
>>>>>the second array begins.
>>>>>          
>>>>>
>>>>>-Brad
>>>>>          
>>>>>
>>>
>>>
>>>      
>>>
>>>>>Thierry Dubuis wrote:
>>>>>          
>>>>>
>>>      
>>>
>>>>>>Hello St?phane,
>>>>>>
>>>>>>perhaps this email can help you ?
>>>>>>
>>>>>>Else if you want code directly your program in fortran :
>>>>>>1. You must encode all you data in Base64
>>>>>>2. And write them like a string.
>>>>>>3. don't forget to add the size of your data block (integer*4)
>>>>>>encoded in base64 before you block.
>>>>>>
>>>>>>Best regards,
>>>>>>Thierry Dubuis
>>>>>>
>>>>>>-------- Original Message --------
>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>>>to VTK XML files.
>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>>>From:     Brad King <brad.king@kitware.com>
>>>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>>>><bnwylie@sandia.gov>
>>>>>>References:
>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>>>
>>>>>>
>>>>>>
>>>>>>SamuelKey wrote:
>>>>>>
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>>>
>>>>>>>Let me try to work with what you commit next week and see if I have
>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>>>until week after next. With luck you may hear from someone else
>>>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>>>problem for you.
>>>>>>>              
>>>>>>>
>>>>>>
>>>>>>
>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>>>
>>>>>>#include "vtkXMLWriterC.h"
>>>>>>
>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>>>example code below) but will need to compile one extra .c file to
>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>>>
>>>>>>-Brad
>>>>>>
>>>>>>    PROGRAM Hello
>>>>>>    INTEGER writer
>>>>>>    INTEGER success
>>>>>>    INTEGER*8 numpoints/8/
>>>>>>    INTEGER*8 numcells/1/
>>>>>>    INTEGER*8 cellsSize/9/
>>>>>>    REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>>>    REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>>>   _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>>>    INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>>>    call vtkXMLWriterF_New(writer)
>>>>>>    call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>>>    call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>>>    call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>>>    call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>>>   _                                    cellsSize)
>>>>>>    call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>>>>   _                                numpoints, 1, 'SCALARS')
>>>>>>    call vtkXMLWriterF_Write(writer, success)
>>>>>>    call vtkXMLWriterF_Delete(writer)
>>>>>>    PRINT *, 'success =', success
>>>>>>    END PROGRAM Hello
>>>>>>_______________________________________________
>>>>>>ParaView mailing list
>>>>>>ParaView@paraview.org
>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>St?phane Mont?sino wrote:
>>>>>>
>>>>>>
>>>>>>            
>>>>>>
>>>>>>>With Asci, all is OK except the size of my file.
>>>>>>>So how to write my data array in binary with my fortran code.
>>>>>>>Does anyone have some details ?
>>>>>>>
>>>>>>>!
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    ****                       subrout
>>>>>>>paraview_scalar                        ****
>>>>>>>!
>>>>>>>******************************************************************************
>>>>>>>
>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>>>!
>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>>>!    y1,y2,y3: coordinates
>>>>>>>!    scal_data: data to write
>>>>>>>!    name: name of the data
>>>>>>>!
>>>>>>>    subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>>>>>!
>>>>>>>    implicit none
>>>>>>>!
>>>>>>>    INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>>>    REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>>>    REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>>>    REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>>>    REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>>>    CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>>>!
>>>>>>>    integer::i,j,k,nfil
>>>>>>>!
>>>>>>>    nfil=41
>>>>>>>    open(nfil,file=trim(name)//'.vtr')
>>>>>>>    write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>>>   &         ' byte_order="LittleEndian">'
>>>>>>>    write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>>>   &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'    <Piece Extent=',
>>>>>>>   &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>    write(nfil,*)'      <Coordinates>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="X_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y1(i),i=1,n1m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Y_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y2(j),j=1,n2m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>   &                             ' Name="Z_COORDINATES"',
>>>>>>>   &                             ' NumberOfComponents="1">'
>>>>>>>    write(nfil,*) (y3(k),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </Coordinates>'
>>>>>>>    write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>>>    write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>>>   &                             ' type="Float32"',
>>>>>>>   &                             ' NumberOfComponents="1"',
>>>>>>>   &                             ' format="ascii">'
>>>>>>>    write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>>>    write(nfil,*)'        </DataArray>'
>>>>>>>    write(nfil,*)'      </PointData>'
>>>>>>>    write(nfil,*)'    </Piece>'
>>>>>>>    write(nfil,*)'  </RectilinearGrid>'
>>>>>>>    write(nfil,*)'</VTKFile>'
>>>>>>>    close(nfil)
>>>>>>>!
>>>>>>>    return
>>>>>>>    end
>>>>>>>
>>>>>>>_______________________________________________
>>>>>>>ParaView mailing list
>>>>>>>ParaView@paraview.org
>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>>              
>>>>>>>
>>>--
>>>Dominik Szczerba, Dr.
>>>Computer Vision Lab CH-8092 Zurich
>>>http://www.vision.ee.ethz.ch/~domi
>>>      
>>>
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>--
>>Dominik Szczerba, Dr.
>>Computer Vision Lab CH-8092 Zurich
>>http://www.vision.ee.ethz.ch/~domi
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>    
>>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>
>
>  
>


-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

From domi at vision.ee.ethz.ch  Wed Feb  1 07:19:53 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Feb  1 07:20:03 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to
	VTK	XMLfiles.
In-Reply-To: <43DFD2AB.5090205@vision.ee.ethz.ch>
References: <43DF4FB3.3050901@hmg.inpg.fr>	<43DF709A.5000907@scconsultants.com>		<43DF941F.7030604@hmg.inpg.fr>
	<43DF9F33.80309@scconsultants.com>		<43DFB32B.60208@vision.ee.ethz.ch>		<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>		<43DFBCDC.8080900@vision.ee.ethz.ch>	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
	<43DFD2AB.5090205@vision.ee.ethz.ch>
Message-ID: <43E0A769.4030401@vision.ee.ethz.ch>

After a few hours I am basically succesful only with ASCII versions,
tried binary inline/appended with various headers with no luck.
Does anyone have any clear definitions and/or examples? I found bits and
pieces on information on the mailinglist, but that was apparently not
enough.
thanks and regards,
DS

Dominik Szczerba wrote:
> OK, I didnt know it is possible. Will give it a try tomorrow evntl. come
> back.
> Thanks a lot,
> Dominik
> 
> Berk Geveci wrote:
> 
>>Why not go zlib compressed without base64 encoding? That's supported you know...
>>
>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>
>>
>>>I see the point. And yes, I want to stay far away from ASCII. So what
>>>format would you recommend to STORE my results in a COMPRESSED way
>>>maintaining readability with Paraview? Any binary legacy file I produce
>>>takes gigabytes - crunched with gzip a fraction of it, but paraview
>>>won't read it. ASCII is simply prohibitive, base64'ed with
>>>zlibcompressor not much better. At the moment I store my results in my
>>>own gzipped format, and convert them to VTK format on demand - but that
>>>is pretty annoying.
>>>regards,
>>>--dsz
>>>
>>>Berk Geveci wrote:
>>>
>>>
>>>>Base64 encoding is only necessary if you want your XML file to be
>>>>ASCII. This is necessary if you want the file to conform to XML so
>>>>that the file can be opened in XML viewers (like a browser). Also,
>>>>some people prefer transferring ASCII files instead of binary files.
>>>>If you are not interested in either of these, there is no need to have
>>>>base64 encoding. I would recommend not using it in fact. One of these
>>>>days I will change the default in paraview so that it does not write
>>>>base64 encoded files.
>>>>
>>>>
>>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>>
>>>>Sorry to interupt your discussion but nobody ever explained me this: why
>>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
>>>>E.g. I see no significant compression with the VTK's zlib compressor
>>>>when using XML data files because the compressed stream is converted to
>>>>ASCII. Will someone kindly explain me this paradox?
>>>>Thanks
>>>>Dominik
>>>>
>>>>Thierry Dubuis wrote:
>>>>
>>>>
>>>>
>>>>>There are lot of encoding Base 64 program on the web but only in C, Java
>>>>>or Visual Basic.
>>>>
>>>>>If you can use C/C++ compiler, I thing the best way for you is to use
>>>>>the Brad King's fortran code example (see my last email).
>>>>>To convert a data array to a string in C we use the memory copy in
>>>>>fortran I don't know.
>>>>>Could you use pointer? 2 pointer on the same memory adress
>>>>>1. the fist with the real*8 type
>>>>>2. the second with a character type
>>>>
>>>>>Try in this way.
>>>>
>>>>>Best regards,
>>>>>Thierry Dubuis
>>>>
>>>>>St?phane Mont?sino wrote:
>>>>
>>>>
>>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>>>>a wonderfull girl. I don't know how to use it (sorry her).
>>>>
>>>>>>In fact, I would like to directly write this type of file that I can
>>>>>>obtain when I save my data with Paraview:
>>>>
>>>>>><?xml version="1.0"?>
>>>>>><VTKFile type="RectilinearGrid" version="0.1"
>>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>>>> <Piece Extent="1 8 1 4 1 16">
>>>>>>   <PointData>
>>>>>>     <DataArray type="Float32" Name="pressure" format="appended"
>>>>>>offset="0"           />
>>>>>>   </PointData>
>>>>>>   <CellData>
>>>>>>   </CellData>
>>>>>>   <Coordinates>
>>>>>>     <DataArray type="Float32" Name="X_COORDINATES"
>>>>>>format="appended" offset="956"         />
>>>>>>     <DataArray type="Float32" Name="Y_COORDINATES"
>>>>>>format="appended" offset="1036"        />
>>>>>>     <DataArray type="Float32" Name="Z_COORDINATES"
>>>>>>format="appended" offset="1092"        />
>>>>>>   </Coordinates>
>>>>>> </Piece>
>>>>>></RectilinearGrid>
>>>>>><AppendedData encoding="base64">
>>>>>>_AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>>>>></AppendedData>
>>>>>></VTKFile>
>>>>
>>>>>>My knowledge are only reduces to Fluid mechanics.
>>>>
>>>>
>>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
>>>>
>>>>>><<<<<<<<<<<<<<<<<<<<<<
>>>>
>>>>>>Link properly to vtkIO ? More details please.
>>>>
>>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
>>>>
>>>>>>the Computer where my CFD code run ?.
>>>>>>I don't run my code on my own computer. It runs in Computing center
>>>>>>where I can't install what I want.
>>>>
>>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
>>>>
>>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>>>
>>>>>>When I try  to write binary data in a formatted file:
>>>>>>run-time error F6204: WRITE(pressure.vtr)
>>>>>>- unformatted I/O not consistent with OPEN options
>>>>
>>>>>>When I try  to write formatted string in an unformatted file:
>>>>>>run-time error F6200: WRITE(pressure.vtr)
>>>>>>- formatted I/O not consistent with OPEN options
>>>>
>>>>
>>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
>>>>
>>>>>><<<<<<<<<<<<<<<<<<<<<
>>>>
>>>>
>>>>>>The format for raw appended binary data should be
>>>>
>>>>>><AppendedData encoding="raw">
>>>>>>_NNNN...........................
>>>>>></AppendedData>
>>>>
>>>>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>>>>four-byte block containing an unsigned 32-bit count of the number of
>>>>>>"words" in the array.  A word is one value of the type of the array, so
>>>>>>in your case the NNNN would have the number of float values.  Then the
>>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
>>>>
>>>>>>If you have another appended data array in the same file then start it
>>>>>>immediately after the end of the first array (with no newline or any
>>>>>>other character.  Then specify in the offset="..." attribute for the
>>>>>>corresponding DataArray the number of bytes beyond the underscore where
>>>>>>the second array begins.
>>>>
>>>>>>-Brad
>>>>
>>>>
>>>>
>>>>
>>>>>>Thierry Dubuis wrote:
>>>>
>>>>
>>>>>>>Hello St?phane,
>>>>>>>
>>>>>>>perhaps this email can help you ?
>>>>>>>
>>>>>>>Else if you want code directly your program in fortran :
>>>>>>>1. You must encode all you data in Base64
>>>>>>>2. And write them like a string.
>>>>>>>3. don't forget to add the size of your data block (integer*4)
>>>>>>>encoded in base64 before you block.
>>>>>>>
>>>>>>>Best regards,
>>>>>>>Thierry Dubuis
>>>>>>>
>>>>>>>-------- Original Message --------
>>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>>>>to VTK XML files.
>>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>>>>From:     Brad King <brad.king@kitware.com>
>>>>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>>>>><bnwylie@sandia.gov>
>>>>>>>References:
>>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>SamuelKey wrote:
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>>>>
>>>>>>>>Let me try to work with what you commit next week and see if I have
>>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>>>>until week after next. With luck you may hear from someone else
>>>>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>>>>problem for you.
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>>>>
>>>>>>>#include "vtkXMLWriterC.h"
>>>>>>>
>>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>>>>example code below) but will need to compile one extra .c file to
>>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>>>>
>>>>>>>-Brad
>>>>>>>
>>>>>>>   PROGRAM Hello
>>>>>>>   INTEGER writer
>>>>>>>   INTEGER success
>>>>>>>   INTEGER*8 numpoints/8/
>>>>>>>   INTEGER*8 numcells/1/
>>>>>>>   INTEGER*8 cellsSize/9/
>>>>>>>   REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>>>>   REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>>>>  _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>>>>   INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>>>>   call vtkXMLWriterF_New(writer)
>>>>>>>   call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>>>>   call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>>>>   call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>>>>   call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>>>>  _                                    cellsSize)
>>>>>>>   call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>>>>>  _                                numpoints, 1, 'SCALARS')
>>>>>>>   call vtkXMLWriterF_Write(writer, success)
>>>>>>>   call vtkXMLWriterF_Delete(writer)
>>>>>>>   PRINT *, 'success =', success
>>>>>>>   END PROGRAM Hello
>>>>>>>_______________________________________________
>>>>>>>ParaView mailing list
>>>>>>>ParaView@paraview.org
>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>St?phane Mont?sino wrote:
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>>With Asci, all is OK except the size of my file.
>>>>>>>>So how to write my data array in binary with my fortran code.
>>>>>>>>Does anyone have some details ?
>>>>>>>>
>>>>>>>>!
>>>>>>>>******************************************************************************
>>>>>>>>
>>>>>>>>!    ****                       subrout
>>>>>>>>paraview_scalar                        ****
>>>>>>>>!
>>>>>>>>******************************************************************************
>>>>>>>>
>>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>>>>!
>>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>>>>!    y1,y2,y3: coordinates
>>>>>>>>!    scal_data: data to write
>>>>>>>>!    name: name of the data
>>>>>>>>!
>>>>>>>>   subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>>>>>>!
>>>>>>>>   implicit none
>>>>>>>>!
>>>>>>>>   INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>>>>   REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>>>>   REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>>>>   REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>>>>   REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>>>>   CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>>>>!
>>>>>>>>   integer::i,j,k,nfil
>>>>>>>>!
>>>>>>>>   nfil=41
>>>>>>>>   open(nfil,file=trim(name)//'.vtr')
>>>>>>>>   write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>>>>  &         ' byte_order="LittleEndian">'
>>>>>>>>   write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>>>>  &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>>   write(nfil,*)'    <Piece Extent=',
>>>>>>>>  &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>>   write(nfil,*)'      <Coordinates>'
>>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>  &                             ' Name="X_COORDINATES"',
>>>>>>>>  &                             ' NumberOfComponents="1">'
>>>>>>>>   write(nfil,*) (y1(i),i=1,n1m)
>>>>>>>>   write(nfil,*)'        </DataArray>'
>>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>  &                             ' Name="Y_COORDINATES"',
>>>>>>>>  &                             ' NumberOfComponents="1">'
>>>>>>>>   write(nfil,*) (y2(j),j=1,n2m)
>>>>>>>>   write(nfil,*)'        </DataArray>'
>>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>  &                             ' Name="Z_COORDINATES"',
>>>>>>>>  &                             ' NumberOfComponents="1">'
>>>>>>>>   write(nfil,*) (y3(k),k=1,n3m)
>>>>>>>>   write(nfil,*)'        </DataArray>'
>>>>>>>>   write(nfil,*)'      </Coordinates>'
>>>>>>>>   write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>>>>   write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>>>>  &                             ' type="Float32"',
>>>>>>>>  &                             ' NumberOfComponents="1"',
>>>>>>>>  &                             ' format="ascii">'
>>>>>>>>   write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>>>>   write(nfil,*)'        </DataArray>'
>>>>>>>>   write(nfil,*)'      </PointData>'
>>>>>>>>   write(nfil,*)'    </Piece>'
>>>>>>>>   write(nfil,*)'  </RectilinearGrid>'
>>>>>>>>   write(nfil,*)'</VTKFile>'
>>>>>>>>   close(nfil)
>>>>>>>>!
>>>>>>>>   return
>>>>>>>>   end
>>>>>>>>
>>>>>>>>_______________________________________________
>>>>>>>>ParaView mailing list
>>>>>>>>ParaView@paraview.org
>>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>--
>>>>Dominik Szczerba, Dr.
>>>>Computer Vision Lab CH-8092 Zurich
>>>>http://www.vision.ee.ethz.ch/~domi
>>>
>>>_______________________________________________
>>>ParaView mailing list
>>>ParaView@paraview.org
>>>http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>--
>>>Dominik Szczerba, Dr.
>>>Computer Vision Lab CH-8092 Zurich
>>>http://www.vision.ee.ethz.ch/~domi
>>>_______________________________________________
>>>ParaView mailing list
>>>ParaView@paraview.org
>>>http://www.paraview.org/mailman/listinfo/paraview
>>>
> 
> 

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From Stephane.Montesino at hmg.inpg.fr  Wed Feb  1 10:13:31 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Wed Feb  1 10:13:48 2006
Subject: RES: [Paraview] Writing binary files: C/Fortran interface to
	VTKXMLfiles.
In-Reply-To: <20060131214405.8EC2C727CF@mailhost.nacad.ufrj.br>
References: <20060131214405.8EC2C727CF@mailhost.nacad.ufrj.br>
Message-ID: <43E0D01B.3060204@hmg.inpg.fr>

Thanks Renato,
Ensight Format seems to be faster to implement than linking C & Fortran 
routines....
But is "Ensight Format" bytes-order dependant (little Endian/ Big 
endian) ? I haven't  read anything about it in the fortran routines.
Maybe paraview can manage it ?????

Renato N. Elias wrote:

>Hi St?phane,
>
>When I was starting using Paraview I thought about writing Fortran routines
>to write VTK files, but after reading about Base64 compression I gave up. I
>think the VTK team has been doing a wonderful work in VTK's file formats and
>Base64 really seems incredible to write very small compressed binary files
>but, unfortunately, I don't have knowledge enough to implement something
>like this in Fortran. Furthermore, I don't know if a pure Fortran code would
>be able to produce a Base64 compressed file. Ok, VTK has an interface to
>write VTK files from a Fortran code, but it obliges me to install, or pick
>and compile the VTK routines needed with my program, in any machine I intend
>to run my program. My solution has been working fine for me, and I hope
>it'll keep working for a long time... As I work basicaly with CFD, and my
>team group has licenses for the Ensight visualizer, I've been writing all my
>files in Ensight's format. It's easy to implement in C/C++ or Fortran,
>portable (thank God Paraview has support to this format), parallel through
>the server-of-server casefile extension and I can keep using Ensight when
>I'd like to do something that Paraview can't do yet - almost nothing it
>happen ;-)
>
>If you are interested in trying to use Ensight's format, get the following
>routines http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
>I guess, they can be a good starting point...
>
>Cheers
>
>Renato N. Elias
>===================================================
>PhD student
>High Performance Computing Center - NACAD/COPPE
>Federal University of Rio de Janeiro, RJ -Brazil
>http://www.nacad.ufrj.br/~rnelias
> 
>
>
>-----Mensagem original-----
>De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
>[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
>St?phane Mont?sino
>Enviada em: ter?a-feira, 31 de janeiro de 2006 14:45
>Para: Thierry Dubuis; brad.king@kitware.com
>Cc: paraview@paraview.org
>Assunto: Re: [Paraview] Writing binary files: C/Fortran interface to
>VTKXMLfiles.
>
>Thanks for all tese answers, but I 'm still like an an homosexual with a
>wonderfull girl. I don't know how to use it (sorry her).
>
>In fact, I would like to directly write this type of file that I can obtain
>when I save my data with Paraview:
>
><?xml version="1.0"?>
><VTKFile type="RectilinearGrid" version="0.1" byte_order="LittleEndian" 
>compressor="vtkZLibDataCompressor">
>  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
>    <Piece Extent="1 8 1 4 1 16">
>      <PointData>
>        <DataArray type="Float32" Name="pressure" format="appended" 
>offset="0"           />
>      </PointData>
>      <CellData>
>      </CellData>
>      <Coordinates>
>        <DataArray type="Float32" Name="X_COORDINATES" format="appended" 
>offset="956"         />
>        <DataArray type="Float32" Name="Y_COORDINATES" format="appended" 
>offset="1036"        />
>        <DataArray type="Float32" Name="Z_COORDINATES" format="appended" 
>offset="1092"        />
>      </Coordinates>
>    </Piece>
>  </RectilinearGrid>
>  <AppendedData encoding="base64">
>   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>  </AppendedData>
></VTKFile>
>
>My knowledge are only reduces to Fluid mechanics.
>
> >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?   
><<<<<<<<<<<<<<<<<<<<<<
>
>Link properly to vtkIO ? More details please.
> >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on the
>Computer where my CFD code run ?.
> I don't run my code on my own computer. It runs in Computing center where I
>can't install what I want.
> >>>>>>>>So I would like to obtain some fortran routine I could link myself
>to my  CFD code  <<<<<<<<<<<<<<<<
>
>When I try  to write binary data in a formatted file:
>run-time error F6204: WRITE(pressure.vtr)
>- unformatted I/O not consistent with OPEN options
>
>When I try  to write formatted string in an unformatted file:
>run-time error F6200: WRITE(pressure.vtr)
>- formatted I/O not consistent with OPEN options
>
> >>>>>>>>>>>>>>>>How to convert my data to a string ?   
><<<<<<<<<<<<<<<<<<<<<
>
>
>The format for raw appended binary data should be
>
><AppendedData encoding="raw">
>  _NNNN...........................
></AppendedData>
>
>Where the underscore is literal (as you already have) and the NNNN is a
>four-byte block containing an unsigned 32-bit count of the number of "words"
>in the array.  A word is one value of the type of the array, so in your case
>the NNNN would have the number of float values.  Then the number of bytes of
>binary data to follow should be NNNN*sizeof(float).
>
>If you have another appended data array in the same file then start it
>immediately after the end of the first array (with no newline or any other
>character.  Then specify in the offset="..." attribute for the corresponding
>DataArray the number of bytes beyond the underscore where the second array
>begins.
>
>-Brad
>
>
>
>
>Thierry Dubuis wrote:
>
>  
>
>>Hello St?phane,
>>
>>perhaps this email can help you ?
>>
>>Else if you want code directly your program in fortran :
>>1. You must encode all you data in Base64 2. And write them like a 
>>string.
>>3. don't forget to add the size of your data block (integer*4) encoded 
>>in base64 before you block.
>>
>>Best regards,
>>Thierry Dubuis
>>
>>-------- Original Message --------
>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface 
>>to VTK XML files.
>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>From:     Brad King <brad.king@kitware.com>
>>To:     SamuelKey <samuelkey@comcast.net>
>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian" 
>><bnwylie@sandia.gov>
>>References:     
>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>
>>
>>
>>SamuelKey wrote:
>>
>>    
>>
>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>
>>>Let me try to work with what you commit next week and see if I have 
>>>any ideas. I will be gone all next week, so you won't hear from me 
>>>until week after next. With luck you may hear from someone else that 
>>>will help keep you busy, though I suspect "busy" is not a problem for 
>>>you.
>>>      
>>>
>>Okay, the C/Fortran interface is now available.  A C program can do
>>
>>#include "vtkXMLWriterC.h"
>>
>>and link to vtkIO.  A Fortran program can use the interface (see the 
>>example code below) but will need to compile one extra .c file to link 
>>properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>
>>-Brad
>>
>>     PROGRAM Hello
>>     INTEGER writer
>>     INTEGER success
>>     INTEGER*8 numpoints/8/
>>     INTEGER*8 numcells/1/
>>     INTEGER*8 cellsSize/9/
>>     REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>     REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>    _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>     INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>     call vtkXMLWriterF_New(writer)
>>     call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>     call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>     call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>     call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>    _                                    cellsSize)
>>     call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>    _                                numpoints, 1, 'SCALARS')
>>     call vtkXMLWriterF_Write(writer, success)
>>     call vtkXMLWriterF_Delete(writer)
>>     PRINT *, 'success =', success
>>     END PROGRAM Hello
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>
>>St?phane Mont?sino wrote:
>>
>>    
>>
>>>With Asci, all is OK except the size of my file.
>>>So how to write my data array in binary with my fortran code.
>>>Does anyone have some details ?
>>>
>>>!    
>>>*********************************************************************
>>>*********
>>>
>>>!    ****                       subrout 
>>>paraview_scalar                        ****
>>>!    
>>>*********************************************************************
>>>*********
>>>
>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>!
>>>!    n1m,n2m,n3m: size of the data and the grid
>>>!    y1,y2,y3: coordinates
>>>!    scal_data: data to write
>>>!    name: name of the data
>>>!
>>>     subroutine 
>>>paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>!
>>>     implicit none
>>>!
>>>     INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>     REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>     REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>     REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>     REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>     CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>!
>>>     integer::i,j,k,nfil
>>>!
>>>     nfil=41
>>>     open(nfil,file=trim(name)//'.vtr')
>>>     write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>    &         ' byte_order="LittleEndian">'
>>>     write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>    &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>     write(nfil,*)'    <Piece Extent=',
>>>    &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>     write(nfil,*)'      <Coordinates>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="X_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y1(i),i=1,n1m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="Y_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y2(j),j=1,n2m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="Z_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y3(k),k=1,n3m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'      </Coordinates>'
>>>     write(nfil,*)'      <PointData Scalars="scalar">'
>>>     write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>    &                             ' type="Float32"',
>>>    &                             ' NumberOfComponents="1"',
>>>    &                             ' format="ascii">'
>>>     write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'      </PointData>'
>>>     write(nfil,*)'    </Piece>'
>>>     write(nfil,*)'  </RectilinearGrid>'
>>>     write(nfil,*)'</VTKFile>'
>>>     close(nfil)
>>>!
>>>     return
>>>     end
>>>
>>>_______________________________________________
>>>ParaView mailing list
>>>ParaView@paraview.org
>>>http://www.paraview.org/mailman/listinfo/paraview
>>> 
>>>
>>>      
>>>
>
>
>--
>St?phane MONTESINO
>
>Doctorant                       tel:+33 4 76 82 52 91
>LEGI                            fax:+33 4 76 82 70 22
>BP 53
>38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
>France                          http://www.legi.hmg.inpg.fr 
>
>
>  
>


-- 
St?phane MONTESINO

Doctorant                       tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/29832220/Stephane.Montesino.vcf
From berk.geveci at gmail.com  Wed Feb  1 10:48:51 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Feb  1 10:48:57 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <43E0A769.4030401@vision.ee.ethz.ch>
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF709A.5000907@scconsultants.com>
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>
	<43DFB32B.60208@vision.ee.ethz.ch>
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>
	<43DFBCDC.8080900@vision.ee.ethz.ch>
	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>
	<43DFD2AB.5090205@vision.ee.ethz.ch>
	<43E0A769.4030401@vision.ee.ethz.ch>
Message-ID: <a2ab21560602010748r60022078r27222e3906c9c0bf@mail.gmail.com>

Brad implemented the readers and writers so he would know a lot more
than I do. I am including 3 examples of the same data. One ascii, one
binary and one binary compressed. None of the binaries have base64
encoding. I wrote them out from VTK by changing the settings of the
writer.

On 2/1/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> After a few hours I am basically succesful only with ASCII versions,
> tried binary inline/appended with various headers with no luck.
> Does anyone have any clear definitions and/or examples? I found bits and
> pieces on information on the mailinglist, but that was apparently not
> enough.
> thanks and regards,
> DS
>
> Dominik Szczerba wrote:
> > OK, I didnt know it is possible. Will give it a try tomorrow evntl. come
> > back.
> > Thanks a lot,
> > Dominik
> >
> > Berk Geveci wrote:
> >
> >>Why not go zlib compressed without base64 encoding? That's supported you know...
> >>
> >>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >>
> >>
> >>>I see the point. And yes, I want to stay far away from ASCII. So what
> >>>format would you recommend to STORE my results in a COMPRESSED way
> >>>maintaining readability with Paraview? Any binary legacy file I produce
> >>>takes gigabytes - crunched with gzip a fraction of it, but paraview
> >>>won't read it. ASCII is simply prohibitive, base64'ed with
> >>>zlibcompressor not much better. At the moment I store my results in my
> >>>own gzipped format, and convert them to VTK format on demand - but that
> >>>is pretty annoying.
> >>>regards,
> >>>--dsz
> >>>
> >>>Berk Geveci wrote:
> >>>
> >>>
> >>>>Base64 encoding is only necessary if you want your XML file to be
> >>>>ASCII. This is necessary if you want the file to conform to XML so
> >>>>that the file can be opened in XML viewers (like a browser). Also,
> >>>>some people prefer transferring ASCII files instead of binary files.
> >>>>If you are not interested in either of these, there is no need to have
> >>>>base64 encoding. I would recommend not using it in fact. One of these
> >>>>days I will change the default in paraview so that it does not write
> >>>>base64 encoded files.
> >>>>
> >>>>
> >>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >>>>
> >>>>Sorry to interupt your discussion but nobody ever explained me this: why
> >>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
> >>>>E.g. I see no significant compression with the VTK's zlib compressor
> >>>>when using XML data files because the compressed stream is converted to
> >>>>ASCII. Will someone kindly explain me this paradox?
> >>>>Thanks
> >>>>Dominik
> >>>>
> >>>>Thierry Dubuis wrote:
> >>>>
> >>>>
> >>>>
> >>>>>There are lot of encoding Base 64 program on the web but only in C, Java
> >>>>>or Visual Basic.
> >>>>
> >>>>>If you can use C/C++ compiler, I thing the best way for you is to use
> >>>>>the Brad King's fortran code example (see my last email).
> >>>>>To convert a data array to a string in C we use the memory copy in
> >>>>>fortran I don't know.
> >>>>>Could you use pointer? 2 pointer on the same memory adress
> >>>>>1. the fist with the real*8 type
> >>>>>2. the second with a character type
> >>>>
> >>>>>Try in this way.
> >>>>
> >>>>>Best regards,
> >>>>>Thierry Dubuis
> >>>>
> >>>>>St?phane Mont?sino wrote:
> >>>>
> >>>>
> >>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
> >>>>>>a wonderfull girl. I don't know how to use it (sorry her).
> >>>>
> >>>>>>In fact, I would like to directly write this type of file that I can
> >>>>>>obtain when I save my data with Paraview:
> >>>>
> >>>>>><?xml version="1.0"?>
> >>>>>><VTKFile type="RectilinearGrid" version="0.1"
> >>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
> >>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
> >>>>>> <Piece Extent="1 8 1 4 1 16">
> >>>>>>   <PointData>
> >>>>>>     <DataArray type="Float32" Name="pressure" format="appended"
> >>>>>>offset="0"           />
> >>>>>>   </PointData>
> >>>>>>   <CellData>
> >>>>>>   </CellData>
> >>>>>>   <Coordinates>
> >>>>>>     <DataArray type="Float32" Name="X_COORDINATES"
> >>>>>>format="appended" offset="956"         />
> >>>>>>     <DataArray type="Float32" Name="Y_COORDINATES"
> >>>>>>format="appended" offset="1036"        />
> >>>>>>     <DataArray type="Float32" Name="Z_COORDINATES"
> >>>>>>format="appended" offset="1092"        />
> >>>>>>   </Coordinates>
> >>>>>> </Piece>
> >>>>>></RectilinearGrid>
> >>>>>><AppendedData encoding="base64">
> >>>>>>_AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
> >>>>>></AppendedData>
> >>>>>></VTKFile>
> >>>>
> >>>>>>My knowledge are only reduces to Fluid mechanics.
> >>>>
> >>>>
> >>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> >>>>
> >>>>>><<<<<<<<<<<<<<<<<<<<<<
> >>>>
> >>>>>>Link properly to vtkIO ? More details please.
> >>>>
> >>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
> >>>>
> >>>>>>the Computer where my CFD code run ?.
> >>>>>>I don't run my code on my own computer. It runs in Computing center
> >>>>>>where I can't install what I want.
> >>>>
> >>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
> >>>>
> >>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
> >>>>
> >>>>>>When I try  to write binary data in a formatted file:
> >>>>>>run-time error F6204: WRITE(pressure.vtr)
> >>>>>>- unformatted I/O not consistent with OPEN options
> >>>>
> >>>>>>When I try  to write formatted string in an unformatted file:
> >>>>>>run-time error F6200: WRITE(pressure.vtr)
> >>>>>>- formatted I/O not consistent with OPEN options
> >>>>
> >>>>
> >>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
> >>>>
> >>>>>><<<<<<<<<<<<<<<<<<<<<
> >>>>
> >>>>
> >>>>>>The format for raw appended binary data should be
> >>>>
> >>>>>><AppendedData encoding="raw">
> >>>>>>_NNNN...........................
> >>>>>></AppendedData>
> >>>>
> >>>>>>Where the underscore is literal (as you already have) and the NNNN is a
> >>>>>>four-byte block containing an unsigned 32-bit count of the number of
> >>>>>>"words" in the array.  A word is one value of the type of the array, so
> >>>>>>in your case the NNNN would have the number of float values.  Then the
> >>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
> >>>>
> >>>>>>If you have another appended data array in the same file then start it
> >>>>>>immediately after the end of the first array (with no newline or any
> >>>>>>other character.  Then specify in the offset="..." attribute for the
> >>>>>>corresponding DataArray the number of bytes beyond the underscore where
> >>>>>>the second array begins.
> >>>>
> >>>>>>-Brad
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>Thierry Dubuis wrote:
> >>>>
> >>>>
> >>>>>>>Hello St?phane,
> >>>>>>>
> >>>>>>>perhaps this email can help you ?
> >>>>>>>
> >>>>>>>Else if you want code directly your program in fortran :
> >>>>>>>1. You must encode all you data in Base64
> >>>>>>>2. And write them like a string.
> >>>>>>>3. don't forget to add the size of your data block (integer*4)
> >>>>>>>encoded in base64 before you block.
> >>>>>>>
> >>>>>>>Best regards,
> >>>>>>>Thierry Dubuis
> >>>>>>>
> >>>>>>>-------- Original Message --------
> >>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
> >>>>>>>to VTK XML files.
> >>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
> >>>>>>>From:     Brad King <brad.king@kitware.com>
> >>>>>>>To:     SamuelKey <samuelkey@comcast.net>
> >>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
> >>>>>>><bnwylie@sandia.gov>
> >>>>>>>References:
> >>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> >>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>SamuelKey wrote:
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
> >>>>>>>>
> >>>>>>>>Let me try to work with what you commit next week and see if I have
> >>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
> >>>>>>>>until week after next. With luck you may hear from someone else
> >>>>>>>>that will help keep you busy, though I suspect "busy" is not a
> >>>>>>>>problem for you.
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
> >>>>>>>
> >>>>>>>#include "vtkXMLWriterC.h"
> >>>>>>>
> >>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
> >>>>>>>example code below) but will need to compile one extra .c file to
> >>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
> >>>>>>>
> >>>>>>>-Brad
> >>>>>>>
> >>>>>>>   PROGRAM Hello
> >>>>>>>   INTEGER writer
> >>>>>>>   INTEGER success
> >>>>>>>   INTEGER*8 numpoints/8/
> >>>>>>>   INTEGER*8 numcells/1/
> >>>>>>>   INTEGER*8 cellsSize/9/
> >>>>>>>   REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
> >>>>>>>   REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
> >>>>>>>  _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
> >>>>>>>   INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
> >>>>>>>   call vtkXMLWriterF_New(writer)
> >>>>>>>   call vtkXMLWriterF_SetDataObjectType(writer, 4)
> >>>>>>>   call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
> >>>>>>>   call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
> >>>>>>>   call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
> >>>>>>>  _                                    cellsSize)
> >>>>>>>   call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
> >>>>>>>  _                                numpoints, 1, 'SCALARS')
> >>>>>>>   call vtkXMLWriterF_Write(writer, success)
> >>>>>>>   call vtkXMLWriterF_Delete(writer)
> >>>>>>>   PRINT *, 'success =', success
> >>>>>>>   END PROGRAM Hello
> >>>>>>>_______________________________________________
> >>>>>>>ParaView mailing list
> >>>>>>>ParaView@paraview.org
> >>>>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>St?phane Mont?sino wrote:
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>>With Asci, all is OK except the size of my file.
> >>>>>>>>So how to write my data array in binary with my fortran code.
> >>>>>>>>Does anyone have some details ?
> >>>>>>>>
> >>>>>>>>!
> >>>>>>>>******************************************************************************
> >>>>>>>>
> >>>>>>>>!    ****                       subrout
> >>>>>>>>paraview_scalar                        ****
> >>>>>>>>!
> >>>>>>>>******************************************************************************
> >>>>>>>>
> >>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
> >>>>>>>>!
> >>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
> >>>>>>>>!    y1,y2,y3: coordinates
> >>>>>>>>!    scal_data: data to write
> >>>>>>>>!    name: name of the data
> >>>>>>>>!
> >>>>>>>>   subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> >>>>>>>>!
> >>>>>>>>   implicit none
> >>>>>>>>!
> >>>>>>>>   INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >>>>>>>>   REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >>>>>>>>   REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >>>>>>>>   REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >>>>>>>>   REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >>>>>>>>   CHARACTER(LEN=10)            ,INTENT(IN)::name
> >>>>>>>>!
> >>>>>>>>   integer::i,j,k,nfil
> >>>>>>>>!
> >>>>>>>>   nfil=41
> >>>>>>>>   open(nfil,file=trim(name)//'.vtr')
> >>>>>>>>   write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >>>>>>>>  &         ' byte_order="LittleEndian">'
> >>>>>>>>   write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >>>>>>>>  &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>>>>   write(nfil,*)'    <Piece Extent=',
> >>>>>>>>  &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>>>>   write(nfil,*)'      <Coordinates>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="X_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y1(i),i=1,n1m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="Y_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y2(j),j=1,n2m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="Z_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y3(k),k=1,n3m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'      </Coordinates>'
> >>>>>>>>   write(nfil,*)'      <PointData Scalars="scalar">'
> >>>>>>>>   write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >>>>>>>>  &                             ' type="Float32"',
> >>>>>>>>  &                             ' NumberOfComponents="1"',
> >>>>>>>>  &                             ' format="ascii">'
> >>>>>>>>   write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'      </PointData>'
> >>>>>>>>   write(nfil,*)'    </Piece>'
> >>>>>>>>   write(nfil,*)'  </RectilinearGrid>'
> >>>>>>>>   write(nfil,*)'</VTKFile>'
> >>>>>>>>   close(nfil)
> >>>>>>>>!
> >>>>>>>>   return
> >>>>>>>>   end
> >>>>>>>>
> >>>>>>>>_______________________________________________
> >>>>>>>>ParaView mailing list
> >>>>>>>>ParaView@paraview.org
> >>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>>>>
> >>>>>>>>
> >>>>>>>
> >>>>--
> >>>>Dominik Szczerba, Dr.
> >>>>Computer Vision Lab CH-8092 Zurich
> >>>>http://www.vision.ee.ethz.ch/~domi
> >>>
> >>>_______________________________________________
> >>>ParaView mailing list
> >>>ParaView@paraview.org
> >>>http://www.paraview.org/mailman/listinfo/paraview
> >>>
> >>>--
> >>>Dominik Szczerba, Dr.
> >>>Computer Vision Lab CH-8092 Zurich
> >>>http://www.vision.ee.ethz.ch/~domi
> >>>_______________________________________________
> >>>ParaView mailing list
> >>>ParaView@paraview.org
> >>>http://www.paraview.org/mailman/listinfo/paraview
> >>>
> >
> >
>
> --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image1.vti
Type: application/octet-stream
Size: 637 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/287b7afd/image1-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image2.vti
Type: application/octet-stream
Size: 579 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/287b7afd/image2-0001.obj
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image3.vti
Type: application/octet-stream
Size: 707 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/287b7afd/image3-0001.obj
From rnelias at nacad.ufrj.br  Wed Feb  1 12:48:02 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Feb  1 12:39:52 2006
Subject: RES: RES: [Paraview] Writing binary files: C/Fortran interface to
	VTKXMLfiles.
In-Reply-To: <43E0D01B.3060204@hmg.inpg.fr>
Message-ID: <20060201163935.8FBA6727BE@mailhost.nacad.ufrj.br>


Yes, Ensight's format is byte order dependent, but I'm not bothered about it
(in fact, I don't know what is byte order ;-) 

Fortunately, Paraview can handle big/little endian Ensight's files, you only
have to change the "byte order" in the proper field of the PV Ensight's
reader before clicking in the accept button (PV can't select it
automatically yet). In my case, I always have to change it to little endian
and, I guess, it is the default option of the Fortran compilers I've been
using (Compaq, Intel and PGF90).

IMPORTANT NOTE: When writing Ensight binary files from Fortran programs you
have open your unit as "binary" and not as "unformatted", otherwise your
files will not be read by PV (it's another Fortran's mystery). 

Cheers

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


-----Mensagem original-----
De: St?phane Mont?sino [mailto:Stephane.Montesino@hmg.inpg.fr] 
Enviada em: quarta-feira, 1 de fevereiro de 2006 13:14
Para: Renato N. Elias
Cc: paraview@paraview.org; brad.king@kitware.com
Assunto: Re: RES: [Paraview] Writing binary files: C/Fortran interface to
VTKXMLfiles.

Thanks Renato,
Ensight Format seems to be faster to implement than linking C & Fortran
routines....
But is "Ensight Format" bytes-order dependant (little Endian/ Big
endian) ? I haven't  read anything about it in the fortran routines.
Maybe paraview can manage it ?????

Renato N. Elias wrote:

>Hi St?phane,
>
>When I was starting using Paraview I thought about writing Fortran 
>routines to write VTK files, but after reading about Base64 compression 
>I gave up. I think the VTK team has been doing a wonderful work in 
>VTK's file formats and
>Base64 really seems incredible to write very small compressed binary 
>files but, unfortunately, I don't have knowledge enough to implement 
>something like this in Fortran. Furthermore, I don't know if a pure 
>Fortran code would be able to produce a Base64 compressed file. Ok, VTK 
>has an interface to write VTK files from a Fortran code, but it obliges 
>me to install, or pick and compile the VTK routines needed with my 
>program, in any machine I intend to run my program. My solution has 
>been working fine for me, and I hope it'll keep working for a long 
>time... As I work basicaly with CFD, and my team group has licenses for 
>the Ensight visualizer, I've been writing all my files in Ensight's 
>format. It's easy to implement in C/C++ or Fortran, portable (thank God 
>Paraview has support to this format), parallel through the 
>server-of-server casefile extension and I can keep using Ensight when 
>I'd like to do something that Paraview can't do yet - almost nothing it 
>happen ;-)
>
>If you are interested in trying to use Ensight's format, get the 
>following routines 
>http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
>I guess, they can be a good starting point...
>
>Cheers
>
>Renato N. Elias
>===================================================
>PhD student
>High Performance Computing Center - NACAD/COPPE Federal University of 
>Rio de Janeiro, RJ -Brazil http://www.nacad.ufrj.br/~rnelias
> 
>
>
>-----Mensagem original-----
>De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
>[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de 
>St?phane Mont?sino Enviada em: ter?a-feira, 31 de janeiro de 2006 14:45
>Para: Thierry Dubuis; brad.king@kitware.com
>Cc: paraview@paraview.org
>Assunto: Re: [Paraview] Writing binary files: C/Fortran interface to 
>VTKXMLfiles.
>
>Thanks for all tese answers, but I 'm still like an an homosexual with 
>a wonderfull girl. I don't know how to use it (sorry her).
>
>In fact, I would like to directly write this type of file that I can 
>obtain when I save my data with Paraview:
>
><?xml version="1.0"?>
><VTKFile type="RectilinearGrid" version="0.1" byte_order="LittleEndian" 
>compressor="vtkZLibDataCompressor">
>  <RectilinearGrid WholeExtent="1 8 1 4 1 16">
>    <Piece Extent="1 8 1 4 1 16">
>      <PointData>
>        <DataArray type="Float32" Name="pressure" format="appended" 
>offset="0"           />
>      </PointData>
>      <CellData>
>      </CellData>
>      <Coordinates>
>        <DataArray type="Float32" Name="X_COORDINATES" format="appended" 
>offset="956"         />
>        <DataArray type="Float32" Name="Y_COORDINATES" format="appended" 
>offset="1036"        />
>        <DataArray type="Float32" Name="Z_COORDINATES" format="appended" 
>offset="1092"        />
>      </Coordinates>
>    </Piece>
>  </RectilinearGrid>
>  <AppendedData encoding="base64">
>   _AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>  </AppendedData>
></VTKFile>
>
>My knowledge are only reduces to Fluid mechanics.
>
> >>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?   
><<<<<<<<<<<<<<<<<<<<<<
>
>Link properly to vtkIO ? More details please.
> >>>>>>>>>>>>>> Does it mean that VTK IO library should be installed on 
> >>>>>>>>>>>>>> the
>Computer where my CFD code run ?.
> I don't run my code on my own computer. It runs in Computing center 
>where I can't install what I want.
> >>>>>>>>So I would like to obtain some fortran routine I could link 
> >>>>>>>>myself
>to my  CFD code  <<<<<<<<<<<<<<<<
>
>When I try  to write binary data in a formatted file:
>run-time error F6204: WRITE(pressure.vtr)
>- unformatted I/O not consistent with OPEN options
>
>When I try  to write formatted string in an unformatted file:
>run-time error F6200: WRITE(pressure.vtr)
>- formatted I/O not consistent with OPEN options
>
> >>>>>>>>>>>>>>>>How to convert my data to a string ?   
><<<<<<<<<<<<<<<<<<<<<
>
>
>The format for raw appended binary data should be
>
><AppendedData encoding="raw">
>  _NNNN...........................
></AppendedData>
>
>Where the underscore is literal (as you already have) and the NNNN is a 
>four-byte block containing an unsigned 32-bit count of the number of
"words"
>in the array.  A word is one value of the type of the array, so in your 
>case the NNNN would have the number of float values.  Then the number 
>of bytes of binary data to follow should be NNNN*sizeof(float).
>
>If you have another appended data array in the same file then start it 
>immediately after the end of the first array (with no newline or any 
>other character.  Then specify in the offset="..." attribute for the 
>corresponding DataArray the number of bytes beyond the underscore where 
>the second array begins.
>
>-Brad
>
>
>
>
>Thierry Dubuis wrote:
>
>  
>
>>Hello St?phane,
>>
>>perhaps this email can help you ?
>>
>>Else if you want code directly your program in fortran :
>>1. You must encode all you data in Base64 2. And write them like a 
>>string.
>>3. don't forget to add the size of your data block (integer*4) encoded 
>>in base64 before you block.
>>
>>Best regards,
>>Thierry Dubuis
>>
>>-------- Original Message --------
>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface 
>>to VTK XML files.
>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>From:     Brad King <brad.king@kitware.com>
>>To:     SamuelKey <samuelkey@comcast.net>
>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian" 
>><bnwylie@sandia.gov>
>>References:     
>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>
>>
>>
>>SamuelKey wrote:
>>
>>    
>>
>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>
>>>Let me try to work with what you commit next week and see if I have 
>>>any ideas. I will be gone all next week, so you won't hear from me 
>>>until week after next. With luck you may hear from someone else that 
>>>will help keep you busy, though I suspect "busy" is not a problem for 
>>>you.
>>>      
>>>
>>Okay, the C/Fortran interface is now available.  A C program can do
>>
>>#include "vtkXMLWriterC.h"
>>
>>and link to vtkIO.  A Fortran program can use the interface (see the 
>>example code below) but will need to compile one extra .c file to link 
>>properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>
>>-Brad
>>
>>     PROGRAM Hello
>>     INTEGER writer
>>     INTEGER success
>>     INTEGER*8 numpoints/8/
>>     INTEGER*8 numcells/1/
>>     INTEGER*8 cellsSize/9/
>>     REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>     REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>    _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>     INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>     call vtkXMLWriterF_New(writer)
>>     call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>     call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>     call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>     call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>    _                                    cellsSize)
>>     call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>    _                                numpoints, 1, 'SCALARS')
>>     call vtkXMLWriterF_Write(writer, success)
>>     call vtkXMLWriterF_Delete(writer)
>>     PRINT *, 'success =', success
>>     END PROGRAM Hello
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>
>>St?phane Mont?sino wrote:
>>
>>    
>>
>>>With Asci, all is OK except the size of my file.
>>>So how to write my data array in binary with my fortran code.
>>>Does anyone have some details ?
>>>
>>>!    
>>>*********************************************************************
>>>*********
>>>
>>>!    ****                       subrout 
>>>paraview_scalar                        ****
>>>!    
>>>*********************************************************************
>>>*********
>>>
>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>!
>>>!    n1m,n2m,n3m: size of the data and the grid
>>>!    y1,y2,y3: coordinates
>>>!    scal_data: data to write
>>>!    name: name of the data
>>>!
>>>     subroutine
>>>paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>!
>>>     implicit none
>>>!
>>>     INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>     REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>     REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>     REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>     REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>     CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>!
>>>     integer::i,j,k,nfil
>>>!
>>>     nfil=41
>>>     open(nfil,file=trim(name)//'.vtr')
>>>     write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>    &         ' byte_order="LittleEndian">'
>>>     write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>    &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>     write(nfil,*)'    <Piece Extent=',
>>>    &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>     write(nfil,*)'      <Coordinates>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="X_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y1(i),i=1,n1m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="Y_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y2(j),j=1,n2m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'        <DataArray type="Float32"',
>>>    &                             ' Name="Z_COORDINATES"',
>>>    &                             ' NumberOfComponents="1">'
>>>     write(nfil,*) (y3(k),k=1,n3m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'      </Coordinates>'
>>>     write(nfil,*)'      <PointData Scalars="scalar">'
>>>     write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>    &                             ' type="Float32"',
>>>    &                             ' NumberOfComponents="1"',
>>>    &                             ' format="ascii">'
>>>     write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>     write(nfil,*)'        </DataArray>'
>>>     write(nfil,*)'      </PointData>'
>>>     write(nfil,*)'    </Piece>'
>>>     write(nfil,*)'  </RectilinearGrid>'
>>>     write(nfil,*)'</VTKFile>'
>>>     close(nfil)
>>>!
>>>     return
>>>     end
>>>
>>>_______________________________________________
>>>ParaView mailing list
>>>ParaView@paraview.org
>>>http://www.paraview.org/mailman/listinfo/paraview
>>> 
>>>
>>>      
>>>
>
>
>--
>St?phane MONTESINO
>
>Doctorant                       tel:+33 4 76 82 52 91
>LEGI                            fax:+33 4 76 82 70 22
>BP 53
>38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
>France                          http://www.legi.hmg.inpg.fr 
>
>
>  
>


--
St?phane MONTESINO

Doctorant                       tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 



From samuelkey at comcast.net  Wed Feb  1 15:14:38 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Wed Feb  1 15:14:01 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
References: <43DF4FB3.3050901@hmg.inpg.fr>
Message-ID: <007601c6276c$21da1750$6e01a8c0@last>

St?phane Mont?sino,

I have attached a gzip'ed Fortran file that I use to
write C-binary (unblocked byte stream) formatted
files for use with ParaView via PV's EnSight reader.

The OPEN statements are for use with HP/Compaq/Digital
Visual Fortran (some non-standard key-words). I have versions
of this for G95's (http://www.g95.org) and PathScale's Fortran
compilers on Linux x86-32/64.

It is 3,500 lines of Fortran, but then I am trying to put out a time=0
mesh file followed by time sequenced data, blocked for large
data sets, subdivided into parts based on materials, and a
medium number of point & cell items. Not to mention 7 or so
cell geometries along with extraction routines  that move data
from the program's storage into the write statement buffers.

It may be too complex to help you at this stage, but it is all there.

Regards,

Sam Key

----- Original Message ----- 
From: "St?phane Mont?sino" <Stephane.Montesino@hmg.inpg.fr>
To: <paraview@paraview.org>
Sent: Tuesday, January 31, 2006 4:53 AM
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
XMLfiles.


> With Asci, all is OK except the size of my file.
> So how to write my data array in binary with my fortran code.
> Does anyone have some details ?
>
> !
>
****************************************************************************
**
> !    ****                       subrout
> paraview_scalar                        ****
> !
>
****************************************************************************
**
> !    Export 3D scalar data upon a Non uniform rectilinear Grid
> !
> !    n1m,n2m,n3m: size of the data and the grid
> !    y1,y2,y3: coordinates
> !    scal_data: data to write
> !    name: name of the data
> !
>       subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> !
>       implicit none
> !
>       INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>       REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>       REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>       REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>       REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>       CHARACTER(LEN=10)            ,INTENT(IN)::name
> !
>       integer::i,j,k,nfil
> !
>       nfil=41
>       open(nfil,file=trim(name)//'.vtr')
>       write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>      &         ' byte_order="LittleEndian">'
>       write(nfil,*)'  <RectilinearGrid WholeExtent=',
>      &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>       write(nfil,*)'    <Piece Extent=',
>      &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>       write(nfil,*)'      <Coordinates>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="X_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y1(i),i=1,n1m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="Y_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y2(j),j=1,n2m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'        <DataArray type="Float32"',
>      &                             ' Name="Z_COORDINATES"',
>      &                             ' NumberOfComponents="1">'
>       write(nfil,*) (y3(k),k=1,n3m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'      </Coordinates>'
>       write(nfil,*)'      <PointData Scalars="scalar">'
>       write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>      &                             ' type="Float32"',
>      &                             ' NumberOfComponents="1"',
>      &                             ' format="ascii">'
>       write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>       write(nfil,*)'        </DataArray>'
>       write(nfil,*)'      </PointData>'
>       write(nfil,*)'    </Piece>'
>       write(nfil,*)'  </RectilinearGrid>'
>       write(nfil,*)'</VTKFile>'
>       close(nfil)
> !
>       return
>       end
>
> -- 
> St?phane MONTESINO
>
> Doctorant                       tel:+33 4 76 82 52 91
> LEGI                            fax:+33 4 76 82 70 22
> BP 53
> 38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
> France                          http://www.legi.hmg.inpg.fr
>
>


----------------------------------------------------------------------------
----


> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>


From samuelkey at comcast.net  Wed Feb  1 15:17:09 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Wed Feb  1 15:16:37 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
Message-ID: <008801c6276c$7dabcc40$6e01a8c0@last>

St?phane Mont?sino,

Note: A re-send that includes an attached file.

I have attached a gzip'ed Fortran file that I use to
write C-binary (unblocked byte stream) formatted
files for use with ParaView via PV's EnSight reader.

The OPEN statements are for use with HP/Compaq/Digital
Visual Fortran (some non-standard key-words). I have versions
of this for G95's (http://www.g95.org) and PathScale's Fortran
compilers on Linux x86-32/64.

It is 3,500 lines of Fortran, but then I am trying to put out a time=0
mesh file followed by time sequenced data, blocked for large
data sets, subdivided into parts based on materials, and a
medium number of point & cell items. Not to mention 7 or so
cell geometries along with extraction routines  that move data
from the program's storage into the write statement buffers.

It may be too complex to help you at this stage, but it is all there.

Regards,

Sam Key


> ----- Original Message ----- 
> From: "St?phane Mont?sino" <Stephane.Montesino@hmg.inpg.fr>
> To: <paraview@paraview.org>
> Sent: Tuesday, January 31, 2006 4:53 AM
> Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
> XMLfiles.
>
>
> > With Asci, all is OK except the size of my file.
> > So how to write my data array in binary with my fortran code.
> > Does anyone have some details ?
> >
> > !
> >
>
****************************************************************************
> **
> > !    ****                       subrout
> > paraview_scalar                        ****
> > !
> >
>
****************************************************************************
> **
> > !    Export 3D scalar data upon a Non uniform rectilinear Grid
> > !
> > !    n1m,n2m,n3m: size of the data and the grid
> > !    y1,y2,y3: coordinates
> > !    scal_data: data to write
> > !    name: name of the data
> > !
> >       subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> > !
> >       implicit none
> > !
> >       INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >       REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >       REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >       REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >       REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >       CHARACTER(LEN=10)            ,INTENT(IN)::name
> > !
> >       integer::i,j,k,nfil
> > !
> >       nfil=41
> >       open(nfil,file=trim(name)//'.vtr')
> >       write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >      &         ' byte_order="LittleEndian">'
> >       write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >      &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >       write(nfil,*)'    <Piece Extent=',
> >      &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >       write(nfil,*)'      <Coordinates>'
> >       write(nfil,*)'        <DataArray type="Float32"',
> >      &                             ' Name="X_COORDINATES"',
> >      &                             ' NumberOfComponents="1">'
> >       write(nfil,*) (y1(i),i=1,n1m)
> >       write(nfil,*)'        </DataArray>'
> >       write(nfil,*)'        <DataArray type="Float32"',
> >      &                             ' Name="Y_COORDINATES"',
> >      &                             ' NumberOfComponents="1">'
> >       write(nfil,*) (y2(j),j=1,n2m)
> >       write(nfil,*)'        </DataArray>'
> >       write(nfil,*)'        <DataArray type="Float32"',
> >      &                             ' Name="Z_COORDINATES"',
> >      &                             ' NumberOfComponents="1">'
> >       write(nfil,*) (y3(k),k=1,n3m)
> >       write(nfil,*)'        </DataArray>'
> >       write(nfil,*)'      </Coordinates>'
> >       write(nfil,*)'      <PointData Scalars="scalar">'
> >       write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >      &                             ' type="Float32"',
> >      &                             ' NumberOfComponents="1"',
> >      &                             ' format="ascii">'
> >       write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >       write(nfil,*)'        </DataArray>'
> >       write(nfil,*)'      </PointData>'
> >       write(nfil,*)'    </Piece>'
> >       write(nfil,*)'  </RectilinearGrid>'
> >       write(nfil,*)'</VTKFile>'
> >       close(nfil)
> > !
> >       return
> >       end
> >
> > -- 
> > St?phane MONTESINO
> >
> > Doctorant                       tel:+33 4 76 82 52 91
> > LEGI                            fax:+33 4 76 82 70 22
> > BP 53
> > 38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
> > France                          http://www.legi.hmg.inpg.fr
> >
> >
>
>
> --------------------------------------------------------------------------
--
> ----
>
>
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xxx.f.gz
Type: application/x-gzip
Size: 12488 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/83635506/xxx.f-0001.bin
From samuelkey at comcast.net  Wed Feb  1 15:36:06 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Wed Feb  1 15:35:28 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to
	VTKXMLfiles.
References: <43DF4FB3.3050901@hmg.inpg.fr> <43DF5E69.8050805@sophia.inria.fr>
Message-ID: <00a501c6276f$21133d80$6e01a8c0@last>

Stephen;

In this context (Fortran) --

UNFORMATTED => blocked binary with leading and/or trailing word counts
                                     usually compiler dependent.
BINARY ==> Unblocked binary byte stream, typical of C, usually direct
access (if you remember to record where you wrote what).

BINARY is only supported in Fortran as an extension. Compilers that have
this
extension are

1) HP/Compaq/Digital Visual Fortran under Windowsxx Windows XP64,
2) G95 (http://www.g95.org) there called streaming I/O
3) PathScale Fortran-95 under Linux
4) Others

Regards,

Sam Key

----- Original Message ----- 
From: "Stephen Wornom" <Stephen.Wornom@sophia.inria.fr>
To: "St?phane Mont?sino" <Stephane.Montesino@hmg.inpg.fr>
Cc: <paraview@paraview.org>
Sent: Tuesday, January 31, 2006 5:56 AM
Subject: Re: [Paraview] Writing binary files: C/Fortran interface to
VTKXMLfiles.

<snip>

>
> It is a good question. if want unformatted open as
> open(nfil,file=trim(name)//'.vtr',FORM='UNFORMATTED')
> and write files as
> write(nfil)'<VTKFile type="RectilinearGrid" version="0.1"',
>     &         ' byte_order="LittleEndian">'
>
> But does UNFORMATTED=binary?
> Can someone explain the difference between binary and UNFORMATTED?
> Stephen
>

<snip>


From samuelkey at comcast.net  Wed Feb  1 16:14:13 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Wed Feb  1 16:13:39 2006
Subject: [Paraview] Writing binary files: C/Fortran interface
	toVTK	XMLfiles.
References: <43DF4FB3.3050901@hmg.inpg.fr>	<43DF709A.5000907@scconsultants.com>		<43DF941F.7030604@hmg.inpg.fr><43DF9F33.80309@scconsultants.com>		<43DFB32B.60208@vision.ee.ethz.ch>		<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>		<43DFBCDC.8080900@vision.ee.ethz.ch>	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com><43DFD2AB.5090205@vision.ee.ethz.ch>
	<43E0A769.4030401@vision.ee.ethz.ch>
Message-ID: <012901c62774$73e847d0$6e01a8c0@last>

Dominik,

I have attached a gzip'ed Fortran file that I use to
write C-binary (unblocked byte stream) formatted
files for use with ParaView via PV's EnSight reader.

The OPEN statements are for use with HP/Compaq/Digital
Visual Fortran (some non-standard key-words). I have versions
of this for G95's (http://www.g95.org) and PathScale's Fortran
compilers on Linux x86-32/64.

It is 3,500 lines of Fortran, but then I am trying to put out a time=0
mesh file followed by time sequenced data, blocked for large
data sets, subdivided into parts based on materials, and a
medium number of point & cell items. Not to mention 7 or so
cell geometries along with extraction routines  that move data
from the program's storage into the write statement buffers.

It may be too complex to help you at this stage, but it is all there.

Regards,

Sam Key


----- Original Message ----- 
From: "Dominik Szczerba" <domi@vision.ee.ethz.ch>
Cc: <paraview@paraview.org>
Sent: Wednesday, February 01, 2006 5:19 AM
Subject: Re: [Paraview] Writing binary files: C/Fortran interface toVTK
XMLfiles.


> After a few hours I am basically succesful only with ASCII versions,
> tried binary inline/appended with various headers with no luck.
> Does anyone have any clear definitions and/or examples? I found bits and
> pieces on information on the mailinglist, but that was apparently not
> enough.
> thanks and regards,
> DS
>
> Dominik Szczerba wrote:
> > OK, I didnt know it is possible. Will give it a try tomorrow evntl. come
> > back.
> > Thanks a lot,
> > Dominik
> >
> > Berk Geveci wrote:
> >
> >>Why not go zlib compressed without base64 encoding? That's supported you
know...
> >>
> >>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >>
> >>
> >>>I see the point. And yes, I want to stay far away from ASCII. So what
> >>>format would you recommend to STORE my results in a COMPRESSED way
> >>>maintaining readability with Paraview? Any binary legacy file I produce
> >>>takes gigabytes - crunched with gzip a fraction of it, but paraview
> >>>won't read it. ASCII is simply prohibitive, base64'ed with
> >>>zlibcompressor not much better. At the moment I store my results in my
> >>>own gzipped format, and convert them to VTK format on demand - but that
> >>>is pretty annoying.
> >>>regards,
> >>>--dsz
> >>>
> >>>Berk Geveci wrote:
> >>>
> >>>
> >>>>Base64 encoding is only necessary if you want your XML file to be
> >>>>ASCII. This is necessary if you want the file to conform to XML so
> >>>>that the file can be opened in XML viewers (like a browser). Also,
> >>>>some people prefer transferring ASCII files instead of binary files.
> >>>>If you are not interested in either of these, there is no need to have
> >>>>base64 encoding. I would recommend not using it in fact. One of these
> >>>>days I will change the default in paraview so that it does not write
> >>>>base64 encoded files.
> >>>>
> >>>>
> >>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> >>>>
> >>>>Sorry to interupt your discussion but nobody ever explained me this:
why
> >>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
> >>>>E.g. I see no significant compression with the VTK's zlib compressor
> >>>>when using XML data files because the compressed stream is converted
to
> >>>>ASCII. Will someone kindly explain me this paradox?
> >>>>Thanks
> >>>>Dominik
> >>>>
> >>>>Thierry Dubuis wrote:
> >>>>
> >>>>
> >>>>
> >>>>>There are lot of encoding Base 64 program on the web but only in C,
Java
> >>>>>or Visual Basic.
> >>>>
> >>>>>If you can use C/C++ compiler, I thing the best way for you is to use
> >>>>>the Brad King's fortran code example (see my last email).
> >>>>>To convert a data array to a string in C we use the memory copy in
> >>>>>fortran I don't know.
> >>>>>Could you use pointer? 2 pointer on the same memory adress
> >>>>>1. the fist with the real*8 type
> >>>>>2. the second with a character type
> >>>>
> >>>>>Try in this way.
> >>>>
> >>>>>Best regards,
> >>>>>Thierry Dubuis
> >>>>
> >>>>>St?phane Mont?sino wrote:
> >>>>
> >>>>
> >>>>>>Thanks for all tese answers, but I 'm still like an an homosexual
with
> >>>>>>a wonderfull girl. I don't know how to use it (sorry her).
> >>>>
> >>>>>>In fact, I would like to directly write this type of file that I can
> >>>>>>obtain when I save my data with Paraview:
> >>>>
> >>>>>><?xml version="1.0"?>
> >>>>>><VTKFile type="RectilinearGrid" version="0.1"
> >>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
> >>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
> >>>>>> <Piece Extent="1 8 1 4 1 16">
> >>>>>>   <PointData>
> >>>>>>     <DataArray type="Float32" Name="pressure" format="appended"
> >>>>>>offset="0"           />
> >>>>>>   </PointData>
> >>>>>>   <CellData>
> >>>>>>   </CellData>
> >>>>>>   <Coordinates>
> >>>>>>     <DataArray type="Float32" Name="X_COORDINATES"
> >>>>>>format="appended" offset="956"         />
> >>>>>>     <DataArray type="Float32" Name="Y_COORDINATES"
> >>>>>>format="appended" offset="1036"        />
> >>>>>>     <DataArray type="Float32" Name="Z_COORDINATES"
> >>>>>>format="appended" offset="1092"        />
> >>>>>>   </Coordinates>
> >>>>>> </Piece>
> >>>>>></RectilinearGrid>
> >>>>>><AppendedData encoding="base64">
> >>>>>>_AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
> >>>>>></AppendedData>
> >>>>>></VTKFile>
> >>>>
> >>>>>>My knowledge are only reduces to Fluid mechanics.
> >>>>
> >>>>
> >>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
> >>>>
> >>>>>><<<<<<<<<<<<<<<<<<<<<<
> >>>>
> >>>>>>Link properly to vtkIO ? More details please.
> >>>>
> >>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed
on
> >>>>
> >>>>>>the Computer where my CFD code run ?.
> >>>>>>I don't run my code on my own computer. It runs in Computing center
> >>>>>>where I can't install what I want.
> >>>>
> >>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
> >>>>
> >>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
> >>>>
> >>>>>>When I try  to write binary data in a formatted file:
> >>>>>>run-time error F6204: WRITE(pressure.vtr)
> >>>>>>- unformatted I/O not consistent with OPEN options
> >>>>
> >>>>>>When I try  to write formatted string in an unformatted file:
> >>>>>>run-time error F6200: WRITE(pressure.vtr)
> >>>>>>- formatted I/O not consistent with OPEN options
> >>>>
> >>>>
> >>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
> >>>>
> >>>>>><<<<<<<<<<<<<<<<<<<<<
> >>>>
> >>>>
> >>>>>>The format for raw appended binary data should be
> >>>>
> >>>>>><AppendedData encoding="raw">
> >>>>>>_NNNN...........................
> >>>>>></AppendedData>
> >>>>
> >>>>>>Where the underscore is literal (as you already have) and the NNNN
is a
> >>>>>>four-byte block containing an unsigned 32-bit count of the number of
> >>>>>>"words" in the array.  A word is one value of the type of the array,
so
> >>>>>>in your case the NNNN would have the number of float values.  Then
the
> >>>>>>number of bytes of binary data to follow should be
NNNN*sizeof(float).
> >>>>
> >>>>>>If you have another appended data array in the same file then start
it
> >>>>>>immediately after the end of the first array (with no newline or any
> >>>>>>other character.  Then specify in the offset="..." attribute for the
> >>>>>>corresponding DataArray the number of bytes beyond the underscore
where
> >>>>>>the second array begins.
> >>>>
> >>>>>>-Brad
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>>>Thierry Dubuis wrote:
> >>>>
> >>>>
> >>>>>>>Hello St?phane,
> >>>>>>>
> >>>>>>>perhaps this email can help you ?
> >>>>>>>
> >>>>>>>Else if you want code directly your program in fortran :
> >>>>>>>1. You must encode all you data in Base64
> >>>>>>>2. And write them like a string.
> >>>>>>>3. don't forget to add the size of your data block (integer*4)
> >>>>>>>encoded in base64 before you block.
> >>>>>>>
> >>>>>>>Best regards,
> >>>>>>>Thierry Dubuis
> >>>>>>>
> >>>>>>>-------- Original Message --------
> >>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran
interface
> >>>>>>>to VTK XML files.
> >>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
> >>>>>>>From:     Brad King <brad.king@kitware.com>
> >>>>>>>To:     SamuelKey <samuelkey@comcast.net>
> >>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
> >>>>>>><bnwylie@sandia.gov>
> >>>>>>>References:
> >>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
> >>>>>>><42A05837.3010206@kitware.com>
<000a01c5684c$1d1a6740$6e01a8c0@last>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>SamuelKey wrote:
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
> >>>>>>>>
> >>>>>>>>Let me try to work with what you commit next week and see if I
have
> >>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
> >>>>>>>>until week after next. With luck you may hear from someone else
> >>>>>>>>that will help keep you busy, though I suspect "busy" is not a
> >>>>>>>>problem for you.
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
> >>>>>>>
> >>>>>>>#include "vtkXMLWriterC.h"
> >>>>>>>
> >>>>>>>and link to vtkIO.  A Fortran program can use the interface (see
the
> >>>>>>>example code below) but will need to compile one extra .c file to
> >>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for
instructions.
> >>>>>>>
> >>>>>>>-Brad
> >>>>>>>
> >>>>>>>   PROGRAM Hello
> >>>>>>>   INTEGER writer
> >>>>>>>   INTEGER success
> >>>>>>>   INTEGER*8 numpoints/8/
> >>>>>>>   INTEGER*8 numcells/1/
> >>>>>>>   INTEGER*8 cellsSize/9/
> >>>>>>>   REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
> >>>>>>>   REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
> >>>>>>>  _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
> >>>>>>>   INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
> >>>>>>>   call vtkXMLWriterF_New(writer)
> >>>>>>>   call vtkXMLWriterF_SetDataObjectType(writer, 4)
> >>>>>>>   call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
> >>>>>>>   call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
> >>>>>>>   call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
> >>>>>>>  _                                    cellsSize)
> >>>>>>>   call vtkXMLWriterF_SetPointData(writer, 'example data', 10,
pdata,
> >>>>>>>  _                                numpoints, 1, 'SCALARS')
> >>>>>>>   call vtkXMLWriterF_Write(writer, success)
> >>>>>>>   call vtkXMLWriterF_Delete(writer)
> >>>>>>>   PRINT *, 'success =', success
> >>>>>>>   END PROGRAM Hello
> >>>>>>>_______________________________________________
> >>>>>>>ParaView mailing list
> >>>>>>>ParaView@paraview.org
> >>>>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>St?phane Mont?sino wrote:
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>>With Asci, all is OK except the size of my file.
> >>>>>>>>So how to write my data array in binary with my fortran code.
> >>>>>>>>Does anyone have some details ?
> >>>>>>>>
> >>>>>>>>!
>
>>>>>>>>********************************************************************
**********
> >>>>>>>>
> >>>>>>>>!    ****                       subrout
> >>>>>>>>paraview_scalar                        ****
> >>>>>>>>!
>
>>>>>>>>********************************************************************
**********
> >>>>>>>>
> >>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
> >>>>>>>>!
> >>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
> >>>>>>>>!    y1,y2,y3: coordinates
> >>>>>>>>!    scal_data: data to write
> >>>>>>>>!    name: name of the data
> >>>>>>>>!
> >>>>>>>>   subroutine
paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
> >>>>>>>>!
> >>>>>>>>   implicit none
> >>>>>>>>!
> >>>>>>>>   INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
> >>>>>>>>   REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
> >>>>>>>>   REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
> >>>>>>>>   REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
> >>>>>>>>   REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
> >>>>>>>>   CHARACTER(LEN=10)            ,INTENT(IN)::name
> >>>>>>>>!
> >>>>>>>>   integer::i,j,k,nfil
> >>>>>>>>!
> >>>>>>>>   nfil=41
> >>>>>>>>   open(nfil,file=trim(name)//'.vtr')
> >>>>>>>>   write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
> >>>>>>>>  &         ' byte_order="LittleEndian">'
> >>>>>>>>   write(nfil,*)'  <RectilinearGrid WholeExtent=',
> >>>>>>>>  &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>>>>   write(nfil,*)'    <Piece Extent=',
> >>>>>>>>  &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
> >>>>>>>>   write(nfil,*)'      <Coordinates>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="X_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y1(i),i=1,n1m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="Y_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y2(j),j=1,n2m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'        <DataArray type="Float32"',
> >>>>>>>>  &                             ' Name="Z_COORDINATES"',
> >>>>>>>>  &                             ' NumberOfComponents="1">'
> >>>>>>>>   write(nfil,*) (y3(k),k=1,n3m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'      </Coordinates>'
> >>>>>>>>   write(nfil,*)'      <PointData Scalars="scalar">'
> >>>>>>>>   write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
> >>>>>>>>  &                             ' type="Float32"',
> >>>>>>>>  &                             ' NumberOfComponents="1"',
> >>>>>>>>  &                             ' format="ascii">'
> >>>>>>>>   write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
> >>>>>>>>   write(nfil,*)'        </DataArray>'
> >>>>>>>>   write(nfil,*)'      </PointData>'
> >>>>>>>>   write(nfil,*)'    </Piece>'
> >>>>>>>>   write(nfil,*)'  </RectilinearGrid>'
> >>>>>>>>   write(nfil,*)'</VTKFile>'
> >>>>>>>>   close(nfil)
> >>>>>>>>!
> >>>>>>>>   return
> >>>>>>>>   end
> >>>>>>>>
> >>>>>>>>_______________________________________________
> >>>>>>>>ParaView mailing list
> >>>>>>>>ParaView@paraview.org
> >>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
> >>>>>>>>
> >>>>>>>>
> >>>>>>>
> >>>>--
> >>>>Dominik Szczerba, Dr.
> >>>>Computer Vision Lab CH-8092 Zurich
> >>>>http://www.vision.ee.ethz.ch/~domi
> >>>
> >>>_______________________________________________
> >>>ParaView mailing list
> >>>ParaView@paraview.org
> >>>http://www.paraview.org/mailman/listinfo/paraview
> >>>
> >>>--
> >>>Dominik Szczerba, Dr.
> >>>Computer Vision Lab CH-8092 Zurich
> >>>http://www.vision.ee.ethz.ch/~domi
> >>>_______________________________________________
> >>>ParaView mailing list
> >>>ParaView@paraview.org
> >>>http://www.paraview.org/mailman/listinfo/paraview
> >>>
> >
> >
>
> -- 
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: z_esg-write.f.gz
Type: application/x-gzip
Size: 12496 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060201/6efe6213/z_esg-write.f-0001.bin
From domi at vision.ee.ethz.ch  Wed Feb  1 17:18:33 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Wed Feb  1 17:18:46 2006
Subject: [Paraview] Writing binary files: C/Fortran interface to VTK
	XMLfiles.
In-Reply-To: <a2ab21560602010748r60022078r27222e3906c9c0bf@mail.gmail.com>
References: <43DF4FB3.3050901@hmg.inpg.fr>
	<43DF709A.5000907@scconsultants.com>	
	<43DF941F.7030604@hmg.inpg.fr> <43DF9F33.80309@scconsultants.com>	
	<43DFB32B.60208@vision.ee.ethz.ch>	
	<a2ab21560601311124v76a2c7a2mfa47c0d56bb878fd@mail.gmail.com>	
	<43DFBCDC.8080900@vision.ee.ethz.ch>	
	<a2ab21560601311210n6e3ba690v1623c347c50ea5dd@mail.gmail.com>	
	<43DFD2AB.5090205@vision.ee.ethz.ch>	
	<43E0A769.4030401@vision.ee.ethz.ch>
	<a2ab21560602010748r60022078r27222e3906c9c0bf@mail.gmail.com>
Message-ID: <43E133B9.9040701@vision.ee.ethz.ch>

Thank you very much for the examples, I was only missing encoding="raw"
(not explained clearly by the VTK format specification PDF). Now I am
facing problems with compression, but not yet sure what is wrong.
thanks and regards,
Dominik

Berk Geveci wrote:
> Brad implemented the readers and writers so he would know a lot more
> than I do. I am including 3 examples of the same data. One ascii, one
> binary and one binary compressed. None of the binaries have base64
> encoding. I wrote them out from VTK by changing the settings of the
> writer.
> 
> On 2/1/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> 
>>After a few hours I am basically succesful only with ASCII versions,
>>tried binary inline/appended with various headers with no luck.
>>Does anyone have any clear definitions and/or examples? I found bits and
>>pieces on information on the mailinglist, but that was apparently not
>>enough.
>>thanks and regards,
>>DS
>>
>>Dominik Szczerba wrote:
>>
>>>OK, I didnt know it is possible. Will give it a try tomorrow evntl. come
>>>back.
>>>Thanks a lot,
>>>Dominik
>>>
>>>Berk Geveci wrote:
>>>
>>>
>>>>Why not go zlib compressed without base64 encoding? That's supported you know...
>>>>
>>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>>
>>>>
>>>>
>>>>>I see the point. And yes, I want to stay far away from ASCII. So what
>>>>>format would you recommend to STORE my results in a COMPRESSED way
>>>>>maintaining readability with Paraview? Any binary legacy file I produce
>>>>>takes gigabytes - crunched with gzip a fraction of it, but paraview
>>>>>won't read it. ASCII is simply prohibitive, base64'ed with
>>>>>zlibcompressor not much better. At the moment I store my results in my
>>>>>own gzipped format, and convert them to VTK format on demand - but that
>>>>>is pretty annoying.
>>>>>regards,
>>>>>--dsz
>>>>>
>>>>>Berk Geveci wrote:
>>>>>
>>>>>
>>>>>
>>>>>>Base64 encoding is only necessary if you want your XML file to be
>>>>>>ASCII. This is necessary if you want the file to conform to XML so
>>>>>>that the file can be opened in XML viewers (like a browser). Also,
>>>>>>some people prefer transferring ASCII files instead of binary files.
>>>>>>If you are not interested in either of these, there is no need to have
>>>>>>base64 encoding. I would recommend not using it in fact. One of these
>>>>>>days I will change the default in paraview so that it does not write
>>>>>>base64 encoded files.
>>>>>>
>>>>>>
>>>>>>On 1/31/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
>>>>>>
>>>>>>Sorry to interupt your discussion but nobody ever explained me this: why
>>>>>>use base64 encoding at all? Isint it a step back to huge ASCII files??
>>>>>>E.g. I see no significant compression with the VTK's zlib compressor
>>>>>>when using XML data files because the compressed stream is converted to
>>>>>>ASCII. Will someone kindly explain me this paradox?
>>>>>>Thanks
>>>>>>Dominik
>>>>>>
>>>>>>Thierry Dubuis wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>>There are lot of encoding Base 64 program on the web but only in C, Java
>>>>>>>or Visual Basic.
>>>>>>
>>>>>>>If you can use C/C++ compiler, I thing the best way for you is to use
>>>>>>>the Brad King's fortran code example (see my last email).
>>>>>>>To convert a data array to a string in C we use the memory copy in
>>>>>>>fortran I don't know.
>>>>>>>Could you use pointer? 2 pointer on the same memory adress
>>>>>>>1. the fist with the real*8 type
>>>>>>>2. the second with a character type
>>>>>>
>>>>>>>Try in this way.
>>>>>>
>>>>>>>Best regards,
>>>>>>>Thierry Dubuis
>>>>>>
>>>>>>>St?phane Mont?sino wrote:
>>>>>>
>>>>>>
>>>>>>>>Thanks for all tese answers, but I 'm still like an an homosexual with
>>>>>>>>a wonderfull girl. I don't know how to use it (sorry her).
>>>>>>
>>>>>>>>In fact, I would like to directly write this type of file that I can
>>>>>>>>obtain when I save my data with Paraview:
>>>>>>
>>>>>>>><?xml version="1.0"?>
>>>>>>>><VTKFile type="RectilinearGrid" version="0.1"
>>>>>>>>byte_order="LittleEndian" compressor="vtkZLibDataCompressor">
>>>>>>>><RectilinearGrid WholeExtent="1 8 1 4 1 16">
>>>>>>>><Piece Extent="1 8 1 4 1 16">
>>>>>>>>  <PointData>
>>>>>>>>    <DataArray type="Float32" Name="pressure" format="appended"
>>>>>>>>offset="0"           />
>>>>>>>>  </PointData>
>>>>>>>>  <CellData>
>>>>>>>>  </CellData>
>>>>>>>>  <Coordinates>
>>>>>>>>    <DataArray type="Float32" Name="X_COORDINATES"
>>>>>>>>format="appended" offset="956"         />
>>>>>>>>    <DataArray type="Float32" Name="Y_COORDINATES"
>>>>>>>>format="appended" offset="1036"        />
>>>>>>>>    <DataArray type="Float32" Name="Z_COORDINATES"
>>>>>>>>format="appended" offset="1092"        />
>>>>>>>>  </Coordinates>
>>>>>>>></Piece>
>>>>>>>></RectilinearGrid>
>>>>>>>><AppendedData encoding="base64">
>>>>>>>>_AQAAAACAAAAACAAAuQIAAA==eJwVy8fvoFMUx+HDdIkyWOiG/0Bvmzfm   etc.....
>>>>>>>></AppendedData>
>>>>>>>></VTKFile>
>>>>>>
>>>>>>>>My knowledge are only reduces to Fluid mechanics.
>>>>>>
>>>>>>
>>>>>>>>>>>>>>>>>>>>>Encode in Base 64 ? More details please...How to ?
>>>>>>
>>>>>>>><<<<<<<<<<<<<<<<<<<<<<
>>>>>>
>>>>>>>>Link properly to vtkIO ? More details please.
>>>>>>
>>>>>>>>>>>>>>>>>>>>>>Does it mean that VTK IO library should be installed on
>>>>>>
>>>>>>>>the Computer where my CFD code run ?.
>>>>>>>>I don't run my code on my own computer. It runs in Computing center
>>>>>>>>where I can't install what I want.
>>>>>>
>>>>>>>>>>>>>>>>So I would like to obtain some fortran routine I could link
>>>>>>
>>>>>>>>myself  to my  CFD code  <<<<<<<<<<<<<<<<
>>>>>>
>>>>>>>>When I try  to write binary data in a formatted file:
>>>>>>>>run-time error F6204: WRITE(pressure.vtr)
>>>>>>>>- unformatted I/O not consistent with OPEN options
>>>>>>
>>>>>>>>When I try  to write formatted string in an unformatted file:
>>>>>>>>run-time error F6200: WRITE(pressure.vtr)
>>>>>>>>- formatted I/O not consistent with OPEN options
>>>>>>
>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>How to convert my data to a string ?
>>>>>>
>>>>>>>><<<<<<<<<<<<<<<<<<<<<
>>>>>>
>>>>>>
>>>>>>>>The format for raw appended binary data should be
>>>>>>
>>>>>>>><AppendedData encoding="raw">
>>>>>>>>_NNNN...........................
>>>>>>>></AppendedData>
>>>>>>
>>>>>>>>Where the underscore is literal (as you already have) and the NNNN is a
>>>>>>>>four-byte block containing an unsigned 32-bit count of the number of
>>>>>>>>"words" in the array.  A word is one value of the type of the array, so
>>>>>>>>in your case the NNNN would have the number of float values.  Then the
>>>>>>>>number of bytes of binary data to follow should be NNNN*sizeof(float).
>>>>>>
>>>>>>>>If you have another appended data array in the same file then start it
>>>>>>>>immediately after the end of the first array (with no newline or any
>>>>>>>>other character.  Then specify in the offset="..." attribute for the
>>>>>>>>corresponding DataArray the number of bytes beyond the underscore where
>>>>>>>>the second array begins.
>>>>>>
>>>>>>>>-Brad
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>>>Thierry Dubuis wrote:
>>>>>>
>>>>>>
>>>>>>>>>Hello St?phane,
>>>>>>>>>
>>>>>>>>>perhaps this email can help you ?
>>>>>>>>>
>>>>>>>>>Else if you want code directly your program in fortran :
>>>>>>>>>1. You must encode all you data in Base64
>>>>>>>>>2. And write them like a string.
>>>>>>>>>3. don't forget to add the size of your data block (integer*4)
>>>>>>>>>encoded in base64 before you block.
>>>>>>>>>
>>>>>>>>>Best regards,
>>>>>>>>>Thierry Dubuis
>>>>>>>>>
>>>>>>>>>-------- Original Message --------
>>>>>>>>>Subject:     Re: [Paraview] Writing binary files: C/Fortran interface
>>>>>>>>>to VTK XML files.
>>>>>>>>>Date:     Tue, 07 Jun 2005 10:06:51 -0400
>>>>>>>>>From:     Brad King <brad.king@kitware.com>
>>>>>>>>>To:     SamuelKey <samuelkey@comcast.net>
>>>>>>>>>CC:     paraview <paraview@paraview.org>, "Wylie, Brian"
>>>>>>>>><bnwylie@sandia.gov>
>>>>>>>>>References:
>>>>>>>>><200506030152.j531quWp005650@rrcs-mta-04.hrndva.rr.com>
>>>>>>>>><42A05837.3010206@kitware.com> <000a01c5684c$1d1a6740$6e01a8c0@last>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>SamuelKey wrote:
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>>Needing to have a C-compiler is not a problem for me; I have one.
>>>>>>>>>>
>>>>>>>>>>Let me try to work with what you commit next week and see if I have
>>>>>>>>>>any ideas. I will be gone all next week, so you won't hear from me
>>>>>>>>>>until week after next. With luck you may hear from someone else
>>>>>>>>>>that will help keep you busy, though I suspect "busy" is not a
>>>>>>>>>>problem for you.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>Okay, the C/Fortran interface is now available.  A C program can do
>>>>>>>>>
>>>>>>>>>#include "vtkXMLWriterC.h"
>>>>>>>>>
>>>>>>>>>and link to vtkIO.  A Fortran program can use the interface (see the
>>>>>>>>>example code below) but will need to compile one extra .c file to
>>>>>>>>>link properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>>>>>>>>>
>>>>>>>>>-Brad
>>>>>>>>>
>>>>>>>>>  PROGRAM Hello
>>>>>>>>>  INTEGER writer
>>>>>>>>>  INTEGER success
>>>>>>>>>  INTEGER*8 numpoints/8/
>>>>>>>>>  INTEGER*8 numcells/1/
>>>>>>>>>  INTEGER*8 cellsSize/9/
>>>>>>>>>  REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>>>>>>>>>  REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>>>>>>>>> _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>>>>>>>>>  INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>>>>>>>>>  call vtkXMLWriterF_New(writer)
>>>>>>>>>  call vtkXMLWriterF_SetDataObjectType(writer, 4)
>>>>>>>>>  call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>>>>>>>>>  call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>>>>>>>>>  call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>>>>>>>>> _                                    cellsSize)
>>>>>>>>>  call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>>>>>>>>> _                                numpoints, 1, 'SCALARS')
>>>>>>>>>  call vtkXMLWriterF_Write(writer, success)
>>>>>>>>>  call vtkXMLWriterF_Delete(writer)
>>>>>>>>>  PRINT *, 'success =', success
>>>>>>>>>  END PROGRAM Hello
>>>>>>>>>_______________________________________________
>>>>>>>>>ParaView mailing list
>>>>>>>>>ParaView@paraview.org
>>>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>St?phane Mont?sino wrote:
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>>With Asci, all is OK except the size of my file.
>>>>>>>>>>So how to write my data array in binary with my fortran code.
>>>>>>>>>>Does anyone have some details ?
>>>>>>>>>>
>>>>>>>>>>!
>>>>>>>>>>******************************************************************************
>>>>>>>>>>
>>>>>>>>>>!    ****                       subrout
>>>>>>>>>>paraview_scalar                        ****
>>>>>>>>>>!
>>>>>>>>>>******************************************************************************
>>>>>>>>>>
>>>>>>>>>>!    Export 3D scalar data upon a Non uniform rectilinear Grid
>>>>>>>>>>!
>>>>>>>>>>!    n1m,n2m,n3m: size of the data and the grid
>>>>>>>>>>!    y1,y2,y3: coordinates
>>>>>>>>>>!    scal_data: data to write
>>>>>>>>>>!    name: name of the data
>>>>>>>>>>!
>>>>>>>>>>  subroutine paraview_3d_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
>>>>>>>>>>!
>>>>>>>>>>  implicit none
>>>>>>>>>>!
>>>>>>>>>>  INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
>>>>>>>>>>  REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
>>>>>>>>>>  REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
>>>>>>>>>>  REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
>>>>>>>>>>  REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
>>>>>>>>>>  CHARACTER(LEN=10)            ,INTENT(IN)::name
>>>>>>>>>>!
>>>>>>>>>>  integer::i,j,k,nfil
>>>>>>>>>>!
>>>>>>>>>>  nfil=41
>>>>>>>>>>  open(nfil,file=trim(name)//'.vtr')
>>>>>>>>>>  write(nfil,*)'<VTKFile type="RectilinearGrid" version="0.1"',
>>>>>>>>>> &         ' byte_order="LittleEndian">'
>>>>>>>>>>  write(nfil,*)'  <RectilinearGrid WholeExtent=',
>>>>>>>>>> &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>>>>  write(nfil,*)'    <Piece Extent=',
>>>>>>>>>> &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
>>>>>>>>>>  write(nfil,*)'      <Coordinates>'
>>>>>>>>>>  write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>>> &                             ' Name="X_COORDINATES"',
>>>>>>>>>> &                             ' NumberOfComponents="1">'
>>>>>>>>>>  write(nfil,*) (y1(i),i=1,n1m)
>>>>>>>>>>  write(nfil,*)'        </DataArray>'
>>>>>>>>>>  write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>>> &                             ' Name="Y_COORDINATES"',
>>>>>>>>>> &                             ' NumberOfComponents="1">'
>>>>>>>>>>  write(nfil,*) (y2(j),j=1,n2m)
>>>>>>>>>>  write(nfil,*)'        </DataArray>'
>>>>>>>>>>  write(nfil,*)'        <DataArray type="Float32"',
>>>>>>>>>> &                             ' Name="Z_COORDINATES"',
>>>>>>>>>> &                             ' NumberOfComponents="1">'
>>>>>>>>>>  write(nfil,*) (y3(k),k=1,n3m)
>>>>>>>>>>  write(nfil,*)'        </DataArray>'
>>>>>>>>>>  write(nfil,*)'      </Coordinates>'
>>>>>>>>>>  write(nfil,*)'      <PointData Scalars="scalar">'
>>>>>>>>>>  write(nfil,*)'        <DataArray Name="'//trim(name)//'"',
>>>>>>>>>> &                             ' type="Float32"',
>>>>>>>>>> &                             ' NumberOfComponents="1"',
>>>>>>>>>> &                             ' format="ascii">'
>>>>>>>>>>  write(nfil,*) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
>>>>>>>>>>  write(nfil,*)'        </DataArray>'
>>>>>>>>>>  write(nfil,*)'      </PointData>'
>>>>>>>>>>  write(nfil,*)'    </Piece>'
>>>>>>>>>>  write(nfil,*)'  </RectilinearGrid>'
>>>>>>>>>>  write(nfil,*)'</VTKFile>'
>>>>>>>>>>  close(nfil)
>>>>>>>>>>!
>>>>>>>>>>  return
>>>>>>>>>>  end
>>>>>>>>>>
>>>>>>>>>>_______________________________________________
>>>>>>>>>>ParaView mailing list
>>>>>>>>>>ParaView@paraview.org
>>>>>>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>--
>>>>>>Dominik Szczerba, Dr.
>>>>>>Computer Vision Lab CH-8092 Zurich
>>>>>>http://www.vision.ee.ethz.ch/~domi
>>>>>
>>>>>_______________________________________________
>>>>>ParaView mailing list
>>>>>ParaView@paraview.org
>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>--
>>>>>Dominik Szczerba, Dr.
>>>>>Computer Vision Lab CH-8092 Zurich
>>>>>http://www.vision.ee.ethz.ch/~domi
>>>>>_______________________________________________
>>>>>ParaView mailing list
>>>>>ParaView@paraview.org
>>>>>http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>
>>>
>>--
>>Dominik Szczerba, Dr.
>>Computer Vision Lab CH-8092 Zurich
>>http://www.vision.ee.ethz.ch/~domi
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From stefan.friedel at iwr.uni-heidelberg.de  Thu Feb  2 04:30:43 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Thu Feb  2 04:30:58 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
Message-ID: <20060202093043.GD10386@woyzeck>

Hello all,

I want to compile Paraview for a cluster - based on an old debian/woody; linux
kernel 2.4.31, gcc/g++ 3.3.5 and mpich (gm/Myri). We want to use off-screen
rendering. I tried to use the  debian stable mesa libs (some 4.x) and also the
current mesa release 6.4.1 from www.mesa3d.org - but I always get a compiler
error after a while, saying:

#############################
[...]
Building object file vtkOpenGLExtensionManager.o...
/home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rendering/vtkOpenGLExtensionManager.cxx: In
   member function `virtual void (*
   vtkOpenGLExtensionManager::GetProcAddress(const char*))()':
/home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rendering/vtkOpenGLExtensionManager.cxx:195: error: `
   glXGetProcAddressARB' undeclared (first use this function)
/home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rendering/vtkOpenGLExtensionManager.cxx:195: error: (Each
   undeclared identifier is reported only once for each function it appears
   in.)
make[5]: *** [vtkOpenGLExtensionManager.o] Error 1
make[4]: *** [default_target] Error 2
make[3]: *** [default_target_Rendering] Error 2
make[2]: *** [default_target] Error 2
make[1]: *** [default_target_VTK] Error 2
make: *** [default_target] Error 2

#############################

But in glx.h:

#############################
[...]
extern void (*glXGetProcAddressARB(const GLubyte *procName))();
[...]
#############################

Is there a general problem when using mesa? Do I need another OpenGL
implementation? I found some hints to replace the glx.h header from mesa with
the one from eg. NVIDIAs binary driver, any experiences with that  -  or any
other hints? 

Thanks+Regards, Stefan Friedel
-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060202/31bf1501/attachment.pgp
From kmorel at sandia.gov  Thu Feb  2 11:14:09 2006
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Thu Feb  2 11:14:28 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
Message-ID: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9B3@ES21SNLNT.srn.sandia.gov>

Stefan,

My guess is that another glx.h somewhere else on your system is being included before or instead of the Mesa version.  You may want to check the compiler flags in the make files to see if that is the case.

The ParaView/VTK/Rendering/CMakeLists.txt has a check to see if the glXGetProcAddressARB prototype exists in gl.h or glx.h.  The CMake test appears to be using the right include files (and identifying that the prototype exists) whereas the actual compile is using the wrong include files.

For a quick workaround, try this.  Edit your CMakeCache.txt file and change the entry for VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS from TRUE to FALSE.  Make sure you leave VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED to 1.

-Ken

   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********  
*** *** ***  email: kmorel@sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      fax:   (505) 845-0833
 

> -----Original Message-----
> From: paraview-bounces+kmorel=sandia.gov@paraview.org 
> [mailto:paraview-bounces+kmorel=sandia.gov@paraview.org] On 
> Behalf Of Stefan Friedel
> Sent: Thursday, February 02, 2006 2:31 AM
> To: paraview@paraview.org
> Subject: [Paraview] help w/ glXGetProcAddressARB not declared
> 
> Hello all,
> 
> I want to compile Paraview for a cluster - based on an old 
> debian/woody; linux kernel 2.4.31, gcc/g++ 3.3.5 and mpich 
> (gm/Myri). We want to use off-screen rendering. I tried to 
> use the  debian stable mesa libs (some 4.x) and also the 
> current mesa release 6.4.1 from www.mesa3d.org - but I always 
> get a compiler error after a while, saying:
> 
> #############################
> [...]
> Building object file vtkOpenGLExtensionManager.o...
> /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rend
> ering/vtkOpenGLExtensionManager.cxx: In
>    member function `virtual void (*
>    vtkOpenGLExtensionManager::GetProcAddress(const char*))()':
> /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rend
> ering/vtkOpenGLExtensionManager.cxx:195: error: `
>    glXGetProcAddressARB' undeclared (first use this function)
> /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rend
> ering/vtkOpenGLExtensionManager.cxx:195: error: (Each
>    undeclared identifier is reported only once for each 
> function it appears
>    in.)
> make[5]: *** [vtkOpenGLExtensionManager.o] Error 1
> make[4]: *** [default_target] Error 2
> make[3]: *** [default_target_Rendering] Error 2
> make[2]: *** [default_target] Error 2
> make[1]: *** [default_target_VTK] Error 2
> make: *** [default_target] Error 2
> 
> #############################
> 
> But in glx.h:
> 
> #############################
> [...]
> extern void (*glXGetProcAddressARB(const GLubyte 
> *procName))(); [...] #############################
> 
> Is there a general problem when using mesa? Do I need another 
> OpenGL implementation? I found some hints to replace the 
> glx.h header from mesa with the one from eg. NVIDIAs binary 
> driver, any experiences with that  -  or any other hints? 
> 
> Thanks+Regards, Stefan Friedel
> --
> Zentrale Dienste - Interdisziplin?res Zentrum f?r 
> Wissenschaftliches Rechnen der Universit?t Heidelberg - IWR - 
> INF 368, 69120 Heidelberg 
> stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
> IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
> 

From domi at vision.ee.ethz.ch  Thu Feb  2 11:24:43 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Thu Feb  2 11:24:46 2006
Subject: [Paraview] raw import cell centered data
Message-ID: <43E2324B.10307@vision.ee.ethz.ch>

Hi,
Can I import 3-D raw binary (structured) dataset such that the data
entries correspond to cell centers, NOT points. i.e. I want to get the
same result as loading a structured grid data and not image data (i.e.
such that after import I clearly see pixels, not nodal interpolations).
regards,
Dominik

-- 
Dominik Szczerba, Dr.
ETZ C110 CO-ME/BIWI CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From noelieboy at online.ie  Fri Feb  3 04:30:51 2006
From: noelieboy at online.ie (noelieboy@online.ie)
Date: Fri Feb  3 04:30:58 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <mailman.0.1138914246.19122.paraview@paraview.org>
References: <mailman.0.1138914246.19122.paraview@paraview.org>
Message-ID: <20060203093051.45xne706s8sk8skc@mail.online.ie>

Hi there,
I am currently writing legacy VTK files of a surface made 
unstructured_grid using fortran 90, and look at them  in Paraview that 
is installed on my desktop PC (2GB RAM). I now want to start viewing 
large models and using the current method the files are getting big and 
also paraview crashes (i assume due to lack of RAM). Is there any 
particular file format (xml/ensight etc) that is designed to use less 
system ram when visualising the models, for the same model detail? And 
as a second question, which one would be the recommended format for 
generation using fortran90 ?


From tdubuis at scconsultants.com  Fri Feb  3 05:04:27 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Fri Feb  3 05:04:41 2006
Subject: [Paraview] Problem in multiple "Save Session State"
Message-ID: <43E32AAB.50106@scconsultants.com>

Hello,

Have you seen my question about pb with "Save Session State" ?
When I save 2 time a session state (in a same paraview session) in the 
second one I loose several informations.

 >>>I have a problem with the session state in Paraview 2.4.2.
 >>>I load a vtu file make a cut, I save the session state.
 >>>The pvs file is Ok
 >>>I save again the session state with a new name without do anything 
else.
 >>>The last pvs file is smaller than the first and can't be loaded.

 >>>I attached my 2 files

 >>>Could you see my problem.

Thank for your help

Best regards

-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

-------------- next part --------------
# ParaView State Version 2.4

set kw(vtkTemp2) [$Application GetMainWindow]
set kw(vtkTemp85) [$kw(vtkTemp2) GetMainView]
set kw(vtkTemp1070) [$kw(vtkTemp2) GetAnimationManager]
[$kw(vtkTemp2) GetRotateCameraButton] SetSelectedState 1
$kw(vtkTemp2) ChangeInteractorStyle 1

# Glyph Sources
$kw(vtkTemp855) SetValue 6
$kw(vtkTemp861) SetValue 0.1
$kw(vtkTemp867) SetValue 0.35
$kw(vtkTemp873) SetValue 6
$kw(vtkTemp879) SetValue 0.03
$kw(vtkTemp854) AcceptCallback
$kw(vtkTemp886) SetValue 6
$kw(vtkTemp892) SetValue 0.5
$kw(vtkTemp897) SetValue 1
$kw(vtkTemp902) SetSelectedState 1
$kw(vtkTemp885) AcceptCallback
$kw(vtkTemp906) SetValue 1
$kw(vtkTemp911) SetValue 1
$kw(vtkTemp916) SetValue 1
$kw(vtkTemp921) SetValue 0 0 0
$kw(vtkTemp905) AcceptCallback
$kw(vtkTemp924) SetVisibility 1
$kw(vtkTemp924) SetPoint1 -0.5 0 0
$kw(vtkTemp924) SetPoint2 0.5 0 0
$kw(vtkTemp924) SetResolution 0
$kw(vtkTemp942) SetValue 6
$kw(vtkTemp923) AcceptCallback
$kw(vtkTemp948) SetValue 0 0 0
$kw(vtkTemp950) SetValue 0.5
$kw(vtkTemp955) SetValue 8
$kw(vtkTemp961) SetValue 0
$kw(vtkTemp967) SetValue 360
$kw(vtkTemp973) SetValue 8
$kw(vtkTemp979) SetValue 0
$kw(vtkTemp985) SetValue 180
$kw(vtkTemp947) AcceptCallback
$kw(vtkTemp992) SelectCallback {Arrow} {9}
$kw(vtkTemp996) SetSelectedState 0
$kw(vtkTemp999) SetValue 0 0 0
$kw(vtkTemp991) AcceptCallback

set kw(vtkTemp1011) [$kw(vtkTemp2) InitializeReadCustom "XMLUnstructuredGridReader" "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"]
$kw(vtkTemp2) ReadFileInformation $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp2) FinalizeRead $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1011) SetLabel {Extrusion_1.vtu}
$kw(vtkTemp1020) SetValue "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1015) SetArrayStatus {DistanceVis} 1
$kw(vtkTemp1015) SetArrayStatus {FncarVis} 1
$kw(vtkTemp1015) SetArrayStatus {Pression_UM} 1
$kw(vtkTemp1015) SetArrayStatus {Vitesse} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseX} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseY} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseZ} 1
$kw(vtkTemp1019) SetArrayStatus {TauxCisaillement} 1
$kw(vtkTemp1011) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1011) [$kw(vtkTemp1011) GetDisplayProxy] 
[$pvDisp(vtkTemp1011) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1011) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1011) GetProperty Visibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorSpace] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty HSVWrap] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarVisibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Specular] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarOpacityUnitDistance] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
$pvDisp(vtkTemp1011) UpdateVTKObjects
[$kw(vtkTemp1011) GetPVOutput] Update
[$kw(vtkTemp1011) GetPVOutput] ColorByProperty
$kw(vtkTemp2) SetCurrentPVSourceCallback $kw(vtkTemp1011)
set kw(vtkTemp1072) [$kw(vtkTemp2) CreatePVSource Cut]
$kw(vtkTemp1072) SetLabel {Cut0}
$kw(vtkTemp1073) SetCurrentValue $kw(vtkTemp1011)
$kw(vtkTemp1116) SetCurrentValue {Plane}
$kw(vtkTemp1084) SetVisibility 1
$kw(vtkTemp1084) SetCenter 0 0 30
$kw(vtkTemp1084) SetNormal 0 0 1
$kw(vtkTemp1117) RemoveAllValues
$kw(vtkTemp1117) AddValue 0
$kw(vtkTemp1072) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1072) [$kw(vtkTemp1072) GetDisplayProxy] 
[$pvDisp(vtkTemp1072) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1072) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1072) GetProperty Visibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ColorArray] SetElement 0 {Pression_UM}
[$pvDisp(vtkTemp1072) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty ScalarMode] SetElement 0 3
[$pvDisp(vtkTemp1072) GetProperty ScalarVisibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Specular] SetElement 0 0
$pvDisp(vtkTemp1072) UpdateVTKObjects
[$kw(vtkTemp1072) GetPVOutput] ColorByArray {Pression_UM} 3
$kw(vtkTemp1011) SetVisibility 0
$kw(vtkTemp1072) SetVisibility 1
set kw(vtkTemp1191) [$kw(vtkTemp2) GetPVColorMap {Pression_UM} 1]
$kw(vtkTemp1191) SetScalarBarTitle {Pression_UM}
$kw(vtkTemp1191) SetScalarBarVectorTitle {Magnitude}
$kw(vtkTemp1191) SetScalarBarLabelFormat {%-#6.3g}
$kw(vtkTemp1191) SetStartHSV 0.6667 1 1
$kw(vtkTemp1191) SetEndHSV 0 1 1
$kw(vtkTemp1191) SetNumberOfColors 256
$kw(vtkTemp1191) SetScalarRange -11.0444 112.05
$kw(vtkTemp1191) SetScalarRangeLock 0
$kw(vtkTemp1191) SetScalarBarVisibility 0
$kw(vtkTemp1191) SetScalarBarPosition1 0.87 0.25
$kw(vtkTemp1191) SetScalarBarPosition2 0.13 0.5
$kw(vtkTemp1191) SetScalarBarOrientation 1
$kw(vtkTemp85) SetRendererBackgroundColor 0.33 0.35 0.43
$kw(vtkTemp85) ParallelProjectionOff
$kw(vtkTemp85) SetCameraState 171.603 108.631 153.212 0 0 30 -0.23003 0.866299 -0.44341
$kw(vtkTemp85) SetUseTriangleStrips 0
$kw(vtkTemp85) SetUseImmediateMode 1
set kw(vtkTemp423) [$kw(vtkTemp85) GetRenderModuleUI]
catch {$kw(vtkTemp423) SetLODThreshold 5}
catch {$kw(vtkTemp423) SetLODResolution 50}
catch {$kw(vtkTemp423) SetOutlineThreshold 5e+006}
catch {$kw(vtkTemp423) SetRenderInterruptsEnabled 1}
set kw(vtkTemp368) [$kw(vtkTemp85) GetCornerAnnotation]
$kw(vtkTemp368) SetVisibility 0
$kw(vtkTemp368) SetCornerText {} 0
$kw(vtkTemp368) SetCornerText {} 1
$kw(vtkTemp368) SetCornerText {} 2
$kw(vtkTemp368) SetCornerText {} 3
$kw(vtkTemp368) SetMaximumLineHeight 0.07
set kw(vtkTemp389) [$kw(vtkTemp368) GetTextPropertyWidget]
$kw(vtkTemp389) SetColor 1 1 1
$kw(vtkTemp389) SetFontFamily 0
$kw(vtkTemp389) SetBold 0
$kw(vtkTemp389) SetItalic 0
$kw(vtkTemp389) SetShadow 0
$kw(vtkTemp389) SetOpacity 1
$kw(vtkTemp85) SetOrientationAxesVisibility 1
$kw(vtkTemp85) SetOrientationAxesInteractivity 0
$kw(vtkTemp85) SetOrientationAxesOutlineColor 1 1 1
$kw(vtkTemp85) SetOrientationAxesTextColor 1 1 1
set kw(vtkTemp796) [$kw(vtkTemp85) GetManipulatorControl2D]
$kw(vtkTemp796) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp796) SetCurrentManipulator 0 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 0 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp795) [$kw(vtkTemp85) GetManipulatorControl3D]
$kw(vtkTemp795) SetCurrentManipulator 0 2 {FlyIn}
$kw(vtkTemp795) SetCurrentManipulator 2 2 {FlyOut}
$kw(vtkTemp795) SetCurrentManipulator 0 0 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 1 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 2 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp795) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp670) [$kw(vtkTemp1070) GetAnimationScene]
set kw(vtkTemp655) [$kw(vtkTemp1070) GetVAnimationInterface]
set kw(vtkTemp629) [$kw(vtkTemp1070) GetHAnimationInterface]

set kw(vtkTemp632) [$kw(vtkTemp629) GetParentTree]
$kw(vtkTemp632) SetExpanded 1
set kw(vtkTemp699) [$kw(vtkTemp632) GetChild "_dont_validate_.ActiveCamera"]
$kw(vtkTemp699) SetExpanded 0
set kw(vtkTemp702) [$kw(vtkTemp699) GetChild "Camera.-1"]
$kw(vtkTemp702) RemoveAllKeyFrames
set kw(vtkTemp1035) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1011) GetName]"]
$kw(vtkTemp1035) SetExpanded 0
set kw(vtkTemp1037) [$kw(vtkTemp1035) GetChild "FileName.0"]
$kw(vtkTemp1037) RemoveAllKeyFrames

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 0 0]
set kw(vtkTemp1056) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1056) SetKeyTime 0
$kw(vtkTemp1056) SetKeyValue 0 0

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 1 0]
set kw(vtkTemp1064) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1064) SetKeyTime 1
$kw(vtkTemp1064) SetKeyValue 0 7
set kw(vtkTemp1039) [$kw(vtkTemp1035) GetChild "Sources.[$kw(vtkTemp1011) GetName].Display"]
$kw(vtkTemp1039) SetExpanded 0
set kw(vtkTemp1041) [$kw(vtkTemp1039) GetChild "Representation.0"]
$kw(vtkTemp1041) RemoveAllKeyFrames
set kw(vtkTemp1043) [$kw(vtkTemp1039) GetChild "Visibility.0"]
$kw(vtkTemp1043) RemoveAllKeyFrames
set kw(vtkTemp1045) [$kw(vtkTemp1039) GetChild "Orientation"]
$kw(vtkTemp1045) SetExpanded 0
set kw(vtkTemp1047) [$kw(vtkTemp1045) GetChild "Orientation.0"]
$kw(vtkTemp1047) RemoveAllKeyFrames
set kw(vtkTemp1049) [$kw(vtkTemp1045) GetChild "Orientation.1"]
$kw(vtkTemp1049) RemoveAllKeyFrames
set kw(vtkTemp1051) [$kw(vtkTemp1045) GetChild "Orientation.2"]
$kw(vtkTemp1051) RemoveAllKeyFrames
set kw(vtkTemp1053) [$kw(vtkTemp1039) GetChild "Opacity.0"]
$kw(vtkTemp1053) RemoveAllKeyFrames
set kw(vtkTemp1148) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1072) GetName]"]
$kw(vtkTemp1148) SetExpanded 0
set kw(vtkTemp1150) [$kw(vtkTemp1148) GetChild "ContourValues.-1"]
$kw(vtkTemp1150) RemoveAllKeyFrames
set kw(vtkTemp1152) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Plane"]
$kw(vtkTemp1152) SetExpanded 0
set kw(vtkTemp1154) [$kw(vtkTemp1152) GetChild "Normal"]
$kw(vtkTemp1154) SetExpanded 0
set kw(vtkTemp1156) [$kw(vtkTemp1154) GetChild "Normal.0"]
$kw(vtkTemp1156) RemoveAllKeyFrames
set kw(vtkTemp1158) [$kw(vtkTemp1154) GetChild "Normal.1"]
$kw(vtkTemp1158) RemoveAllKeyFrames
set kw(vtkTemp1160) [$kw(vtkTemp1154) GetChild "Normal.2"]
$kw(vtkTemp1160) RemoveAllKeyFrames
set kw(vtkTemp1162) [$kw(vtkTemp1152) GetChild "Offset.0"]
$kw(vtkTemp1162) RemoveAllKeyFrames
set kw(vtkTemp1164) [$kw(vtkTemp1152) GetChild "Origin"]
$kw(vtkTemp1164) SetExpanded 0
set kw(vtkTemp1166) [$kw(vtkTemp1164) GetChild "Origin.0"]
$kw(vtkTemp1166) RemoveAllKeyFrames
set kw(vtkTemp1168) [$kw(vtkTemp1164) GetChild "Origin.1"]
$kw(vtkTemp1168) RemoveAllKeyFrames
set kw(vtkTemp1170) [$kw(vtkTemp1164) GetChild "Origin.2"]
$kw(vtkTemp1170) RemoveAllKeyFrames
set kw(vtkTemp1172) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Display"]
$kw(vtkTemp1172) SetExpanded 0
set kw(vtkTemp1174) [$kw(vtkTemp1172) GetChild "Representation.0"]
$kw(vtkTemp1174) RemoveAllKeyFrames
set kw(vtkTemp1176) [$kw(vtkTemp1172) GetChild "Visibility.0"]
$kw(vtkTemp1176) RemoveAllKeyFrames
set kw(vtkTemp1178) [$kw(vtkTemp1172) GetChild "Orientation"]
$kw(vtkTemp1178) SetExpanded 0
set kw(vtkTemp1180) [$kw(vtkTemp1178) GetChild "Orientation.0"]
$kw(vtkTemp1180) RemoveAllKeyFrames
set kw(vtkTemp1182) [$kw(vtkTemp1178) GetChild "Orientation.1"]
$kw(vtkTemp1182) RemoveAllKeyFrames
set kw(vtkTemp1184) [$kw(vtkTemp1178) GetChild "Orientation.2"]
$kw(vtkTemp1184) RemoveAllKeyFrames
set kw(vtkTemp1186) [$kw(vtkTemp1172) GetChild "Opacity.0"]
$kw(vtkTemp1186) RemoveAllKeyFrames

# State for vtkPVAnimationScene
$kw(vtkTemp670) SetDuration 8
$kw(vtkTemp670) SetPlayMode 0
$kw(vtkTemp670) SetFrameRate 1
$kw(vtkTemp670) SetLoop 0
$kw(vtkTemp670) SetAnimationTime 0
$kw(vtkTemp2) SetCenterOfRotation 0 0 30

# Comparative visualizations
set kw(vtkTemp1254) [$kw(vtkTemp2) GetComparativeVisManagerGUI]
set kw(vtkTemp1281) [$kw(vtkTemp1254) GetManager]

vtkSMObject foo
set proxyManager [foo GetProxyManager]
foo Delete

$kw(vtkTemp1254) Update
-------------- next part --------------
# ParaView State Version 2.4

set kw(vtkTemp2) [$Application GetMainWindow]
set kw(vtkTemp85) [$kw(vtkTemp2) GetMainView]
set kw(vtkTemp1070) [$kw(vtkTemp2) GetAnimationManager]
[$kw(vtkTemp2) GetRotateCameraButton] SetSelectedState 1
$kw(vtkTemp2) ChangeInteractorStyle 1

# Glyph Sources
set kw(vtkTemp854) [$kw(vtkTemp2) GetPVSource GlyphSources Arrow0]
set kw(vtkTemp855) [$kw(vtkTemp854) GetPVWidget {TipResolution}]
$kw(vtkTemp855) SetValue 6
set kw(vtkTemp861) [$kw(vtkTemp854) GetPVWidget {TipRadius}]
$kw(vtkTemp861) SetValue 0.1
set kw(vtkTemp867) [$kw(vtkTemp854) GetPVWidget {TipLength}]
$kw(vtkTemp867) SetValue 0.35
set kw(vtkTemp873) [$kw(vtkTemp854) GetPVWidget {ShaftResolution}]
$kw(vtkTemp873) SetValue 6
set kw(vtkTemp879) [$kw(vtkTemp854) GetPVWidget {ShaftRadius}]
$kw(vtkTemp879) SetValue 0.03
$kw(vtkTemp854) AcceptCallback
set kw(vtkTemp885) [$kw(vtkTemp2) GetPVSource GlyphSources Cone0]
set kw(vtkTemp886) [$kw(vtkTemp885) GetPVWidget {Resolution}]
$kw(vtkTemp886) SetValue 6
set kw(vtkTemp892) [$kw(vtkTemp885) GetPVWidget {Radius}]
$kw(vtkTemp892) SetValue 0.5
set kw(vtkTemp897) [$kw(vtkTemp885) GetPVWidget {Height}]
$kw(vtkTemp897) SetValue 1
set kw(vtkTemp902) [$kw(vtkTemp885) GetPVWidget {Capping}]
$kw(vtkTemp902) SetSelectedState 1
$kw(vtkTemp885) AcceptCallback
set kw(vtkTemp905) [$kw(vtkTemp2) GetPVSource GlyphSources Cube0]
set kw(vtkTemp906) [$kw(vtkTemp905) GetPVWidget {XLength}]
$kw(vtkTemp906) SetValue 1
set kw(vtkTemp911) [$kw(vtkTemp905) GetPVWidget {YLength}]
$kw(vtkTemp911) SetValue 1
set kw(vtkTemp916) [$kw(vtkTemp905) GetPVWidget {ZLength}]
$kw(vtkTemp916) SetValue 1
set kw(vtkTemp921) [$kw(vtkTemp905) GetPVWidget {Center}]
$kw(vtkTemp921) SetValue 0 0 0
$kw(vtkTemp905) AcceptCallback
set kw(vtkTemp923) [$kw(vtkTemp2) GetPVSource GlyphSources Line0]
set kw(vtkTemp924) [$kw(vtkTemp923) GetPVWidget {Line}]
$kw(vtkTemp924) SetVisibility 1
$kw(vtkTemp924) SetPoint1 -0.5 0 0
$kw(vtkTemp924) SetPoint2 0.5 0 0
$kw(vtkTemp924) SetResolution 0
set kw(vtkTemp942) [$kw(vtkTemp923) GetPVWidget {Resolution}]
$kw(vtkTemp942) SetValue 6
$kw(vtkTemp923) AcceptCallback
set kw(vtkTemp947) [$kw(vtkTemp2) GetPVSource GlyphSources Sphere0]
set kw(vtkTemp948) [$kw(vtkTemp947) GetPVWidget {Center}]
$kw(vtkTemp948) SetValue 0 0 0
set kw(vtkTemp950) [$kw(vtkTemp947) GetPVWidget {Radius}]
$kw(vtkTemp950) SetValue 0.5
set kw(vtkTemp955) [$kw(vtkTemp947) GetPVWidget {Theta Resolution}]
$kw(vtkTemp955) SetValue 8
set kw(vtkTemp961) [$kw(vtkTemp947) GetPVWidget {Start Theta}]
$kw(vtkTemp961) SetValue 0
set kw(vtkTemp967) [$kw(vtkTemp947) GetPVWidget {End Theta}]
$kw(vtkTemp967) SetValue 360
set kw(vtkTemp973) [$kw(vtkTemp947) GetPVWidget {Phi Resolution}]
$kw(vtkTemp973) SetValue 8
set kw(vtkTemp979) [$kw(vtkTemp947) GetPVWidget {Start Phi}]
$kw(vtkTemp979) SetValue 0
set kw(vtkTemp985) [$kw(vtkTemp947) GetPVWidget {End Phi}]
$kw(vtkTemp985) SetValue 180
$kw(vtkTemp947) AcceptCallback
set kw(vtkTemp991) [$kw(vtkTemp2) GetPVSource GlyphSources Glyph2D0]
set kw(vtkTemp992) [$kw(vtkTemp991) GetPVWidget {GlyphType}]
$kw(vtkTemp992) SelectCallback {Arrow} {9}
set kw(vtkTemp996) [$kw(vtkTemp991) GetPVWidget {Filled}]
$kw(vtkTemp996) SetSelectedState 0
set kw(vtkTemp999) [$kw(vtkTemp991) GetPVWidget {Center}]
$kw(vtkTemp999) SetValue 0 0 0
$kw(vtkTemp991) AcceptCallback

set kw(vtkTemp1011) [$kw(vtkTemp2) InitializeReadCustom "XMLUnstructuredGridReader" "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"]
$kw(vtkTemp2) ReadFileInformation $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp2) FinalizeRead $kw(vtkTemp1011) "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
$kw(vtkTemp1011) SetLabel {Extrusion_1.vtu}
set kw(vtkTemp1020) [$kw(vtkTemp1011) GetPVWidget {Filename}]
$kw(vtkTemp1020) SetValue "C:/devel_test/ximex/V1.0/cryptage/resultats/Extrusion_1.vtu"
set kw(vtkTemp1015) [$kw(vtkTemp1011) GetPVWidget {PointSelection}]
$kw(vtkTemp1015) SetArrayStatus {DistanceVis} 1
$kw(vtkTemp1015) SetArrayStatus {FncarVis} 1
$kw(vtkTemp1015) SetArrayStatus {Pression_UM} 1
$kw(vtkTemp1015) SetArrayStatus {Vitesse} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseX} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseY} 1
$kw(vtkTemp1015) SetArrayStatus {VitesseZ} 1
set kw(vtkTemp1019) [$kw(vtkTemp1011) GetPVWidget {CellSelection}]
$kw(vtkTemp1019) SetArrayStatus {TauxCisaillement} 1
$kw(vtkTemp1011) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1011) [$kw(vtkTemp1011) GetDisplayProxy] 
[$pvDisp(vtkTemp1011) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1011) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1011) GetProperty Visibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorSpace] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty HSVWrap] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ColorArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarVisibility] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1011) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1011) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1011) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty Specular] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
[$pvDisp(vtkTemp1011) GetProperty ScalarOpacityUnitDistance] SetElement 0 1
[$pvDisp(vtkTemp1011) GetProperty ScalarMode] SetElement 0 0
[$pvDisp(vtkTemp1011) GetProperty SelectScalarArray] SetElement 0 {}
$pvDisp(vtkTemp1011) UpdateVTKObjects
[$kw(vtkTemp1011) GetPVOutput] Update
[$kw(vtkTemp1011) GetPVOutput] ColorByProperty
$kw(vtkTemp2) SetCurrentPVSourceCallback $kw(vtkTemp1011)
set kw(vtkTemp1072) [$kw(vtkTemp2) CreatePVSource Cut]
$kw(vtkTemp1072) SetLabel {Cut0}
set kw(vtkTemp1073) [$kw(vtkTemp1072) GetPVWidget {Input}]
$kw(vtkTemp1073) SetCurrentValue $kw(vtkTemp1011)
set kw(vtkTemp1116) [$kw(vtkTemp1072) GetPVWidget {Cut Function}]
$kw(vtkTemp1116) SetCurrentValue {Plane}
set kw(vtkTemp1084) [$kw(vtkTemp1116) GetPVWidget {Plane}]
$kw(vtkTemp1084) SetVisibility 1
$kw(vtkTemp1084) SetCenter 0 0 30
$kw(vtkTemp1084) SetNormal 0 0 1
set kw(vtkTemp1117) [$kw(vtkTemp1072) GetPVWidget {Cut Values}]
$kw(vtkTemp1117) RemoveAllValues
$kw(vtkTemp1117) AddValue 0
$kw(vtkTemp1072) AcceptCallback
# Saving state of the Display Proxy associated with the source
set pvDisp(vtkTemp1072) [$kw(vtkTemp1072) GetDisplayProxy] 
[$pvDisp(vtkTemp1072) GetProperty LODResolution] SetElement 0 50
[$pvDisp(vtkTemp1072) GetProperty Representation] SetElement 0 2
[$pvDisp(vtkTemp1072) GetProperty Visibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseStrips] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ColorArray] SetElement 0 {Pression_UM}
[$pvDisp(vtkTemp1072) GetProperty ColorMode] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty ImmediateModeRendering] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty InterpolateScalarsBeforeMapping] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty ScalarMode] SetElement 0 3
[$pvDisp(vtkTemp1072) GetProperty ScalarVisibility] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty UseLookupTableScalarRange] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Orientation] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Origin] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 0 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 1 0
[$pvDisp(vtkTemp1072) GetProperty Position] SetElement 2 0
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Scale] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 1 1
[$pvDisp(vtkTemp1072) GetProperty Color] SetElement 2 1
[$pvDisp(vtkTemp1072) GetProperty Interpolation] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty LineWidth] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Opacity] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty PointSize] SetElement 0 1
[$pvDisp(vtkTemp1072) GetProperty Specular] SetElement 0 0
$pvDisp(vtkTemp1072) UpdateVTKObjects
[$kw(vtkTemp1072) GetPVOutput] ColorByArray {Pression_UM} 3
$kw(vtkTemp1011) SetVisibility 0
$kw(vtkTemp1072) SetVisibility 1
set kw(vtkTemp1191) [$kw(vtkTemp2) GetPVColorMap {Pression_UM} 1]
$kw(vtkTemp1191) SetScalarBarTitle {Pression_UM}
$kw(vtkTemp1191) SetScalarBarVectorTitle {Magnitude}
$kw(vtkTemp1191) SetScalarBarLabelFormat {%-#6.3g}
$kw(vtkTemp1191) SetStartHSV 0.6667 1 1
$kw(vtkTemp1191) SetEndHSV 0 1 1
$kw(vtkTemp1191) SetNumberOfColors 256
$kw(vtkTemp1191) SetScalarRange -11.0444 112.05
$kw(vtkTemp1191) SetScalarRangeLock 0
$kw(vtkTemp1191) SetScalarBarVisibility 0
$kw(vtkTemp1191) SetScalarBarPosition1 0.87 0.25
$kw(vtkTemp1191) SetScalarBarPosition2 0.13 0.5
$kw(vtkTemp1191) SetScalarBarOrientation 1
$kw(vtkTemp85) SetRendererBackgroundColor 0.33 0.35 0.43
$kw(vtkTemp85) ParallelProjectionOff
$kw(vtkTemp85) SetCameraState 171.603 108.631 153.212 0 0 30 -0.23003 0.866299 -0.44341
$kw(vtkTemp85) SetUseTriangleStrips 0
$kw(vtkTemp85) SetUseImmediateMode 1
set kw(vtkTemp423) [$kw(vtkTemp85) GetRenderModuleUI]
catch {$kw(vtkTemp423) SetLODThreshold 5}
catch {$kw(vtkTemp423) SetLODResolution 50}
catch {$kw(vtkTemp423) SetOutlineThreshold 5e+006}
catch {$kw(vtkTemp423) SetRenderInterruptsEnabled 1}
set kw(vtkTemp368) [$kw(vtkTemp85) GetCornerAnnotation]
$kw(vtkTemp368) SetVisibility 0
$kw(vtkTemp368) SetCornerText {} 0
$kw(vtkTemp368) SetCornerText {} 1
$kw(vtkTemp368) SetCornerText {} 2
$kw(vtkTemp368) SetCornerText {} 3
$kw(vtkTemp368) SetMaximumLineHeight 0.07
set kw(vtkTemp389) [$kw(vtkTemp368) GetTextPropertyWidget]
$kw(vtkTemp389) SetColor 1 1 1
$kw(vtkTemp389) SetFontFamily 0
$kw(vtkTemp389) SetBold 0
$kw(vtkTemp389) SetItalic 0
$kw(vtkTemp389) SetShadow 0
$kw(vtkTemp389) SetOpacity 1
$kw(vtkTemp85) SetOrientationAxesVisibility 1
$kw(vtkTemp85) SetOrientationAxesInteractivity 0
$kw(vtkTemp85) SetOrientationAxesOutlineColor 1 1 1
$kw(vtkTemp85) SetOrientationAxesTextColor 1 1 1
set kw(vtkTemp796) [$kw(vtkTemp85) GetManipulatorControl2D]
$kw(vtkTemp796) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp796) SetCurrentManipulator 0 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 0 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 1 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 2 {Pan}
$kw(vtkTemp796) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp795) [$kw(vtkTemp85) GetManipulatorControl3D]
$kw(vtkTemp795) SetCurrentManipulator 0 2 {FlyIn}
$kw(vtkTemp795) SetCurrentManipulator 2 2 {FlyOut}
$kw(vtkTemp795) SetCurrentManipulator 0 0 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 1 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 1 2 {Rotate}
$kw(vtkTemp795) SetCurrentManipulator 0 1 {Roll}
$kw(vtkTemp795) SetCurrentManipulator 1 0 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 1 {Pan}
$kw(vtkTemp795) SetCurrentManipulator 2 0 {Zoom}
set kw(vtkTemp670) [$kw(vtkTemp1070) GetAnimationScene]
set kw(vtkTemp655) [$kw(vtkTemp1070) GetVAnimationInterface]
set kw(vtkTemp629) [$kw(vtkTemp1070) GetHAnimationInterface]

set kw(vtkTemp632) [$kw(vtkTemp629) GetParentTree]
$kw(vtkTemp632) SetExpanded 1
set kw(vtkTemp699) [$kw(vtkTemp632) GetChild "_dont_validate_.ActiveCamera"]
$kw(vtkTemp699) SetExpanded 0
set kw(vtkTemp702) [$kw(vtkTemp699) GetChild "Camera.-1"]
$kw(vtkTemp702) RemoveAllKeyFrames
set kw(vtkTemp1035) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1011) GetName]"]
$kw(vtkTemp1035) SetExpanded 0
set kw(vtkTemp1037) [$kw(vtkTemp1035) GetChild "FileName.0"]
$kw(vtkTemp1037) RemoveAllKeyFrames

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 0 0]
set kw(vtkTemp1056) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1056) SetKeyTime 0
$kw(vtkTemp1056) SetKeyValue 0 0

set tempid [$kw(vtkTemp1037) CreateAndAddKeyFrame 1 0]
set kw(vtkTemp1064) [$kw(vtkTemp1037) GetKeyFrame $tempid ]
#State of a Key Frame 
$kw(vtkTemp1064) SetKeyTime 1
$kw(vtkTemp1064) SetKeyValue 0 7
set kw(vtkTemp1039) [$kw(vtkTemp1035) GetChild "Sources.[$kw(vtkTemp1011) GetName].Display"]
$kw(vtkTemp1039) SetExpanded 0
set kw(vtkTemp1041) [$kw(vtkTemp1039) GetChild "Representation.0"]
$kw(vtkTemp1041) RemoveAllKeyFrames
set kw(vtkTemp1043) [$kw(vtkTemp1039) GetChild "Visibility.0"]
$kw(vtkTemp1043) RemoveAllKeyFrames
set kw(vtkTemp1045) [$kw(vtkTemp1039) GetChild "Orientation"]
$kw(vtkTemp1045) SetExpanded 0
set kw(vtkTemp1047) [$kw(vtkTemp1045) GetChild "Orientation.0"]
$kw(vtkTemp1047) RemoveAllKeyFrames
set kw(vtkTemp1049) [$kw(vtkTemp1045) GetChild "Orientation.1"]
$kw(vtkTemp1049) RemoveAllKeyFrames
set kw(vtkTemp1051) [$kw(vtkTemp1045) GetChild "Orientation.2"]
$kw(vtkTemp1051) RemoveAllKeyFrames
set kw(vtkTemp1053) [$kw(vtkTemp1039) GetChild "Opacity.0"]
$kw(vtkTemp1053) RemoveAllKeyFrames
set kw(vtkTemp1148) [$kw(vtkTemp632) GetChild "Sources.[$kw(vtkTemp1072) GetName]"]
$kw(vtkTemp1148) SetExpanded 0
set kw(vtkTemp1150) [$kw(vtkTemp1148) GetChild "ContourValues.-1"]
$kw(vtkTemp1150) RemoveAllKeyFrames
set kw(vtkTemp1152) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Plane"]
$kw(vtkTemp1152) SetExpanded 0
set kw(vtkTemp1154) [$kw(vtkTemp1152) GetChild "Normal"]
$kw(vtkTemp1154) SetExpanded 0
set kw(vtkTemp1156) [$kw(vtkTemp1154) GetChild "Normal.0"]
$kw(vtkTemp1156) RemoveAllKeyFrames
set kw(vtkTemp1158) [$kw(vtkTemp1154) GetChild "Normal.1"]
$kw(vtkTemp1158) RemoveAllKeyFrames
set kw(vtkTemp1160) [$kw(vtkTemp1154) GetChild "Normal.2"]
$kw(vtkTemp1160) RemoveAllKeyFrames
set kw(vtkTemp1162) [$kw(vtkTemp1152) GetChild "Offset.0"]
$kw(vtkTemp1162) RemoveAllKeyFrames
set kw(vtkTemp1164) [$kw(vtkTemp1152) GetChild "Origin"]
$kw(vtkTemp1164) SetExpanded 0
set kw(vtkTemp1166) [$kw(vtkTemp1164) GetChild "Origin.0"]
$kw(vtkTemp1166) RemoveAllKeyFrames
set kw(vtkTemp1168) [$kw(vtkTemp1164) GetChild "Origin.1"]
$kw(vtkTemp1168) RemoveAllKeyFrames
set kw(vtkTemp1170) [$kw(vtkTemp1164) GetChild "Origin.2"]
$kw(vtkTemp1170) RemoveAllKeyFrames
set kw(vtkTemp1172) [$kw(vtkTemp1148) GetChild "Sources.[$kw(vtkTemp1072) GetName].Display"]
$kw(vtkTemp1172) SetExpanded 0
set kw(vtkTemp1174) [$kw(vtkTemp1172) GetChild "Representation.0"]
$kw(vtkTemp1174) RemoveAllKeyFrames
set kw(vtkTemp1176) [$kw(vtkTemp1172) GetChild "Visibility.0"]
$kw(vtkTemp1176) RemoveAllKeyFrames
set kw(vtkTemp1178) [$kw(vtkTemp1172) GetChild "Orientation"]
$kw(vtkTemp1178) SetExpanded 0
set kw(vtkTemp1180) [$kw(vtkTemp1178) GetChild "Orientation.0"]
$kw(vtkTemp1180) RemoveAllKeyFrames
set kw(vtkTemp1182) [$kw(vtkTemp1178) GetChild "Orientation.1"]
$kw(vtkTemp1182) RemoveAllKeyFrames
set kw(vtkTemp1184) [$kw(vtkTemp1178) GetChild "Orientation.2"]
$kw(vtkTemp1184) RemoveAllKeyFrames
set kw(vtkTemp1186) [$kw(vtkTemp1172) GetChild "Opacity.0"]
$kw(vtkTemp1186) RemoveAllKeyFrames

# State for vtkPVAnimationScene
$kw(vtkTemp670) SetDuration 8
$kw(vtkTemp670) SetPlayMode 0
$kw(vtkTemp670) SetFrameRate 1
$kw(vtkTemp670) SetLoop 0
$kw(vtkTemp670) SetAnimationTime 0
$kw(vtkTemp2) SetCenterOfRotation 0 0 30

# Comparative visualizations
set kw(vtkTemp1254) [$kw(vtkTemp2) GetComparativeVisManagerGUI]
set kw(vtkTemp1281) [$kw(vtkTemp1254) GetManager]

vtkSMObject foo
set proxyManager [foo GetProxyManager]
foo Delete

$kw(vtkTemp1254) Update
From m.janssens at opencfd.co.uk  Fri Feb  3 05:12:30 2006
From: m.janssens at opencfd.co.uk (mattijs)
Date: Fri Feb  3 05:12:37 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <20060203093051.45xne706s8sk8skc@mail.online.ie>
References: <mailman.0.1138914246.19122.paraview@paraview.org>
	<20060203093051.45xne706s8sk8skc@mail.online.ie>
Message-ID: <200602031012.30836.m.janssens@opencfd.co.uk>

binary legacy VTK files are probably as ram efficient as any.

Does paraview crash when reading the file or when displaying it? If the first 
your files are probably excessively big, if second the file format does not 
matter. Did you monitor the ram usage?

Can you split your problem into smaller files? Write different results to 
different files?


On Friday 03 February 2006 09:30, noelieboy@online.ie wrote:
> Hi there,
> I am currently writing legacy VTK files of a surface made
> unstructured_grid using fortran 90, and look at them  in Paraview that
> is installed on my desktop PC (2GB RAM). I now want to start viewing
> large models and using the current method the files are getting big and
> also paraview crashes (i assume due to lack of RAM). Is there any
> particular file format (xml/ensight etc) that is designed to use less
> system ram when visualising the models, for the same model detail? And
> as a second question, which one would be the recommended format for
> generation using fortran90 ?
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
From noelieboy at online.ie  Fri Feb  3 06:50:17 2006
From: noelieboy at online.ie (noelieboy@online.ie)
Date: Fri Feb  3 06:50:25 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <200602031012.30836.m.janssens@opencfd.co.uk>
References: <mailman.0.1138914246.19122.paraview@paraview.org>
	<20060203093051.45xne706s8sk8skc@mail.online.ie>
	<200602031012.30836.m.janssens@opencfd.co.uk>
Message-ID: <20060203115017.bttrq2ce0wsk8kk4@mail.online.ie>

I appears to crash when it is trying to render the model. I select the 
file to open, its takes approx 6/7 minutes to read, and during the 
rendering process, when the progress bar at the bottom right corner of 
the paraview gui is approaching 100% is crashes. This is before 
anything is dispayed in the 3d view window. So I am not entirely sure 
if it is because RAM is exceeded or perhaps graphics card memory? I am 
trying to display a model with 15million unstructured grid polygons. 
Would binary legacy files allow larger models (models with more 
polygons) to be displayed, or would using binary files only help with 
the actual vtk file size and file reading time? the memory monitor at 
time of crash for the paraview application is:
CPU:92%
CPU time:0:07:03
Mem Usage:798,184 K
Mem Delta:118,360 K
VM size:1,027,240 K

When i look at the paraview trace file, there are loads of the 
following error, each with a different element number:

# Error or warning:
# There was a VTK Error in file: 
c:\dev\paraview24\vtk\common\vtkDataArrayTemplate.txx (241)
#  vtkIdTypeArray (0EE032F8): Unable to allocate 41943170 elements of 
size 4: bad allocation

Have i exceeded the number of elements that paraview can display, 
regardless of file type?


thanks for any help you can give!


Quoting mattijs <m.janssens@opencfd.co.uk>:

> binary legacy VTK files are probably as ram efficient as any.
>
> Does paraview crash when reading the file or when displaying it? If the first
> your files are probably excessively big, if second the file format does not
> matter. Did you monitor the ram usage?
>
> Can you split your problem into smaller files? Write different results to
> different files?
>
>
> On Friday 03 February 2006 09:30, noelieboy@online.ie wrote:
>> Hi there,
>> I am currently writing legacy VTK files of a surface made
>> unstructured_grid using fortran 90, and look at them  in Paraview that
>> is installed on my desktop PC (2GB RAM). I now want to start viewing
>> large models and using the current method the files are getting big and
>> also paraview crashes (i assume due to lack of RAM). Is there any
>> particular file format (xml/ensight etc) that is designed to use less
>> system ram when visualising the models, for the same model detail? And
>> as a second question, which one would be the recommended format for
>> generation using fortran90 ?
>>
>>
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>



From domi at vision.ee.ethz.ch  Fri Feb  3 07:05:46 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Feb  3 07:05:55 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <20060203093051.45xne706s8sk8skc@mail.online.ie>
References: <mailman.0.1138914246.19122.paraview@paraview.org>
	<20060203093051.45xne706s8sk8skc@mail.online.ie>
Message-ID: <43E3471A.60906@vision.ee.ethz.ch>

I dont see how format might affect RAM, if at all, ASCII would be more
demanding if read into memory at once (unlikely).
I suggest legacy binary format as fast and accurate but I don;t know how
to check/change byte order from fortran. Once you figure out pls let us
know.
DS

noelieboy@online.ie wrote:
> Hi there,
> I am currently writing legacy VTK files of a surface made
> unstructured_grid using fortran 90, and look at them  in Paraview that
> is installed on my desktop PC (2GB RAM). I now want to start viewing
> large models and using the current method the files are getting big and
> also paraview crashes (i assume due to lack of RAM). Is there any
> particular file format (xml/ensight etc) that is designed to use less
> system ram when visualising the models, for the same model detail? And
> as a second question, which one would be the recommended format for
> generation using fortran90 ?
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From m.janssens at opencfd.co.uk  Fri Feb  3 07:09:24 2006
From: m.janssens at opencfd.co.uk (mattijs)
Date: Fri Feb  3 07:09:28 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <20060203115017.bttrq2ce0wsk8kk4@mail.online.ie>
References: <mailman.0.1138914246.19122.paraview@paraview.org>
	<200602031012.30836.m.janssens@opencfd.co.uk>
	<20060203115017.bttrq2ce0wsk8kk4@mail.online.ie>
Message-ID: <200602031209.24457.m.janssens@opencfd.co.uk>

> #  vtkIdTypeArray (0EE032F8): Unable to allocate 41943170 elements of
> size 4: bad allocation
Sounds as if you've hit a limit.

Can you increase your virtual memory? (this is windows I guess so don't ask 
me)

Did you experiment with switching on immediate rendering and toggling triangle 
strips before loading?

Otherwise try to split your model, and load the bits separately.

On Friday 03 February 2006 11:50, noelieboy@online.ie wrote:
> I appears to crash when it is trying to render the model. I select the
> file to open, its takes approx 6/7 minutes to read, and during the
> rendering process, when the progress bar at the bottom right corner of
> the paraview gui is approaching 100% is crashes. This is before
> anything is dispayed in the 3d view window. So I am not entirely sure
> if it is because RAM is exceeded or perhaps graphics card memory? I am
> trying to display a model with 15million unstructured grid polygons.
> Would binary legacy files allow larger models (models with more
> polygons) to be displayed, or would using binary files only help with
> the actual vtk file size and file reading time? the memory monitor at
> time of crash for the paraview application is:
> CPU:92%
> CPU time:0:07:03
> Mem Usage:798,184 K
> Mem Delta:118,360 K
> VM size:1,027,240 K
>
> When i look at the paraview trace file, there are loads of the
> following error, each with a different element number:
>
> # Error or warning:
> # There was a VTK Error in file:
> c:\dev\paraview24\vtk\common\vtkDataArrayTemplate.txx (241)
> #  vtkIdTypeArray (0EE032F8): Unable to allocate 41943170 elements of
> size 4: bad allocation
>
> Have i exceeded the number of elements that paraview can display,
> regardless of file type?
>
>
> thanks for any help you can give!
>
> Quoting mattijs <m.janssens@opencfd.co.uk>:
> > binary legacy VTK files are probably as ram efficient as any.
> >
> > Does paraview crash when reading the file or when displaying it? If the
> > first your files are probably excessively big, if second the file format
> > does not matter. Did you monitor the ram usage?
> >
> > Can you split your problem into smaller files? Write different results to
> > different files?
> >
> > On Friday 03 February 2006 09:30, noelieboy@online.ie wrote:
> >> Hi there,
> >> I am currently writing legacy VTK files of a surface made
> >> unstructured_grid using fortran 90, and look at them  in Paraview that
> >> is installed on my desktop PC (2GB RAM). I now want to start viewing
> >> large models and using the current method the files are getting big and
> >> also paraview crashes (i assume due to lack of RAM). Is there any
> >> particular file format (xml/ensight etc) that is designed to use less
> >> system ram when visualising the models, for the same model detail? And
> >> as a second question, which one would be the recommended format for
> >> generation using fortran90 ?
> >>
> >>
> >> _______________________________________________
> >> ParaView mailing list
> >> ParaView@paraview.org
> >> http://www.paraview.org/mailman/listinfo/paraview
> >
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
From domi at vision.ee.ethz.ch  Fri Feb  3 07:10:08 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Feb  3 07:10:13 2006
Subject: [Paraview] RAM friendly file format?
In-Reply-To: <20060203115017.bttrq2ce0wsk8kk4@mail.online.ie>
References: <mailman.0.1138914246.19122.paraview@paraview.org>	<20060203093051.45xne706s8sk8skc@mail.online.ie>	<200602031012.30836.m.janssens@opencfd.co.uk>
	<20060203115017.bttrq2ce0wsk8kk4@mail.online.ie>
Message-ID: <43E34820.5020705@vision.ee.ethz.ch>



noelieboy@online.ie wrote:
> I appears to crash when it is trying to render the model. I select the
> file to open, its takes approx 6/7 minutes to read, and during the
> rendering process, when the progress bar at the bottom right corner of
> the paraview gui is approaching 100% is crashes. This is before anything
> is dispayed in the 3d view window. So I am not entirely sure if it is
> because RAM is exceeded or perhaps graphics card memory? I am trying to
> display a model with 15million unstructured grid polygons. Would binary
> legacy files allow larger models (models with more polygons) to be
> displayed, or would using binary files only help with the actual vtk
> file size and file reading time? the memory monitor at time of crash for
> the paraview application is:
> CPU:92%
> CPU time:0:07:03
> Mem Usage:798,184 K
> Mem Delta:118,360 K
> VM size:1,027,240 K

did you monitor resources during the process

> 
> When i look at the paraview trace file, there are loads of the following
> error, each with a different element number:
> 
> # Error or warning:
> # There was a VTK Error in file:
> c:\dev\paraview24\vtk\common\vtkDataArrayTemplate.txx (241)
> #  vtkIdTypeArray (0EE032F8): Unable to allocate 41943170 elements of
> size 4: bad allocation

this is a request for 160MB contiguous memory chunk, might simply be
unavailable if you loaded many files before and thus segmented the memory.

DS

> 
> Have i exceeded the number of elements that paraview can display,
> regardless of file type?
> 
> 
> thanks for any help you can give!
> 
> 
> Quoting mattijs <m.janssens@opencfd.co.uk>:
> 
>> binary legacy VTK files are probably as ram efficient as any.
>>
>> Does paraview crash when reading the file or when displaying it? If
>> the first
>> your files are probably excessively big, if second the file format
>> does not
>> matter. Did you monitor the ram usage?
>>
>> Can you split your problem into smaller files? Write different results to
>> different files?
>>
>>
>> On Friday 03 February 2006 09:30, noelieboy@online.ie wrote:
>>
>>> Hi there,
>>> I am currently writing legacy VTK files of a surface made
>>> unstructured_grid using fortran 90, and look at them  in Paraview that
>>> is installed on my desktop PC (2GB RAM). I now want to start viewing
>>> large models and using the current method the files are getting big and
>>> also paraview crashes (i assume due to lack of RAM). Is there any
>>> particular file format (xml/ensight etc) that is designed to use less
>>> system ram when visualising the models, for the same model detail? And
>>> as a second question, which one would be the recommended format for
>>> generation using fortran90 ?
>>>
>>>
>>> _______________________________________________
>>> ParaView mailing list
>>> ParaView@paraview.org
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>>
> 
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From domi at vision.ee.ethz.ch  Fri Feb  3 08:09:17 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Feb  3 08:09:23 2006
Subject: [Paraview] long double
Message-ID: <43E355FD.1020007@vision.ee.ethz.ch>

Does Paraview support long double (12 and/or 16 byte)?
regards,
DS
-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From stefan.friedel at iwr.uni-heidelberg.de  Fri Feb  3 08:14:17 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Fri Feb  3 08:14:31 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
In-Reply-To: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9B3@ES21SNLNT.srn.sandia.gov>
References: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9B3@ES21SNLNT.srn.sandia.gov>
Message-ID: <20060203131417.GC6530@woyzeck>

Ken,
> My guess is that another glx.h somewhere else on your system is being
> included before or instead of the Mesa version.  You may want to check the
> compiler flags in the make files to see if that is the case.
I moved away the gl/glx.h from the debian package - but it did not help (and
there is not other gl.h/glx.h on the whole system)
> For a quick workaround, try this.  Edit your CMakeCache.txt file and change
> the entry for VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS from TRUE to
> FALSE.  Make sure you leave
> VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED to 1.
... but the paraview build proceeds after setting
SET(VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS 0) in CMakeCache.txt -

Thanks!, Stefan
-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060203/76a988fd/attachment.pgp
From berk.geveci at gmail.com  Fri Feb  3 10:53:12 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Fri Feb  3 10:53:19 2006
Subject: [Paraview] long double
In-Reply-To: <43E355FD.1020007@vision.ee.ethz.ch>
References: <43E355FD.1020007@vision.ee.ethz.ch>
Message-ID: <a2ab21560602030753p3bc64030l3b0b96dfa829ddc6@mail.gmail.com>

It does not.

On 2/3/06, Dominik Szczerba <domi@vision.ee.ethz.ch> wrote:
> Does Paraview support long double (12 and/or 16 byte)?
> regards,
> DS
> --
> Dominik Szczerba, Dr.
> Computer Vision Lab CH-8092 Zurich
> http://www.vision.ee.ethz.ch/~domi
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From samuelkey at comcast.net  Fri Feb  3 11:24:42 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Fri Feb  3 11:24:04 2006
Subject: [Paraview] RAM friendly file format?
References: <mailman.0.1138914246.19122.paraview@paraview.org>
	<20060203093051.45xne706s8sk8skc@mail.online.ie>
Message-ID: <00b201c628de$58d03a50$6e01a8c0@last>

Noel,

1) Your second question -- "And as a second question, which one 
would be the recommended format for generation using fortran90?"

I have had considerable success using PV's EnSight reader. I write
the results to an EnSight c binary format using Fortran-90, see 
attached file. (You may obtain the EnSight User's Manual from 
http://www.ensight.com/ensight80docs/Manuals/ , see Chapter 11) 

The attached gzip'ed Fortran file that I use to write C-binary 
(unblocked byte stream) formatted files for use with  PV via 
PV's EnSight reader is compiled with HP/Compaq/Digital
Visual Fortran on Win2K & WinXP64

The OPEN statements are for use with HP/Compaq/Digital
Visual Fortran (some non-standard key-words). I have versions
of this for G95's (http://www.g95.org) and PathScale's Fortran
compilers on Linux x86-32/64.

It is 3,500 lines of Fortran, but then I am trying to put out a time=0
mesh file followed by time sequenced data, blocked for large
data sets (to avoid output buffer overflows), subdivided into parts 
based on materials, and a medium number of point & cell items. 
Not to mention 7 or so cell geometries along with extraction routines  
that move data from the program's storage directly into the write 
statement buffers.

It may be too complex to help you at this stage, but it is all there.


2) Your first question -- "Is there any  particular file format 
(xml/ensight etc) that is designed to use less  system ram when 
visualising the models, for the same model detail?"

I started using PV with vtk-XML all ASCII formatted input. Yes,
the files are large in both size and number, but once the data is 
read in, it is stored in binary. It does not matter (or should not) 
if the data came from binary or ASCII  files. (The vtk-XML legacy 
ASCII format reads in amazingly fast.)  How much RAM is used 
by PV to store the data I am sure is mildly dependent on the 
reader, that is, the EnSight binary reader can have a richer view 
of the data and thus has to have some additional info structures 
to track this. I am sure the storage required is lost in the noise.

The PV *.pvd file is an excellent way to break your model into
rational pieces (each of which must be a "displayable" data set).

I have had crashing problems with large data sets in PV. I have
tracked it down to a 2GB limit in Win2K & WinXP64 for an
application's memory foot print (an application's memory foot
print is managed in terms of pages -- it does not matter whether
it is located in RAM or the page file or in any mix in between. In
PV, of course, you don't want any of PV's memory swapped out to 
the pagefile.)  MS Windows besides physically fragmenting the 
pagefile on the HD, is perfectly capable of fragmenting the pagefile 
internally. Sooner or later it will come crashing down. (I combat this 
- as best I can - by putting the pagefile in its own very large disk 
partition as a single very large, contiguous block that fills the 
dedicated partition.)

I have the same problems with this data set (840K 4-node
tetrahedrons) in PV on AMD64 Suse Linux 9.3. It happens
when I try to animate 101 time steps. If I am very careful to
read in just the data I need and limit the number of iso-surfaces,
I can get the animation completed and watch it run -- an extremely
helpful capability.

Sam Key


----- Original Message ----- 
From: <noelieboy@online.ie>
To: <paraview@paraview.org>
Sent: Friday, February 03, 2006 2:30 AM
Subject: [Paraview] RAM friendly file format?


> Hi there,
> I am currently writing legacy VTK files of a surface made 
> unstructured_grid using fortran 90, and look at them  in Paraview that 
> is installed on my desktop PC (2GB RAM). I now want to start viewing 
> large models and using the current method the files are getting big and 
> also paraview crashes (i assume due to lack of RAM). Is there any 
> particular file format (xml/ensight etc) that is designed to use less 
> system ram when visualising the models, for the same model detail? And 
> as a second question, which one would be the recommended format for 
> generation using fortran90 ?
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: z_esg-write.f.gz
Type: application/x-gzip
Size: 12496 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060203/247f5d52/z_esg-write.f.bin
From rcook at llnl.gov  Fri Feb  3 12:08:39 2006
From: rcook at llnl.gov (Rich Cook)
Date: Fri Feb  3 12:08:25 2006
Subject: [Paraview] fixes for AIX 5.1
Message-ID: <C88F7BE4-EBA1-49B0-BB43-512F7D7E168B@llnl.gov>

I am building Paraview on AIX using xlC.
I have noticed I needed to make some changes to make it work.  I am  
not sure to whom I should submit this kind of thing.  ?  Thanks.

On AIX I ran into some issues.  g++ appears to expect ISO C++, so I get:
/usr/X11R6/include/X11/Xutil.h:380: error: ISO C++ forbids  
declaration of `XClipBox' with no type
What flag gets around this?  There's no gcc man page on our AIX  
system, so I try xlc and xlC.  Ironically, I found that on AIX,  
ccmake gets confused easily, so moved away gcc build and source  
directories first.

CC=xlc CXX=xlC LD=xlC /usr/global/tools/Kitware/CMake/latest/ 
$SYS_TYPE/bin/ccmake /usr/global/tools/Kitware/Paraview/2.4.2/src/ 
$SYS_TYPE/paraview-2.4.2

I get the following error :
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/VTK/Common/Testing/Cxx/TestSmartPointer.cxx", line 5
2.7: 1540-0219 (S) The call to "operator==" has no best match.

Fixed by commenting out lines 52-57 in TestSmartPointer.cxx
Keep your fingers crossed!  :-)  The real fix would be to cast the 0  
to a SmartPointer, but perhaps that was the whole point of the test.   
Oh, well.

Then I get another error:
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWParameterValueFunctionEditor.h", line  
46.7: 1540-0400 (S) "class ostrstream" has a conflicting declaration.

Fix: comment out line 55 in vtkKWParameterValueFunctionEditor.h:
//BTX
//class ostrstream;
//ETX
and add the following to the top of it:
# include <strstream> // Include real ansi strstreams.
using std::strstream;
   virtual void RedrawPoint(int id, ostrstream *tk_cmd = 0);

Onward, ho!  Next problem:
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.h", line 70.16: 1540-2606 (W)  
"restrict" can only qualify a pointer or reference type.  The  
"restrict" keyword is ignored.
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 97.6: 1540-2606  
(W) "restrict" can only qualify a pointer or reference type.  The  
"restrict" keyword is ignored.
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 99.15: 1540-0063  
(S) The text ")" is unexpected.
gmake[2]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/vtkKWSpinBox.o]  
Error 1
gmake[1]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/all] Error 2
gmake: *** [all] Error 2

Fix:  use irestrict instead of restrict for parameter name to  
function -- restrict is a C++ keyword, I guess.

Then:
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/Utilities/tkcon/vtkKWTkconTclLibrary.h",  
line 9.3: 1540-0872 (S) A string literal cannot be longer than 32765  
characters.

Fix:  broke the string into 5 parts and made declarations to be:
static const unsigned char *file_tkcon_tcl_sections[5]  = {
   file_tkcon_tcl_section_1,
   file_tkcon_tcl_section_5,
   file_tkcon_tcl_section_3,
   file_tkcon_tcl_section_4,
   file_tkcon_tcl_section_2
};
and
static const unsigned int file_tkcon_tcl_nb_sections = 5;

Similarly with this error:
"/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Client/Resources/vtkPVSplashScreen.h", line 12.3:  
1540-0872 (S) A string literal cannot be longer than 32765 characters.
Divide into sections, etc.

Build completed and paraview is now installed as of 2/3/06

-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060203/53167de8/attachment.html
From rcook at llnl.gov  Fri Feb  3 12:20:14 2006
From: rcook at llnl.gov (Rich Cook)
Date: Fri Feb  3 12:20:02 2006
Subject: [Paraview] fixes for AIX 5.1
In-Reply-To: <C88F7BE4-EBA1-49B0-BB43-512F7D7E168B@llnl.gov>
References: <C88F7BE4-EBA1-49B0-BB43-512F7D7E168B@llnl.gov>
Message-ID: <E6FDD50E-9A5E-4686-8E8F-052C5CD996E8@llnl.gov>

So of course now I get the following error after installing  
paraview.  It will not draw into the main window, and spits the  
following out onto stderr:

# Error or warning: There was a VTK Error in file: /usr/global/tools/ 
Kitware/Paraview/2.4.2/src/aix_5_64_fed/paraview-2.4.2/GUI/Widgets/ 
vtkKWTkUtilities.cxx (217)
vtkPVApplication (110185af0):
     Script:
focus .paraview.24.33.36.37.40.161.163.165.168.169.174
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"


On Feb 3, 2006, at 9:08 AM, Rich Cook wrote:

> I am building Paraview on AIX using xlC.
> I have noticed I needed to make some changes to make it work.  I am  
> not sure to whom I should submit this kind of thing.  ?  Thanks.
>
> On AIX I ran into some issues.  g++ appears to expect ISO C++, so I  
> get:
> /usr/X11R6/include/X11/Xutil.h:380: error: ISO C++ forbids  
> declaration of `XClipBox' with no type
> What flag gets around this?  There's no gcc man page on our AIX  
> system, so I try xlc and xlC.  Ironically, I found that on AIX,  
> ccmake gets confused easily, so moved away gcc build and source  
> directories first.
>
> CC=xlc CXX=xlC LD=xlC /usr/global/tools/Kitware/CMake/latest/ 
> $SYS_TYPE/bin/ccmake /usr/global/tools/Kitware/Paraview/2.4.2/src/ 
> $SYS_TYPE/paraview-2.4.2
>
> I get the following error :
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/VTK/Common/Testing/Cxx/TestSmartPointer.cxx", line 5
> 2.7: 1540-0219 (S) The call to "operator==" has no best match.
>
> Fixed by commenting out lines 52-57 in TestSmartPointer.cxx
> Keep your fingers crossed!  :-)  The real fix would be to cast the  
> 0 to a SmartPointer, but perhaps that was the whole point of the  
> test.  Oh, well.
>
> Then I get another error:
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Widgets/vtkKWParameterValueFunctionEditor.h",  
> line 46.7: 1540-0400 (S) "class ostrstream" has a conflicting  
> declaration.
>
> Fix: comment out line 55 in vtkKWParameterValueFunctionEditor.h:
> //BTX
> //class ostrstream;
> //ETX
> and add the following to the top of it:
> # include <strstream> // Include real ansi strstreams.
> using std::strstream;
>   virtual void RedrawPoint(int id, ostrstream *tk_cmd = 0);
>
> Onward, ho!  Next problem:
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.h", line 70.16: 1540-2606  
> (W) "restrict" can only qualify a pointer or reference type.  The  
> "restrict" keyword is ignored.
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 97.6: 1540-2606  
> (W) "restrict" can only qualify a pointer or reference type.  The  
> "restrict" keyword is ignored.
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 99.15: 1540-0063  
> (S) The text ")" is unexpected.
> gmake[2]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/vtkKWSpinBox.o]  
> Error 1
> gmake[1]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/all] Error 2
> gmake: *** [all] Error 2
>
> Fix:  use irestrict instead of restrict for parameter name to  
> function -- restrict is a C++ keyword, I guess.
>
> Then:
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Widgets/Utilities/tkcon/vtkKWTkconTclLibrary.h",  
> line 9.3: 1540-0872 (S) A string literal cannot be longer than  
> 32765 characters.
>
> Fix:  broke the string into 5 parts and made declarations to be:
> static const unsigned char *file_tkcon_tcl_sections[5]  = {
>   file_tkcon_tcl_section_1,
>   file_tkcon_tcl_section_5,
>   file_tkcon_tcl_section_3,
>   file_tkcon_tcl_section_4,
>   file_tkcon_tcl_section_2
> };
> and
> static const unsigned int file_tkcon_tcl_nb_sections = 5;
>
> Similarly with this error:
> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
> paraview-2.4.2/GUI/Client/Resources/vtkPVSplashScreen.h", line  
> 12.3: 1540-0872 (S) A string literal cannot be longer than 32765  
> characters.
> Divide into sections, etc.
>
> Build completed and paraview is now installed as of 2/3/06
>
> -- 
> "There's no time to stop for gas, we're already late"-- Karin Donker
> --
> Rich "wealthychef" Cook
> <http://www.pleasantonplayhouse.com/byebyebirdie/>
> 925-784-3077
> --
>
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060203/dd488984/attachment-0001.htm
From rcook at llnl.gov  Fri Feb  3 12:21:32 2006
From: rcook at llnl.gov (Rich Cook)
Date: Fri Feb  3 12:21:18 2006
Subject: [Paraview] fixes for AIX 5.1
In-Reply-To: <E6FDD50E-9A5E-4686-8E8F-052C5CD996E8@llnl.gov>
References: <C88F7BE4-EBA1-49B0-BB43-512F7D7E168B@llnl.gov>
	<E6FDD50E-9A5E-4686-8E8F-052C5CD996E8@llnl.gov>
Message-ID: <E34671B1-9B68-4E5C-B30B-54B2777A073A@llnl.gov>

Sorry for the multiple posts.  I haven't had my coffee yet.
The first error I see is:

rcook@up041 (aix_5_64_fed): bin/paraview
ErrorMessage
# Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/ 
2.4.2/src/aix_5_64_fed/paraview-2.4.2/GUI/Widgets/ 
vtkKWTkUtilities.cxx, line 217
vtkPVApplication (110185af0):
     Script:
vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 - 
rw Addr=110469150
     Returned Error on line 1:
NULL main window


ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (110185af0):
     Script:
pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes - 
fill both -side top -anchor nw
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (110185af0):
     Script:
focus .paraview.24.33.36.37.40.161.163.165.168.169.174
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"


On Feb 3, 2006, at 9:20 AM, Rich Cook wrote:

> So of course now I get the following error after installing  
> paraview.  It will not draw into the main window, and spits the  
> following out onto stderr:
>
> # Error or warning: There was a VTK Error in file: /usr/global/ 
> tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/paraview-2.4.2/GUI/ 
> Widgets/vtkKWTkUtilities.cxx (217)
> vtkPVApplication (110185af0):
>     Script:
> focus .paraview.24.33.36.37.40.161.163.165.168.169.174
>     Returned Error on line 1:
> bad window path name ".paraview. 
> 24.33.36.37.40.161.163.165.168.169.174"
>
>
> On Feb 3, 2006, at 9:08 AM, Rich Cook wrote:
>
>> I am building Paraview on AIX using xlC.
>> I have noticed I needed to make some changes to make it work.  I  
>> am not sure to whom I should submit this kind of thing.  ?  Thanks.
>>
>> On AIX I ran into some issues.  g++ appears to expect ISO C++, so  
>> I get:
>> /usr/X11R6/include/X11/Xutil.h:380: error: ISO C++ forbids  
>> declaration of `XClipBox' with no type
>> What flag gets around this?  There's no gcc man page on our AIX  
>> system, so I try xlc and xlC.  Ironically, I found that on AIX,  
>> ccmake gets confused easily, so moved away gcc build and source  
>> directories first.
>>
>> CC=xlc CXX=xlC LD=xlC /usr/global/tools/Kitware/CMake/latest/ 
>> $SYS_TYPE/bin/ccmake /usr/global/tools/Kitware/Paraview/2.4.2/src/ 
>> $SYS_TYPE/paraview-2.4.2
>>
>> I get the following error :
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/VTK/Common/Testing/Cxx/TestSmartPointer.cxx", line 5
>> 2.7: 1540-0219 (S) The call to "operator==" has no best match.
>>
>> Fixed by commenting out lines 52-57 in TestSmartPointer.cxx
>> Keep your fingers crossed!  :-)  The real fix would be to cast the  
>> 0 to a SmartPointer, but perhaps that was the whole point of the  
>> test.  Oh, well.
>>
>> Then I get another error:
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Widgets/vtkKWParameterValueFunctionEditor.h",  
>> line 46.7: 1540-0400 (S) "class ostrstream" has a conflicting  
>> declaration.
>>
>> Fix: comment out line 55 in vtkKWParameterValueFunctionEditor.h:
>> //BTX
>> //class ostrstream;
>> //ETX
>> and add the following to the top of it:
>> # include <strstream> // Include real ansi strstreams.
>> using std::strstream;
>>   virtual void RedrawPoint(int id, ostrstream *tk_cmd = 0);
>>
>> Onward, ho!  Next problem:
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.h", line 70.16: 1540-2606  
>> (W) "restrict" can only qualify a pointer or reference type.  The  
>> "restrict" keyword is ignored.
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 97.6: 1540-2606  
>> (W) "restrict" can only qualify a pointer or reference type.  The  
>> "restrict" keyword is ignored.
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Widgets/vtkKWSpinBox.cxx", line 99.15:  
>> 1540-0063 (S) The text ")" is unexpected.
>> gmake[2]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/ 
>> vtkKWSpinBox.o] Error 1
>> gmake[1]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/all] Error 2
>> gmake: *** [all] Error 2
>>
>> Fix:  use irestrict instead of restrict for parameter name to  
>> function -- restrict is a C++ keyword, I guess.
>>
>> Then:
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Widgets/Utilities/tkcon/ 
>> vtkKWTkconTclLibrary.h", line 9.3: 1540-0872 (S) A string literal  
>> cannot be longer than 32765 characters.
>>
>> Fix:  broke the string into 5 parts and made declarations to be:
>> static const unsigned char *file_tkcon_tcl_sections[5]  = {
>>   file_tkcon_tcl_section_1,
>>   file_tkcon_tcl_section_5,
>>   file_tkcon_tcl_section_3,
>>   file_tkcon_tcl_section_4,
>>   file_tkcon_tcl_section_2
>> };
>> and
>> static const unsigned int file_tkcon_tcl_nb_sections = 5;
>>
>> Similarly with this error:
>> "/usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
>> paraview-2.4.2/GUI/Client/Resources/vtkPVSplashScreen.h", line  
>> 12.3: 1540-0872 (S) A string literal cannot be longer than 32765  
>> characters.
>> Divide into sections, etc.
>>
>> Build completed and paraview is now installed as of 2/3/06
>>
>> -- 
>> "There's no time to stop for gas, we're already late"-- Karin Donker
>> --
>> Rich "wealthychef" Cook
>> <http://www.pleasantonplayhouse.com/byebyebirdie/>
>> 925-784-3077
>> --
>>
>>
>>
>> _______________________________________________
>> ParaView mailing list
>> ParaView@paraview.org
>> http://www.paraview.org/mailman/listinfo/paraview
>
> -- 
> "There's no time to stop for gas, we're already late"-- Karin Donker
> --
> Rich "wealthychef" Cook
> <http://www.pleasantonplayhouse.com/byebyebirdie/>
> 925-784-3077
> --
>
>
>

-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060203/e5ef0271/attachment-0001.html
From randall.hand at gmail.com  Fri Feb  3 14:16:24 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Fri Feb  3 14:16:30 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
In-Reply-To: <20060203131417.GC6530@woyzeck>
References: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9B3@ES21SNLNT.srn.sandia.gov>
	<20060203131417.GC6530@woyzeck>
Message-ID: <b02264720602031116w6ed4858ek59a2eeddc88837@mail.gmail.com>

Could this be related to problems in Mesa?  I see they just released a new
version 6.4.2:

>From the release:

Mesa 6.4.2 has been released. This is primarily a bug-fix release.

    New items:
	- added OSMesaColorClamp() function/feature
	- added wglGetExtensionStringARB() function
    Bug fixes:
	- fixed some problems when building on Windows
	- GLw header files weren't installed by installmesa script (bug 5396)
	- GL/glfbdev.h file was missing from tarballs



On 2/3/06, Stefan Friedel <stefan.friedel@iwr.uni-heidelberg.de> wrote:
>
> Ken,
> > My guess is that another glx.h somewhere else on your system is being
> > included before or instead of the Mesa version.  You may want to check
> the
> > compiler flags in the make files to see if that is the case.
> I moved away the gl/glx.h from the debian package - but it did not help
> (and
> there is not other gl.h/glx.h on the whole system)
> > For a quick workaround, try this.  Edit your CMakeCache.txt file and
> change
> > the entry for VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS from TRUE to
> > FALSE.  Make sure you leave
> > VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED to 1.
> ... but the paraview build proceeds after setting
> SET(VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS 0) in CMakeCache.txt -
>
> Thanks!, Stefan
> --
> Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
> Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
> stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
> IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
>
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.2 (GNU/Linux)
>
> iD8DBQFD41cp3umRt9zSRsQRAgoGAKCEsN2WA5fsYWwRHfPNG8K2B3NXHQCfZShV
> RV3BYeAYGevMtkLHlna17Qc=
> =tdki
> -----END PGP SIGNATURE-----
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>


--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060203/0927b646/attachment.html
From domi at vision.ee.ethz.ch  Sat Feb  4 03:03:14 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Sat Feb  4 03:03:36 2006
Subject: [Paraview] xml meta file
Message-ID: <43E45FC2.1090405@vision.ee.ethz.ch>

Hi,
I have lots of big data in binary format. Is it possible to write a meta
(xml) file that would load them into PV without copying the data into
one huge XML file with the data appended? The VTK spec says the parallel
format would load pieces, but they seem to be required to be VTK format
too. My binary data is pure raw e.g. doesnt have required headers,
something I hoped to make up for in a meta file.
regards,
Dominik
-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From cosmoh2o at hotmail.com  Sat Feb  4 11:41:16 2006
From: cosmoh2o at hotmail.com (Richard Haney)
Date: Sat Feb  4 11:41:22 2006
Subject: [Paraview] Labeling cells
Message-ID: <BAY24-F278D2CB3FE55485ECD3CFB870C0@phx.gbl>

Please help,

I have created an .xmf with corresponding .h5 file that contains values for 
both nodal and cellular centered displays. I can easily display the nodal 
points but is there a way to display the corresponding cellular number 
values within ParaView?


Thanks to anyone with any help/hints.


From Stephane.Montesino at hmg.inpg.fr  Mon Feb  6 02:10:35 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Mon Feb  6 02:11:01 2006
Subject: [Paraview] My fortran routines to Wrtie binary files in Ensight
 format for rectilinear grid
Message-ID: <43E6F66B.5030205@hmg.inpg.fr>

Ok, VTK 
>has an interface to write VTK files from a Fortran code, but it obliges 
>me to install, or pick and compile the VTK routines needed with my 
>program, in any machine I intend to run my program. My solution has 
>been working fine for me, and I hope it'll keep working for a long 
>time... As I work basicaly with CFD, and my team group has licenses for 
>the Ensight visualizer, I've been writing all my files in Ensight's 
>format. It's easy to implement in C/C++ or Fortran, portable (thank God 
>Paraview has support to this format), parallel through the 
>server-of-server casefile extension and I can keep using Ensight when 
>I'd like to do something that Paraview can't do yet - almost nothing it 
>happen  ;-) 
>
>If you are interested in trying to use Ensight's format, get the 
>following routines 
>http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 



Thanks to your routines I modified for rectilinear grid, I can use Binary file......
The Asci .case file is quasi the same
!    ******************************************************************************
!
!    WriteEnsightSca writes result data in Ensight's format
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    sca.........: scalar result data
!    radical.....: word used to build filenames
!    ntime.......: result file identifier
!
!   By  Steph. Montesino    ******************************************************************************
      subroutine WriteEnsightSca(n1,n2,n3,sca,radical,WriteBinary)

      implicit none

      INTEGER                   ,INTENT(IN)::n1,n2,n3
      REAL*8,DIMENSION(n1,n2,n3),INTENT(IN)::sca
      CHARACTER*50              ,INTENT(IN)::radical
      LOGICAL                   ,INTENT(IN)::WriteBinary


      character ScaFileName*54,buffer*80
      integer::nfilsca,i,j,k,part

      nfilsca = 21
      part=1

!     SCALAR FILE (PRESSURE)
      ScaFileName = trim(radical)//'.scl'
      write(*,'(5x,A)') ScaFileName

	if(WriteBinary) then
        open (unit=nfilsca,file=ScaFileName,form='binary')
        write(buffer,'(a,e12.5)') 'time',0.d0 
        write(nfilsca) buffer   
        buffer= 'part'
        write(nfilsca)  buffer
        write(nfilsca)  part
        buffer= 'block rectilinear'
        write(nfilsca) buffer
        write(nfilsca) (((SNGl(sca(i,j,k)),i=1,n1),j=1,n2),k=1,n3)
      else
        open (unit=nfilsca,file=ScaFileName)
        write(buffer,'(a,a)') radical  
        write(nfilsca,'(A)')  buffer   
        write(nfilsca,'(A)') 'part'
        write(nfilsca,'(I10)')part
        write(nfilsca,'(A)') 'block rectilinear'
        write(nfilsca,'(e12.5)') (((sca(i,j,k),i=1,n1),j=1,n2),k=1,n3)
      endif

      close(nfilsca)

      end  subroutine
!
******************************************************************************
!                      subrout  write_rectilinear_ensight_geo
!   By  Steph. Montesino
******************************************************************************
!
!    writes mesh data in Ensight's ascii format for rectilinear geometry
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    x1,x2,x3....: coordinates 
!
      subroutine WriteRectEnsightGeo(n1,n2,n3,x1,x2,x3,name,WriteBinary)

      implicit none

      INTEGER             ,INTENT(IN)::n1,n2,n3
      REAL*8,DIMENSION(n1),INTENT(IN)::x1
      REAL*8,DIMENSION(n2),INTENT(IN)::x2
      REAL*8,DIMENSION(n3),INTENT(IN)::x3
      LOGICAL             ,INTENT(IN)::WriteBinary

	character name*30, buffer*80
      integer::nfil,i,j,k,part

      nfil = 11
      part=1

      if (WriteBinary) then
        open (unit=nfil,file=trim(name)//'.geo',form='binary')
        buffer='Fortran Binary'
        write (nfil) buffer
        buffer='Ensight Model Geometry File Created by '
        write (nfil) buffer
        buffer='WriteRectEnsightGeo Routine'
        write (nfil) buffer
        buffer='node id off'
        write (nfil) buffer
        buffer='element id off'
        write (nfil) buffer
        buffer='part'
        write (nfil) buffer
        part=1
        write (nfil) part
        buffer='3D periodic channel'
        write (nfil) buffer
        buffer='block rectilinear'
        write (nfil) buffer
        write(nfil) n1,n2,n3
        write(nfil) (sngl(x1(i)),i=1,n1)
        write(nfil) (sngl(x2(j)),j=1,n2)
        write(nfil) (sngl(x3(k)),k=1,n3)
      else
        open (unit=nfil,file=trim(name)//'.geo')
        write (nfil,'(A)') 'Ensight Model Geometry File Created by '
        write (nfil,'(A)') 'WriteRectEnsightGeo Routine'
        write (nfil,'(A)') 'node id off'
        write (nfil,'(A)') 'element id off'
        write (nfil,'(A)') 'part'
        write (nfil,'(i10)')part
        write (nfil,'(A)') '3D periodic channel'
        write (nfil,'(A)') 'block rectilinear'
        write (nfil,'(3i10)') n1,n2,n3
        write(nfil,'(E12.5)') (x1(i),i=1,n1)
        write(nfil,'(E12.5)') (x2(j),j=1,n2)
        write(nfil,'(E12.5)') (x3(k),k=1,n3)
      endif

      end subroutine


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060206/f0a743c1/Stephane.Montesino.vcf
From rnelias at nacad.ufrj.br  Mon Feb  6 06:04:25 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Mon Feb  6 05:56:03 2006
Subject: RES: [Paraview] My fortran routines to Wrtie binary files in Ensight
	format for rectilinear grid
In-Reply-To: <43E6F66B.5030205@hmg.inpg.fr>
Message-ID: <20060206095544.DB02272783@mailhost.nacad.ufrj.br>


Great!

You've got the idea. Took a simple writer routine as an example (I've tried
to keep the routines easy and self explained to everybody), changed it to
fit in your case and embedded in your program. "Clean", fast, no error prone
and efficient ;-)

I've been putting those Ensight Fortran routines available because I'm sure
this is a very easy and efficient format to be used with Paraview (and, off
course, with Ensight too).

Cheers

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
St?phane Mont?sino
Enviada em: segunda-feira, 6 de fevereiro de 2006 05:11
Para: domi@vision.ee.ethz.ch
Cc: paraview@paraview.org
Assunto: [Paraview] My fortran routines to Wrtie binary files in Ensight
format for rectilinear grid

Ok, VTK 
>has an interface to write VTK files from a Fortran code, but it obliges 
>me to install, or pick and compile the VTK routines needed with my 
>program, in any machine I intend to run my program. My solution has 
>been working fine for me, and I hope it'll keep working for a long 
>time... As I work basicaly with CFD, and my team group has licenses for 
>the Ensight visualizer, I've been writing all my files in Ensight's 
>format. It's easy to implement in C/C++ or Fortran, portable (thank God 
>Paraview has support to this format), parallel through the 
>server-of-server casefile extension and I can keep using Ensight when 
>I'd like to do something that Paraview can't do yet - almost nothing it 
>happen  ;-)
>
>If you are interested in trying to use Ensight's format, get the 
>following routines 
>http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip
Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias High Performance Computing
Center Federal University of Rio de Janeiro Rio de Janeiro, Brazil
+55(21) 2562-8080



Thanks to your routines I modified for rectilinear grid, I can use Binary
file......
The Asci .case file is quasi the same
!
****************************************************************************
**
!
!    WriteEnsightSca writes result data in Ensight's format
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    sca.........: scalar result data
!    radical.....: word used to build filenames
!    ntime.......: result file identifier
!
!   By  Steph. Montesino
****************************************************************************
**
      subroutine WriteEnsightSca(n1,n2,n3,sca,radical,WriteBinary)

      implicit none

      INTEGER                   ,INTENT(IN)::n1,n2,n3
      REAL*8,DIMENSION(n1,n2,n3),INTENT(IN)::sca
      CHARACTER*50              ,INTENT(IN)::radical
      LOGICAL                   ,INTENT(IN)::WriteBinary


      character ScaFileName*54,buffer*80
      integer::nfilsca,i,j,k,part

      nfilsca = 21
      part=1

!     SCALAR FILE (PRESSURE)
      ScaFileName = trim(radical)//'.scl'
      write(*,'(5x,A)') ScaFileName

	if(WriteBinary) then
        open (unit=nfilsca,file=ScaFileName,form='binary')
        write(buffer,'(a,e12.5)') 'time',0.d0 
        write(nfilsca) buffer   
        buffer= 'part'
        write(nfilsca)  buffer
        write(nfilsca)  part
        buffer= 'block rectilinear'
        write(nfilsca) buffer
        write(nfilsca) (((SNGl(sca(i,j,k)),i=1,n1),j=1,n2),k=1,n3)
      else
        open (unit=nfilsca,file=ScaFileName)
        write(buffer,'(a,a)') radical  
        write(nfilsca,'(A)')  buffer   
        write(nfilsca,'(A)') 'part'
        write(nfilsca,'(I10)')part
        write(nfilsca,'(A)') 'block rectilinear'
        write(nfilsca,'(e12.5)') (((sca(i,j,k),i=1,n1),j=1,n2),k=1,n3)
      endif

      close(nfilsca)

      end  subroutine
!
****************************************************************************
**
!                      subrout  write_rectilinear_ensight_geo
!   By  Steph. Montesino
****************************************************************************
**
!
!    writes mesh data in Ensight's ascii format for rectilinear geometry
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    x1,x2,x3....: coordinates 
!
      subroutine WriteRectEnsightGeo(n1,n2,n3,x1,x2,x3,name,WriteBinary)

      implicit none

      INTEGER             ,INTENT(IN)::n1,n2,n3
      REAL*8,DIMENSION(n1),INTENT(IN)::x1
      REAL*8,DIMENSION(n2),INTENT(IN)::x2
      REAL*8,DIMENSION(n3),INTENT(IN)::x3
      LOGICAL             ,INTENT(IN)::WriteBinary

	character name*30, buffer*80
      integer::nfil,i,j,k,part

      nfil = 11
      part=1

      if (WriteBinary) then
        open (unit=nfil,file=trim(name)//'.geo',form='binary')
        buffer='Fortran Binary'
        write (nfil) buffer
        buffer='Ensight Model Geometry File Created by '
        write (nfil) buffer
        buffer='WriteRectEnsightGeo Routine'
        write (nfil) buffer
        buffer='node id off'
        write (nfil) buffer
        buffer='element id off'
        write (nfil) buffer
        buffer='part'
        write (nfil) buffer
        part=1
        write (nfil) part
        buffer='3D periodic channel'
        write (nfil) buffer
        buffer='block rectilinear'
        write (nfil) buffer
        write(nfil) n1,n2,n3
        write(nfil) (sngl(x1(i)),i=1,n1)
        write(nfil) (sngl(x2(j)),j=1,n2)
        write(nfil) (sngl(x3(k)),k=1,n3)
      else
        open (unit=nfil,file=trim(name)//'.geo')
        write (nfil,'(A)') 'Ensight Model Geometry File Created by '
        write (nfil,'(A)') 'WriteRectEnsightGeo Routine'
        write (nfil,'(A)') 'node id off'
        write (nfil,'(A)') 'element id off'
        write (nfil,'(A)') 'part'
        write (nfil,'(i10)')part
        write (nfil,'(A)') '3D periodic channel'
        write (nfil,'(A)') 'block rectilinear'
        write (nfil,'(3i10)') n1,n2,n3
        write(nfil,'(E12.5)') (x1(i),i=1,n1)
        write(nfil,'(E12.5)') (x2(j),j=1,n2)
        write(nfil,'(E12.5)') (x3(k),k=1,n3)
      endif

      end subroutine




From kmorel at sandia.gov  Mon Feb  6 10:33:54 2006
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon Feb  6 10:34:12 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
Message-ID: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9BA@ES21SNLNT.srn.sandia.gov>

I don't think that's the problem.  I just downloaded Mesa 6.4.1 (the version Stefan said he was using) and compiled ParaView against it just fine.
 
-Ken


________________________________

	From: Randall Hand [mailto:randall.hand@gmail.com] 
	Sent: Friday, February 03, 2006 12:16 PM
	To: Stefan Friedel
	Cc: Moreland, Kenneth; paraview@paraview.org
	Subject: Re: [Paraview] help w/ glXGetProcAddressARB not declared
	
	
	Could this be related to problems in Mesa?  I see they just released a new version 6.4.2:
	
	From the release:
	

	Mesa 6.4.2 has been released. This is primarily a bug-fix release. 

	    New items:
		- added OSMesaColorClamp() function/feature
		- added wglGetExtensionStringARB() function
	    Bug fixes:
		- fixed some problems when building on Windows
		- GLw header files weren't installed by installmesa script (bug 5396)
	
		- GL/glfbdev.h file was missing from tarballs


	On 2/3/06, Stefan Friedel <stefan.friedel@iwr.uni-heidelberg.de > wrote: 

		Ken,
		> My guess is that another glx.h somewhere else on your system is being 
		> included before or instead of the Mesa version.  You may want to check the
		> compiler flags in the make files to see if that is the case.
		I moved away the gl/glx.h from the debian package - but it did not help (and 
		there is not other gl.h/glx.h on the whole system)
		> For a quick workaround, try this.  Edit your CMakeCache.txt file and change
		> the entry for VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS from TRUE to
		> FALSE.  Make sure you leave
		> VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED to 1.
		... but the paraview build proceeds after setting
		SET(VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS 0) in CMakeCache.txt -
		
		Thanks!, Stefan
		--
		Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
		Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
		stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
		IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de 
		
		
		-----BEGIN PGP SIGNATURE-----
		Version: GnuPG v1.4.2 (GNU/Linux)
		
		iD8DBQFD41cp3umRt9zSRsQRAgoGAKCEsN2WA5fsYWwRHfPNG8K2B3NXHQCfZShV
		RV3BYeAYGevMtkLHlna17Qc=
		=tdki
		-----END PGP SIGNATURE----- 
		
		
		_______________________________________________
		ParaView mailing list
		ParaView@paraview.org
		http://www.paraview.org/mailman/listinfo/paraview 
		
		
		




	-- 
	Randall Hand
	Visualization Scientist, 
	ERDC-MSRC Vicksburg, MS
	Homepage: http://www.yeraze.com 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060206/3d22a74e/attachment.html
From kmorel at sandia.gov  Mon Feb  6 10:56:43 2006
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon Feb  6 10:56:58 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
Message-ID: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9BD@ES21SNLNT.srn.sandia.gov>

> ... but the paraview build proceeds after setting 
> SET(VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS 0) in 
> CMakeCache.txt -

I'm sorry, I got confused.  Are you saying that
VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS has always been set to 0
(or FALSE) in your CMakeCache.txt?  If that is the case, then the
configuration file
<builddir>/VTK/Rendering/vtkOpenGLExtensionManagerConfiguration.h should
have VTK_DEFINE_GLX_GET_PROC_ADDRESS_PROTOTYPE defined, which in turn
will declare the glXGetProcAddressARB for you.

If that is the case, could you send me a copy of your CMakeCache.txt and
vtkOpenGLExtensionManagerConfigure.h?

-Ken

From liaoli at iapcm.ac.cn  Tue Feb  7 00:55:03 2006
From: liaoli at iapcm.ac.cn (liaoli@iapcm.ac.cn)
Date: Tue Feb  7 01:04:58 2006
Subject: [Paraview] silo Reader?
Message-ID: <c8df9e4b.9e4bc8df@iapcm.ac.cn>

1.Is there any reader for silo file format or converter(to vtk file)?


From johnny at gridcore.se  Tue Feb  7 05:41:49 2006
From: johnny at gridcore.se (johnny@gridcore.se)
Date: Tue Feb  7 05:38:42 2006
Subject: [Paraview] Ensight Gold File reader - parallel
Message-ID: <21832.82.182.120.67.1139308909.squirrel@82.182.120.67>

1) I am loadiing an ensight gold file (.case) while running paraview in
parallel (client/server mode) through MPI. Paraview seems to use the
EnsightMasterServerReader though the file is not in master server(.sos)
format and partition the file across the different processes in the
mpirun. Is this the default behavior?  The following is the entry of the
.case file:

----------------------------------------------------------------
FORMAT
type:  ensight gold
GEOMETRY
model: mqt_room_1_58M.geo
VARIABLE
scalar per node: pressure                  mqt_room_1_58M.scl1
scalar per node: velocity-magnitude        mqt_room_1_58M.scl2
vector per node: velocity                  mqt_room_1_58M.vel
-----------------------------------------------------------------

2) Is there a limitation on the size of the file with regard to the
available memory in the node?

Thank you
Johnny.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060207/b45f4c27/untitled-2.html
From stefan.friedel at iwr.uni-heidelberg.de  Tue Feb  7 06:03:19 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Tue Feb  7 06:03:33 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
In-Reply-To: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9BD@ES21SNLNT.srn.sandia.gov>
References: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9BD@ES21SNLNT.srn.sandia.gov>
Message-ID: <20060207110319.GE4582@woyzeck>

Hi Ken,
> > ... but the paraview build proceeds after setting 
> > SET(VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS 0) in 
> > CMakeCache.txt -
> 
> I'm sorry, I got confused.  Are you saying that
> VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS has always been set to 0
> (or FALSE) in your CMakeCache.txt?  If that is the case, then the
> configuration file
No, everything is fine:-)! - I just did what you said: setting
VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS to  FALSE/0 as a workaround -
this works! But your guess that another glx.h is hanging around somewhere on
the system and confuses the configuration/ccmake etc. is wrong - 
Bye + Thanks, Stefan
-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060207/a764e7fb/attachment.pgp
From kmorel at sandia.gov  Tue Feb  7 11:18:52 2006
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue Feb  7 11:19:10 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
Message-ID: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9C3@ES21SNLNT.srn.sandia.gov>

> No, everything is fine:-)! - I just did what you said: 
> setting VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS to  
> FALSE/0 as a workaround - this works! But your guess that 
> another glx.h is hanging around somewhere on the system and 
> confuses the configuration/ccmake etc. is wrong - Bye + Thanks, Stefan

I took another look at the CMake files and did find a slight problem.
It turns out that when you change the directory of the OpenGL include
files, the build was not checking again to see if the prototype exists
for include files in the new directory.  Is it possible this is what
happened to you, Stefan?  You can check by deleting
VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED from your
CMakeCache.txt.  If the test gives the correct answer this time, that
was probably the problem.

-Ken

   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********  
*** *** ***  email: kmorel@sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      fax:   (505) 845-0833

From Eric.Greenwade at inl.gov  Tue Feb  7 13:30:50 2006
From: Eric.Greenwade at inl.gov (Eric Greenwade)
Date: Tue Feb  7 13:31:05 2006
Subject: [Paraview] loading SolidWorks files
Message-ID: <43E8E75A.8080007@inl.gov>

Does anyone already have a solution for loading SolidWorks parts 
(.sldprt) and/or assemblies (.sldasm) into paraview? Any type of reader, 
or conversion utility to supported file types, pointers, RTFMs,, etc. 
would be greatly appreciated.

thanks much,

-- eric
------------------------------------------------------------------------
L. Eric Greenwade          HPC Architect      Idaho National Laboratory
POB 1625, MS-3605                             Eric.Greenwade@inl.gov
Idaho Falls, ID  83415-3605                   voice: +1.208.526.1276

From stefan.friedel at iwr.uni-heidelberg.de  Wed Feb  8 04:20:15 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Wed Feb  8 04:20:30 2006
Subject: [Paraview] parallel paraview: display not updated
Message-ID: <20060208092014.GE20217@woyzeck>

Hi all,
after sucessfully compiling paraview 2.4.2 (w/ mesa 6.4.2,
offscreen-rendering/osmesa on) I'm not sure how to start the parallel
application and if the client is working at all:

1) (after reading the [deprecated] 1. edition of the ParaView Guide...) I
should be able to start in stand-alone mode on two dual nodes with 4 processes
just by starting the paraview binary:

${pathtompirun}/mpirun -np 4 -machinefile ./machines ${paraviewpath}/paraview

A paraview (client) window comes up, 4 processes are running (two per node, cpu
usage~100%, fine) but regardsless of which kind of data/file/demo I load, the
3D view window on the right is not updated (partially snapshots of overlayed
windows are visible). Probably this is due to the lack of an option to use
offscreen-rendering? 

2) Then I tried to guess which kind of server has to run on which node for
client/server mode:

${pathtompirun}/mpirun -np 4 -machinefile ./machines ${paraviewpath}/pvdataserver [mach_def.pvx?]
${pathtompirun}/mpirun -np 4 -machinefile ./machines ${paraviewpath}/pvrenderserver [--use-offscreen-rendering?] [mach_def.pvx?]
${pathtompirun}/mpirun -np 1 -machinefile ./machines ${paraviewpath}/pvclient [-crs?] [mach_def.pvx?]

I tried this with/without a pvx/xml file (see output below): no success, but
now I got a second small window (titled "Visualization Toolkit OpenGL", looks
like a forgotten/not withdrawn Tcl/TK root window?), and the 3DView-Part of the
Paraview client windows stays gray (but it is updated now - unlike the last
start in stand-alone mode)

3) I also tried to start pvserver (instead of pvrender/pvdataserver), no success (more/other errors about socket comm tags like:
ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx, line 671
vtkSocketCommunicator (0xaef65f8): Could not receive tag. 8843
ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx, line 378
vtkPVClientServerModule (0xaef8238): Connection ID mismatch.1073833280 != 0
)

Now this is the output after starting the client and loading the demo (from the
Help menu) in client/server mode:

* two nodes (node255/node256), connection: Myri/gm

* mpi machinefile testmach:
sfriedel@node255:~/TMP/paraview-test$ cat testmach
node255
node256

* xml/pvx file:
sfriedel@node255:~/TMP/paraview-test$ cat machdef.pvx
<?xml version="1.0" ?>
<pvx>
  <Process Type="client" />
  <Process Type="data-server">
    <Machine Name="node255" />
    <Machine Name="node256" />
  </Process>
  <Process Type="render-server">
    <Machine Name="node255" />
    <Machine Name="node256" />
  </Process>
</pvx>


#######################################
sfriedel@node256:~/TMP/paraview-test$ ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 4 -machinefile ./testmach /export/system/paraview/bin/pvrenderserver --use-offscreen-rendering "machdef.pvx"
Listen on port: 22221
RenderServer: Waiting for client...

connected to port 22221
Client connected.
WWaitForConnection: id :0  PoWrt:33935
aitForConnection: id :1  Port:33726
WaitForConnection: id :3  Port:33727
aitForConnection: id :2  Port:33936
Received Hello from process 0
Received Hello from process 2
Received Hello from process 1
Received Hello from process 3

#######################################
sfriedel@node256:~/TMP/paraview-test$ ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 4 -machinefile ./testmach /export/system/paraview/bin/pvdataserver "machdef.pvx"
Listen on port: 11111
Waiting for client...
connected to port 11111
Client connected.
Connect: id :0  host: node255  Port:33935
CConnect: id :1  host: node256  Port:33726
onnect: id :2  host: node255  PConnect: id :3  host: node256  Port:33727
ort:33936

##########################################
sfriedel@node256:~/TMP/paraview-test$ ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 1 -machinefile ./testmach /export/system/paraview/bin/pvclient -crs "machdef.pvx"
Connect to localhost:11111
Connect to localhost:22221
ErrorMessage
# Error or warning: Generic Warning: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Rendering/vtkTkRenderWidget.cxx, line 622
A TkRenderWidget is being destroyed before it associated vtkRenderWindow is destroyed. This is very bad and usually due to the order in which objects are being destroyed. Always destroy the vtkRenderWindow before destroying the user interface components.

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 -rw Addr=0xb8040c8
    Returned Error on line 1:

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes -fill both -side top -anchor nw
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
focus .paraview.24.33.36.37.40.161.163.165.168.169.174
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose> {vtkTemp76 Exposed}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Any-ButtonPress> {vtkTemp76 AButtonPress %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Any-ButtonRelease> {vtkTemp76 AButtonRelease %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-Any-ButtonPress> {vtkTemp76 AShiftButtonPress %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-Any-ButtonRelease> {vtkTemp76 AShiftButtonRelease %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-Any-ButtonPress> {vtkTemp76 AControlButtonPress %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-Any-ButtonRelease> {vtkTemp76 AControlButtonRelease %b %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B1-Motion> {vtkTemp76 Button1Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B2-Motion> {vtkTemp76 Button2Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B3-Motion> {vtkTemp76 Button3Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B1-Motion> {vtkTemp76 ShiftButton1Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B2-Motion> {vtkTemp76 ShiftButton2Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B3-Motion> {vtkTemp76 ShiftButton3Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B1-Motion> {vtkTemp76 ControlButton1Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B2-Motion> {vtkTemp76 ControlButton2Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B3-Motion> {vtkTemp76 ControlButton3Motion %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <KeyPress> {vtkTemp76 AKeyPress %A %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Enter> {vtkTemp76 Enter %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Motion> {vtkTemp2 MouseAction 2 0 %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B1-Motion> {vtkTemp2 MouseAction 2 1 %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B2-Motion> {vtkTemp2 MouseAction 2 2 %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <B3-Motion> {vtkTemp2 MouseAction 2 3 %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B1-Motion> {vtkTemp2 MouseAction 2 1 %x %y 1 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B2-Motion> {vtkTemp2 MouseAction 2 2 %x %y 1 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-B3-Motion> {vtkTemp2 MouseAction 2 3 %x %y 1 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B1-Motion> {vtkTemp2 MouseAction 2 1 %x %y 0 1}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B2-Motion> {vtkTemp2 MouseAction 2 2 %x %y 0 1}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-B3-Motion> {vtkTemp2 MouseAction 2 3 %x %y 0 1}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Any-ButtonPress> {vtkTemp2 MouseAction 0 %b %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-Any-ButtonPress> {vtkTemp2 MouseAction 0 %b %x %y 1 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-Any-ButtonPress> {vtkTemp2 MouseAction 0 %b %x %y 0 1}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Any-ButtonRelease> {vtkTemp2 MouseAction 1 %b %x %y 0 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Shift-Any-ButtonRelease> {vtkTemp2 MouseAction 1 %b %x %y 1 0}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Control-Any-ButtonRelease> {vtkTemp2 MouseAction 1 %b %x %y 0 1}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Enter> {focus .paraview.24.33.36.37.40.161.163.165.168.169.174}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (0xb67bf60):
    Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <KeyPress> {vtkTemp2 KeyAction %K %x %y}
    Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"

ErrorMessage end
DemoScriptPath: /export/system/paraview/bin/../share/paraview-2.4
DemoDataPath: /export/system/paraview/bin/../share/paraview-2.4

#############################################

How do I start all this stuff? Is there any current/updated documentation about
starting paraview 2.4.2 on a cluster? 
Thanks for hints, Stefan
-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060208/c7f31af7/attachment.pgp
From stefan.friedel at iwr.uni-heidelberg.de  Wed Feb  8 04:51:37 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Wed Feb  8 04:52:01 2006
Subject: [Paraview] help w/ glXGetProcAddressARB not declared
In-Reply-To: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9C3@ES21SNLNT.srn.sandia.gov>
References: <7137A9E1D1768C44BE7DF11D30FAB32301CDF9C3@ES21SNLNT.srn.sandia.gov>
Message-ID: <20060208095137.GF20217@woyzeck>

> 
> I took another look at the CMake files and did find a slight problem.
> It turns out that when you change the directory of the OpenGL include
> files, the build was not checking again to see if the prototype exists
> for include files in the new directory.  Is it possible this is what
> happened to you, Stefan?  You can check by deleting
> VTK_GLX_GET_PROC_ADDRESS_ARB_PROTOTYPE_EXISTS_TESTED from your
> CMakeCache.txt.  If the test gives the correct answer this time, that
> was probably the problem.
ok, I will test this now! Thanks, Stefan
-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060208/ef4563db/attachment.pgp
From randall.hand at gmail.com  Wed Feb  8 10:06:01 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Wed Feb  8 10:06:08 2006
Subject: [Paraview] parallel paraview: display not updated
In-Reply-To: <20060208092014.GE20217@woyzeck>
References: <20060208092014.GE20217@woyzeck>
Message-ID: <b02264720602080706p3677726aia55a5821f8c6cf16@mail.gmail.com>

(repost: First was rejected for size-limits.. Trimming off some of the
original)

I feel your pain buddy, honestly. .We've been grappling with the same
troubles here, but here's what we've learned:

In running basic Client-Server model, the following seems to work:

1) On the server:  mpirun -np <number> pvserver --use-offscreen-rendering
--render-module=MPIRenderModule
2) On the client:   pvclient --server-host=<servername>

The Server will be doing the Data Processing, Computation, & Rendering, and
images will be sent back to the client.  Without the
--use-offscreen-rendering option it will attempt to open X display windows
for the graphics.  This is alot faster than offscreen (typically done with
Mesa), but has problems when the windows overlap.  Hopefully you can
distribute it across enough nodes to offset the performance penalty you pay
for using offscreen.  Also, without the --render-module like it will only
send back the first display (in our tests) and kinda forget about the
compositing part.

If you have to use reverse-connection (the Server connects to the client),
then use the following:
1) On the client: pvclient -rc
2) On the server: mpirun -np <number> pvserver --use-offscreen-rendering
--render-module=MPIRenderModule -rc -ch=<clientname>

the PVX file only seems to be necessary when working with a "fully
distributed" system (eg, separate Data Servers, Render Servers, and
Client).  We've cracked some of the dark mysteries of the PVX file here, and
if necessary I'm happy to share what little we know.

On 2/8/06, Stefan Friedel <stefan.friedel@iwr.uni-heidelberg.de> wrote:
>
> Hi all,
> after sucessfully compiling paraview 2.4.2 (w/ mesa 6.4.2,
> offscreen-rendering/osmesa on) I'm not sure how to start the parallel
> application and if the client is working at all:
>
> 1) (after reading the [deprecated] 1. edition of the ParaView Guide...) I
> should be able to start in stand-alone mode on two dual nodes with 4
> processes
> just by starting the paraview binary:
>
> ${pathtompirun}/mpirun -np 4 -machinefile ./machines
> ${paraviewpath}/paraview
>
> A paraview (client) window comes up, 4 processes are running (two per
> node, cpu
> usage~100%, fine) but regardsless of which kind of data/file/demo I load,
> the
> 3D view window on the right is not updated (partially snapshots of
> overlayed
> windows are visible). Probably this is due to the lack of an option to use
> offscreen-rendering?
>
> 2) Then I tried to guess which kind of server has to run on which node for
> client/server mode:
>
> ${pathtompirun}/mpirun -np 4 -machinefile ./machines
> ${paraviewpath}/pvdataserver [mach_def.pvx?]
> ${pathtompirun}/mpirun -np 4 -machinefile ./machines
> ${paraviewpath}/pvrenderserver [--use-offscreen-rendering?] [mach_def.pvx?]
> ${pathtompirun}/mpirun -np 1 -machinefile ./machines
> ${paraviewpath}/pvclient [-crs?] [mach_def.pvx?]
>
> I tried this with/without a pvx/xml file (see output below): no success,
> but
> now I got a second small window (titled "Visualization Toolkit OpenGL",
> looks
> like a forgotten/not withdrawn Tcl/TK root window?), and the 3DView-Part
> of the
> Paraview client windows stays gray (but it is updated now - unlike the
> last
> start in stand-alone mode)
>
> 3) I also tried to start pvserver (instead of pvrender/pvdataserver), no
> success (more/other errors about socket comm tags like:
> ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/VTK/Parallel/vtkSocketCommunicator.cxx,
> line 671
> vtkSocketCommunicator (0xaef65f8): Could not receive tag. 8843
> ERROR: In /home/thor2/sfriedel/SOFTWARE/paraview/paraview-2.4.2/Servers/Common/vtkPVClientServerModule.cxx,
> line 378
> vtkPVClientServerModule (0xaef8238): Connection ID mismatch.1073833280 !=
> 0
> )
>
> Now this is the output after starting the client and loading the demo
> (from the
> Help menu) in client/server mode:
>
> * two nodes (node255/node256), connection: Myri/gm
>
> * mpi machinefile testmach:
> sfriedel@node255:~/TMP/paraview-test$ cat testmach
> node255
> node256
>
> * xml/pvx file:
> sfriedel@node255:~/TMP/paraview-test$ cat machdef.pvx
> <?xml version="1.0" ?>
> <pvx>
>   <Process Type="client" />
>   <Process Type="data-server">
>     <Machine Name="node255" />
>     <Machine Name="node256" />
>   </Process>
>   <Process Type="render-server">
>     <Machine Name="node255" />
>     <Machine Name="node256" />
>   </Process>
> </pvx>
>
>
> #######################################
> sfriedel@node256:~/TMP/paraview-test$
> ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 4 -machinefile
> ./testmach /export/system/paraview/bin/pvrenderserver
> --use-offscreen-rendering "machdef.pvx"
> Listen on port: 22221
> RenderServer: Waiting for client...
>
> connected to port 22221
> .... (snip) ....
>



--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060208/f64fcdc0/attachment-0001.html
From biddisco at cscs.ch  Wed Feb  8 10:52:32 2006
From: biddisco at cscs.ch (John Biddiscombe)
Date: Wed Feb  8 10:52:43 2006
Subject: [Paraview] ParaView NetCDF Module Available
Message-ID: <43EA13C0.3030500@cscs.ch>

Dear ParaView Users

The web page http://www.cscs.ch/a-display.php?id=1168 contains some 
explanatory text and a tarball for vtkCSCSNetCDF. It is a reader which 
can be used within ParaView to load many (but probably not all) netCDF 
datasets.

 From the page mentioned

The key features of vtkCSCSNetCDF are

    * Reads most netCDF files
    * Supports parallel read of data when used in conjunction with ParaView
    * Creates vtkRectilinearGrid for data with no boundary cell geometry
    * Creates vtkUnstructuredGrid for data with boundary cell geometry
    * Supports files with multiple time steps

I welcome feedback, bug reports, suggestions, fixes etc

Yours

JB

-- 
John Biddiscombe,                            email:biddisco @ cscs.ch
http://www.cscs.ch/about/BJohn.php
CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.07
Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060208/ed280a63/attachment.htm
From stefan.friedel at iwr.uni-heidelberg.de  Thu Feb  9 03:34:00 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Thu Feb  9 03:34:23 2006
Subject: [Paraview] parallel paraview: display not updated
In-Reply-To: <b02264720602080706p3677726aia55a5821f8c6cf16@mail.gmail.com>
References: <20060208092014.GE20217@woyzeck>
	<b02264720602080706p3677726aia55a5821f8c6cf16@mail.gmail.com>
Message-ID: <20060209083400.GD17311@woyzeck>

Hi Randall et al.,
> In running basic Client-Server model, the following seems to work:
> 
> 1) On the server:  mpirun -np <number> pvserver --use-offscreen-rendering
> --render-module=MPIRenderModule
> 2) On the client:   pvclient --server-host=<servername>
no, does not work: server is starting...and the client is connecting:

~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2 -machinefile ./mach256 /export/system/paraview/bin/pvserver --render-module=MPIRenderModule --use-offscreen-rendering
Listen on port: 11111
Waiting for client...
connected to port 11111
Client connected.

~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile ./mach256  /export/system/paraview/bin/pvclient --server-host=node256
Connect to node256:11111

(and I can see gm ports in use, so the MPI communication between the two
pvserver processes is also opened); but the view panel on the right is still
showing some old buffer content (moving another window over this part of the
Paraview client window will produce "traces" of the window etc.)
> 
> If you have to use reverse-connection (the Server connects to the client),
> then use the following:
> 1) On the client: pvclient -rc
> 2) On the server: mpirun -np <number> pvserver --use-offscreen-rendering
> --render-module=MPIRenderModule -rc -ch=<clientname>
Same behaviour...
~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile ./mach256  /export/system/paraview/bin/pvclient -rc
Listen on port: 11111
Waiting for server...
connected to port 11111
Server connected.


 ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2 -machinefile ./mach256 /export/system/paraview/bin/pvserver --render-module=MPIRenderModule --use-offscreen-rendering -rc -ch=node256
Connect to node256:11111

> 
> the PVX file only seems to be necessary when working with a "fully
> distributed" system (eg, separate Data Servers, Render Servers, and
> Client).  We've cracked some of the dark mysteries of the PVX file here, and
> if necessary I'm happy to share what little we know.
I tried different entries in the pvx, no change/success. As I understand the
definitions for different servers here are not needed for MPI communication -
the MPI server is just one server (regardless of the number of MPI processes),
but different servers in the pvx (declared by Machine Name="..." entries) are
servers which communicate over sockets, right?  Maybe it's a more general
problem, eg. some issue with the mpichgm/gm layer of Myri - I'm waiting for an
answer of the Myri support regarding Paraview on Myri/gm... 

The reason for using offscreen rendering is: laziness (no X is installed on the
nodes) but probably the next nodes will not even have any graphics card... 
Thank you!, Best Regards, Stefan
--
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060209/5d90a2ad/attachment.pgp
From stefan.friedel at iwr.uni-heidelberg.de  Thu Feb  9 11:30:30 2006
From: stefan.friedel at iwr.uni-heidelberg.de (Stefan Friedel)
Date: Thu Feb  9 11:30:44 2006
Subject: [Paraview] parallel paraview: display not updated
In-Reply-To: <20060209083400.GD17311@woyzeck>
References: <20060208092014.GE20217@woyzeck>
	<b02264720602080706p3677726aia55a5821f8c6cf16@mail.gmail.com>
	<20060209083400.GD17311@woyzeck>
Message-ID: <20060209163030.GA6221@woyzeck>

Hi Randall et al.,
we solved it...probably it is a bug? Anyway:

-starting the server with mpirun -np <n> pvserver --render-module=MPIRenderModule --use-offscreen-rendering
-starting the client with mpirun -np 1 pvclient
-do a File->Save view image (why? I don't know...but now:)
-load your data, view your data - after saving the first view image everything is working fine!!?

Thanks for your help,
Best Regards, Stefan

> Hi Randall et al.,
> > In running basic Client-Server model, the following seems to work:
> > 
> > 1) On the server:  mpirun -np <number> pvserver --use-offscreen-rendering
> > --render-module=MPIRenderModule
> > 2) On the client:   pvclient --server-host=<servername>
> no, does not work: server is starting...and the client is connecting:
> 
> ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2 -machinefile ./mach256 /export/system/paraview/bin/pvserver --render-module=MPIRenderModule --use-offscreen-rendering
> Listen on port: 11111
> Waiting for client...
> connected to port 11111
> Client connected.
> 
> ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile ./mach256  /export/system/paraview/bin/pvclient --server-host=node256
> Connect to node256:11111
> 
> (and I can see gm ports in use, so the MPI communication between the two
> pvserver processes is also opened); but the view panel on the right is still
> showing some old buffer content (moving another window over this part of the
> Paraview client window will produce "traces" of the window etc.)
> > 
> > If you have to use reverse-connection (the Server connects to the client),
> > then use the following:
> > 1) On the client: pvclient -rc
> > 2) On the server: mpirun -np <number> pvserver --use-offscreen-rendering
> > --render-module=MPIRenderModule -rc -ch=<clientname>
> Same behaviour...
> ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile ./mach256  /export/system/paraview/bin/pvclient -rc
> Listen on port: 11111
> Waiting for server...
> connected to port 11111
> Server connected.
> 
> 
>  ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2 -machinefile ./mach256 /export/system/paraview/bin/pvserver --render-module=MPIRenderModule --use-offscreen-rendering -rc -ch=node256
> Connect to node256:11111
> 
> > 
> > the PVX file only seems to be necessary when working with a "fully
> > distributed" system (eg, separate Data Servers, Render Servers, and
> > Client).  We've cracked some of the dark mysteries of the PVX file here, and
> > if necessary I'm happy to share what little we know.
> I tried different entries in the pvx, no change/success. As I understand the
> definitions for different servers here are not needed for MPI communication -
> the MPI server is just one server (regardless of the number of MPI processes),
> but different servers in the pvx (declared by Machine Name="..." entries) are
> servers which communicate over sockets, right?  Maybe it's a more general
> problem, eg. some issue with the mpichgm/gm layer of Myri - I'm waiting for an
> answer of the Myri support regarding Paraview on Myri/gm... 
> 
> The reason for using offscreen rendering is: laziness (no X is installed on the
> nodes) but probably the next nodes will not even have any graphics card... 
> Thank you!, Best Regards, Stefan
> --
> Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
> Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
> stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
> IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de



> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview


-- 
Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
Url : http://public.kitware.com/pipermail/paraview/attachments/20060209/dd430eac/attachment.pgp
From randall.hand at gmail.com  Thu Feb  9 12:47:22 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Thu Feb  9 12:47:27 2006
Subject: [Paraview] parallel paraview: display not updated
In-Reply-To: <20060209163030.GA6221@woyzeck>
References: <20060208092014.GE20217@woyzeck>
	<b02264720602080706p3677726aia55a5821f8c6cf16@mail.gmail.com>
	<20060209083400.GD17311@woyzeck> <20060209163030.GA6221@woyzeck>
Message-ID: <b02264720602090947x6423e2ebqa35500a63891d691@mail.gmail.com>

wow.. That's pretty friggin wierd.. lol.

Glad you got it workin tho, I'll keep that trick with the Save View Image in
mind.  We haven't run into that here, but we're working on SGI Servers with
Windows Clients, and that opens a whole warehouse full of cans of worms that
you don't want to deal with.

Now.. One thing we did run into was that sometimes we had to turn off the
Squirt Subsample Rate on the client.  We had a strange situation where it
would initially load the data just fine, and then when you interacted with
it, it was just fine.  But when you let go of the button so that it would
return to the full resolution display, one quarter of the screen would keep
a copy of the resolution-reduced image up.  If we just unchecked that option
on the client, it was ok (Of course this meant you had to stream
full-resolution images back to the client, in our case it's not that big of
a problem).

On 2/9/06, Stefan Friedel <stefan.friedel@iwr.uni-heidelberg.de> wrote:
>
> Hi Randall et al.,
> we solved it...probably it is a bug? Anyway:
>
> -starting the server with mpirun -np <n> pvserver
> --render-module=MPIRenderModule --use-offscreen-rendering
> -starting the client with mpirun -np 1 pvclient
> -do a File->Save view image (why? I don't know...but now:)
> -load your data, view your data - after saving the first view image
> everything is working fine!!?
>
> Thanks for your help,
> Best Regards, Stefan
>
> > Hi Randall et al.,
> > > In running basic Client-Server model, the following seems to work:
> > >
> > > 1) On the server:  mpirun -np <number> pvserver
> --use-offscreen-rendering
> > > --render-module=MPIRenderModule
> > > 2) On the client:   pvclient --server-host=<servername>
> > no, does not work: server is starting...and the client is connecting:
> >
> > ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2
> -machinefile ./mach256 /export/system/paraview/bin/pvserver
> --render-module=MPIRenderModule --use-offscreen-rendering
> > Listen on port: 11111
> > Waiting for client...
> > connected to port 11111
> > Client connected.
> >
> > ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile
> ./mach256  /export/system/paraview/bin/pvclient --server-host=node256
> > Connect to node256:11111
> >
> > (and I can see gm ports in use, so the MPI communication between the two
> > pvserver processes is also opened); but the view panel on the right is
> still
> > showing some old buffer content (moving another window over this part of
> the
> > Paraview client window will produce "traces" of the window etc.)
> > >
> > > If you have to use reverse-connection (the Server connects to the
> client),
> > > then use the following:
> > > 1) On the client: pvclient -rc
> > > 2) On the server: mpirun -np <number> pvserver
> --use-offscreen-rendering
> > > --render-module=MPIRenderModule -rc -ch=<clientname>
> > Same behaviour...
> > ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm -np 1 -machinefile
> ./mach256  /export/system/paraview/bin/pvclient -rc
> > Listen on port: 11111
> > Waiting for server...
> > connected to port 11111
> > Server connected.
> >
> >
> >  ~/TMP/mpichgm_gccwssh/bin/mpirun.ch_gm --gm-tree-spawn -np 2
> -machinefile ./mach256 /export/system/paraview/bin/pvserver
> --render-module=MPIRenderModule --use-offscreen-rendering -rc -ch=node256
> > Connect to node256:11111
> >
> > >
> > > the PVX file only seems to be necessary when working with a "fully
> > > distributed" system (eg, separate Data Servers, Render Servers, and
> > > Client).  We've cracked some of the dark mysteries of the PVX file
> here, and
> > > if necessary I'm happy to share what little we know.
> > I tried different entries in the pvx, no change/success. As I understand
> the
> > definitions for different servers here are not needed for MPI
> communication -
> > the MPI server is just one server (regardless of the number of MPI
> processes),
> > but different servers in the pvx (declared by Machine Name="..."
> entries) are
> > servers which communicate over sockets, right?  Maybe it's a more
> general
> > problem, eg. some issue with the mpichgm/gm layer of Myri - I'm waiting
> for an
> > answer of the Myri support regarding Paraview on Myri/gm...
> >
> > The reason for using offscreen rendering is: laziness (no X is installed
> on the
> > nodes) but probably the next nodes will not even have any graphics
> card...
> > Thank you!, Best Regards, Stefan
> > --
> > Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
> > Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
> > stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
> > IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
>
>
>
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
>
>
> --
> Zentrale Dienste - Interdisziplin?res Zentrum f?r Wissenschaftliches
> Rechnen der Universit?t Heidelberg - IWR - INF 368, 69120 Heidelberg
> stefan.friedel@iwr.uni-heidelberg.de  Tel +49 6221 54-8240 Fax -5224
> IWR: www.iwr.uni-heidelberg.de          HELICS: www.helics.uni-hd.de
>
>
> -----BEGIN PGP SIGNATURE-----
> Version: GnuPG v1.4.2 (GNU/Linux)
>
> iD8DBQFD624m3umRt9zSRsQRAnk4AJkBA6a7ziJJeF9GuwLBtTk3QjsKnQCfVCKe
> pBkw1V9hg71I6RuAjqag5LY=
> =Dqyt
> -----END PGP SIGNATURE-----
>
>
>


--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060209/ddee98be/attachment.htm
From Mike.Stephens at erdc.usace.army.mil  Thu Feb  9 16:01:33 2006
From: Mike.Stephens at erdc.usace.army.mil (Stephens,
	Mike ERDC-ITL-MS Contractor)
Date: Thu Feb  9 16:01:49 2006
Subject: [Paraview] paraview servers port numbers 
Message-ID: <E1BD088683EF744ABFB0ED62370BEB8B040337A7@ERD-ML4ERD.erd.ds.usace.army.mil>

paraview-ish executables have a -port command line option to set up the
coordination among the separate flavor of processes (client, dataserver, &
renderserver), right?  (default to 11111 or 22221 or something like that)

 

now when firing up multiple dataserver/renderserver process or threads if you
prefer (torched off by mpirun -np #), paraview

generates some random ports that the data and render server use to yak at
each other.

 

for reasons that only a fevered mind can fathom, I need to limit the these
generated random ports to a certain range of numbers.

I'm using the source; but alas am a mere padawan and need help from a master.

 

can someone tell me where the port numbers are generated so I can see if I
can fix it to serve my purposes.

 

thanks.

-m 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060209/5eab3b20/attachment.htm
From utkarsh.ayachit at kitware.com  Thu Feb  9 16:40:11 2006
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu Feb  9 16:43:33 2006
Subject: [Paraview] paraview servers port numbers
In-Reply-To: <E1BD088683EF744ABFB0ED62370BEB8B040337A7@ERD-ML4ERD.erd.ds.usace.army.mil>
References: <E1BD088683EF744ABFB0ED62370BEB8B040337A7@ERD-ML4ERD.erd.ds.usace.army.mil>
Message-ID: <43EBB6BB.2030007@kitware.com>

Look at vtkServerConnection::SetupDataServerRenderServerConnection()
in ParaView/Servers/Common/vtkServerConnection.cxx. This method
initializes the connections. The actual connections are established by
vtkMPIMToNSocketConnection
(ParaView/Server/Common/vtkMPIMToNSocketConnection.cxx)

Utkarsh.

Stephens, Mike ERDC-ITL-MS Contractor wrote:
> paraview-ish executables have a ?port command line option to set up the
> coordination among the separate flavor of processes (client, dataserver,
> & renderserver), right?  (default to 11111 or 22221 or something like that)
> 
>  
> 
> now when firing up multiple dataserver/renderserver process or threads
> if you prefer (torched off by mpirun ?np #), paraview
> 
> generates some random ports that the data and render server use to yak
> at each other.
> 
>  
> 
> for reasons that only a fevered mind can fathom, I need to limit the
> these generated random ports to a certain range of numbers.
> 
> I?m using the source; but alas am a mere padawan and need help from a
> master.
> 
>  
> 
> can someone tell me where the port numbers are generated so I can see if
> I can fix it to serve my purposes.
> 
>  
> 
> thanks.
> 
> -m
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

From Stephane.Montesino at hmg.inpg.fr  Fri Feb 10 10:15:03 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Fri Feb 10 10:15:13 2006
Subject: [Paraview] Writing unformatted Fortran data
Message-ID: <43ECADF7.2000401@hmg.inpg.fr>

Hi Renato,
Openning file in Binary form is only possible with Microsoft 
Develloppers Studio.
When I wanted to run my routine on IBM SP4, I had to change the form to 
UNFORMATTED because the key word BINARY is not accepted..
But now I can't read my data with paraview.

Does anyone has a solution to write UNFORMATTED fortran data that can be 
read with Paraview ????

-- 
St?phane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060210/cd21d14a/Stephane.Montesino.vcf
From benjamin.reveille at ifp.fr  Fri Feb 10 10:24:52 2006
From: benjamin.reveille at ifp.fr (Benjamin REVEILLE)
Date: Fri Feb 10 10:25:01 2006
Subject: [Paraview] Writing unformatted Fortran data
In-Reply-To: <43ECADF7.2000401@hmg.inpg.fr>
References: <43ECADF7.2000401@hmg.inpg.fr>
Message-ID: <43ECB044.4000305@ifp.fr>

Hi

I don't have the solution, but this is on my most wanted list...

Benjamin


St?phane Mont?sino wrote:

> Hi Renato,
> Openning file in Binary form is only possible with Microsoft 
> Develloppers Studio.
> When I wanted to run my routine on IBM SP4, I had to change the form 
> to UNFORMATTED because the key word BINARY is not accepted..
> But now I can't read my data with paraview.
>
> Does anyone has a solution to write UNFORMATTED fortran data that can 
> be read with Paraview ????
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

-- 
===================================================================
 Benjamin R?veill?               

 Institut Fran?ais du P?trole       Tel  : +33 1 47 52 62 68
 Section R1022R  /  Bureau L207     Fax  : +33 1 47 52 70 68
 1 & 4, avenue de Bois-Preau
 92852 RUEIL-MALMAISON  FRANCE      http://www.ifp.fr

 mail : benjamin.reveille@ifp.fr
===================================================================



__________________________

Ce message (et toutes ses pi?ces jointes ?ventuelles) est confidentiel et ?tabli ? l'intention exclusive de ses destinataires. Toute utilisation de ce message non conforme ? sa destination, toute diffusion ou toute publication, totale ou partielle, est interdite, sauf autorisation expresse. L'IFP d?cline toute responsabilit? au titre de ce message.

This message and any attachments (the message) are confidential and intended solely for the addressees. Any unauthorised use or dissemination is prohibited. IFP should not be liable for this message.

Visitez notre site Web / Visit our web site : http://www.ifp.fr
__________________________




From dan at chalkie.org.uk  Fri Feb 10 10:31:44 2006
From: dan at chalkie.org.uk (Dan White)
Date: Fri Feb 10 10:31:53 2006
Subject: [Paraview] BioImageXD - free open source 3D microscopy analysis and
	visualisation software - beta release
Message-ID: <F9FD6D56-6A7D-4DC6-BC0B-CCB695CBF743@chalkie.org.uk>

Dear Paraview users,

If you like paraview ( which we all do, because it is great!)
but you are interested in 3D microscopy images in particular...

You can now download and use the windows beta version of BioImageXD!
BioImageXD is tailored for 3D microscopy, not Medical data like CT  
and NMR,
Some features are shared with paraview, as both use VTK, but there  
are many microscopy specific features.

It will read carl zeiss .lsm files, some Leica files, and also import  
stacks of 8 bit tiff and other image formats.
BioImageXD does interactive 3D volume rendering, and many other  
viewing methods, and can also make movies/animations.
BioImageXD does colocalisation analysis, using the same algorithms as  
in  the WCIF ImageJ version.
BioImageXD is open source and free. We need your help to fix bugs and  
add new features that YOU want!
Any offers of help with programming, processing/analysis algorithms,  
funding etc very welcome.

http://www.bioimagexd.org
follow the download link at the top of the page.

email to info@bioimagexd.org


Enjoy the software!

BioImageXD team


Release of BioImageXD - Press release

BioImageXD is a collaborative open source free software project,  
designed and developed by microscopists, cell biologists,  
nanoscientists and programmers from the Universities of Jyv?skyl? and  
Turku in Finland, and collaborators worldwide.

BioImageXD enables analysis, processing and 3D visualisation of multi  
dimensional microscopy images on cheap and high end computer  
hardware. Current commercially available software for microscopy  
often has technical limitations, lack of features and flexibility,  
annoying bugs, and prohibitively high cost. When users ask for new  
features to be added or bugs to be fixed, this often takes years, or  
never even happens. BioImageXD aims to match, and in some areas  
outperform, commercial microscopy software in speed and  
functionality, and do it  for free. Further, since users drive the  
development of the software, they can help add the features they  
want, and fix bugs quickly.

Features in the beta version of BioImageXD released today include  
image processing and statistical analysis, 3D visualisation and a  
video editor module, the Animator, for producing fly through  
animations of 3D microscopy data, allowing researchers to give the  
best statistical and visual representation possible of their  
microscopy results during scientific and media presentations.

Scientists on tight budgets will be able to take microscope images  
and create informative pictures and impressive 3D movies. They can  
save 10s of thousands of euros on software costs, and spend that on  
microscope hardware instead, allowing them to produce high quality  
science previously only attainable by very large centrally funded  
government and industrial labs with microscopy core facilities.

BioImageXD is free and open source, much like the Linux computer  
operating system project, and anyone can contribute to develpoment.  
We aim to build an active community of users and developers of  
BioImageXD, who will advocate use of BioImageXD as a replacement for  
inflexible expensive commercial software, and drive the development  
of BioImageXD to include the features they want and need, quickly. We  
plan to build on the success of free software projects in science,  
such as Linux, PyMol, ImageJ, VTK and Osirix, to name but a few.

The project website at http://www.bioimagexd.org hosts BioImageXD  
downloadable as a Microsoft WindowsXP installer program and also as  
source code. Soon to follow are Linux and Apple Mac OS X versions of  
BioImageXD, and we are developing support for modern 64-bit  
processors, high performance super computers and computing clusters/ 
grids.

BioImageXD is a new wave in the modern era of informational biology.  
Researchers will be able to use free software for complex tasks  
previously requiring expensive software purchases. Researchers will  
get the tools they want and need in return for participation in the  
BioImageXD development community.


Dr. Daniel James White BSc. (Hons.) PhD
Bioimaging Coordinator
Nanoscience Centre and Department of Biological and Environmental  
Sciences
Division of Molecular Recognition
Ambiotica C242
PO Box 35
University of Jyv?skyl?
Jyv?skyl?
FIN 40014
Finland

+358 14 260 4183 (work)
+358 468102840 (mobile)
http://www.bioimagexd.org
http://www.chalkie.org.uk
dan@chalkie.org.uk
white@cc.jyu.fi


From jsg3 at psu.edu  Fri Feb 10 10:45:24 2006
From: jsg3 at psu.edu (Jack Gundrum)
Date: Fri Feb 10 10:48:26 2006
Subject: [Paraview] gigabyte+ dataset
Message-ID: <43ECB514.1090307@psu.edu>

Hi, does anyone know where I could download a gigabyte+ dataset for 
paraview?
From randall.hand at gmail.com  Fri Feb 10 10:51:21 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Fri Feb 10 10:51:24 2006
Subject: [Paraview] gigabyte+ dataset
In-Reply-To: <43ECB514.1090307@psu.edu>
References: <43ECB514.1090307@psu.edu>
Message-ID: <b02264720602100751x2206a491p80542a9bb994d8ea@mail.gmail.com>

If you're just doing performance tests/experiments, you can use Paraview's
Built-in Sources to generate Mandlebrot Fractals at pretty much any size &
save them to disk.

If you're doing experiments, you might find "Giga-Cell" or "Giga-Point" more
useful than "Giga-Byte".

On 2/10/06, Jack Gundrum <jsg3@psu.edu> wrote:
>
> Hi, does anyone know where I could download a gigabyte+ dataset for
> paraview?
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>



--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060210/781b4867/attachment.html
From Stephane.Montesino at hmg.inpg.fr  Fri Feb 10 11:32:51 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Fri Feb 10 11:33:02 2006
Subject: [Paraview] How to link VTK I/O to fortran code with the interface ?
Message-ID: <43ECC033.1080604@hmg.inpg.fr>

I want to write scalar data on a rectilinear grid stretched.

Which library do I need to compile and link to my fortran code ?
Which call do I need to do ?
Does anyone has an example ?



Okay, the C/Fortran interface is now available.  A C program can do
>
> #include "vtkXMLWriterC.h"
>
> and link to vtkIO.  A Fortran program can use the interface (see the 
> example code below) but will need to compile one extra .c file to link 
> properly to vtkIO.  See VTK/IO/vtkXMLWriterF.h for instructions.
>
> -Brad
>
>      PROGRAM Hello
>      INTEGER writer
>      INTEGER success
>      INTEGER*8 numpoints/8/
>      INTEGER*8 numcells/1/
>      INTEGER*8 cellsSize/9/
>      REAL*4 pdata(8)/0,0,0,0,1,1,1,1/
>      REAL*4 points(24)/0,0,0, 1,0,0, 1,1,0, 0,1,0,
>     _                  0,0,1, 1,0,1, 1,1,1, 0,1,1/
>      INTEGER*8 cells(9)/8,0,1,2,3,4,5,6,7/
>      call vtkXMLWriterF_New(writer)
>      call vtkXMLWriterF_SetDataObjectType(writer, 4)
>      call vtkXMLWriterF_SetFileName(writer, 'test1.vtu')
>      call vtkXMLWriterF_SetPoints(writer, 10, points, numpoints)
>      call vtkXMLWriterF_SetCellsWithType(writer, 12, numcells, cells,
>     _                                    cellsSize)
>      call vtkXMLWriterF_SetPointData(writer, 'example data', 10, pdata,
>     _                                numpoints, 1, 'SCALARS')
>      call vtkXMLWriterF_Write(writer, success)
>      call vtkXMLWriterF_Delete(writer)
>      PRINT *, 'success =', success
>      END PROGRAM Hello
> 

-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060210/24364a30/Stephane.Montesino.vcf
From rnelias at nacad.ufrj.br  Fri Feb 10 11:43:26 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Feb 10 11:35:00 2006
Subject: RES: [Paraview] Writing unformatted Fortran data
In-Reply-To: <43ECAB9B.1020907@hmg.inpg.fr>
Message-ID: <20060210153436.DC243727CF@mailhost.nacad.ufrj.br>


Hi St?phane,

You're in a bad luck. Actually, most of the Fortran compilers has support to
write "binary" files (I'm sure about: Compaq, Intel & PGF90). 

I've already got this problem too, but it only happens with PV because
Ensight can handle both types of binary data. I also got problem when tried
to read, in PV, binary (form='binary') Ensight "GOLD" files written by
Fortran routines. 

I have not found a solution yet but I started to implement a C routine,
only, to write Ensight's files from my Fortran code (I'm sending in attach).
As you can see, the routines are very simple (I'm not a C/C++ programmer)
and, I guess, you can easily modify them to fit in your problem. I know it's
not the ideal solution but, up to now, it was the easiest solution for me.

>>> please Berk and PV team, help us, poor Fortran programmers, giving
support for both type of binaries in PV ;-) <<< I'm joking...

NOTE: I'm still looking for a good way to pass a Fortran character to a C
routine as a C string (null terminated). I've been doing the following:

!----------------------------------------------------

character :: arch*80, null*1
external WriteEnsightGeometryBin

null = char(0)
arch= "MyFile.geo"//null
call WriteEnsightGeometryBin ( arch, irank+1, nnos, nel, 3, 4, 
.                              ien(1,1), xyz(1,1) )

!----------------------------------------------------

And I should advise your that not always it works fine ;-)

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 

-----Mensagem original-----
De: St?phane Mont?sino [mailto:Stephane.Montesino@hmg.inpg.fr] 
Enviada em: sexta-feira, 10 de fevereiro de 2006 13:05
Para: Renato N. Elias
Assunto: [Paraview] Writing unformatted Fortran data

Hi Renato,
Openning file in Binary form is only possible with Microsoft Develloppers
Studio.
When I wanted to run my routine on IBM SP4, I had to change the form to
UNFORMATTED because the key word BINARY is not accepted..
But now I can't read my data with paraview.

Does anyone has a solution to write UNFORMATTED fortran data that can be
read with Paraview ????


-- 
St?phane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: EnsightWritersBIN.zip
Type: application/octet-stream
Size: 1127 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060210/6fd2ccc4/EnsightWritersBIN.obj
From rcook at llnl.gov  Fri Feb 10 11:38:00 2006
From: rcook at llnl.gov (Rich Cook)
Date: Fri Feb 10 11:37:55 2006
Subject: [Paraview] error in paraview help please! 
Message-ID: <C441C6CD-DF07-400D-ABA8-AEC9F43ADA70@llnl.gov>

Hi, I get lots of errors when running paraview on AIX.  I had to do  
some things to get it to compile, which I mentioned in an earlier  
email.  Can anyone help me get this thing to work?  Am I on the right  
list?  Is there a way to get technical support from Kitware?  Thanks.

rcook@up041 (rcook): /usr/global/tools/Kitware/Paraview/2.4.2/ 
aix_5_64_fed/bin/paraview
ErrorMessage
# Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/ 
2.4.2/src/aix_5_64_fed/paraview-2.4
.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 - 
rw Addr=110468df0
     Returned Error on line 1:
NULL main window



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes - 
fill both -side top -anchor nw
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
focus .paraview.24.33.36.37.40.161.163.165.168.169.174
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose>  
{vtkTemp76 Exposed}
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060210/c15bad25/attachment.html
From jkoski11 at comcast.net  Fri Feb 10 11:55:50 2006
From: jkoski11 at comcast.net (Joe Koski)
Date: Fri Feb 10 11:55:59 2006
Subject: [Paraview] How to link VTK I/O to fortran code with the
	interface ?
In-Reply-To: <43ECC033.1080604@hmg.inpg.fr>
Message-ID: <C01213A6.5579%jkoski11@comcast.net>

on 2/10/06 9:32 AM, St?phane Mont?sino at Stephane.Montesino@hmg.inpg.fr
wrote:

> I want to write scalar data on a rectilinear grid stretched.
> 
> Which library do I need to compile and link to my fortran code ?
> Which call do I need to do ?
> Does anyone has an example ?
> 
Stephane,

For simplicity, I write .vtk legacy ascii output in Fortran directly from
the code, with no special subroutine library necessary. The format is
described in a .pdf at

  http://www.llnl.gov/visit/FAQ.html#11

(Look near the end of the list.) This isn't the fastest or the most
efficient way, but it works.

Joe 


From benjamin.reveille at ifp.fr  Fri Feb 10 12:14:49 2006
From: benjamin.reveille at ifp.fr (Benjamin REVEILLE)
Date: Fri Feb 10 12:14:56 2006
Subject: RES: [Paraview] Writing unformatted Fortran data
In-Reply-To: <20060210153436.DC243727CF@mailhost.nacad.ufrj.br>
References: <20060210153436.DC243727CF@mailhost.nacad.ufrj.br>
Message-ID: <43ECCA09.5020608@ifp.fr>

you need to todeclare one more parameter at the end of the C version of 
WriteEnsightGeometryBin

Fortran Version : call WriteEnsightGeometryBin ( arch, irank+1, nnos, nel, 3, 4, 
.                              ien(1,1), xyz(1,1) )

C version: void WriteEnsightGeometryBin ( char *arch, int irank, int nnos, int nel, 3, 4, 
.                              int *ien, real *xyz, int larch ) larch is the lenthg of arch that the fortran call will pass


then  char *string=(char *)malloc(sizeof(char)*(larch+1)) // +1 to put 
the null character
strncpy(string,arch,larch);
string[larch]='\0'
then use string instead of arch...

I use this very often...
Benjamin



Renato N. Elias wrote:

>Hi St?phane,
>
>You're in a bad luck. Actually, most of the Fortran compilers has support to
>write "binary" files (I'm sure about: Compaq, Intel & PGF90). 
>
>I've already got this problem too, but it only happens with PV because
>Ensight can handle both types of binary data. I also got problem when tried
>to read, in PV, binary (form='binary') Ensight "GOLD" files written by
>Fortran routines. 
>
>I have not found a solution yet but I started to implement a C routine,
>only, to write Ensight's files from my Fortran code (I'm sending in attach).
>As you can see, the routines are very simple (I'm not a C/C++ programmer)
>and, I guess, you can easily modify them to fit in your problem. I know it's
>not the ideal solution but, up to now, it was the easiest solution for me.
>
>  
>
>>>>please Berk and PV team, help us, poor Fortran programmers, giving
>>>>        
>>>>
>support for both type of binaries in PV ;-) <<< I'm joking...
>
>NOTE: I'm still looking for a good way to pass a Fortran character to a C
>routine as a C string (null terminated). I've been doing the following:
>
>!----------------------------------------------------
>
>character :: arch*80, null*1
>external WriteEnsightGeometryBin
>
>null = char(0)
>arch= "MyFile.geo"//null
>call WriteEnsightGeometryBin ( arch, irank+1, nnos, nel, 3, 4, 
>.                              ien(1,1), xyz(1,1) )
>
>!----------------------------------------------------
>
>And I should advise your that not always it works fine ;-)
>
>Regards
>
>Renato N. Elias
>===============================================
>PhD student - http://www.nacad.ufrj.br/~rnelias
>High Performance Computing Center
>Federal University of Rio de Janeiro
>Rio de Janeiro, Brazil
>+55(21) 2562-8080 
>
>-----Mensagem original-----
>De: St?phane Mont?sino [mailto:Stephane.Montesino@hmg.inpg.fr] 
>Enviada em: sexta-feira, 10 de fevereiro de 2006 13:05
>Para: Renato N. Elias
>Assunto: [Paraview] Writing unformatted Fortran data
>
>Hi Renato,
>Openning file in Binary form is only possible with Microsoft Develloppers
>Studio.
>When I wanted to run my routine on IBM SP4, I had to change the form to
>UNFORMATTED because the key word BINARY is not accepted..
>But now I can't read my data with paraview.
>
>Does anyone has a solution to write UNFORMATTED fortran data that can be
>read with Paraview ????
>
>
>  
>
>------------------------------------------------------------------------
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

-- 
===================================================================
 Benjamin R?veill?               

 Institut Fran?ais du P?trole       Tel  : +33 1 47 52 62 68
 Section R1022R  /  Bureau L207     Fax  : +33 1 47 52 70 68
 1 & 4, avenue de Bois-Preau
 92852 RUEIL-MALMAISON  FRANCE      http://www.ifp.fr

 mail : benjamin.reveille@ifp.fr
===================================================================



__________________________

Ce message (et toutes ses pi?ces jointes ?ventuelles) est confidentiel et ?tabli ? l'intention exclusive de ses destinataires. Toute utilisation de ce message non conforme ? sa destination, toute diffusion ou toute publication, totale ou partielle, est interdite, sauf autorisation expresse. L'IFP d?cline toute responsabilit? au titre de ce message.

This message and any attachments (the message) are confidential and intended solely for the addressees. Any unauthorised use or dissemination is prohibited. IFP should not be liable for this message.

Visitez notre site Web / Visit our web site : http://www.ifp.fr
__________________________




From Stephane.Montesino at hmg.inpg.fr  Fri Feb 10 12:31:51 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Fri Feb 10 12:35:08 2006
Subject: [Paraview] How to link VTK I/O to fortran code with the interface
 to write binary data ?
In-Reply-To: <20060210170013.55E1729EA8@public.kitware.com>
References: <20060210170013.55E1729EA8@public.kitware.com>
Message-ID: <43ECCE07.5010900@hmg.inpg.fr>

>
>
>> <>I want to write scalar data on a rectilinear grid stretched in a 
>> BINARYor UNFORMATTED form.
>
ASCII format is too big for Direct Numerical Simulation of Turbulent Flow.

There is a Fortran interface from Brad King  that I would like to link 
but...

>> <>Which library do I need to compile and link to my fortran code ?
>> Which call do I need to do ?
>> Does anyone has more explicit  example ?
>>
>Stephane,
>
>For simplicity, I write .vtk legacy ascii output in Fortran directly from
>the code, with no special subroutine library necessary. The format is
>described in a .pdf at
>
>  http://www.llnl.gov/visit/FAQ.html#11
>
>(Look near the end of the list.) This isn't the fastest or the most
>efficient way, but it works.
>
>Joe 
>
>  
>


-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060210/8bf149de/Stephane.Montesino.vcf
From domi at vision.ee.ethz.ch  Fri Feb 10 18:49:41 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Feb 10 18:49:46 2006
Subject: [Paraview] data scaling?
Message-ID: <43ED2695.7080600@vision.ee.ethz.ch>

Hi,
I just noticed that PV doesnt display my model if the real dimensions
are below 1e-5. Interestingly, ranges of vectors/scalars are given OK
and they are available in the Display tab. Is it normal? (there is a
"double" keywords where appropriate in a binary legacy file I use in
this case)
Thanks
Dominik
-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From domi at vision.ee.ethz.ch  Fri Feb 10 18:56:48 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Fri Feb 10 18:56:57 2006
Subject: [Paraview] data scaling?
In-Reply-To: <43ED2695.7080600@vision.ee.ethz.ch>
References: <43ED2695.7080600@vision.ee.ethz.ch>
Message-ID: <43ED2840.4020704@vision.ee.ethz.ch>

I hit set view to data, nothing. move RMB blind, it shows up, gone fast.
hit set view to data, gone again. weird. Any clue?
--dsz

Dominik Szczerba wrote:
> Hi,
> I just noticed that PV doesnt display my model if the real dimensions
> are below 1e-5. Interestingly, ranges of vectors/scalars are given OK
> and they are available in the Display tab. Is it normal? (there is a
> "double" keywords where appropriate in a binary legacy file I use in
> this case)
> Thanks
> Dominik

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From biddisco at cscs.ch  Mon Feb 13 08:34:02 2006
From: biddisco at cscs.ch (John Biddiscombe)
Date: Mon Feb 13 08:34:24 2006
Subject: [Paraview] Mystery Dashboard fails
Message-ID: <43F08ACA.1040207@cscs.ch>

We run our own dashboards here every night, and as part of it we build 
vtk/paraview/etc on a nightly basis.

Regularly, the dashboards fail when/* those at kitware do not*/. An 
example of a recent paraview fail is below (bottom). Note that the build 
also failed on my desktop and several other machines (XP and SUSE). I am 
reasonably confident that some failing in the way CMake is generating 
dependencies is responsible for most of the problems, but what I'd like 
to know is... - why do we get fails quite often (i.e. once a month or 
so) when the dashboards at kitware are always green - or at least do not 
show the errors we get.

NB. The time when I notice this sort of thing on my desktop most often 
is when I do a cvs update after a month or so of not doing one, then my 
build will fail with some error like this one. Usually, manually 
locating all the generated headers and cxx files in the build directory, 
wiping them and rebuilding fixes things. More annoyingly I have to 
sometimes wipe all the cmake generated cache stuff and do a full rebuild.

NB2. On this particular day I think the windows dashboard was failing 
with a similar problem - which turned out to be caused by 
vtkSMAnimationSceneProxy including some AVIWriter stuff, but this wasn't 
being built because VTK_VIDEO_FOR_WINDOWS was off (the default), the 
build in question below is a linux build and so caused by something 
different. But I'm still amazed at how our builds fail so frequently 
when everyone else's are fine.

NB3. I realize that someone will say, why not submit your dashboard to 
kitware every night, but what I want to know is why yours never fail 
(for example, I just did a paraview cvs update and rebuild and it failed 
again, this time with the stuff immediately below, the dashboards are 
green at kitware...Do you wipe everything every night and do it all from 
scrathc?

/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx: 
In
   function `int vtkKWPresetSelectorCppCommand(vtkKWPresetSelector*,
   Tcl_Interp*, int, char**)':
/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx:277: 
error: `
   SetGroupFilter' undeclared (first use this function)
/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx:277: 
error: (Each
   undeclared identifier is reported only once for each function it appears
   in.)
/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx:285: 
error: `
   GetGroupFilter' undeclared (first use this function)
/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx:442: 
error: `
   SetPresetImage' undeclared (first use this function)
/local/testing/cmakebuild/paraviewnightly/GUI/Widgets/vtkKWPresetSelectorTcl.cxx:461: 
error: `
   SetPresetImageFromRenderWindow' undeclared (first use this function)
make[2]: *** 
[GUI/Widgets/CMakeFiles/KWWidgets.dir/vtkKWPresetSelectorTcl.o] Error 1
make[2]: Leaving directory `/local/testing/cmakebuild/paraviewnightly'
make[1]: *** [GUI/Widgets/CMakeFiles/KWWidgets.dir/all] Error 2
make[1]: Leaving directory `/local/testing/cmakebuild/paraviewnightly'
make: *** [all] Error 2

etc etc.

JB

*
Site Name: *dongio-Paraview-Nightly
*Build Name: *Linux-c++
*Time: *Feb 3, 2006 2:00:00 AM
*Track: *Nightly

*Last submission: *Feb 2, 2006 2:00:00 AM 
<http://dongio.staff.cscs.ch:8081/vtkCSCS/Dashboard/Build?submissionid=991>

*Next submission: *Feb 5, 2006 2:00:00 AM 
<http://dongio.staff.cscs.ch:8081/vtkCSCS/Dashboard/Build?submissionid=1000> 



      6 Errors, 0 Warnings

------------------------------------------------------------------------


      Error Build Log Line 4596


File: * GUI/Client/vtkPVAnimationScene.cxx* Line: * 464*

Building CXX object GUI/Client/CMakeFiles/vtkKWParaView.dir/vtkPVThumbWheelTcl.o
c++  -DvtkKWParaView_EXPORTS  -Wno-deprecated -fPIC -I/.../paraviewnightly/GUI/Client -I/.../cmakebuild/paraviewnightly -I/.../cmakebuild/paraviewnightly/VTK/Utilities -I/usr/share/doc/NVIDIA_GLX-1.0/include -I/.../paraviewnightly/Utilities/TclTk/tcl8.4.5/generic -I/.../paraviewnightly/Utilities/TclTk/tk8.4.5/generic -I/.../paraviewnightly/VTK/Utilities -I/.../paraviewnightly/VTK -I/.../cmakebuild/paraviewnightly/VTK -I/.../paraviewnightly/Servers/Common -I/.../cmakebuild/paraviewnightly/Servers/Common -I/.../paraviewnightly/Servers/Filters -I/.../cmakebuild/paraviewnightly/Servers/Filters -I/.../cmakebuild/paraviewnightly/GUI/Client -I/.../paraviewnightly/GUI/Client -I/.../paraviewnightly/Servers/ServerManager -I/.../cmakebuild/paraviewnightly/Servers/ServerManager -I/.../paraviewnightly/Common/KWCommon -I/.../paraviewnightly/GUI/Widgets -I/.../cmakebuild/paraviewnightly/GUI/Widgets/AutoGeneratedClasses -I/.../cmakebuild/paraviewnightly/GUI/Widgets -I/.../paraviewnightly/Ut

ilities/VTKClientServer -I/.../cmakebuild/paraviewnightly/Utilities/VTKClientServer -I/.../paraviewnightly/VTK/Common -I/.../cmakebuild/paraviewnightly/VTK/Common -I/.../paraviewnightly/VTK/Filtering -I/.../cmakebuild/paraviewnightly/VTK/Filtering -I/.../paraviewnightly/VTK/GenericFiltering -I/.../cmakebuild/paraviewnightly/VTK/GenericFiltering -I/.../paraviewnightly/VTK/IO -I/.../cmakebuild/paraviewnightly/VTK/IO -I/.../paraviewnightly/VTK/Imaging -I/.../cmakebuild/paraviewnightly/VTK/Imaging -I/.../paraviewnightly/VTK/Rendering -I/.../cmakebuild/paraviewnightly/VTK/Rendering -I/.../paraviewnightly/VTK/Parallel -I/.../cmakebuild/paraviewnightly/VTK/Parallel -I/.../paraviewnightly/VTK/Graphics -I/.../cmakebuild/paraviewnightly/VTK/Graphics -I/.../paraviewnightly/VTK/Hybrid -I/.../cmakebuild/paraviewnightly/VTK/Hybrid -I/.../paraviewnightly/VTK/VolumeRendering -I/.../cmakebuild/paraviewnightly/VTK/VolumeRendering -I/
*/.../paraviewnightly/GUI/Client/vtkPVAnimationScene.cxx:464: error: no*
matching function for call to `vtkSMAnimationSceneProxy::SaveImages(const 
   char*&, const char*&, int&, int&, double&)'

------------------------------------------------------------------------


      Error Build Log Line 4599


File: * Servers/ServerManager/vtkSMAnimationSceneProxy.h* Line: * 88*

*/.../paraviewnightly/Servers/ServerManager/vtkSMAnimationSceneProxy.h:88: error: candidates*
are: int vtkSMAnimationSceneProxy::SaveImages(const char*, const char*, int, 
   int, double, int)

------------------------------------------------------------------------


      Error Build Log Line 4602


File: * Servers/ServerManager/vtkSMAnimationSceneProxy.h* Line: * 101*

*/.../paraviewnightly/Servers/ServerManager/vtkSMAnimationSceneProxy.h:101: error:*
void vtkSMAnimationSceneProxy::SaveImages()
gmake[2]: [GUI/Client/CMakeFiles/vtkKWParaView.dir/vtkPVAnimationScene.o] Error 1 (ignored)
ebuild/paraviewnightly/Utilities/VTKClientServer -I/.../paraviewnightly/VTK/Common -I/.../cmakebuild/paraviewnightly/VTK/Common -I/.../paraviewnightly/VTK/Filtering -I/.../cmakebuild/paraviewnightly/VTK/Filtering -I/.../paraviewnightly/VTK/GenericFiltering -I/.../cmakebuild/paraviewnightly/VTK/GenericFiltering -I/.../paraviewnightly/VTK/IO -I/.../cmakebuild/paraviewnightly/VTK/IO -I/.../paraviewnightly/VTK/Imaging -I/.../cmakebuild/paraviewnightly/VTK/Imaging -I/.../paraviewnightly/VTK/Rendering -I/.../cmakebuild/paraviewnightly/VTK/Rendering -I/.../paraviewnightly/VTK/Parallel -I/.../cmakebuild/paraviewnightly/VTK/Parallel -I/.../paraviewnightly/VTK/Graphics -I/.../cmakebuild/paraviewnightly/VTK/Graphics -I/.../paraviewnightly/VTK/Hybrid -I/.../cmakebuild/paraviewnightly/VTK/Hybrid -I/.../paraviewnightly/VTK/VolumeRendering -I/.../cmakebuild/paraviewnightly/VTK/VolumeRendering -I/.../paraviewnightly/VTK/Widgets -I/.../cmakebuild/paraviewnightly/VTK/Widgets -I/.../paraviewni

ghtly/Utilities/Xdmf/vtk -I/.../cmakebuild/paraviewnightly/Utilities/Xdmf/vtk   -DVTK_PYTHON_BUILD -DPARAVIEW_USE_X_RW -o GUI/Client/CMakeFiles/vtkKWParaView.dir/vtkPVValueListTcl.o -c /.../cmakebuild/paraviewnightly/GUI/Client/vtkPVValueListTcl.cxx
Building CXX object GUI/Client/CMakeFiles/vtkKWParaView.dir/vtkPVVectorEntryTcl.o
c++  -DvtkKWParaView_EXPORTS  -Wno-deprecated -fPIC -I/.../paraviewnightly/GUI/Client -I/.../cmakebuild/paraviewnightly -I/.../cmakebuild/paraviewnightly/VTK/Utilities -I/usr/share/doc/NVIDIA_GLX-1.0/include -I/.../paraviewnightly/Utilities/TclTk/tcl8.4.5/generic -I/.../paraviewnightly/Utilities/TclTk/tk8.4.5/generic -I/.../paraviewnightly/VTK/Utilities -I/.../paraviewnightly/VTK -I/.../cmakebuild/paraviewnightly/VTK -I/.../paraviewnightly/Servers/Common -I/.../cmakebuild/paraviewnightly/Servers/Common -I/.../paraviewnightly/Servers/Fil

------------------------------------------------------------------------


      Error Build Log Line 4880


File: * Unknown* Line: * 138054224*

gmake[2]: Leaving directory `/.../cmakebuild/paraviewnightly'
/usr/bin/gmake -f GUI/Client/CMakeFiles/vtkKWParaViewCS.dir/build.make GUI/Client/CMakeFiles/vtkKWParaViewCS.dir/build
gmake[2]: Entering directory `/.../cmakebuild/paraviewnightly'
Building CXX object GUI/Client/CMakeFiles/vtkKWParaViewCS.dir/vtkPVApplicationClientServer.o
c++  -DvtkKWParaViewCS_EXPORTS  -Wno-deprecated -fPIC -I/.../paraviewnightly/GUI/c++: GUI/Client/CMakeFiles/vtkKWParaView.dir/vtkPVAnimationScene.o: No such file or directory
gmake[2]: [bin/libvtkKWParaView.so] Error 1 (ignored)
*gmake[2]: *** No rule to make target `bin/libvtkKWParaView.so', needed by `bin/libvtkKWParaViewCS.so'.  Stop.*
gmake[1]: [GUI/Client/CMakeFiles/vtkKWParaViewCS.dir/all] Error 2 (ignored)

------------------------------------------------------------------------


      Error Build Log Line 4882


File: * Unknown* Line: * 137682472*

*gmake[2]: *** No rule to make target `bin/libvtkKWParaView.so', needed by `bin/paraview'.  Stop.*
gmake[1]: [GUI/Client/CMakeFiles/paraview.dir/all] Error 2 (ignored)

------------------------------------------------------------------------


      Error Build Log Line 4884


File: * Unknown* Line: * 137682472*

*gmake[2]: *** No rule to make target `bin/libvtkKWParaView.so', needed by `bin/pvclient'.  Stop.*
gmake[1]: [GUI/Client/CMakeFiles/pvclient.dir/all] Error 2 (ignored)
Client -I/.../cmakebuild/paraviewnightly -I/.../cmakebuild

-- 
John Biddiscombe,                            email:biddisco @ cscs.ch
http://www.cscs.ch/about/BJohn.php
CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.07
Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82



From amy.squillacote at kitware.com  Mon Feb 13 08:59:40 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Mon Feb 13 08:59:54 2006
Subject: [Paraview] Mystery Dashboard fails
In-Reply-To: <43F08ACA.1040207@cscs.ch>
References: <43F08ACA.1040207@cscs.ch>
Message-ID: <6.2.5.6.2.20060213085751.0445b430@kitware.com>

An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060213/ec196538/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 19dd8ef9.jpg
Type: image/jpeg
Size: 1131 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060213/ec196538/19dd8ef9.jpg
From f.braennstroem at gmx.de  Sun Feb 12 13:03:45 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Mon Feb 13 12:05:28 2006
Subject: [Paraview] show difference of two ensight formated results
Message-ID: <20060212180345.GA12029@ddorf.de>

Hi,

I would like to compare two results in ensight format at a
given plane, i.e. I show on one plane the reference data and
on the other plane the differences.
I tried to use the calculator, but it does not have two
inputs!?
Do you have an idea?

Greetings!
Fabian

-- 
From berk.geveci at gmail.com  Mon Feb 13 12:37:26 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Mon Feb 13 12:37:29 2006
Subject: [Paraview] show difference of two ensight formated results
In-Reply-To: <20060212180345.GA12029@ddorf.de>
References: <20060212180345.GA12029@ddorf.de>
Message-ID: <a2ab21560602130937i3ad43148xbe00e8f98b941eea@mail.gmail.com>

This is not supported in paraview yet. You would have to write your
own VTK filter to do it and import it into paraview.

On 2/12/06, Fabian Braennstroem <f.braennstroem@gmx.de> wrote:
> Hi,
>
> I would like to compare two results in ensight format at a
> given plane, i.e. I show on one plane the reference data and
> on the other plane the differences.
> I tried to use the calculator, but it does not have two
> inputs!?
> Do you have an idea?
>
> Greetings!
> Fabian
>
> --
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From f.braennstroem at gmx.de  Sun Feb 12 13:44:26 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Mon Feb 13 12:46:12 2006
Subject: [Paraview] Re: show difference of two ensight formated results
In-Reply-To: <a2ab21560602130937i3ad43148xbe00e8f98b941eea@mail.gmail.com>
References: <20060212180345.GA12029@ddorf.de>
	<a2ab21560602130937i3ad43148xbe00e8f98b941eea@mail.gmail.com>
Message-ID: <20060212184426.GB12029@ddorf.de>

Hi Berk,

* On 13 Feb 2006 * Berk Geveci wrote:

> This is not supported in paraview yet. You would have to write your
> own VTK filter to do it and import it into paraview.

Thanks for the quick reply! Unfortunately, first I to find out the
vtk way for it... I'll see.

Greetings!
Fabian
From randall.hand at gmail.com  Mon Feb 13 12:53:33 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Mon Feb 13 12:53:39 2006
Subject: [Paraview] show difference of two ensight formated results
In-Reply-To: <20060212180345.GA12029@ddorf.de>
References: <20060212180345.GA12029@ddorf.de>
Message-ID: <b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>

Well, I'm not 100% on this, but here's my thoughts.

If both the planes are the same size (same # of points), then you can open
both of them and then use the "Append Attributes" filter to add the data
from one plane onto the other plane.  Then you might be able to use the
calculator.

I've never tested it, but it seems reasonable.  Famous last words..

On 2/12/06, Fabian Braennstroem <f.braennstroem@gmx.de> wrote:
>
> Hi,
>
> I would like to compare two results in ensight format at a
> given plane, i.e. I show on one plane the reference data and
> on the other plane the differences.
> I tried to use the calculator, but it does not have two
> inputs!?
> Do you have an idea?
>
> Greetings!
> Fabian
>
> --
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>



--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060213/3c34ebba/attachment.htm
From randall.hand at gmail.com  Mon Feb 13 13:00:37 2006
From: randall.hand at gmail.com (Randall Hand)
Date: Mon Feb 13 13:00:43 2006
Subject: [Paraview] show difference of two ensight formated results
In-Reply-To: <a2ab21560602130956s4d5ead57y5c5342a9ca6d4ec9@mail.gmail.com>
References: <20060212180345.GA12029@ddorf.de>
	<b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>
	<a2ab21560602130956s4d5ead57y5c5342a9ca6d4ec9@mail.gmail.com>
Message-ID: <b02264720602131000v3d58a24by27a48a352930d65b@mail.gmail.com>

So I just noticed.. So here's a hack workaround (I just tested).

I loaded a uniform 3d volume, & placed 2 cutting planes (Y-Normal) in the
dataset at different places.. This way they have identical # of points.
I'll call these "Cut0" and "Cut1" (Paraview did, so I will do)

I then used the Array Calculator with a simple formula "VelCopy = Velocity"
on "Cut0".  This is the long way of simply copying an array.

Then I used the "Append Attributes" filter with the "Cut0" and "Calc0".

Now I can use another Array Calculator that operates on the "Velocity" field
and the "VelCopy" field, with Velocity coming from Cut1, and VelCopy coming
from Cut0.  I simply did a Result=VelCopy-Cut1, and got the different of the
two planes.

Hope it works for you :)

On 2/13/06, Berk Geveci <berk.geveci@gmail.com> wrote:
>
> Unfortunately, this won't work if the arrays have the same name.
>
> On 2/13/06, Randall Hand <randall.hand@gmail.com> wrote:
> > Well, I'm not 100% on this, but here's my thoughts.
> >
> > If both the planes are the same size (same # of points), then you can
> open
> > both of them and then use the "Append Attributes" filter to add the data
> > from one plane onto the other plane.  Then you might be able to use the
> > calculator.
> >
> > I've never tested it, but it seems reasonable.  Famous last words..
> >
> > On 2/12/06, Fabian Braennstroem < f.braennstroem@gmx.de> wrote:
> > > Hi,
> > >
> > > I would like to compare two results in ensight format at a
> > > given plane, i.e. I show on one plane the reference data and
> > > on the other plane the differences.
> > > I tried to use the calculator, but it does not have two
> > > inputs!?
> > > Do you have an idea?
> > >
> > > Greetings!
> > > Fabian
> > >
> > > --
> > > _______________________________________________
> > > ParaView mailing list
> > > ParaView@paraview.org
> > > http://www.paraview.org/mailman/listinfo/paraview
> > >
> >
> >
> >
> > --
> > Randall Hand
> > Visualization Scientist,
> > ERDC-MSRC Vicksburg, MS
> > Homepage: http://www.yeraze.com
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> >
> >
>



--
Randall Hand
Visualization Scientist,
ERDC-MSRC Vicksburg, MS
Homepage: http://www.yeraze.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060213/c478a154/attachment.html
From berk.geveci at gmail.com  Mon Feb 13 12:56:26 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Mon Feb 13 13:03:13 2006
Subject: [Paraview] show difference of two ensight formated results
In-Reply-To: <b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>
References: <20060212180345.GA12029@ddorf.de>
	<b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>
Message-ID: <a2ab21560602130956s4d5ead57y5c5342a9ca6d4ec9@mail.gmail.com>

Unfortunately, this won't work if the arrays have the same name.

On 2/13/06, Randall Hand <randall.hand@gmail.com> wrote:
> Well, I'm not 100% on this, but here's my thoughts.
>
> If both the planes are the same size (same # of points), then you can open
> both of them and then use the "Append Attributes" filter to add the data
> from one plane onto the other plane.  Then you might be able to use the
> calculator.
>
> I've never tested it, but it seems reasonable.  Famous last words..
>
> On 2/12/06, Fabian Braennstroem < f.braennstroem@gmx.de> wrote:
> > Hi,
> >
> > I would like to compare two results in ensight format at a
> > given plane, i.e. I show on one plane the reference data and
> > on the other plane the differences.
> > I tried to use the calculator, but it does not have two
> > inputs!?
> > Do you have an idea?
> >
> > Greetings!
> > Fabian
> >
> > --
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
>
>
> --
> Randall Hand
> Visualization Scientist,
> ERDC-MSRC Vicksburg, MS
> Homepage: http://www.yeraze.com
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
From f.braennstroem at gmx.de  Mon Feb 13 12:46:57 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Tue Feb 14 11:48:48 2006
Subject: [Paraview] Re: show difference of two ensight formated results
In-Reply-To: <b02264720602131000v3d58a24by27a48a352930d65b@mail.gmail.com>
References: <20060212180345.GA12029@ddorf.de>
	<b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>
	<a2ab21560602130956s4d5ead57y5c5342a9ca6d4ec9@mail.gmail.com>
	<b02264720602131000v3d58a24by27a48a352930d65b@mail.gmail.com>
Message-ID: <20060213174657.GB7444@ddorf.de>

Hi Randall,

* On 13 Feb 2006 * Randall Hand wrote:

> So I just noticed.. So here's a hack workaround (I just tested).
> 
> I loaded a uniform 3d volume, & placed 2 cutting planes (Y-Normal) in the
> dataset at different places.. This way they have identical # of points.
> I'll call these "Cut0" and "Cut1" (Paraview did, so I will do)
> 
> I then used the Array Calculator with a simple formula "VelCopy = Velocity"
> on "Cut0".  This is the long way of simply copying an array.
> 
> Then I used the "Append Attributes" filter with the "Cut0" and "Calc0".
> 
> Now I can use another Array Calculator that operates on the "Velocity" field
> and the "VelCopy" field, with Velocity coming from Cut1, and VelCopy coming
> from Cut0.  I simply did a Result=VelCopy-Cut1, and got the different of the
> two planes.
> 
> Hope it works for you :)

Thanks for the workaround! Unfortunately, I get for obvious
different values on the same plane a zero field after
subtracting them... strange!? Probably, I did something
wrong.

Greetings!
Fabian
From Stephane.Montesino at hmg.inpg.fr  Tue Feb 14 12:06:18 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Tue Feb 14 12:06:30 2006
Subject: [Paraview] fortran routines to Write UNFORMATTED files in Ensight
	format for rectilinear grid
In-Reply-To: <20060206095544.DB02272783@mailhost.nacad.ufrj.br>
References: <20060206095544.DB02272783@mailhost.nacad.ufrj.br>
Message-ID: <43F20E0A.3060907@hmg.inpg.fr>


Now it works .... with unformatted Format

-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
!
!    ******************************************************************************
!                      subrout  WriteRectEnsightGeo
!    ******************************************************************************
!
!    writes mesh data in Ensight's ascii format for rectilinear geometry
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    x1,x2,x3....: coordinates 
!
      subroutine WriteRectEnsightGeo(imin,imax,jmin,jmax,kmin,kmax,
     &                               x1,x2,x3,FileName,WriteBinary)

      implicit none

      INTEGER,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
      REAL*8,DIMENSION(imax),INTENT(IN)::x1
      REAL*8,DIMENSION(jmax),INTENT(IN)::x2
      REAL*8,DIMENSION(kmax),INTENT(IN)::x3
      LOGICAL               ,INTENT(IN)::WriteBinary
      CHARACTER(LEN=80)     ,INTENT(IN)::FileName

!	character(LEN=80)::buffer
	character(LEN=80)::binary_form
	character(LEN=80)::file_description1,file_description2
	character(LEN=80)::node_id,element_id
	character(LEN=80)::part,description_part,block

      integer::FileUnit,i,j,k,npart,isize,jsize,ksize
      integer::reclength

      FileUnit = 40

	binary_form      ='C Binary'
      file_description1='Ensight Model Geometry File Created by '
      file_description2='WriteRectEnsightGeo Routine'
      node_id          ='node id off'
      element_id       ='element id off'
      part             ='part'
      npart            =1
      description_part ='3D periodic channel'
      block            ='block rectilinear'
      isize=imax-imin+1
      jsize=jmax-jmin+1
      ksize=kmax-kmin+1

      reclength=80*8+4*(4+isize+jsize+ksize)

      if (WriteBinary) then
        open (unit=FileUnit,file=trim(FileName)//'.geo',
     &        form='UNFORMATTED',access="direct",recl=reclength)
        write(unit=FileUnit,rec=1) binary_form
     &                            ,file_description1
     &                            ,file_description2
     &                            ,node_id
     &                            ,element_id
     &                            ,part,npart
     &                            ,description_part
     &                            ,block
     &                            ,isize,jsize,ksize
     &                            ,(sngl(x1(i)),i=imin,imax)
     &                            ,(sngl(x2(j)),j=jmin,jmax)
     &                            ,(sngl(x3(k)),k=kmin,kmax)
      else
        open (unit=FileUnit,file=trim(FileName)//'.geo')
        write(FileUnit,'(A)') 'Ensight Model Geometry File Created by '
        write(FileUnit,'(A)') 'WriteRectEnsightGeo Routine'
        write(FileUnit,'(A)') 'node id off'
        write(FileUnit,'(A)') 'element id off'
        write(FileUnit,'(A)') 'part'
        write(FileUnit,'(i10)')npart
        write(FileUnit,'(A)') '3D periodic channel'
        write(FileUnit,'(A)') 'block rectilinear'
        write(FileUnit,'(3i10)') isize,jsize,ksize
        write(FileUnit,'(E12.5)') (x1(i),i=imin,imax)
        write(FileUnit,'(E12.5)') (x2(j),j=jmin,jmax)
        write(FileUnit,'(E12.5)') (x3(k),k=kmin,kmax)
      endif

      end subroutine
!
!    ******************************************************************************
!
!    WriteEnsightSca writes result data in Ensight's format
!
!    m1,m2,m3....: size of the variable in the x1,x2,x3 direction
!    ndv.........: number of dimension of the variable (1=>scalar   3=>vector) 
!    var.........: data to be written
!    Varname.....: word used to build filenames
!    imin,imax...: range of writting data in the x1 direction
!    jmin,jmax...: range of writting data in the x2 direction
!    kmin,kmax...: range of writting data in the x3 direction
!
!    ******************************************************************************
      subroutine WriteEnsightVar(ndv,m1,m2,m3,var,VarName,WriteBinary,
     &                           imin,imax,jmin,jmax,kmin,kmax)

      implicit none

      INTEGER     ,INTENT(IN)::m1,m2,m3,ndv
      INTEGER     ,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
      REAL*8,DIMENSION(ndv,m1,m2,m3),INTENT(IN)::var
      CHARACTER*80,INTENT(IN)::Varname
      LOGICAL     ,INTENT(IN)::WriteBinary


      character(len=80):: VarFileName,buffer
      character(len=80):: part,block
      integer::FileUnit,i,j,k,npart,m,reclength

      FileUnit = 40
      part ='part'
      npart=1
      block='block rectilinear'
      reclength=80*3+4*(1+(imax-imin+1)*(jmax-jmin+1)*(kmax-kmin+1)*ndv)

      if (ndv.eq.1)VarFileName = trim(Varname)//'.scl'
      if (ndv.eq.3)VarFileName = trim(Varname)//'.vec'
      
!      write(*,'(5x,A)') VarFileName

	if(WriteBinary) then
        open (unit=FileUnit,file=VarFileName,
     &        form='UNFORMATTED',access="direct",recl=reclength)
        write(unit=FileUnit,rec=1) VarFileName
     &                            ,part,npart,block
     &                            ,((((SNGl(var(m,i,j,k))
     &                            ,i=imin,imax)
     &                            ,j=jmin,jmax)
     &                            ,k=kmin,kmax)
     &                            ,m=1,ndv)
      else
        open (unit=FileUnit,file=VarFileName)
        write(buffer,'(a,a)') Varname  
        write(FileUnit,'(A)')  buffer   
        write(FileUnit,'(A)') 'part'
        write(FileUnit,'(I10)')npart
        write(FileUnit,'(A)') 'block rectilinear'
        do m=1,ndv
        write(FileUnit,'(e12.5)')
     &    (((SNGl(var(m,i,j,k)),i=imin,imax),j=jmin,jmax),k=kmin,kmax)
        enddo
      endif
      close(FileUnit)

      end  subroutine
!
!    ******************************************************************************
!   EnsightCase helps to write a Ensight's case file
! 
!    VarName.....: Name of the variable
!    GeoName.....: Name of the geometrie
!    VarType.....: 1 => Scalar       3 => Vector
!    ntini.......: filename start number
!    nstop.......: filename end number
!    nprint......: filename increment
!
!    nfile.......: number of result files (time steps)
! 
      subroutine EnsightCase(VarName,GeoName,VarType,ntini,nstop,nprint)

      implicit none

      INTEGER,INTENT(IN)::VarType,nstop,ntini,nprint
      CHARACTER(LEN=80),INTENT(IN)::Varname
      CHARACTER(LEN=80),INTENT(IN)::GeoName
      integer::FileUnit,i,nfile

      write(*,'(/2A)') ' Creating case file for Ensight and Paraview: '
     &                  ,Varname

      nfile=(nstop-ntini+1)/nprint

      FileUnit = 40
      open(FileUnit,file=trim(Varname)//'.case')

      write(FileUnit,10) trim(GeoName)//'.geo'
   10 format(
     &'FORMAT'            ,/ ,
     &'type: ensight gold',//,
     &'GEOMETRY'          ,/ ,
     &'model:	',A         ,//,
     &'VARIABLE')

      if (nfile.eq.1) then
        if(VarType.eq.1)
     &    write(FileUnit,15)trim(Varname),trim(Varname)//'.scl'
        if(VarType.eq.3)
     &    write(FileUnit,25)trim(Varname),trim(Varname)//'.vec'
      else
        if(VarType.eq.1)
     &   write(FileUnit,15)trim(Varname),trim(Varname)//'**********.scl'
        if(VarType.eq.3)
     &   write(FileUnit,25)trim(Varname),trim(Varname)//'**********.vec'
        write(FileUnit,45) nfile,ntini,nprint
        write(FileUnit,'(f15.3)') (ntini+float(i)*nprint,i=1,nfile)
      endif

      close(FileUnit)

   15 format('scalar per node: ',A,'   ', A)
   25 format('vector per node: ',A,'   ', A)

   45 format(
     &/,'TIME            '      ,
     &/,'time set: 1     '      ,
     &/,'number of steps:'      ,i4 ,
     &/,'filename start number:',i10
     &/,'filename increment:'   ,i4
     &/,'time values: '
     &)

      end subroutine
!
!    ******************************************************************************
!    ****                     subrout VTR_XML_3D_scalar                        ****
!    ******************************************************************************
!    Export 3D scalar data upon a Non uniform rectilinear Grid 
!
!    n1m,n2m,n3m..: size of the data and the grid 
!    y1,y2,y3.....: coordinates
!    scal_data....: data to write 
!    name.........: name of the data
!
      subroutine VTR_XML_3D_scalar(n1m,n2m,n3m,y1,y2,y3,scal_data,name)
!
      implicit none
!
      INTEGER                      ,INTENT(IN)::n1m,n2m,n3m
      REAL*8,DIMENSION(n1m)        ,INTENT(IN)::y1
      REAL*8,DIMENSION(n2m)        ,INTENT(IN)::y2
      REAL*8,DIMENSION(n3m)        ,INTENT(IN)::y3
      REAL*8,DIMENSION(n1m,n2m,n3m),INTENT(IN)::scal_data
      CHARACTER(LEN=30)            ,INTENT(IN)::name

      integer::i,j,k,FileUnit
!
      FileUnit=40
      open(FileUnit,file=trim(name)//'.vtr',FORM='UNFORMATTED')
      write(FileUnit,*)'<VTKFile type="RectilinearGrid" version="0.1"',
     &         ' byte_order="LittleEndian">'
      write(FileUnit,*)'  <RectilinearGrid WholeExtent=',
     &                '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
      write(FileUnit,*)'    <Piece Extent=',
     &                  '"1 ',n1m,' 1 ',n2m,' 1 ',n3m,'">'
      write(FileUnit,*)'      <Coordinates>'
      write(FileUnit,*)'        <DataArray type="Float32"',
     &                             ' Name="X_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(FileUnit) (y1(i),i=1,n1m)
      write(FileUnit,*)'        </DataArray>'
      write(FileUnit,*)'        <DataArray type="Float32"',
     &                             ' Name="Y_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(FileUnit) (y2(j),j=1,n2m)
      write(FileUnit,*)'        </DataArray>'
      write(FileUnit,*)'        <DataArray type="Float32"',
     &                             ' Name="Z_COORDINATES"',
     &                             ' NumberOfComponents="1">'
      write(FileUnit) (y3(k),k=1,n3m)
      write(FileUnit,*)'        </DataArray>'
      write(FileUnit,*)'      </Coordinates>'
      write(FileUnit,*)'      <PointData Scalars="scalar">'
      write(FileUnit,*)'        <DataArray Name="'//trim(name)//'"',
     &                             ' type="Float32"',
     &                             ' NumberOfComponents="1"',
     &                             ' format="ascii">'
      write(FileUnit) (((scal_data(i,j,k),i=1,n1m),j=1,n2m),k=1,n3m)
      write(FileUnit,*)'        </DataArray>'
      write(FileUnit,*)'      </PointData>'
      write(FileUnit,*)'    </Piece>'
      write(FileUnit,*)'  </RectilinearGrid>'
      write(FileUnit,*)'</VTKFile>'
      close(FileUnit)
!
      return
      end
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060214/8a832142/Stephane.Montesino.vcf
From f.braennstroem at gmx.de  Tue Feb 14 02:30:25 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Wed Feb 15 01:32:08 2006
Subject: [Paraview] Re: show difference of two ensight formated results
In-Reply-To: <20060213174657.GB7444@ddorf.de>
References: <20060212180345.GA12029@ddorf.de>
	<b02264720602130953l2dcdf64eu8e128a3838020d41@mail.gmail.com>
	<a2ab21560602130956s4d5ead57y5c5342a9ca6d4ec9@mail.gmail.com>
	<b02264720602131000v3d58a24by27a48a352930d65b@mail.gmail.com>
	<20060213174657.GB7444@ddorf.de>
Message-ID: <20060214073025.GA7805@ddorf.de>

Hi, 

* On 13 Feb 2006 * Fabian Braennstroem wrote:

> Hi Randall,
> 
> * On 13 Feb 2006 * Randall Hand wrote:
> 
> > So I just noticed.. So here's a hack workaround (I just tested).
> > 
> > I loaded a uniform 3d volume, & placed 2 cutting planes (Y-Normal) in the
> > dataset at different places.. This way they have identical # of points.
> > I'll call these "Cut0" and "Cut1" (Paraview did, so I will do)
> > 
> > I then used the Array Calculator with a simple formula "VelCopy = Velocity"
> > on "Cut0".  This is the long way of simply copying an array.
> > 
> > Then I used the "Append Attributes" filter with the "Cut0" and "Calc0".
> > 
> > Now I can use another Array Calculator that operates on the "Velocity" field
> > and the "VelCopy" field, with Velocity coming from Cut1, and VelCopy coming
> > from Cut0.  I simply did a Result=VelCopy-Cut1, and got the different of the
> > two planes.
> > 
> > Hope it works for you :)
> 
> Thanks for the workaround! Unfortunately, I get for obvious
> different values on the same plane a zero field after
> subtracting them... strange!? Probably, I did something
> wrong.

It works, when I use three calculators; one for each cut and
one for the appended attributes (appended the two first
calculators)... but just with vtk formated data. The append
filter is not available anymore and somehow I am missing the
'extract parts' filter for ensight formated data, which I
used in an older version!?

Greetings!
Fabian
 
From rnelias at nacad.ufrj.br  Wed Feb 15 08:29:14 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Feb 15 07:29:46 2006
Subject: RES: [Paraview] fortran routines to Write UNFORMATTED files in
	Ensight format for rectilinear grid
In-Reply-To: <43F20E0A.3060907@hmg.inpg.fr>
Message-ID: <20060215112913.C1FEB72783@mailhost.nacad.ufrj.br>

 
Great! Good job!

The PV-Fortran programmers will be grateful forever ;-)

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 

-----Mensagem original-----
De: St?phane Mont?sino [mailto:Stephane.Montesino@hmg.inpg.fr] 
Enviada em: ter?a-feira, 14 de fevereiro de 2006 14:06
Para: Renato N. Elias; benjamin.reveille@ifp.fr
Cc: paraview@paraview.org
Assunto: [Paraview] fortran routines to Write UNFORMATTED files in Ensight
format for rectilinear grid


Now it works .... with unformatted Format

--
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 



From f.braennstroem at gmx.de  Tue Feb 14 11:10:05 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Wed Feb 15 10:11:49 2006
Subject: [Paraview] Re: RES: fortran routines to Write UNFORMATTED files in
	Ensight format for rectilinear grid
In-Reply-To: <20060215112913.C1FEB72783@mailhost.nacad.ufrj.br>
References: <43F20E0A.3060907@hmg.inpg.fr>
	<20060215112913.C1FEB72783@mailhost.nacad.ufrj.br>
Message-ID: <20060214161005.GF6937@ddorf.de>

Hi,

* On 15 Feb 2006 * Renato N. Elias wrote:

>  
> Great! Good job!
> 
> The PV-Fortran programmers will be grateful forever ;-)

Thanks! I took me some time to convert my ascii-tecplot into
ensight ... with those routines it works :-)

Greetings!
Fabian
From rnelias at nacad.ufrj.br  Wed Feb 15 12:36:35 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Feb 15 11:37:12 2006
Subject: [Paraview] Point-based rendering (Splatting )
Message-ID: <20060215153634.D4965727BE@mailhost.nacad.ufrj.br>


Hi all,

Does anybody know if Paraview (or VTK) could render a surface based on a
point model? If yes, how could I do that?

Thanks for any help

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


From tmhensl at sandia.gov  Wed Feb 15 18:25:06 2006
From: tmhensl at sandia.gov (Hensley, Trevor Michael)
Date: Wed Feb 15 18:25:20 2006
Subject: [Paraview] Animate Mode Shapes
Message-ID: <347180497203A942A6AA82C85846CBC9026CB0D6@ES23SNLNT.srn.sandia.gov>


Hi all,

Does anyone know how to animate mode shapes in Paraview ?

Thanks

Trevor

From rnelias at nacad.ufrj.br  Wed Feb 15 20:01:12 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Wed Feb 15 19:01:44 2006
Subject: RES: [Paraview] Point-based rendering (Splatting )
In-Reply-To: <b438feee0602151256o2332fffbn17604392cec892cf@mail.gmail.com>
Message-ID: <003901c63294$7c0c5750$6500a8c0@neutron>

Hi Chris,
 
Thanks for your help. In fact, I'm not directly associated with this
problem. I've posted the message for a friend of mine, a non Paraview/VTK
user, just to help him. He works with DEM (Discrete Element Method) and is
looking for a visualization technique able to build a surface representation
from his point data. After "Googling" for a while, we've found information
pointing to splatting method used to represent 3D scanner data. It seems
that this rendering method is also used by SPH (Smoothed Particle
Hydrodinamics) researchers to visualize their results. Therefore we've
thought about posting a message on the Paraview list. Anyway, I'm grateful
for your help and I'll forward this message to my friend in order to place
him in contact with you (or others PV folks). Are you ok about it ?!
 
Cheers
 
Renato
 
  _____  

De: Chris Larson [mailto:cklarson@gmail.com] 
Enviada em: quarta-feira, 15 de fevereiro de 2006 17:56
Para: Renato N. Elias
Cc: paraview@paraview.org
Assunto: Re: [Paraview] Point-based rendering (Splatting )


Renato,

Hi. I'm just starting to use this thing (Paraview), (actually on something
like my 9th hour of using it), so take what I say with a grain of salt.

I'm working with a dataset structured as the following: 

29    11    99    99    93    94
14    12    71    99    94    94
13    10    14    39    38    39
08    10    32    39    38    39

Where the first three pairs are going to be my x,y,z points, and the next
three are my R,G,B values. 

What I've done is:

File>Open Data:
Choose RAW... Under Files of type:
Click OK on the error dialog.
Choose RAW in the next dialog.

OK. Now we've brought your data in.

Now, set your "File Dimensionality," in my case 3. 
Next, under Extent, set the min and max for each of x,y,z in the pairs of
boxes.

For the rgb values, in my case, I set the "Num. Components" value to 3.

Now simply name your array ("Array name"). 

Now, again working from my example, click on the "Display" tab above.

Set "Color by:" to your array.

You might also want to click on "Set View to Data" to center your object. 

Hope this helps.

Chris Larson
Just this guy.

PS If we're both just learning the interface, mebbe we can help each other
out. Feel free to ask me questions, understanding that I a noob in this
application. 


On 2/15/06, Renato N. Elias <rnelias@nacad.ufrj.br> wrote: 


Hi all,

Does anybody know if Paraview (or VTK) could render a surface based on a
point model? If yes, how could I do that?

Thanks for any help

Renato N. Elias
=============================================== 
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview
<http://www.paraview.org/mailman/listinfo/paraview> 



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060215/63bf78c7/attachment.htm
From cwmoad at gmail.com  Wed Feb 15 21:00:00 2006
From: cwmoad at gmail.com (Charlie Moad)
Date: Wed Feb 15 21:06:57 2006
Subject: [Paraview] OSX SaveAsImage Segfault
Message-ID: <6382066a0602151800k430cc6fepb1dd77914fb9553d@mail.gmail.com>

In trying to run a script for someone on osx I am running into a
segfault with line:
$kw(vtkTemp81) SaveAsImage "LAT103.png"

The osx trace shows this for the culprit thread:

Thread 1 Crashed:
0   Xquartz                   	0x000bf5a8 __glXMakeCurrentReadSGI + 1036
1   Xquartz                   	0x0001b05c Dispatch + 560
2   Xquartz                   	0x000031c4 main + 1484
3   Xquartz                   	0x00041e98 QuartzMessageMainThread + 668
4   libSystem.B.dylib         	0x9002b200 _pthread_body + 96

Do others run into this?  This is on 10.4.

Thanks,
    Charlie
From tdubuis at scconsultants.com  Thu Feb 16 06:19:12 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Thu Feb 16 06:19:05 2006
Subject: [Paraview] Problem in load session state
Message-ID: <43F45FB0.3040108@scconsultants.com>

Hello,

With paraview 2.4 when I save a session state on a case with several 
increments (1.vtu, 2.vtu,... 10.vtu)
and when I reload this pvs file Paraview load the session and at the end 
back to the first increment.

ex: I build a pvs with the file 6.vtu.
and I saw during the load the 6.vtu result
and at the end all the results are updated with the 1.vtu results.

Does somebody know how I can keep my 6.vtu results ?

Thanks for you help

-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

From kevin.hobbs.1 at ohiou.edu  Thu Feb 16 09:36:48 2006
From: kevin.hobbs.1 at ohiou.edu (Kevin H. Hobbs)
Date: Thu Feb 16 09:38:10 2006
Subject: [Paraview] Point-based rendering (Splatting )
In-Reply-To: <20060215153634.D4965727BE@mailhost.nacad.ufrj.br>
References: <20060215153634.D4965727BE@mailhost.nacad.ufrj.br>
Message-ID: <1140100608.25461.1.camel@gargon.hooperlab>

On Wed, 2006-02-15 at 14:36 -0300, Renato N. Elias wrote:
> Hi all,
> 
> Does anybody know if Paraview (or VTK) could render a surface based on a
> point model? If yes, how could I do that?
> 
> Thanks for any help
> 
> Renato N. Elias

Maybe this is what you're talking about?

http://www.vtk.org/doc/nightly/html/classvtkGaussianSplatter.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part
Url : http://public.kitware.com/pipermail/paraview/attachments/20060216/21a2c2dc/attachment.pgp
From rnelias at nacad.ufrj.br  Fri Feb 17 09:20:15 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Feb 17 08:20:44 2006
Subject: [Paraview] One more question about Ensight files written in
	Fortran...
Message-ID: <20060217132033.DD82772543@mailhost.nacad.ufrj.br>


Hi folks,

Here I'm again with my Ensight file's problems...

I'd like to know why PV is able to read Ensight 6 files written by Fortran
programs (I'm talking about files opened as form='binary') and the same
thing is impossible for Ensight GOLD files. 

I've tried to read a binary Ensight "GOLD" file written from a Fortran
program (as I used to do with Ensight 6 files). According to ens_checker
utility (and Ensight itself) the file is OK without any warning, but PV
definitely refuses to read it and no error messages are shown at the bottom
right status bar.

There's no more options for me:

- PV serial -- Ensight6/Binary/Fortran works
- PV parallel -- Ensight6+Server-Of-Server/Binary/Fortran does NOT work

- PV serial -- Ensight Gold/Binary/Fortran does NOT work
- PV parallel -- Ensight Gold+Server-Of-Server/Binary/C works (using the PV
example datasets)

- PV parallel -- I can't read Ensight6 individually written without a SOS
file.

I can only read parallel results running PV in serial mode and reading each
case files one-by-one and applying the "append dataset" and "clean to grid"
filters (AND THESE FILTERS ARE ONLY WORKING IN PV 2.2.1 FOR ENSIGHT FILES)

Any, Fortran, solution?

Thanks for any help

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


From Benjamin.REVEILLE at ifp.fr  Fri Feb 17 08:38:50 2006
From: Benjamin.REVEILLE at ifp.fr (REVEILLE Benjamin)
Date: Fri Feb 17 08:39:22 2006
Subject: [Paraview] One more question about Ensight files written
	inFortran...
Message-ID: <ABCF428586BBDC4E8A8E89F0321298F3076B8D@irnts85.ifp.fr>

Personnaly I have used ensight Gold C Binary (i.e. form=binary) fles without any problem... but never ensight GOLD Fortran Binary files since Fortran Binary as described by ensight format (form=unformatted acces=sequential) is not supported by PV.

My guess is you have whitespace problems in your case or geometry/variables files... PV does not support leading whitespaces whereas Ensight Does... this has already been filed (y myself) as a bug in Ascii format but may be applicable to .case files and character writes in binary files...

Send me your .case file I'll have a look and see if it has potential problems and give suggestions to how to change it...

Benjamin

P.S. This is what accompanied the bug report I filed: try and see if you have some of the problems it shows

http://dwardo.no-ip.com/~dwardo/should_work_but_does_not.tar.gz <-- OK for Ensight but not PV

http://dwardo.no-ip.com/~dwardo/works.tar.gz <-- OK for Both

-------- Message d'origine--------
De: paraview-bounces+benjamin.reveille=ifp.fr@paraview.org de la part de Renato N. Elias
Date: ven. 17/02/2006 15:20
?: paraview@paraview.org
Objet : [Paraview] One more question about Ensight files written inFortran...
 

Hi folks,

Here I'm again with my Ensight file's problems...

I'd like to know why PV is able to read Ensight 6 files written by Fortran
programs (I'm talking about files opened as form='binary') and the same
thing is impossible for Ensight GOLD files. 

I've tried to read a binary Ensight "GOLD" file written from a Fortran
program (as I used to do with Ensight 6 files). According to ens_checker
utility (and Ensight itself) the file is OK without any warning, but PV
definitely refuses to read it and no error messages are shown at the bottom
right status bar.

There's no more options for me:

- PV serial -- Ensight6/Binary/Fortran works
- PV parallel -- Ensight6+Server-Of-Server/Binary/Fortran does NOT work

- PV serial -- Ensight Gold/Binary/Fortran does NOT work
- PV parallel -- Ensight Gold+Server-Of-Server/Binary/C works (using the PV
example datasets)

- PV parallel -- I can't read Ensight6 individually written without a SOS
file.

I can only read parallel results running PV in serial mode and reading each
case files one-by-one and applying the "append dataset" and "clean to grid"
filters (AND THESE FILTERS ARE ONLY WORKING IN PV 2.2.1 FOR ENSIGHT FILES)

Any, Fortran, solution?

Thanks for any help

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


__________________________

Ce message (et toutes ses pi?ces jointes ?ventuelles) est confidentiel et ?tabli ? l'intention exclusive de ses destinataires. Toute utilisation de ce message non conforme ? sa destination, toute diffusion ou toute publication, totale ou partielle, est interdite, sauf autorisation expresse. L'IFP d?cline toute responsabilit? au titre de ce message.

This message and any attachments (the message) are confidential and intended solely for the addressees. Any unauthorised use or dissemination is prohibited. IFP should not be liable for this message.

Visitez notre site Web / Visit our web site : http://www.ifp.fr
__________________________




-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060217/6cfe7d94/attachment.html
From rnelias at nacad.ufrj.br  Fri Feb 17 10:06:18 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Fri Feb 17 09:07:11 2006
Subject: RES: [Paraview] One more question about Ensight files written
	inFortran...
In-Reply-To: <ABCF428586BBDC4E8A8E89F0321298F3076B8D@irnts85.ifp.fr>
Message-ID: <20060217140636.0967A724E9@mailhost.nacad.ufrj.br>

Hi Benjamin,
 
thank you for your reply. I put an example in
http://www.nacad.ufrj.br/~rnelias/public/ensight-gold-problematic.zip
 
I can't figure out whether my problem is due whitespaces or not because I
use, almost, the same routine to write Ensight 6 and Ensight Gold geometry,
results and case files. Thus, I was expecting that if the problem was due
whitespaces it would happen with my Ensight 6 files too, and it doens't
happen.
 
When I was talking about Ensight GOLD Fortran binary I should have said that
the file is opened as form='binary' in Fortran and the format line is,
intentionally, set as "C Binary". In fact, Ensight doesn't matter if your
format description line is according the compiler used.
 
Regards
 
Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 

  _____  

De: REVEILLE Benjamin [mailto:Benjamin.REVEILLE@ifp.fr] 
Enviada em: sexta-feira, 17 de fevereiro de 2006 10:39
Para: Renato N. Elias; paraview@paraview.org
Assunto: RE : [Paraview] One more question about Ensight files written
inFortran...



Personnaly I have used ensight Gold C Binary (i.e. form=binary) fles without
any problem... but never ensight GOLD Fortran Binary files since Fortran
Binary as described by ensight format (form=unformatted acces=sequential) is
not supported by PV.

My guess is you have whitespace problems in your case or geometry/variables
files... PV does not support leading whitespaces whereas Ensight Does...
this has already been filed (y myself) as a bug in Ascii format but may be
applicable to .case files and character writes in binary files...

Send me your .case file I'll have a look and see if it has potential
problems and give suggestions to how to change it...

Benjamin

P.S. This is what accompanied the bug report I filed: try and see if you
have some of the problems it shows

http://dwardo.no-ip.com/~dwardo/should_work_but_does_not.tar.gz <-- OK for
Ensight but not PV

http://dwardo.no-ip.com/~dwardo/works.tar.gz <-- OK for Both

-------- Message d'origine--------
De: paraview-bounces+benjamin.reveille=ifp.fr@paraview.org de la part de
Renato N. Elias
Date: ven. 17/02/2006 15:20
?: paraview@paraview.org
Objet : [Paraview] One more question about Ensight files written
inFortran...


Hi folks,

Here I'm again with my Ensight file's problems...

I'd like to know why PV is able to read Ensight 6 files written by Fortran
programs (I'm talking about files opened as form='binary') and the same
thing is impossible for Ensight GOLD files.

I've tried to read a binary Ensight "GOLD" file written from a Fortran
program (as I used to do with Ensight 6 files). According to ens_checker
utility (and Ensight itself) the file is OK without any warning, but PV
definitely refuses to read it and no error messages are shown at the bottom
right status bar.

There's no more options for me:

- PV serial -- Ensight6/Binary/Fortran works
- PV parallel -- Ensight6+Server-Of-Server/Binary/Fortran does NOT work

- PV serial -- Ensight Gold/Binary/Fortran does NOT work
- PV parallel -- Ensight Gold+Server-Of-Server/Binary/C works (using the PV
example datasets)

- PV parallel -- I can't read Ensight6 individually written without a SOS
file.

I can only read parallel results running PV in serial mode and reading each
case files one-by-one and applying the "append dataset" and "clean to grid"
filters (AND THESE FILTERS ARE ONLY WORKING IN PV 2.2.1 FOR ENSIGHT FILES)

Any, Fortran, solution?

Thanks for any help

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview




  _____  

Ce message (et toutes ses pi?ces jointes ?ventuelles) est confidentiel et
?tabli ? l'intention exclusive de ses destinataires. Toute utilisation de ce
message non conforme ? sa destination, toute diffusion ou toute publication,
totale ou partielle, est interdite, sauf autorisation expresse. L'IFP
d?cline toute responsabilit? au titre de ce message. 

This message and any attachments (the message) are confidential and intended
solely for the addressees. Any unauthorised use or dissemination is
prohibited. IFP should not be liable for this message.

 Visitez notre site Web / Visit our web site : www.ifp.fr


  _____  

  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060217/5be204c8/attachment.htm
From samuelkey at comcast.net  Fri Feb 17 13:27:43 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Fri Feb 17 13:26:39 2006
Subject: [Paraview] One more question about Ensight files written
	inFortran...
References: <20060217132033.DD82772543@mailhost.nacad.ufrj.br>
Message-ID: <001601c633ef$d81409b0$6e01a8c0@last>

Renato,

I don't think I can help you with all of your problems.
But, for the EnSight 6 versus EnSight Gold PV
reader, I may have some information.

In my own Fortran-95 subroutines for writing EnSight
c-binary files, I discovered that with the two ASCII lines

FORTRAN
type: ensight gold

in the case file, the element-type keyword in the binary
geometry file for unstructured grids "hexa8" would
work with PV but "g_hexa8" would not work with PV.
The same is true for specifying any of the other unstructured
finite element types.

I have used my Fortran-95 generated c-binary files with
Ensight as well, and they work fine.

Maybe this helps a little.

Sam Key
----- Original Message ----- 
From: "Renato N. Elias" <rnelias@nacad.ufrj.br>
To: <paraview@paraview.org>
Sent: Friday, February 17, 2006 7:20 AM
Subject: [Paraview] One more question about Ensight files written
inFortran...


>
> Hi folks,
>
> Here I'm again with my Ensight file's problems...
>
> I'd like to know why PV is able to read Ensight 6 files written by Fortran
> programs (I'm talking about files opened as form='binary') and the same
> thing is impossible for Ensight GOLD files.
>
> I've tried to read a binary Ensight "GOLD" file written from a Fortran
> program (as I used to do with Ensight 6 files). According to ens_checker
> utility (and Ensight itself) the file is OK without any warning, but PV
> definitely refuses to read it and no error messages are shown at the
bottom
> right status bar.
>
> There's no more options for me:
>
> - PV serial -- Ensight6/Binary/Fortran works
> - PV parallel -- Ensight6+Server-Of-Server/Binary/Fortran does NOT work
>
> - PV serial -- Ensight Gold/Binary/Fortran does NOT work
> - PV parallel -- Ensight Gold+Server-Of-Server/Binary/C works (using the
PV
> example datasets)
>
> - PV parallel -- I can't read Ensight6 individually written without a SOS
> file.
>
> I can only read parallel results running PV in serial mode and reading
each
> case files one-by-one and applying the "append dataset" and "clean to
grid"
> filters (AND THESE FILTERS ARE ONLY WORKING IN PV 2.2.1 FOR ENSIGHT FILES)
>
> Any, Fortran, solution?
>
> Thanks for any help
>
> Renato N. Elias
> ===============================================
> PhD student - http://www.nacad.ufrj.br/~rnelias
> High Performance Computing Center
> Federal University of Rio de Janeiro
> Rio de Janeiro, Brazil
> +55(21) 2562-8080
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview


From eschenbe at psc.edu  Fri Feb 17 15:08:43 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Fri Feb 17 15:18:50 2006
Subject: [Paraview] Is There An Error In vtkSocketCommunicator (2.4.2)?
Message-ID: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>

I can't tell whether this is a bug or another dumb thing I've done. 
Compiling a fresh download of 2.4.2 on a Fedora Core 4 system (cmake 
2.2-patch 2, gcc 4.0.2) with no changes yields the following error:

======
.../VTK/Parallel/vtkSocketCommunicator.cxx:
In member function
virtual int vtkSocketCommunicator::GetPort(int):
error: invalid conversion from int* to socklen_t*
======

At the top of this routine are the lines

======
#if defined(VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T)
  socklen_t sizebuf = sizeof(sockinfo);
#else
  int sizebuf = sizeof(sockinfo);
#endif
======

and the only line in CMakeCache.txt that includes the flag is

======
VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T:INTERNAL=1
======

So, "&sizebuf" is an "int*" and gcc doesn't know how to convert it to 
"socklen_t*".

On a hunch I tried merely re-running cmake then make. None of the files 
from the first cycle were changed. This worked without problems.

What do you think is wrong?

Thanks!
Kent
Pittsburgh Supercomputing Center

From noel.harrison at nuigalway.ie  Mon Feb 20 06:44:33 2006
From: noel.harrison at nuigalway.ie (N Harrison)
Date: Mon Feb 20 06:44:41 2006
Subject: [Paraview] Writing Binary files
In-Reply-To: <20060203170015.3AACC25A2E@public.kitware.com>
Message-ID: <000901c63613$04520340$5851cb8c@nuigalway.ie>

Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel


From Stephane.Montesino at hmg.inpg.fr  Tue Feb 21 03:49:56 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Tue Feb 21 03:49:59 2006
Subject: [Paraview] Writing Binary files
Message-ID: <43FAD434.2070905@hmg.inpg.fr>

To write my Data in Binary,  I use Ensight format because:
- I only found Documentation to write the Ensight format in Binary.
-The Ensight format is smaller: 80Mb for VTR & 65 Mb for Ensight Gold 
for scalar data on a Grid 512x128x256

With Fortran, you must write your data in the UNFORMATTED form with 
Direct access and write all your data with only one "WRITE".
You can use the binary form and use several  "WRITE" but this doesn't 
wort with xlf (IBM) compiler. It 's a windows format.
!    
****************************************************************************** 

!                      subrout  WriteRectEnsightGeo
!    
****************************************************************************** 

!
!    writes mesh data in Ensight's ascii or Binary format for 
rectilinear geometry
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    x1,x2,x3....: coordinates
!
     subroutine WriteRectEnsightGeo(imin,imax,jmin,jmax,kmin,kmax,
    &                               x1,x2,x3,FileName,WriteBinary)

     implicit none

     INTEGER,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
     REAL*8,DIMENSION(imax),INTENT(IN)::x1
     REAL*8,DIMENSION(jmax),INTENT(IN)::x2
     REAL*8,DIMENSION(kmax),INTENT(IN)::x3
     LOGICAL               ,INTENT(IN)::WriteBinary
     CHARACTER(LEN=80)     ,INTENT(IN)::FileName

!    character(LEN=80)::buffer
   character(LEN=80)::binary_form
   character(LEN=80)::file_description1,file_description2
   character(LEN=80)::node_id,element_id
   character(LEN=80)::part,description_part,block

     integer::FileUnit,i,j,k,npart,isize,jsize,ksize
     integer::reclength

     FileUnit = 40

   binary_form      ='C Binary'
     file_description1='Ensight Model Geometry File Created by '
     file_description2='WriteRectEnsightGeo Routine'
     node_id          ='node id off'
     element_id       ='element id off'
     part             ='part'
     npart            =1
     description_part ='3D periodic channel'
     block            ='block rectilinear'
     isize=imax-imin+1
     jsize=jmax-jmin+1
     ksize=kmax-kmin+1

     reclength=80*8+4*(4+isize+jsize+ksize)

     if (WriteBinary) then
       open (unit=FileUnit,file=trim(FileName)//'.geo',
    &        form='UNFORMATTED',access="direct",recl=reclength)
       write(unit=FileUnit,rec=1) binary_form
    &                            ,file_description1
    &                            ,file_description2
    &                            ,node_id
    &                            ,element_id
    &                            ,part,npart
    &                            ,description_part
    &                            ,block
    &                            ,isize,jsize,ksize
    &                            ,(sngl(x1(i)),i=imin,imax)
    &                            ,(sngl(x2(j)),j=jmin,jmax)
    &                            ,(sngl(x3(k)),k=kmin,kmax)
     else
       open (unit=FileUnit,file=trim(FileName)//'.geo')
       write(FileUnit,'(A)') 'Ensight Model Geometry File Created by '
       write(FileUnit,'(A)') 'WriteRectEnsightGeo Routine'
       write(FileUnit,'(A)') 'node id off'
       write(FileUnit,'(A)') 'element id off'
       write(FileUnit,'(A)') 'part'
       write(FileUnit,'(i10)')npart
       write(FileUnit,'(A)') '3D periodic channel'
       write(FileUnit,'(A)') 'block rectilinear'
       write(FileUnit,'(3i10)') isize,jsize,ksize
       write(FileUnit,'(E12.5)') (x1(i),i=imin,imax)
       write(FileUnit,'(E12.5)') (x2(j),j=jmin,jmax)
       write(FileUnit,'(E12.5)') (x3(k),k=kmin,kmax)
     endif

     end subroutine
!
!    
****************************************************************************** 

!
!    WriteEnsightSca writes result data in Ensight's format
!
!    m1,m2,m3....: size of the variable in the x1,x2,x3 direction
!    ndv.........: number of dimension of the variable (1=>scalar   
3=>vector)
!    var.........: data to be written
!    Varname.....: word used to build filenames
!    imin,imax...: range of writting data in the x1 direction
!    jmin,jmax...: range of writting data in the x2 direction
!    kmin,kmax...: range of writting data in the x3 direction
!
!    
****************************************************************************** 

     subroutine WriteEnsightVar(ndv,m1,m2,m3,var,VarName,WriteBinary,
    &                           imin,imax,jmin,jmax,kmin,kmax)

     implicit none

     INTEGER     ,INTENT(IN)::m1,m2,m3,ndv
     INTEGER     ,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
     REAL*8,DIMENSION(ndv,m1,m2,m3),INTENT(IN)::var
     CHARACTER*80,INTENT(IN)::Varname
     LOGICAL     ,INTENT(IN)::WriteBinary


     character(len=80):: VarFileName,buffer
     character(len=80):: part,block
     integer::FileUnit,i,j,k,npart,m,reclength

     FileUnit = 40
     part ='part'
     npart=1
     block='block rectilinear'
     reclength=80*3+4*(1+(imax-imin+1)*(jmax-jmin+1)*(kmax-kmin+1)*ndv)

     if (ndv.eq.1)VarFileName = trim(Varname)//'.scl'
     if (ndv.eq.3)VarFileName = trim(Varname)//'.vec'
    !      write(*,'(5x,A)') VarFileName

   if(WriteBinary) then
       open (unit=FileUnit,file=VarFileName,
    &        form='UNFORMATTED',access="direct",recl=reclength)
       write(unit=FileUnit,rec=1) VarFileName
    &                            ,part,npart,block
    &                            ,((((SNGl(var(m,i,j,k))
    &                            ,i=imin,imax)
    &                            ,j=jmin,jmax)
    &                            ,k=kmin,kmax)
    &                            ,m=1,ndv)
     else
       open (unit=FileUnit,file=VarFileName)
       write(buffer,'(a,a)') Varname        write(FileUnit,'(A)')  
buffer         write(FileUnit,'(A)') 'part'
       write(FileUnit,'(I10)')npart
       write(FileUnit,'(A)') 'block rectilinear'
       do m=1,ndv
       write(FileUnit,'(e12.5)')
    &    (((SNGl(var(m,i,j,k)),i=imin,imax),j=jmin,jmax),k=kmin,kmax)
       enddo
     endif
     close(FileUnit)

     end  subroutine
!
!    
****************************************************************************** 

!   EnsightCase helps to write a Ensight's case file
!
!    VarName.....: Name of the variable
!    GeoName.....: Name of the geometrie
!    VarType.....: 1 => Scalar       3 => Vector
!    ntini.......: filename start number
!    nstop.......: filename end number
!    nprint......: filename increment
!
!    nfile.......: number of result files (time steps)
!
     subroutine EnsightCase(VarName,GeoName,VarType,ntini,nstop,nprint)

     implicit none

     INTEGER,INTENT(IN)::VarType,nstop,ntini,nprint
     CHARACTER(LEN=80),INTENT(IN)::Varname
     CHARACTER(LEN=80),INTENT(IN)::GeoName
     integer::FileUnit,i,nfile
     character(len=10)::ipfi

     write(*,'(/2A)') ' Creating case file for Ensight and Paraview: '
    &                  ,Varname

     nfile=(nstop-ntini+1)/nprint
     write(ipfi,'(i10.10)')nstop

     FileUnit = 40
     open(FileUnit,file=trim(Varname)//ipfi//'.case')

     write(FileUnit,10) trim(GeoName)//'.geo'
  10 format(
    &'FORMAT'            ,/ ,
    &'type: ensight gold',//,
    &'GEOMETRY'          ,/ ,
    &'model:    ',A         ,//,
    &'VARIABLE')

     if (nfile.eq.1) then
       if(VarType.eq.1)
    &    write(FileUnit,15)trim(Varname),trim(Varname)//'.scl'
       if(VarType.eq.3)
    &    write(FileUnit,25)trim(Varname),trim(Varname)//'.vec'
     else
       if(VarType.eq.1)
    &   write(FileUnit,15)trim(Varname),trim(Varname)//'**********.scl'
       if(VarType.eq.3)
    &   write(FileUnit,25)trim(Varname),trim(Varname)//'**********.vec'
       write(FileUnit,45) nfile,ntini+nprint,nprint
       write(FileUnit,'(f15.3)') (ntini+float(i)*nprint,i=1,nfile)
     endif

     close(FileUnit)

  15 format('scalar per node: ',A,'   ', A)
  25 format('vector per node: ',A,'   ', A)

  45 format(
    &/,'TIME            '      ,
    &/,'time set: 1     '      ,
    &/,'number of steps:'      ,i4 ,
    &/,'filename start number:',i10
    &/,'filename increment:'   ,i4
    &/,'time values: '
    &)

     end subroutine


paraview-request@paraview.org wrote:

Send ParaView mailing list submissions to
    paraview@paraview.org

To subscribe or unsubscribe via the World Wide Web, visit
    http://www.paraview.org/mailman/listinfo/paraview
or, via email, send a message with subject or body 'help' to
    paraview-request@paraview.org

You can reach the person managing the list at
    paraview-owner@paraview.org

When replying, please edit your Subject line so it is more specific
than "Re: Contents of ParaView digest..."


Today's Topics:

  1. Writing Binary files (N Harrison)


----------------------------------------------------------------------

Message: 1
Date: Mon, 20 Feb 2006 11:44:33 +0000
From: N Harrison <noel.harrison@nuigalway.ie>
Subject: [Paraview] Writing Binary files
To: paraview@paraview.org
Message-ID: <000901c63613$04520340$5851cb8c@nuigalway.ie>
Content-Type: text/plain; charset=us-ascii

Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I 
have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel

-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060221/5ddd0359/Stephane.Montesino.vcf
From rnelias at nacad.ufrj.br  Tue Feb 21 08:37:08 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Tue Feb 21 08:37:26 2006
Subject: RES: [Paraview] Writing Binary files
In-Reply-To: <000901c63613$04520340$5851cb8c@nuigalway.ie>
Message-ID: <20060221133720.AD89772553@mailhost.nacad.ufrj.br>


Hi Harrison,

It's hard to say about which file format is the best. It'll depend on your
application and your skills to implement it. I basically work with Ensight's
format because, I guess, this format is very easy to understand, implement
and I can also use my files with Ensight and PV without having to change
nothing in my program. 

Regarding the binary implementation, I could say that Ensight's binary is an
"ASCII file" opened as binary and without any format in the writing clause
(see the routines previously posted here by me
http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip,
Stephane and Sam). If you've been working with huge models certainly you'll
need to save your files in binary format or going further doing parallel
post processing. Regarding Fortran binary files, since PV can't read
unformatted files (it's only possible taking the approach proposed by
Stephane) you'll need to care about the binary Fortran form supported by
your compiler ("binary" or "unformatted") or wait the PV team give support
for unformatted files in PV's future releases ;-)

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de N
Harrison
Enviada em: segunda-feira, 20 de fevereiro de 2006 08:45
Para: paraview@paraview.org
Assunto: [Paraview] Writing Binary files

Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From noel.harrison at nuigalway.ie  Tue Feb 21 08:46:13 2006
From: noel.harrison at nuigalway.ie (N Harrison)
Date: Tue Feb 21 08:47:19 2006
Subject: [Paraview] Writing Binary files
In-Reply-To: <20060221133720.AD89772553@mailhost.nacad.ufrj.br>
Message-ID: <003901c636ed$2e1fc1a0$5851cb8c@nuigalway.ie>

Hi Renato N. Elias,

Thanks very much for all that information. I do seem to have more success
with the EnSight that I do with XML. Thanks very much for your advice on
this!
Yeah I'm reckon PV support for the unformatted files would open up more
options for us all!  :-)

Kind regards,
 

Noel




-----Original Message-----
From: Renato N. Elias [mailto:rnelias@nacad.ufrj.br] 
Sent: 21 February 2006 13:37
To: 'N Harrison'
Cc: paraview@paraview.org
Subject: RES: [Paraview] Writing Binary files



Hi Harrison,

It's hard to say about which file format is the best. It'll depend on your
application and your skills to implement it. I basically work with Ensight's
format because, I guess, this format is very easy to understand, implement
and I can also use my files with Ensight and PV without having to change
nothing in my program. 

Regarding the binary implementation, I could say that Ensight's binary is an
"ASCII file" opened as binary and without any format in the writing clause
(see the routines previously posted here by me
http://www.nacad.ufrj.br/~rnelias/public/EnsightFortranRoutines.zip,
Stephane and Sam). If you've been working with huge models certainly you'll
need to save your files in binary format or going further doing parallel
post processing. Regarding Fortran binary files, since PV can't read
unformatted files (it's only possible taking the approach proposed by
Stephane) you'll need to care about the binary Fortran form supported by
your compiler ("binary" or "unformatted") or wait the PV team give support
for unformatted files in PV's future releases ;-)

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de N
Harrison
Enviada em: segunda-feira, 20 de fevereiro de 2006 08:45
Para: paraview@paraview.org
Assunto: [Paraview] Writing Binary files

Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From billlist at nycap.rr.com  Tue Feb 21 11:40:17 2006
From: billlist at nycap.rr.com (William A. Hoffman)
Date: Tue Feb 21 11:40:24 2006
Subject: [Paraview] Is There An Error In vtkSocketCommunicator
  (2.4.2)?
In-Reply-To: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
References: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
Message-ID: <6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>

This means a trycompile was bad.  Can you look at CMakeOutput.log
and CMakeError.log and find the place where socken_t was incorrectly
determined.

-Bill


At 03:08 PM 2/17/2006, Kent Eschenberg wrote:
>I can't tell whether this is a bug or another dumb thing I've done. Compiling a fresh download of 2.4.2 on a Fedora Core 4 system (cmake 2.2-patch 2, gcc 4.0.2) with no changes yields the following error:
>
>======
>.../VTK/Parallel/vtkSocketCommunicator.cxx:
>In member function
>virtual int vtkSocketCommunicator::GetPort(int):
>error: invalid conversion from int* to socklen_t*
>======
>
>At the top of this routine are the lines
>
>======
>#if defined(VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T)
> socklen_t sizebuf = sizeof(sockinfo);
>#else
> int sizebuf = sizeof(sockinfo);
>#endif
>======
>
>and the only line in CMakeCache.txt that includes the flag is
>
>======
>VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T:INTERNAL=1
>======
>
>So, "&sizebuf" is an "int*" and gcc doesn't know how to convert it to "socklen_t*".
>
>On a hunch I tried merely re-running cmake then make. None of the files from the first cycle were changed. This worked without problems.
>
>What do you think is wrong?
>
>Thanks!
>Kent
>Pittsburgh Supercomputing Center
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview

From domi at vision.ee.ethz.ch  Tue Feb 21 11:44:28 2006
From: domi at vision.ee.ethz.ch (Dominik Szczerba)
Date: Tue Feb 21 11:44:32 2006
Subject: [Paraview] Deformation
In-Reply-To: <6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
References: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
	<6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
Message-ID: <43FB436C.2050409@vision.ee.ethz.ch>

Hi,
I want to deform (vector warp) and object according to vector data of
another object. The object to be deformed is geometrically contained in
the other object. Is it directly possible in PV?
Thanks a lot for any hints,
Dominik

-- 
Dominik Szczerba, Dr.
Computer Vision Lab CH-8092 Zurich
http://www.vision.ee.ethz.ch/~domi
From clinton at elemtech.com  Tue Feb 21 11:50:38 2006
From: clinton at elemtech.com (Clinton Stimpson)
Date: Tue Feb 21 11:50:50 2006
Subject: [Paraview] Is There An Error In vtkSocketCommunicator  (2.4.2)?
In-Reply-To: <6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
References: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
	<6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
Message-ID: <43FB44DE.8010808@elemtech.com>


I think it is because the vtkConfigure.h is written out before CMake has 
a chance to go in the Parallel directory to find out whether to use 
socklen_t or int.  A second run of cmake updates the vtkConfigure.h file 
with the right stuff, whereas the CMakeCache.txt file doesn't change at all.

Clint

William A. Hoffman wrote:

>This means a trycompile was bad.  Can you look at CMakeOutput.log
>and CMakeError.log and find the place where socken_t was incorrectly
>determined.
>
>-Bill
>
>
>At 03:08 PM 2/17/2006, Kent Eschenberg wrote:
>  
>
>>I can't tell whether this is a bug or another dumb thing I've done. Compiling a fresh download of 2.4.2 on a Fedora Core 4 system (cmake 2.2-patch 2, gcc 4.0.2) with no changes yields the following error:
>>
>>======
>>.../VTK/Parallel/vtkSocketCommunicator.cxx:
>>In member function
>>virtual int vtkSocketCommunicator::GetPort(int):
>>error: invalid conversion from int* to socklen_t*
>>======
>>
>>At the top of this routine are the lines
>>
>>======
>>#if defined(VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T)
>>socklen_t sizebuf = sizeof(sockinfo);
>>#else
>>int sizebuf = sizeof(sockinfo);
>>#endif
>>======
>>
>>and the only line in CMakeCache.txt that includes the flag is
>>
>>======
>>VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T:INTERNAL=1
>>======
>>
>>So, "&sizebuf" is an "int*" and gcc doesn't know how to convert it to "socklen_t*".
>>
>>On a hunch I tried merely re-running cmake then make. None of the files from the first cycle were changed. This worked without problems.
>>
>>What do you think is wrong?
>>
>>Thanks!
>>Kent
>>Pittsburgh Supercomputing Center
>>
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>    
>>
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>

From dcthomp at sandia.gov  Tue Feb 21 12:17:48 2006
From: dcthomp at sandia.gov (David C. Thompson)
Date: Tue Feb 21 12:19:10 2006
Subject: [Paraview] Animate Mode Shapes
In-Reply-To: <347180497203A942A6AA82C85846CBC9026CB0D6@ES23SNLNT.srn.sandia.gov>
References: <347180497203A942A6AA82C85846CBC9026CB0D6@ES23SNLNT.srn.sandia.gov>
Message-ID: <1140542267.8633.149.camel@fozzy.ran.sandia.gov>

> Does anyone know how to animate mode shapes in Paraview ?
Have a look at http://pelican.ca.sandia.gov/~dcthomp/ModeShapes/

	David

From eschenbe at psc.edu  Tue Feb 21 15:06:39 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Tue Feb 21 15:06:43 2006
Subject: [Paraview] Is There An Error In vtkSocketCommunicator  (2.4.2)?
In-Reply-To: <43FB44DE.8010808@elemtech.com>
References: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
	<6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
	<43FB44DE.8010808@elemtech.com>
Message-ID: <375E33851E8AB822DD3015B9@harpo.psc.edu>

Clint, that sounds like a bug in CMake or one of its files. Does this call 
for a bug submission?

Bill asked about a place in CMakeOutput.log and CMakeError.log. The latter 
doesn't exist, and the former contains neither "socklen_t" nor 
"VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T". These files are those left after 2 
cycles of cmake/make. Given Clint's observation, is there a need to 
re-create the state of the first cycle?

Thanks for your help!
Kent

--On Tuesday, February 21, 2006 09:50:38 AM -0700 Clinton Stimpson 
<clinton@elemtech.com> wrote:

>
> I think it is because the vtkConfigure.h is written out before CMake has
> a chance to go in the Parallel directory to find out whether to use
> socklen_t or int.  A second run of cmake updates the vtkConfigure.h file
> with the right stuff, whereas the CMakeCache.txt file doesn't change at
> all.
>
> Clint
>
> William A. Hoffman wrote:
>
>> This means a trycompile was bad.  Can you look at CMakeOutput.log
>> and CMakeError.log and find the place where socken_t was incorrectly
>> determined.
>>
>> -Bill
>>
>>
>> At 03:08 PM 2/17/2006, Kent Eschenberg wrote:
>>
>>
>>> I can't tell whether this is a bug or another dumb thing I've done.
>>> Compiling a fresh download of 2.4.2 on a Fedora Core 4 system (cmake
>>> 2.2-patch 2, gcc 4.0.2) with no changes yields the following error:
>>>
>>> ======
>>> .../VTK/Parallel/vtkSocketCommunicator.cxx:
>>> In member function
>>> virtual int vtkSocketCommunicator::GetPort(int):
>>> error: invalid conversion from int* to socklen_t*
>>> ======
>>>
>>> At the top of this routine are the lines
>>>
>>> ======
>>># if defined(VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T)
>>> socklen_t sizebuf = sizeof(sockinfo);
>>># else
>>> int sizebuf = sizeof(sockinfo);
>>># endif
>>> ======
>>>
>>> and the only line in CMakeCache.txt that includes the flag is
>>>
>>> ======
>>> VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T:INTERNAL=1
>>> ======
>>>
>>> So, "&sizebuf" is an "int*" and gcc doesn't know how to convert it to
>>> "socklen_t*".
>>>
>>> On a hunch I tried merely re-running cmake then make. None of the files
>>> from the first cycle were changed. This worked without problems.
>>>
>>> What do you think is wrong?
>>>
>>> Thanks!
>>> Kent
>>> Pittsburgh Supercomputing Center
>
From mail at christoph-moder.de  Tue Feb 21 17:25:57 2006
From: mail at christoph-moder.de (Christoph Moder)
Date: Tue Feb 21 17:23:38 2006
Subject: [Paraview] Problems: Compiling Paraview with MPI
Message-ID: <43FB9375.9030205@christoph-moder.de>

Hi all!

I would like to compile Paraview with MPI support, but somehow this does 
not work.

I am using Paraview 2.4.2; in ccmake, I have switched on VTK_USE_MPI and 
checked the MPI path (/usr/lib/libmpi.so and libmpi++.so which are links 
to /usr/lib/mpich/lib/shared/libmpich.so and 
/usr/lib/mpich/lib/shared/libpmpich.so).

make stops with the following error message:
Linking CXX executable bin/pvbatch
/usr/lib/gcc-lib/i486-linux/3.3.5/../../../libmpi.so: undefined 
reference to `f90_unix_env_MP_getarg'
/usr/lib/gcc-lib/i486-linux/3.3.5/../../../libmpi.so: undefined 
reference to `f90_unix_env_MP_iargc'
collect2: ld returned 1 exit status
make[2]: *** [bin/pvbatch] Error 1
make[1]: *** [Servers/Executables/pvbatch.dir/all] Error 2
make: *** [all] Error 2

(compiler given in ccmake: gcc and c++, or mpicc and mpicxx)

I have also tried to use the intel compiler (mpicc.mpich-intel and 
mpicxx.mpich-intel) which also does not work:
Linking CXX executable bin/pvbatch
/usr/bin/ld: cannot find -lmpich-intel
collect2: ld returned 1 exit status
make[2]: *** [bin/pvbatch] Error 1
make[1]: *** [Servers/Executables/pvbatch.dir/all] Error 2
make: *** [all] Error 2

Also, I have tried to use the intel libraries 
(/usr/lib/mpich-intel/lib/) and also the static *.a libraries instead of 
the shared libs, which did not help.

Maybe someone can give me a hint....

Thanks,
Christoph
From Eric.Greenwade at inl.gov  Tue Feb 21 18:23:26 2006
From: Eric.Greenwade at inl.gov (Eric Greenwade)
Date: Tue Feb 21 18:23:43 2006
Subject: [Paraview] Newbie question
Message-ID: <43FBA0EE.9040808@inl.gov>

I'll apologize for this one in advance. I had run the precompiled binary 
for long enough I decided to try to compile a local version. Everything 
'seemed' to go just fine. However, after installation I get the 
following error when I try to execute the newly compiled paraview:

hermes:~> paraview
ParaView error: InitializeTcl failed
Tcl_Init error: Can't find a usable init.tcl in the following directories:
    /usr/local/lib/tcl8.4 /home/lib/tcl8.4 /lib/tcl8.4 /home/library 
/library /tcl8.4.5/library /usr/local/lib/tcl8.4

Sure enough none of the directories listed exist on this machine. 
However, the init.tcl file exists in almost a dozen other locations on 
the box. I'm sure this is an easy one. If someone would give me a (kind) 
pointer I would greatly appreciate it. (some cmake option?)

thanks!

-eric
From rnelias at nacad.ufrj.br  Tue Feb 21 19:04:22 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Tue Feb 21 19:04:26 2006
Subject: RES: [Paraview] Writing Binary files
In-Reply-To: <43FAD434.2070905@hmg.inpg.fr>
Message-ID: <000601c63743$8a8c60f0$6500a8c0@neutron>

 
Hi Stephane,

I'm writing to complete something about your last post.

The Fortran "binary" form is not an exclusive Windows format, it's a Fortran
extension provided by some compilers, such as, Intel, PGF90 (Windows/Linux)
and Compaq (Windows) (Sam has listed other compilers, I think).

About the "unformatted" form, I'm a bit disappointed with my compiler... I
tried to reimplement my writer routine with unformatted form, as you've
suggested, but it seems that my Fortran compiled can't deal with direct
writing statement for a long list of parameters. Unfortunately, I've lost my
file (angry deletion ;-) but my writing statement was something like:

----------------------------------------------------
        write(iens,rec=1) binary_form                 
     &                   ,description_line1           
     &                   ,description_line2           
     &                   ,node_id                     
     &                   ,element_id                  
     &                   ,part_name                      
     &                   ,1                           
     &                   ,coordinates                 
     &                   ,nnos                        
     &                   ,(real(xyz(1,i)),i=1,nnos)
     &                   ,(real(xyz(2,i)),i=1,nnos)
     &                   ,(real(xyz(3,i)),i=1,nnos)
     &                   ,element_type                
     &                   ,nel                         
     &                   ,((ien(l,n),l=1,4),n=1,nel)
----------------------------------------------------

The compiler returned me a weird error message and after cutting some
parameters from the write statement the error suddenly disappeared.
Conclusion: I'm still using the "binary" form (in Windows and Linux systems)
and still struggling with which Ensight's format is better for me (Gold or
Ensight6 - see my next to last post)

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias 
High Performance Computing Center 
Federal University of Rio de Janeiro 
Rio de Janeiro, Brazil
+55(21) 2562-8080









-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
St?phane Mont?sino
Enviada em: ter?a-feira, 21 de fevereiro de 2006 05:50
Para: paraview@paraview.org
Assunto: [Paraview] Writing Binary files

To write my Data in Binary,  I use Ensight format because:
- I only found Documentation to write the Ensight format in Binary.
-The Ensight format is smaller: 80Mb for VTR & 65 Mb for Ensight Gold for
scalar data on a Grid 512x128x256

With Fortran, you must write your data in the UNFORMATTED form with Direct
access and write all your data with only one "WRITE".
You can use the binary form and use several  "WRITE" but this doesn't wort
with xlf (IBM) compiler. It 's a windows format.
!    
****************************************************************************
** 

!                      subrout  WriteRectEnsightGeo
!    
****************************************************************************
** 

!
!    writes mesh data in Ensight's ascii or Binary format for 
rectilinear geometry
!
!    n1,n2,n3....: number of nodes in the x1,x2,x3 direction
!    x1,x2,x3....: coordinates
!
     subroutine WriteRectEnsightGeo(imin,imax,jmin,jmax,kmin,kmax,
    &                               x1,x2,x3,FileName,WriteBinary)

     implicit none

     INTEGER,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
     REAL*8,DIMENSION(imax),INTENT(IN)::x1
     REAL*8,DIMENSION(jmax),INTENT(IN)::x2
     REAL*8,DIMENSION(kmax),INTENT(IN)::x3
     LOGICAL               ,INTENT(IN)::WriteBinary
     CHARACTER(LEN=80)     ,INTENT(IN)::FileName

!    character(LEN=80)::buffer
   character(LEN=80)::binary_form
   character(LEN=80)::file_description1,file_description2
   character(LEN=80)::node_id,element_id
   character(LEN=80)::part,description_part,block

     integer::FileUnit,i,j,k,npart,isize,jsize,ksize
     integer::reclength

     FileUnit = 40

   binary_form      ='C Binary'
     file_description1='Ensight Model Geometry File Created by '
     file_description2='WriteRectEnsightGeo Routine'
     node_id          ='node id off'
     element_id       ='element id off'
     part             ='part'
     npart            =1
     description_part ='3D periodic channel'
     block            ='block rectilinear'
     isize=imax-imin+1
     jsize=jmax-jmin+1
     ksize=kmax-kmin+1

     reclength=80*8+4*(4+isize+jsize+ksize)

     if (WriteBinary) then
       open (unit=FileUnit,file=trim(FileName)//'.geo',
    &        form='UNFORMATTED',access="direct",recl=reclength)
       write(unit=FileUnit,rec=1) binary_form
    &                            ,file_description1
    &                            ,file_description2
    &                            ,node_id
    &                            ,element_id
    &                            ,part,npart
    &                            ,description_part
    &                            ,block
    &                            ,isize,jsize,ksize
    &                            ,(sngl(x1(i)),i=imin,imax)
    &                            ,(sngl(x2(j)),j=jmin,jmax)
    &                            ,(sngl(x3(k)),k=kmin,kmax)
     else
       open (unit=FileUnit,file=trim(FileName)//'.geo')
       write(FileUnit,'(A)') 'Ensight Model Geometry File Created by '
       write(FileUnit,'(A)') 'WriteRectEnsightGeo Routine'
       write(FileUnit,'(A)') 'node id off'
       write(FileUnit,'(A)') 'element id off'
       write(FileUnit,'(A)') 'part'
       write(FileUnit,'(i10)')npart
       write(FileUnit,'(A)') '3D periodic channel'
       write(FileUnit,'(A)') 'block rectilinear'
       write(FileUnit,'(3i10)') isize,jsize,ksize
       write(FileUnit,'(E12.5)') (x1(i),i=imin,imax)
       write(FileUnit,'(E12.5)') (x2(j),j=jmin,jmax)
       write(FileUnit,'(E12.5)') (x3(k),k=kmin,kmax)
     endif

     end subroutine
!
!    
****************************************************************************
** 

!
!    WriteEnsightSca writes result data in Ensight's format
!
!    m1,m2,m3....: size of the variable in the x1,x2,x3 direction
!    ndv.........: number of dimension of the variable (1=>scalar   
3=>vector)
!    var.........: data to be written
!    Varname.....: word used to build filenames
!    imin,imax...: range of writting data in the x1 direction
!    jmin,jmax...: range of writting data in the x2 direction
!    kmin,kmax...: range of writting data in the x3 direction
!
!    
****************************************************************************
** 

     subroutine WriteEnsightVar(ndv,m1,m2,m3,var,VarName,WriteBinary,
    &                           imin,imax,jmin,jmax,kmin,kmax)

     implicit none

     INTEGER     ,INTENT(IN)::m1,m2,m3,ndv
     INTEGER     ,INTENT(IN)::imin,imax,jmin,jmax,kmin,kmax
     REAL*8,DIMENSION(ndv,m1,m2,m3),INTENT(IN)::var
     CHARACTER*80,INTENT(IN)::Varname
     LOGICAL     ,INTENT(IN)::WriteBinary


     character(len=80):: VarFileName,buffer
     character(len=80):: part,block
     integer::FileUnit,i,j,k,npart,m,reclength

     FileUnit = 40
     part ='part'
     npart=1
     block='block rectilinear'
     reclength=80*3+4*(1+(imax-imin+1)*(jmax-jmin+1)*(kmax-kmin+1)*ndv)

     if (ndv.eq.1)VarFileName = trim(Varname)//'.scl'
     if (ndv.eq.3)VarFileName = trim(Varname)//'.vec'
    !      write(*,'(5x,A)') VarFileName

   if(WriteBinary) then
       open (unit=FileUnit,file=VarFileName,
    &        form='UNFORMATTED',access="direct",recl=reclength)
       write(unit=FileUnit,rec=1) VarFileName
    &                            ,part,npart,block
    &                            ,((((SNGl(var(m,i,j,k))
    &                            ,i=imin,imax)
    &                            ,j=jmin,jmax)
    &                            ,k=kmin,kmax)
    &                            ,m=1,ndv)
     else
       open (unit=FileUnit,file=VarFileName)
       write(buffer,'(a,a)') Varname        write(FileUnit,'(A)')  
buffer         write(FileUnit,'(A)') 'part'
       write(FileUnit,'(I10)')npart
       write(FileUnit,'(A)') 'block rectilinear'
       do m=1,ndv
       write(FileUnit,'(e12.5)')
    &    (((SNGl(var(m,i,j,k)),i=imin,imax),j=jmin,jmax),k=kmin,kmax)
       enddo
     endif
     close(FileUnit)

     end  subroutine
!
!    
****************************************************************************
** 

!   EnsightCase helps to write a Ensight's case file
!
!    VarName.....: Name of the variable
!    GeoName.....: Name of the geometrie
!    VarType.....: 1 => Scalar       3 => Vector
!    ntini.......: filename start number
!    nstop.......: filename end number
!    nprint......: filename increment
!
!    nfile.......: number of result files (time steps)
!
     subroutine EnsightCase(VarName,GeoName,VarType,ntini,nstop,nprint)

     implicit none

     INTEGER,INTENT(IN)::VarType,nstop,ntini,nprint
     CHARACTER(LEN=80),INTENT(IN)::Varname
     CHARACTER(LEN=80),INTENT(IN)::GeoName
     integer::FileUnit,i,nfile
     character(len=10)::ipfi

     write(*,'(/2A)') ' Creating case file for Ensight and Paraview: '
    &                  ,Varname

     nfile=(nstop-ntini+1)/nprint
     write(ipfi,'(i10.10)')nstop

     FileUnit = 40
     open(FileUnit,file=trim(Varname)//ipfi//'.case')

     write(FileUnit,10) trim(GeoName)//'.geo'
  10 format(
    &'FORMAT'            ,/ ,
    &'type: ensight gold',//,
    &'GEOMETRY'          ,/ ,
    &'model:    ',A         ,//,
    &'VARIABLE')

     if (nfile.eq.1) then
       if(VarType.eq.1)
    &    write(FileUnit,15)trim(Varname),trim(Varname)//'.scl'
       if(VarType.eq.3)
    &    write(FileUnit,25)trim(Varname),trim(Varname)//'.vec'
     else
       if(VarType.eq.1)
    &   write(FileUnit,15)trim(Varname),trim(Varname)//'**********.scl'
       if(VarType.eq.3)
    &   write(FileUnit,25)trim(Varname),trim(Varname)//'**********.vec'
       write(FileUnit,45) nfile,ntini+nprint,nprint
       write(FileUnit,'(f15.3)') (ntini+float(i)*nprint,i=1,nfile)
     endif

     close(FileUnit)

  15 format('scalar per node: ',A,'   ', A)
  25 format('vector per node: ',A,'   ', A)

  45 format(
    &/,'TIME            '      ,
    &/,'time set: 1     '      ,
    &/,'number of steps:'      ,i4 ,
    &/,'filename start number:',i10
    &/,'filename increment:'   ,i4
    &/,'time values: '
    &)

     end subroutine


paraview-request@paraview.org wrote:

Send ParaView mailing list submissions to
    paraview@paraview.org

To subscribe or unsubscribe via the World Wide Web, visit
    http://www.paraview.org/mailman/listinfo/paraview
or, via email, send a message with subject or body 'help' to
    paraview-request@paraview.org

You can reach the person managing the list at
    paraview-owner@paraview.org

When replying, please edit your Subject line so it is more specific than
"Re: Contents of ParaView digest..."


Today's Topics:

  1. Writing Binary files (N Harrison)


----------------------------------------------------------------------

Message: 1
Date: Mon, 20 Feb 2006 11:44:33 +0000
From: N Harrison <noel.harrison@nuigalway.ie>
Subject: [Paraview] Writing Binary files
To: paraview@paraview.org
Message-ID: <000901c63613$04520340$5851cb8c@nuigalway.ie>
Content-Type: text/plain; charset=us-ascii

Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel

--
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 


From eschenbe at psc.edu  Tue Feb 21 20:05:54 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Tue Feb 21 20:10:37 2006
Subject: [Paraview] Newbie question
In-Reply-To: <43FBA0EE.9040808@inl.gov>
References: <43FBA0EE.9040808@inl.gov>
Message-ID: <98BE7E60D7C2F926211ABF40@localhost.localdomain>

Hi Eric,

Well, for starters, it would help if you mentioned what system and version 
you are using. The directory you mentioned suggests you are not using 
ParaView under Windows. Linux? UNIX? Which version of the operating system? 
And which version of ParaView? All that is good stuff for any request for 
help.

The mistake *I* always make is to run "make" and then forget to run "make 
install". By default this will put things in a public area like /usr/local 
so you might need su privileges.

Kent

--On Tuesday, February 21, 2006 04:23:26 PM -0700 Eric Greenwade 
<Eric.Greenwade@inl.gov> wrote:

> I'll apologize for this one in advance. I had run the precompiled binary
> for long enough I decided to try to compile a local version. Everything
> 'seemed' to go just fine. However, after installation I get the following
> error when I try to execute the newly compiled paraview:
>
> hermes:~> paraview
> ParaView error: InitializeTcl failed
> Tcl_Init error: Can't find a usable init.tcl in the following directories:
>     /usr/local/lib/tcl8.4 /home/lib/tcl8.4 /lib/tcl8.4 /home/library
> /library /tcl8.4.5/library /usr/local/lib/tcl8.4
>
> Sure enough none of the directories listed exist on this machine.
> However, the init.tcl file exists in almost a dozen other locations on
> the box. I'm sure this is an easy one. If someone would give me a (kind)
> pointer I would greatly appreciate it. (some cmake option?)
>
> thanks!
>
> -eric

From rcook at llnl.gov  Tue Feb 21 21:01:22 2006
From: rcook at llnl.gov (Rich Cook)
Date: Tue Feb 21 21:01:07 2006
Subject: [Paraview] (repeat post) error in paraview help please!
Message-ID: <814B8A69-D50A-49A8-9CC5-BD928CBB40ED@llnl.gov>

Hi, I get lots of errors when running paraview on AIX.  I had to do  
some things to get it to compile, which I mentioned in an earlier  
email.  Can anyone help me get this thing to work?  Am I on the right  
list?  Is there a way to get technical support from Kitware?  Thanks.

rcook@up041 (rcook): /usr/global/tools/Kitware/Paraview/2.4.2/ 
aix_5_64_fed/bin/paraview
ErrorMessage
# Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/ 
2.4.2/src/aix_5_64_fed/paraview-2.4
.2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 - 
rw Addr=110468df0
     Returned Error on line 1:
NULL main window



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes - 
fill both -side top -anchor nw
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
focus .paraview.24.33.36.37.40.161.163.165.168.169.174
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/ 
paraview-2.4.2/GUI/Widgets/vtkKW
TkUtilities.cxx, line 217
vtkPVApplication (110185790):
     Script:
bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose>  
{vtkTemp76 Exposed}
     Returned Error on line 1:
bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"



-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060221/f06fd075/attachment-0001.html
From samuelkey at comcast.net  Tue Feb 21 23:23:52 2006
From: samuelkey at comcast.net (SamuelKey)
Date: Tue Feb 21 23:22:45 2006
Subject: [Paraview] Writing Binary files
References: <000901c63613$04520340$5851cb8c@nuigalway.ie>
Message-ID: <000a01c63767$ca085260$6e01a8c0@last>

Noel Harrison,

If you can write XML appended-binary files
from Fortran90/95, there are modest pros
and cons in comparison to EnSight c-binary
files. (I cannot write XML appended-binary
from Fortran, so for me, EnSight c-binary is
my current preference.)

If you are generating a transient response
(a solution that varies in time in ways significant
to understanding the simulation), then one can
make the following observations:

1) VTK XML appended-binary
  Puts all of the node and cell results for each
  simulation time in a single file. Thus, 100 time
  steps => 100 files.

2) EnSight c-binary
  Puts all time steps for each point/cell result in
  single file. Thus, 15 point/cell results => 15
  files. Has provisions for files-sets if results produce
  files reaching some file-size limit, frequently 2GBytes.

I prefer to break my models into component parts
and write a displayable data set for each part.
I then have ParaView  read them as a "parallel
data set." PV VTK XML reader is quite happy to
do this. I use a *.pvd file to Collect them together.
This works quite nicely even though the simulation
was conducted on a single processor. But file count
= n-parts * m-timesteps

The EnSight file format has provisions for "parts;"
it just complicates the writer a little bit and adds no
more files.

My current largest model is 840K 4-node tetrahedrons
with 37 different material parts. The Ensight c-binary
handles this just fine as does PV. (Sun dual Opteron
4GB RAM workstation with an Nvidia F4000 Graphics
card.) I would not dream of using VTK XML ASCII-formatted
results files for this simulation.

There is a third very credible option for creating data files
for PV, namely an ExodusII binary format. The ExodusII file
format  handles big data and parallel file-sets easily. The
I/O library is OpenSource. It is very well tested and compiles
on practically every hardware-O/S platform going back
10+ years (actually more). see http://sourceforge.net/index.php
search for "exodusii"  It uses netCDF which has a huge benefit,
namely, the binary data is platform independent. Run the
simulation on a Cray T3D, move the results to a Wintel box,
look at the results with PV. The ExodusII reader in PV is quite
advanced and very actively maintained by Sandia National
Laboratories in the US. All but the Fortran binding is delivered
pre-compiled with PV.
*\ParaView\ParaView 2.4\bin\vtkexoIIc.dll
*\ParaView\ParaView 2.4\bin\vtkNetCDF.dll

Hope this helps.

Sam Key



----- Original Message ----- 
From: "N Harrison" <noel.harrison@nuigalway.ie>
To: <paraview@paraview.org>
Sent: Monday, February 20, 2006 4:44 AM
Subject: [Paraview] Writing Binary files


Sam,Stephane,Renato
Thanks very much for your information to date. Seeing as you have tried
using VTK-XML and Ensight file format, which type would you recommend using
for large models? I am generating large models at the moment using FORTRAN
90 to create legacy ASCII VTK files and they are getting quite large. I have
started to write them in a binary format  because of their small file size.
I don't have any experience yet of XML or Ensight, what are their main
advantages/disadvantages in your opinion for displaying large models? Quite
a lot of information has been posted lately on this mailing service about
creating Ensight files, including your own responses (very helpful), so I
just wanted to see if this format was recommended over binary XML files.

Kind regards,
Noel


_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From pfb at exadios.com  Wed Feb 22 00:22:52 2006
From: pfb at exadios.com (Peter F Bradshaw)
Date: Wed Feb 22 00:23:08 2006
Subject: [Paraview] (repeat post) error in paraview help please!
In-Reply-To: <814B8A69-D50A-49A8-9CC5-BD928CBB40ED@llnl.gov>
References: <814B8A69-D50A-49A8-9CC5-BD928CBB40ED@llnl.gov>
Message-ID: <Pine.LNX.4.58.0602221242060.2168@goldmund.pri>

Hi;

Are you compiling ParaView against the Tcl/Tk supplied with the package
or another Tcl/Tk installed on the machine?

On Tue, 21 Feb 2006, Rich Cook wrote:

> Hi, I get lots of errors when running paraview on AIX.  I had to do
> some things to get it to compile, which I mentioned in an earlier
> email.  Can anyone help me get this thing to work?  Am I on the right
> list?  Is there a way to get technical support from Kitware?  Thanks.
>
> rcook@up041 (rcook): /usr/global/tools/Kitware/Paraview/2.4.2/
> aix_5_64_fed/bin/paraview
> ErrorMessage
> # Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/
> 2.4.2/src/aix_5_64_fed/paraview-2.4
> .2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
> vtkPVApplication (110185790):
>      Script:
> vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 -
> rw Addr=110468df0
>      Returned Error on line 1:
> NULL main window
>
>
>
> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> paraview-2.4.2/GUI/Widgets/vtkKW
> TkUtilities.cxx, line 217
> vtkPVApplication (110185790):
>      Script:
> pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes -
> fill both -side top -anchor nw
>      Returned Error on line 1:
> bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"
>
>
>
> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> paraview-2.4.2/GUI/Widgets/vtkKW
> TkUtilities.cxx, line 217
> vtkPVApplication (110185790):
>      Script:
> focus .paraview.24.33.36.37.40.161.163.165.168.169.174
>      Returned Error on line 1:
> bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"
>
>
>
> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> paraview-2.4.2/GUI/Widgets/vtkKW
> TkUtilities.cxx, line 217
> vtkPVApplication (110185790):
>      Script:
> bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose>
> {vtkTemp76 Exposed}
>      Returned Error on line 1:
> bad window path name ".paraview.24.33.36.37.40.161.163.165.168.169.174"
>
>
>
>

Cheers

-- 
Peter F Bradshaw, http://www.exadios.com, ICQ 75431157 (exadios).
Public key at www.exadios.com/pfb.pgp.key and www.exadios.com/pfb.gpg.key
"I love truth, and the way the government still uses it occasionally to
 keep us guessing." - Sam Kekovich.
From pfb at exadios.com  Wed Feb 22 00:44:32 2006
From: pfb at exadios.com (Peter F Bradshaw)
Date: Wed Feb 22 00:46:07 2006
Subject: [Paraview] Newbie question
In-Reply-To: <98BE7E60D7C2F926211ABF40@localhost.localdomain>
References: <43FBA0EE.9040808@inl.gov>
	<98BE7E60D7C2F926211ABF40@localhost.localdomain>
Message-ID: <Pine.LNX.4.58.0602221340280.3179@goldmund.pri>

Hi;

In addition you may have to set your enviroment variables 'TCL_LIBRARY'
and 'TCLLIBPATH'. 'TCL_LIBRARY' should be set to the location of
init.tcl - something like:
TCL_LIBRARY=/usr/local/ParaView/lib/paraview-2.2/TclTk/lib/tcl8.4/

On Tue, 21 Feb 2006, Kent Eschenberg wrote:

> Hi Eric,
>
> Well, for starters, it would help if you mentioned what system and version
> you are using. The directory you mentioned suggests you are not using
> ParaView under Windows. Linux? UNIX? Which version of the operating system?
> And which version of ParaView? All that is good stuff for any request for
> help.
>
> The mistake *I* always make is to run "make" and then forget to run "make
> install". By default this will put things in a public area like /usr/local
> so you might need su privileges.
>
> Kent
>
> --On Tuesday, February 21, 2006 04:23:26 PM -0700 Eric Greenwade
> <Eric.Greenwade@inl.gov> wrote:
>
> > I'll apologize for this one in advance. I had run the precompiled binary
> > for long enough I decided to try to compile a local version. Everything
> > 'seemed' to go just fine. However, after installation I get the following
> > error when I try to execute the newly compiled paraview:
> >
> > hermes:~> paraview
> > ParaView error: InitializeTcl failed
> > Tcl_Init error: Can't find a usable init.tcl in the following directories:
> >     /usr/local/lib/tcl8.4 /home/lib/tcl8.4 /lib/tcl8.4 /home/library
> > /library /tcl8.4.5/library /usr/local/lib/tcl8.4
> >
> > Sure enough none of the directories listed exist on this machine.
> > However, the init.tcl file exists in almost a dozen other locations on
> > the box. I'm sure this is an easy one. If someone would give me a (kind)
> > pointer I would greatly appreciate it. (some cmake option?)
> >
> > thanks!
> >
> > -eric
>

Cheers

-- 
Peter F Bradshaw, http://www.exadios.com, ICQ 75431157 (exadios).
Public key at www.exadios.com/pfb.pgp.key and www.exadios.com/pfb.gpg.key
"I love truth, and the way the government still uses it occasionally to
 keep us guessing." - Sam Kekovich.
From biddisco at cscs.ch  Wed Feb 22 04:18:21 2006
From: biddisco at cscs.ch (John Biddiscombe)
Date: Wed Feb 22 04:18:28 2006
Subject: [Paraview] Paraview with MPICH2
Message-ID: <43FC2C5D.3060207@cscs.ch>

I compiled Paraview against MPICH2 on a windows box recently. It was 
basically fine and all seems to be working ok. But to make it compile I 
had to change about  a dozen files in vtk/parallel (and examples I 
think) to reorder the includes and put
#include <mpi.h>
first instead of last as it was in most instances. (some messages about 
SEEK_XXX being defined in multiple headers requiring Mpi included first)

I think it was only vtk sources that I changed (rather than paraview 
specific stuff).

Shall I commit the changes to cvs?

JB

-- 
John Biddiscombe,                            email:biddisco @ cscs.ch
http://www.cscs.ch/about/BJohn.php
CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.07
Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82


From berk.geveci at gmail.com  Wed Feb 22 07:08:16 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Feb 22 07:08:25 2006
Subject: [Paraview] Re: [vtk-developers] Paraview with MPICH2
In-Reply-To: <43FC2C5D.3060207@cscs.ch>
References: <43FC2C5D.3060207@cscs.ch>
Message-ID: <a2ab21560602220408i5f0c82a8w65a9fa7eb6deb3c6@mail.gmail.com>

Please don't. Changing when mpi.h is included can cause all kind of
problems because they tend to #define things they shouldn't. There is
an another solution. It involves adding a definition that tells mpich
not to use it's own SEEK_XXX. I will commit that today.

-Berk

On 2/22/06, John Biddiscombe <biddisco@cscs.ch> wrote:
> I compiled Paraview against MPICH2 on a windows box recently. It was
> basically fine and all seems to be working ok. But to make it compile I
> had to change about  a dozen files in vtk/parallel (and examples I
> think) to reorder the includes and put
> #include <mpi.h>
> first instead of last as it was in most instances. (some messages about
> SEEK_XXX being defined in multiple headers requiring Mpi included first)
>
> I think it was only vtk sources that I changed (rather than paraview
> specific stuff).
>
> Shall I commit the changes to cvs?
>
> JB
>
> --
> John Biddiscombe,                            email:biddisco @ cscs.ch
> http://www.cscs.ch/about/BJohn.php
> CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.07
> Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82
>
>
> _______________________________________________
> vtk-developers mailing list
> vtk-developers@vtk.org
> http://www.vtk.org/mailman/listinfo/vtk-developers
>
From amagda at gmail.com  Wed Feb 22 08:04:33 2006
From: amagda at gmail.com (Adrian Magda)
Date: Wed Feb 22 08:04:42 2006
Subject: [Paraview] extract probe data
Message-ID: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>

I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .

here is my question:

When i try to probe a scalar (for example the temperature) to a line and
export it I always get the scalar and the x direction coordinate. How can i
get the Y or Z direction coordinate since in my case the probe line is
perpendicular on X axis?

thanks

Adrian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060222/eb1d7c69/attachment.htm
From berk.geveci at gmail.com  Wed Feb 22 09:21:03 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Feb 22 09:21:09 2006
Subject: [Paraview] extract probe data
In-Reply-To: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
Message-ID: <a2ab21560602220621y7e5a78c9s44525764f90a6103@mail.gmail.com>

You mean save as csv? Can you send me an example (a small dataset)?

On 2/22/06, Adrian Magda <amagda@gmail.com> wrote:
>
>
> I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
>
> here is my question:
>
> When i try to probe a scalar (for example the temperature) to a line and
> export it I always get the scalar and the x direction coordinate. How can i
> get the Y or Z direction coordinate since in my case the probe line is
> perpendicular on X axis?
>
>
> thanks
>
> Adrian
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
From Eric.Greenwade at inl.gov  Wed Feb 22 10:01:52 2006
From: Eric.Greenwade at inl.gov (Eric Greenwade)
Date: Wed Feb 22 10:03:24 2006
Subject: [Paraview] Newbie question
In-Reply-To: <Pine.LNX.4.58.0602221340280.3179@goldmund.pri>
References: <43FBA0EE.9040808@inl.gov>	<98BE7E60D7C2F926211ABF40@localhost.localdomain>
	<Pine.LNX.4.58.0602221340280.3179@goldmund.pri>
Message-ID: <43FC7CE0.6060703@inl.gov>

Peter F Bradshaw wrote:
> Hi;
>
> In addition you may have to set your enviroment variables 'TCL_LIBRARY'
> and 'TCLLIBPATH'. 'TCL_LIBRARY' should be set to the location of
> init.tcl - something like:
> TCL_LIBRARY=/usr/local/ParaView/lib/paraview-2.2/TclTk/lib/tcl8.4/
>
>   
The above appears to have fixed the issue. I set both the environment 
variables to /usr/share/tcl/tcl8.4 (on this Suse 10.0 box) and at least 
as much as I had tired previously seems to work.

To answer Kent's question (below) for completeness. The system is a 
fully patched Suse 10.0 opteron box and paraview is 2.4.2. The make 
install seemed to complete successfully, no noticeable errors and the 
executables placed in /usr/local/bin. I had been trying to run paraview 
from my home directory and several subdirectories when I received the 
tcl errors.

thanks again for the help,

-eric

> On Tue, 21 Feb 2006, Kent Eschenberg wrote:
>
>   
>> Hi Eric,
>>
>> Well, for starters, it would help if you mentioned what system and version
>> you are using. The directory you mentioned suggests you are not using
>> ParaView under Windows. Linux? UNIX? Which version of the operating system?
>> And which version of ParaView? All that is good stuff for any request for
>> help.
>>
>> The mistake *I* always make is to run "make" and then forget to run "make
>> install". By default this will put things in a public area like /usr/local
>> so you might need su privileges.
>>
>> Kent
>>
>> --On Tuesday, February 21, 2006 04:23:26 PM -0700 Eric Greenwade
>> <Eric.Greenwade@inl.gov> wrote:
>>
>>     
>>> I'll apologize for this one in advance. I had run the precompiled binary
>>> for long enough I decided to try to compile a local version. Everything
>>> 'seemed' to go just fine. However, after installation I get the following
>>> error when I try to execute the newly compiled paraview:
>>>
>>> hermes:~> paraview
>>> ParaView error: InitializeTcl failed
>>> Tcl_Init error: Can't find a usable init.tcl in the following directories:
>>>     /usr/local/lib/tcl8.4 /home/lib/tcl8.4 /lib/tcl8.4 /home/library
>>> /library /tcl8.4.5/library /usr/local/lib/tcl8.4
>>>
>>> Sure enough none of the directories listed exist on this machine.
>>> However, the init.tcl file exists in almost a dozen other locations on
>>> the box. I'm sure this is an easy one. If someone would give me a (kind)
>>> pointer I would greatly appreciate it. (some cmake option?)
>>>
>>> thanks!
>>>
>>> -eric
>>>       
>
> Cheers
>
>   


-- 
------------------------------------------------------------------------
L. Eric Greenwade          HPC Architect      Idaho National Laboratory
POB 1625, MS-3605                             Eric.Greenwade@inl.gov
Idaho Falls, ID  83415-3605                   voice: +1.208.526.1276

From utkarsh.ayachit at kitware.com  Wed Feb 22 10:09:03 2006
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed Feb 22 10:09:57 2006
Subject: [Paraview] extract probe data
In-Reply-To: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
Message-ID: <43FC7E8F.3070109@kitware.com>

Currently, SaveAsCSV cannot save the Y or Z components of the points. It
can only save the X component. (look at vtkXYPlotActor::PrintAsCSV in
ParaView/VTK/Hybrid/vtkXYPlotActor.cxx)


Utkarsh.

Adrian Magda wrote:
> 
> 
> I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
> 
> here is my question:
> 
> When i try to probe a scalar (for example the temperature) to a line and
> export it I always get the scalar and the x direction coordinate. How
> can i get the Y or Z direction coordinate since in my case the probe
> line is perpendicular on X axis?
> 
> 
> thanks
> 
> Adrian
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

From eschenbe at psc.edu  Wed Feb 22 10:22:33 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Wed Feb 22 10:22:45 2006
Subject: [Paraview] Newbie question
In-Reply-To: <43FC7CE0.6060703@inl.gov>
References: <43FBA0EE.9040808@inl.gov>
	<98BE7E60D7C2F926211ABF40@localhost.localdomain>
	<Pine.LNX.4.58.0602221340280.3179@goldmund.pri>
	<43FC7CE0.6060703@inl.gov>
Message-ID: <4BA758D36C10F4C4C5D293FB@harpo.psc.edu>

Very interesting. Those variables are not set on my Redhat Fedora Core 4 
system yet Paraview works.

Kent

>> In addition you may have to set your enviroment variables 'TCL_LIBRARY'
>> and 'TCLLIBPATH'. 'TCL_LIBRARY' should be set to the location of
>> init.tcl - something like:
>> TCL_LIBRARY=/usr/local/ParaView/lib/paraview-2.2/TclTk/lib/tcl8.4/
>>
> The above appears to have fixed the issue. I set both the environment
> variables to /usr/share/tcl/tcl8.4 (on this Suse 10.0 box) and at least
> as much as I had tired previously seems to work.


From amagda at gmail.com  Wed Feb 22 10:23:04 2006
From: amagda at gmail.com (Adrian Magda)
Date: Wed Feb 22 10:30:09 2006
Subject: [Paraview] Re: extract probe data
In-Reply-To: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
Message-ID: <6bb554800602220723o612363dfl7c78fb4796b37f38@mail.gmail.com>

There is any other option to extract data for further postprocessing from
vtk files? I have a RECTILINEAR_GRID vtk file format.

Thanks
Adrian

I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
>
> here is my question:
>
> When i try to probe a scalar (for example the temperature) to a line and
> export it I always get the scalar and the x direction coordinate. How can i
> get the Y or Z direction coordinate since in my case the probe line is
> perpendicular on X axis?
>
> thanks
>
> Adrian
>



--
########################################

   Diplom. Eng Adrian Magda

   Institut f?r W?rme- und Brennstofftechnik
   Franz-Liszt-Stra?e 35
   38106 Braunschweig, Germany

   Telefon:  +49 -531 391-3031(office)
   Telefax:  +49 -531 391-5932

########################################
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060222/e2ffdbb4/attachment.html
From berk.geveci at gmail.com  Wed Feb 22 10:36:18 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Feb 22 10:36:23 2006
Subject: [Paraview] Newbie question
In-Reply-To: <4BA758D36C10F4C4C5D293FB@harpo.psc.edu>
References: <43FBA0EE.9040808@inl.gov>
	<98BE7E60D7C2F926211ABF40@localhost.localdomain>
	<Pine.LNX.4.58.0602221340280.3179@goldmund.pri>
	<43FC7CE0.6060703@inl.gov> <4BA758D36C10F4C4C5D293FB@harpo.psc.edu>
Message-ID: <a2ab21560602220736o9dd297g1f76c286a0863076@mail.gmail.com>

I can guess what the problem is. When paraview is compiled with mpich
(the version I use is 1.2.5), sometimes you have to run it using the
full path.

ParaView tries to locate the tcl/tk files when it is run. To do this,
it makes a system call to get the location of the executable and
performs a search relative to this location. If paraview is compiled
with mpich, MPI_Init() for some reason screws up how the function to
get the location of the executable works. As a result, paraview
searches starting from the wrong location. There are three ways to fix
this problem: 1. always execute paraview with the full path (creating
an alias works well) 2. always execute paraview with mpirun -np 1
<paraview> 3. cd to where the paraview executable is and start
paraview from there.

This does not happen if paraview is not compiled with mpich.

-Berk

On 2/22/06, Kent Eschenberg <eschenbe@psc.edu> wrote:
> Very interesting. Those variables are not set on my Redhat Fedora Core 4
> system yet Paraview works.
>
> Kent
>
> >> In addition you may have to set your enviroment variables 'TCL_LIBRARY'
> >> and 'TCLLIBPATH'. 'TCL_LIBRARY' should be set to the location of
> >> init.tcl - something like:
> >> TCL_LIBRARY=/usr/local/ParaView/lib/paraview-2.2/TclTk/lib/tcl8.4/
> >>
> > The above appears to have fixed the issue. I set both the environment
> > variables to /usr/share/tcl/tcl8.4 (on this Suse 10.0 box) and at least
> > as much as I had tired previously seems to work.
>
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From tdubuis at scconsultants.com  Wed Feb 22 10:41:35 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Wed Feb 22 10:41:37 2006
Subject: [Paraview] extract probe data
In-Reply-To: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
Message-ID: <43FC862F.3010102@scconsultants.com>

All my data are along the Z axis when I want a cvs file I define line 
with these options :



And the cvs file is Ok

Thierry Dubuis

Adrian Magda wrote:

> I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
>
> here is my question:
>
> When i try to probe a scalar (for example the temperature) to a line 
> and export it I always get the scalar and the x direction coordinate. 
> How can i get the Y or Z direction coordinate since in my case the 
> probe line is perpendicular on X axis?
>
>
> thanks
>
> Adrian
>
>------------------------------------------------------------------------
>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>  
>


-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

From berk.geveci at gmail.com  Wed Feb 22 11:02:47 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Wed Feb 22 11:03:20 2006
Subject: [Paraview] Re: extract probe data
In-Reply-To: <6bb554800602220723o612363dfl7c78fb4796b37f38@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>
	<6bb554800602220723o612363dfl7c78fb4796b37f38@mail.gmail.com>
Message-ID: <a2ab21560602220802u22bf4be5s2584d0ff1c6fdbd4@mail.gmail.com>

Oops. I misunderstood what you asked. Yeah, Utkarsh is right. I want
to change the array calculator so that it supports processing point
coordinates. We'll probably add this in the future. As a quick fix,
writing a vtk filter that copies the point arrays to the point data
would be easy. I can help you if you are willing to get your hands
dirty.

-Berk


On 2/22/06, Adrian Magda <amagda@gmail.com> wrote:
>
>
> There is any other option to extract data for further postprocessing from
> vtk files? I have a RECTILINEAR_GRID vtk file format.
>
> Thanks
> Adrian
>
>
> >
> >
> > I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
> >
> > here is my question:
> >
> > When i try to probe a scalar (for example the temperature) to a line and
> export it I always get the scalar and the x direction coordinate. How can i
> get the Y or Z direction coordinate since in my case the probe line is
> perpendicular on X axis?
> >
> >
> > thanks
> >
> > Adrian
>
>
>
> --
> ########################################
>
>
>    Diplom. Eng Adrian Magda
>
>
>    Institut f?r W?rme- und Brennstofftechnik
>    Franz-Liszt-Stra?e 35
>    38106 Braunschweig, Germany
>
>
>    Telefon:  +49 -531 391-3031(office)
>    Telefax:  +49 -531 391-5932
>
>
> ########################################
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
From dave.demarle at kitware.com  Wed Feb 22 12:40:37 2006
From: dave.demarle at kitware.com (David E DeMarle)
Date: Wed Feb 22 12:40:42 2006
Subject: [Paraview] Re: extract probe data
In-Reply-To: <a2ab21560602220802u22bf4be5s2584d0ff1c6fdbd4@mail.gmail.com>
References: <6bb554800602220504y673d1e7ah240cb730a871a69@mail.gmail.com>	<6bb554800602220723o612363dfl7c78fb4796b37f38@mail.gmail.com>
	<a2ab21560602220802u22bf4be5s2584d0ff1c6fdbd4@mail.gmail.com>
Message-ID: <43FCA215.9090801@kitware.com>

In the probe filter's csv output, the X/T coordinate is the distance 
along the sampling line. This is not the same thing as the X dimension 
in the visualization unless the line happens to starts at X=0 and is 
parrallel to the X axis. You likely just need to remember that X/T means 
Y or Z in your case, dependending on how you've oriented the probe line.

----

Berk and Utkarsh are correct, we should add something that copies 
geometry to attribute data in ParaView to make the probe's output more 
explicit.

----

If you analyze the exact X, Y and Z values along with your attribute 
data immediately you can try something completely different:

1) use two orthogonal cut planes to define your cut line
2) save data into a legacy vtk file
3) run the following vtk script to convert to ascii to make life easier

vtkDataSetReader r
r SetFileName "binary.vtk"
vtkDataSetWriter w
w SetFileName "ascii.vtk"
w SetInput [r GetOutput]
w Write
exit

4) match up the Points with the Scalars in your favorite editor, 
spreadsheet or scripting language.

cheers,
Dave DeMarle


>
>On 2/22/06, Adrian Magda <amagda@gmail.com> wrote:
>  
>
>>There is any other option to extract data for further postprocessing from
>>vtk files? I have a RECTILINEAR_GRID vtk file format.
>>
>>Thanks
>>Adrian
>>
>>
>>    
>>
>>>I running Paraview 2.4.2 on Ubuntu Linux, p4 machine .
>>>
>>>here is my question:
>>>
>>>When i try to probe a scalar (for example the temperature) to a line and
>>>      
>>>
>>export it I always get the scalar and the x direction coordinate. How can i
>>get the Y or Z direction coordinate since in my case the probe line is
>>perpendicular on X axis?
>>    
>>
>>>thanks
>>>
>>>Adrian
>>>      
>>>
>>
>>--
>>########################################
>>
>>
>>   Diplom. Eng Adrian Magda
>>
>>
>>   Institut f?r W?rme- und Brennstofftechnik
>>   Franz-Liszt-Stra?e 35
>>   38106 Braunschweig, Germany
>>
>>
>>   Telefon:  +49 -531 391-3031(office)
>>   Telefax:  +49 -531 391-5932
>>
>>
>>########################################
>>_______________________________________________
>>ParaView mailing list
>>ParaView@paraview.org
>>http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>    
>>
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview
>
>  
>

From rcook at llnl.gov  Wed Feb 22 15:01:33 2006
From: rcook at llnl.gov (Rich Cook)
Date: Wed Feb 22 15:01:15 2006
Subject: [Paraview] (repeat post) error in paraview help please!
In-Reply-To: <Pine.LNX.4.58.0602221242060.2168@goldmund.pri>
References: <814B8A69-D50A-49A8-9CC5-BD928CBB40ED@llnl.gov>
	<Pine.LNX.4.58.0602221242060.2168@goldmund.pri>
Message-ID: <9E835F53-27A6-4FB5-9C62-BF956A00834B@llnl.gov>

Hi, thanks,
Honestly, I don't know.  How would I be able to determine this?

On Feb 21, 2006, at 9:22 PM, Peter F Bradshaw wrote:

> Hi;
>
> Are you compiling ParaView against the Tcl/Tk supplied with the  
> package
> or another Tcl/Tk installed on the machine?
>
> On Tue, 21 Feb 2006, Rich Cook wrote:
>
>> Hi, I get lots of errors when running paraview on AIX.  I had to do
>> some things to get it to compile, which I mentioned in an earlier
>> email.  Can anyone help me get this thing to work?  Am I on the right
>> list?  Is there a way to get technical support from Kitware?  Thanks.
>>
>> rcook@up041 (rcook): /usr/global/tools/Kitware/Paraview/2.4.2/
>> aix_5_64_fed/bin/paraview
>> ErrorMessage
>> # Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/
>> 2.4.2/src/aix_5_64_fed/paraview-2.4
>> .2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
>> vtkPVApplication (110185790):
>>      Script:
>> vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 -
>> rw Addr=110468df0
>>      Returned Error on line 1:
>> NULL main window
>>
>>
>>
>> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
>> paraview-2.4.2/GUI/Widgets/vtkKW
>> TkUtilities.cxx, line 217
>> vtkPVApplication (110185790):
>>      Script:
>> pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes -
>> fill both -side top -anchor nw
>>      Returned Error on line 1:
>> bad window path name ".paraview. 
>> 24.33.36.37.40.161.163.165.168.169.174"
>>
>>
>>
>> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
>> paraview-2.4.2/GUI/Widgets/vtkKW
>> TkUtilities.cxx, line 217
>> vtkPVApplication (110185790):
>>      Script:
>> focus .paraview.24.33.36.37.40.161.163.165.168.169.174
>>      Returned Error on line 1:
>> bad window path name ".paraview. 
>> 24.33.36.37.40.161.163.165.168.169.174"
>>
>>
>>
>> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
>> paraview-2.4.2/GUI/Widgets/vtkKW
>> TkUtilities.cxx, line 217
>> vtkPVApplication (110185790):
>>      Script:
>> bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose>
>> {vtkTemp76 Exposed}
>>      Returned Error on line 1:
>> bad window path name ".paraview. 
>> 24.33.36.37.40.161.163.165.168.169.174"
>>
>>
>>
>>
>
> Cheers
>
> -- 
> Peter F Bradshaw, http://www.exadios.com, ICQ 75431157 (exadios).
> Public key at www.exadios.com/pfb.pgp.key and www.exadios.com/ 
> pfb.gpg.key
> "I love truth, and the way the government still uses it  
> occasionally to
>  keep us guessing." - Sam Kekovich.
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview

-- 
"There's no time to stop for gas, we're already late"-- Karin Donker
--
Rich "wealthychef" Cook
<http://www.pleasantonplayhouse.com/byebyebirdie/>
925-784-3077
--



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060222/8ad79ef3/attachment.htm
From amy.squillacote at kitware.com  Wed Feb 22 15:05:07 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Wed Feb 22 15:05:33 2006
Subject: [Paraview] Is There An Error In vtkSocketCommunicator (2.4.2)?
In-Reply-To: <375E33851E8AB822DD3015B9@harpo.psc.edu>
References: <DC51E52DA878F3AAE3E1F7D3@harpo.psc.edu>
	<6.2.3.4.2.20060221113928.0a511110@pop.nycap.rr.com>
	<43FB44DE.8010808@elemtech.com>
	<375E33851E8AB822DD3015B9@harpo.psc.edu>
Message-ID: <6.2.5.6.2.20060222150245.05ec3c40@kitware.com>

Earlier this afternoon I committed a fix for this problem to the CVS 
branch for ParaView 2.4.  It will be in the next patch release of 
ParaView 2.4.  If you want to get the fix for this now, check out 
ParaView with the tag ParaView-2-4.

- Amy

At 03:06 PM 2/21/2006, Kent Eschenberg wrote:
>Clint, that sounds like a bug in CMake or one of its files. Does 
>this call for a bug submission?
>
>Bill asked about a place in CMakeOutput.log and CMakeError.log. The 
>latter doesn't exist, and the former contains neither "socklen_t" 
>nor "VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T". These files are those 
>left after 2 cycles of cmake/make. Given Clint's observation, is 
>there a need to re-create the state of the first cycle?
>
>Thanks for your help!
>Kent
>
>--On Tuesday, February 21, 2006 09:50:38 AM -0700 Clinton Stimpson 
><clinton@elemtech.com> wrote:
>
>>
>>I think it is because the vtkConfigure.h is written out before CMake has
>>a chance to go in the Parallel directory to find out whether to use
>>socklen_t or int.  A second run of cmake updates the vtkConfigure.h file
>>with the right stuff, whereas the CMakeCache.txt file doesn't change at
>>all.
>>
>>Clint
>>
>>William A. Hoffman wrote:
>>
>>>This means a trycompile was bad.  Can you look at CMakeOutput.log
>>>and CMakeError.log and find the place where socken_t was incorrectly
>>>determined.
>>>
>>>-Bill
>>>
>>>
>>>At 03:08 PM 2/17/2006, Kent Eschenberg wrote:
>>>
>>>
>>>>I can't tell whether this is a bug or another dumb thing I've done.
>>>>Compiling a fresh download of 2.4.2 on a Fedora Core 4 system (cmake
>>>>2.2-patch 2, gcc 4.0.2) with no changes yields the following error:
>>>>
>>>>======
>>>>.../VTK/Parallel/vtkSocketCommunicator.cxx:
>>>>In member function
>>>>virtual int vtkSocketCommunicator::GetPort(int):
>>>>error: invalid conversion from int* to socklen_t*
>>>>======
>>>>
>>>>At the top of this routine are the lines
>>>>
>>>>======
>>>># if defined(VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T)
>>>>socklen_t sizebuf = sizeof(sockinfo);
>>>># else
>>>>int sizebuf = sizeof(sockinfo);
>>>># endif
>>>>======
>>>>
>>>>and the only line in CMakeCache.txt that includes the flag is
>>>>
>>>>======
>>>>VTK_HAVE_GETSOCKNAME_WITH_SOCKLEN_T:INTERNAL=1
>>>>======
>>>>
>>>>So, "&sizebuf" is an "int*" and gcc doesn't know how to convert it to
>>>>"socklen_t*".
>>>>
>>>>On a hunch I tried merely re-running cmake then make. None of the files
>>>>from the first cycle were changed. This worked without problems.
>>>>
>>>>What do you think is wrong?
>>>>
>>>>Thanks!
>>>>Kent
>>>>Pittsburgh Supercomputing Center
>_______________________________________________
>ParaView mailing list
>ParaView@paraview.org
>http://www.paraview.org/mailman/listinfo/paraview

From tdubuis at scconsultants.com  Thu Feb 23 02:45:19 2006
From: tdubuis at scconsultants.com (Thierry Dubuis)
Date: Thu Feb 23 02:45:18 2006
Subject: [Paraview] 2 bugs in the ParaView session states
Message-ID: <43FD680F.9020204@scconsultants.com>

Hi,

In february, I tested the Sessions functionnalities.

I found 2 bugs in Paraview 2.4.2 :

1. You can't save 2 pvs from the same work session in Paraview. ( The 
second can't be read because the informations arn't all write)
   To made 2 pvs you must quit Paraview between the 2 saves.

2. In the case of a set of files (1 by time step for example).
   You only be able to load a pvs build from the first time step the pvs 
from other time steps have the same result equal to the first time step.

Best regards,

-- 
Thierry Dubuis
--------------------------------
Sciences & Computers Consultants
Tel : 04 77 49 75 84
Std : 04 77 49 75 80
Fax : 04 77 33 68 04

From f.braennstroem at gmx.de  Thu Feb 23 09:09:21 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Thu Feb 23 09:10:33 2006
Subject: [Paraview] save data with batch script
Message-ID: <20060223140921.GG12792@ddorf.de>

Hi,

is it possible to convert ensight data files to a paraview
format using 'save data' in a batch script? It does not seem
to be implemented.

Greetings!
Fabian

From rnelias at nacad.ufrj.br  Thu Feb 23 09:46:21 2006
From: rnelias at nacad.ufrj.br (Renato N. Elias)
Date: Thu Feb 23 09:46:34 2006
Subject: RES: [Paraview] save data with batch script
In-Reply-To: <20060223140921.GG12792@ddorf.de>
Message-ID: <20060223144630.58F7F72580@mailhost.nacad.ufrj.br>


I don't know about PV, but you can do it easily with a VTK/TCL script. I'll
send you a script to do it (after I find it in my mess ;-) )

Regards

Renato N. Elias
===============================================
PhD student - http://www.nacad.ufrj.br/~rnelias
High Performance Computing Center
Federal University of Rio de Janeiro
Rio de Janeiro, Brazil
+55(21) 2562-8080 


-----Mensagem original-----
De: paraview-bounces+rnelias=nacad.ufrj.br@paraview.org
[mailto:paraview-bounces+rnelias=nacad.ufrj.br@paraview.org] Em nome de
Fabian Braennstroem
Enviada em: quinta-feira, 23 de fevereiro de 2006 11:09
Para: Paraview List
Assunto: [Paraview] save data with batch script

Hi,

is it possible to convert ensight data files to a paraview format using
'save data' in a batch script? It does not seem to be implemented.

Greetings!
Fabian

_______________________________________________
ParaView mailing list
ParaView@paraview.org
http://www.paraview.org/mailman/listinfo/paraview


From f.braennstroem at gmx.de  Thu Feb 23 09:50:55 2006
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Thu Feb 23 09:52:13 2006
Subject: [Paraview] Re: RES: save data with batch script
In-Reply-To: <20060223144630.58F7F72580@mailhost.nacad.ufrj.br>
References: <20060223140921.GG12792@ddorf.de>
	<20060223144630.58F7F72580@mailhost.nacad.ufrj.br>
Message-ID: <20060223145055.GH12792@ddorf.de>

Hi Renato,

* On 23 Feb 2006 * Renato N. Elias wrote:

> 
> I don't know about PV, but you can do it easily with a VTK/TCL script. I'll
> send you a script to do it (after I find it in my mess ;-) )

Thanks!
 
 
 Greetings!
 Fabian
 
From lvasa at kiv.zcu.cz  Thu Feb 23 12:14:52 2006
From: lvasa at kiv.zcu.cz (Libor Vasa)
Date: Thu Feb 23 12:14:57 2006
Subject: [Paraview] How to Probe something else than vtkMultiBlockDataSet,
Message-ID: <20060223181452.lzk25qasvu8ow00o@webmail.zcu.cz>

Hi!

I'm trying to use the Probe filter to probe a dataset, but I get no result. The
error log says that the expected dataset is of the vtkHierarchicalDataSet type,
while the vtkMultiBlockDataSet is expected, but I don't know what to do about
it.
Even the simple example with Probe fails if I insert a calculator, that changes
the data type from vtkMultiBlockDataSet to vtkMultiGroupDataSet. What am I
doing wrong?

Thanks for any help

Libor Vasa

From berk.geveci at gmail.com  Thu Feb 23 12:47:42 2006
From: berk.geveci at gmail.com (Berk Geveci)
Date: Thu Feb 23 12:48:09 2006
Subject: [Paraview] How to Probe something else than vtkMultiBlockDataSet, 
In-Reply-To: <20060223181452.lzk25qasvu8ow00o@webmail.zcu.cz>
References: <20060223181452.lzk25qasvu8ow00o@webmail.zcu.cz>
Message-ID: <a2ab21560602230947i4dd1ddcax73460e522745cd11@mail.gmail.com>

Which fileformat are you using?

On 2/23/06, Libor Vasa <lvasa@kiv.zcu.cz> wrote:
> Hi!
>
> I'm trying to use the Probe filter to probe a dataset, but I get no result. The
> error log says that the expected dataset is of the vtkHierarchicalDataSet type,
> while the vtkMultiBlockDataSet is expected, but I don't know what to do about
> it.
> Even the simple example with Probe fails if I insert a calculator, that changes
> the data type from vtkMultiBlockDataSet to vtkMultiGroupDataSet. What am I
> doing wrong?
>
> Thanks for any help
>
> Libor Vasa
>
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
>
From tfogal at apollo.sr.unh.edu  Fri Feb 24 12:04:51 2006
From: tfogal at apollo.sr.unh.edu (tom fogal)
Date: Fri Feb 24 12:04:56 2006
Subject: [Paraview] Debugging ParaView while trying to add a reader
Message-ID: <200602241704.k1OH4pqu026681@apollo.sr.unh.edu>

Hi all, I'm trying to add a reader to ParaView that we already have
working in VTK.  I've modified the PVLocal example and gotten a library
to be built, as far as I can tell correctly, but am still having
trouble getting things to work.

ParaView imports my package correctly, and gives me the option for the
correct file type, but I have little luck after that.  It seems the
file type is not completely associated with my reader, because ParaView
asks which reader I would like to use when opening a file of that type.
Fortunately my reader is present in the list ParaView presents.

Unfortunately things still don't work.  ParaView gets a segmentation
fault very quickly after I set the reader.  The GUI does seem to get
drawn before the fault occurs.

The most difficult part is that I can't seem to debug this.  When I ran
it through GDB, I had no debugging symbols, despite explicitly
compiling in `Debug' mode.  After a bit of searching, I found that
paraview is execvp()-ing another program, `paraview-real', which is why
I'm not getting the expected Debug symbols.

However despite my cloning the arguments to
`kwsys_shared_forward_execv', I can't seem to run `paraview-real'
directly -- it just gives me a usage summary and bails out.

How is one supposed to debug (a completely local) ParaView?
Alternatively, maybe someone can guess what I've done wrong with my
external package, but I suspect I don't have enough information to give
much help there.

I'm using ParaView 2.4.2 and GDB 6.4 on an opteron-based Linux
workstation.

Thanks,

-tom
From eschenbe at psc.edu  Fri Feb 24 13:34:11 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Fri Feb 24 13:34:16 2006
Subject: [Paraview] Debugging ParaView while trying to add a reader
In-Reply-To: <200602241704.k1OH4pqu026681@apollo.sr.unh.edu>
References: <200602241704.k1OH4pqu026681@apollo.sr.unh.edu>
Message-ID: <58DD1C47ADB9856B4F5CEBDE@harpo.psc.edu>

Tom,

I've attached 2 xml files that I use to add a reader (edited slightly). 
Maybe you'll see something that suggests a fix to your problem.

CMake seems to ignore the debug option when entered as "Debug" even though 
that is how it is shown in that item's help.  Using "DEBUG" seems to work

Kent
Pittsburgh Supercomputing Center

--On Friday, February 24, 2006 12:04:51 PM -0500 tom fogal 
<tfogal@apollo.sr.unh.edu> wrote:

> Hi all, I'm trying to add a reader to ParaView that we already have
> working in VTK.  I've modified the PVLocal example and gotten a library
> to be built, as far as I can tell correctly, but am still having
> trouble getting things to work.
>
> ParaView imports my package correctly, and gives me the option for the
> correct file type, but I have little luck after that.  It seems the
> file type is not completely associated with my reader, because ParaView
> asks which reader I would like to use when opening a file of that type.
> Fortunately my reader is present in the list ParaView presents.
>
> Unfortunately things still don't work.  ParaView gets a segmentation
> fault very quickly after I set the reader.  The GUI does seem to get
> drawn before the fault occurs.
>
> The most difficult part is that I can't seem to debug this.  When I ran
> it through GDB, I had no debugging symbols, despite explicitly
> compiling in `Debug' mode.  After a bit of searching, I found that
> paraview is execvp()-ing another program, `paraview-real', which is why
> I'm not getting the expected Debug symbols.
>
> However despite my cloning the arguments to
> `kwsys_shared_forward_execv', I can't seem to run `paraview-real'
> directly -- it just gives me a usage summary and bails out.
>
> How is one supposed to debug (a completely local) ParaView?
> Alternatively, maybe someone can guess what I've done wrong with my
> external package, but I suspect I don't have enough information to give
> much help there.
>
> I'm using ParaView 2.4.2 and GDB 6.4 on an opteron-based Linux
> workstation.
>
> Thanks,
>
> -tom
-------------- next part --------------
A non-text attachment was scrubbed...
Name: myreader_gui.xml
Type: text/xml
Size: 870 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060224/c920b3a1/myreader_gui.bin
-------------- next part --------------
A non-text attachment was scrubbed...
Name: myreader_sm.xml
Type: text/xml
Size: 1898 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060224/c920b3a1/myreader_sm.bin
From eschenbe at psc.edu  Fri Feb 24 14:07:12 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Fri Feb 24 14:07:17 2006
Subject: [Paraview] Adding Compile Flags
Message-ID: <59D6D95ED4C5E59E941F4EAE@harpo.psc.edu>

How can I add a compile flag without changing the files distributed with 
ParaView?

The flag would be something like "-DMY_FLAG". Using "ADD_DEFINITIONS" in 
the appropriate CMakeLists.txt file in the source tree works. But, I have 
to do this again for every new release.

I would like to add it via a cache initialization file but including the 
command "ADD_DEFINITIONS" there does nothing. Is there another command that 
does the trick?

Thanks in advance!

Kent
Pittsburgh Supercomputing Center

From vik.list.vtk at gmail.com  Sat Feb 25 02:30:04 2006
From: vik.list.vtk at gmail.com (Viksit Gaur)
Date: Sat Feb 25 02:30:33 2006
Subject: [Paraview] Ensight measured/particle file format and paraview
In-Reply-To: <43E6F66B.5030205@hmg.inpg.fr>
References: <43E6F66B.5030205@hmg.inpg.fr>
Message-ID: <4400077C.5060300@gmail.com>

Hi again all,

I recently got back to tackle my original problem of simulating a 
particle system using paraview. I was just going through some old emails 
which I'd talked to Renato and Samuel in.. and read through a lot of the 
documentation too.

I've since come to the conclusion that the VTK XML files are of not too 
much to use to me, since I expect to have upwards of 100,000 particles 
in the system. I then looked at the Fortran routines available at 
Renato's webpage, as well as the documentation available on the gold 
file format.

The Ensight Gold measured/particle file format featured in section 11.1 
of the manual seems to be exactly what i need...


A description line
particle coordinates
#_of_Particles
id xcoord ycoord zcoord
id xcoord ycoord zcoord
.
.
.

Well, has anyone worked with this before? Have you been successful in 
reading these files into paraview? (I haven't, hence the question). 
Also, are these files binary, or ASCII?

I also remember Sam Key talking about cells, and other structures used 
to simulate and represent data in 3D. Are those necessary if this format 
already exists?

[My intention, is to have a number of time steps for a particle system 
with say n particles, and over each step, the X, Y and Z coordinates of 
the particles change. This when run as an animation, with some suitable 
glyphs should (hopefully) do what I expect it to.. simulate the movement 
of the system.]

Thanks!
Viksit


-- 
Viksit Gaur
Deptt. of Computer Science
Yale University

me at viksit dot com
http://viksit.com

From paul at visbox.com  Sat Feb 25 22:45:16 2006
From: paul at visbox.com (Paul Rajlich)
Date: Sat Feb 25 22:45:21 2006
Subject: [Paraview] ParaView + SetEyeAngle()?
Message-ID: <20060226034519.C2E4533620@public.kitware.com>


Hi ParaView people,

When using ParaView with stereo, is there a way to manually set the eye
separation? I didn't see anything in the gui. In the tcl interactor window I
have an instance of vtkPVRenderView (e.g. $kw(vtkTempNN)) but calling
"ListMethods" does not show the "GetRenderer" method. I was hoping to get a
handle to the active camera through the renderer.

Occasionally I want to move closer to a visualization to see detail and the
eye separation is too much. A good example of this is the closeup flythrough
of the blunt fin visualization in the ParaView demo. With stereo on it is
unwatchable.

Thanks!
-Paul Rajlich
 Visbox, Inc.
 www.visbox.com
 paul@visbox.com 


From mail at christoph-moder.de  Sun Feb 26 17:58:03 2006
From: mail at christoph-moder.de (Christoph Moder)
Date: Sun Feb 26 17:55:33 2006
Subject: [Paraview] ParaView + SetEyeAngle()?
In-Reply-To: <20060226034519.C2E4533620@public.kitware.com>
References: <20060226034519.C2E4533620@public.kitware.com>
Message-ID: <4402327B.1050505@christoph-moder.de>

Hi Paul!

> When using ParaView with stereo, is there a way to manually set the eye
> separation? I didn't see anything in the gui.

I am also interested in setting the eye angle manually. Currently, I 
have only managed to change the angle in the source code, but it would 
be nice if it could be done dynamically.

http://www.geophysik.uni-muenchen.de/~moder/Geowall/Paraview_on_the_Geowall.php#eye_angle

Christoph
From jfavre at cscs.ch  Mon Feb 27 03:24:52 2006
From: jfavre at cscs.ch (Jean M. Favre)
Date: Mon Feb 27 03:25:06 2006
Subject: [Paraview] Ensight measured/particle file format and paraview
In-Reply-To: <4400077C.5060300@gmail.com>
References: <43E6F66B.5030205@hmg.inpg.fr> <4400077C.5060300@gmail.com>
Message-ID: <4402B754.7080805@cscs.ch>

Viksit Gaur wrote:
> Hi again all,
> 
> I recently got back to tackle my original problem of simulating a
> particle system using paraview.

I can suggest another file format. It is used by an international
community, is based on HDF5, has a FORTRAN and C API, supports parallel
IO, and we have a ParaView reader for it.

the format is documented here:

http://people.web.psi.ch/adelmann/H5Part/doc/h5part.html

if you are interested in the reader, drop me a mail. The reader is a
very first implementation, so there's lots of room for improvement.

A pre-compiled application to view EnSight and H5part particle files is
also available from our web site:

http://www.cscs.ch/a-display.php?id=170

-- 
Dr. Jean M. Favre,                            email:favre @ cscs.ch
http://www.cscs.ch/about/Favre.php
CSCS, Swiss National Supercomputing Centre  | Tel:  +41 (91) 610.82.40
Via Cantonale, 6928 Manno, Switzerland      | Fax:  +41 (91) 610.82.82
From amy.squillacote at kitware.com  Mon Feb 27 08:52:13 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Mon Feb 27 08:52:30 2006
Subject: [Paraview] The ParaView Guide (updated for version 2.4)
In-Reply-To: <6.2.0.14.2.20041203145026.03e0eda8@pop.biz.rr.com>
References: <6.2.0.14.2.20041203145026.03e0eda8@pop.biz.rr.com>
Message-ID: <6.2.5.6.2.20060227084945.03684610@kitware.com>

Hi All,

Kitware has recently published an updated version of "The ParaView 
Guide".  Like the previous version, it details the use and 
development of ParaView, a parallel visualization application capable 
of handling very large data sets.  The book coincides with version 
2.4 of the software.  The book is available for purchase from 
Kitware's on-line store: go to www.kitware.com, and select "ParaView 
Guide" from the Products/Services menu.  The price of the book is 
$76, which includes shipping within the US.

Sincerely,
Amy Squillacote
Kitware, Inc.

From bnwylie at sandia.gov  Mon Feb 27 10:47:17 2006
From: bnwylie at sandia.gov (Wylie, Brian)
Date: Mon Feb 27 10:47:28 2006
Subject: [Paraview] ParaView + SetEyeAngle()?
Message-ID: <E4C1C0FFED3E6B49AC2C1DA9723BE11E01CC729B@ES20SNLNT.srn.sandia.gov>

This is like the forth time I've seen someone complain about the eye
angle in ParaView. We have also found the eyeangle to be 'extreme' when
zooming into an object. So extreme as to be unusable... 

  Brian Wylie - Org 9227
  Sandia National Laboratories
  MS 0822 - Building 880/A1-J
  (505)844-2238 FAX(505)845-0833                       
       ____                  _    __
      / __ \____  _________ | |  / (_)__ _      __ 
     / /_/ / __ `/ ___/ __ `/ | / / / _ \ | /| / /
    / ____/ /_/ / /  / /_/ /| |/ / /  __/ |/ |/ /
   /_/    \__,_/_/   \__,_/ |___/_/\___/|__/|__/

                                    Unleash the Beast
 

> -----Original Message-----
> From: paraview-bounces+bnwylie=sandia.gov@paraview.org 
> [mailto:paraview-bounces+bnwylie=sandia.gov@paraview.org] On 
> Behalf Of Paul Rajlich
> Sent: Saturday, February 25, 2006 8:45 PM
> To: paraview@paraview.org
> Subject: [Paraview] ParaView + SetEyeAngle()?
> 
> 
> Hi ParaView people,
> 
> When using ParaView with stereo, is there a way to manually 
> set the eye separation? I didn't see anything in the gui. In 
> the tcl interactor window I have an instance of 
> vtkPVRenderView (e.g. $kw(vtkTempNN)) but calling 
> "ListMethods" does not show the "GetRenderer" method. I was 
> hoping to get a handle to the active camera through the renderer.
> 
> Occasionally I want to move closer to a visualization to see 
> detail and the eye separation is too much. A good example of 
> this is the closeup flythrough of the blunt fin visualization 
> in the ParaView demo. With stereo on it is unwatchable.
> 
> Thanks!
> -Paul Rajlich
>  Visbox, Inc.
>  www.visbox.com
>  paul@visbox.com 
> 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 

From Stephane.Montesino at hmg.inpg.fr  Mon Feb 27 11:29:00 2006
From: Stephane.Montesino at hmg.inpg.fr (=?ISO-8859-1?Q?St=E9phane_Mont=E9sino?=)
Date: Mon Feb 27 11:28:58 2006
Subject: [Paraview] Stereo visualization with paraview
Message-ID: <440328CC.2030004@hmg.inpg.fr>

How do you switch on the stereo mode ?

-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 308 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060227/34767968/Stephane.Montesino.vcf
From amy.squillacote at kitware.com  Mon Feb 27 13:45:19 2006
From: amy.squillacote at kitware.com (Amy Squillacote)
Date: Mon Feb 27 13:45:41 2006
Subject: [Paraview] Re: The New ParaView Guide (updated for version 2.4)
In-Reply-To: <4403432D.2090909@jahangir.ca>
References: <4403432D.2090909@jahangir.ca>
Message-ID: <6.2.5.6.2.20060227133435.03685040@kitware.com>

At 01:21 PM 2/27/2006, Arash Jahangir wrote:
>Hi Amy,
>
>How is this new book different than the old one?  I am trying to 
>decide if it is worth buying, given that I already have the previous edition.
>
>On a related note, when will there be updated VTK books that take 
>into account VTK-5?
>
>thanks,
>Arash

Hi Arash,

The entire book has been updated for the 2.4 version of 
ParaView.  (ParaView 1.8 was released in December 2004; ParaView 2.4 
was first released in November 2005.)  Several chapters have been 
mostly rewritten (instead of just revised) because of changes in the 
use of ParaView or in the underlying architecture.  These include the 
following.

Animation
Introduction to Parallel Computing and Visualization
Parallel ParaView
Writing ParaView Readers
Render Modules

As for the VTK books, they are currently being updated for VTK 5.0.

- Amy 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://public.kitware.com/pipermail/paraview/attachments/20060227/74ca29ab/attachment.htm
From kevin.hobbs.1 at ohiou.edu  Mon Feb 27 16:09:26 2006
From: kevin.hobbs.1 at ohiou.edu (Kevin H. Hobbs)
Date: Mon Feb 27 16:10:32 2006
Subject: [Paraview] Stereo visualization with paraview
In-Reply-To: <440328CC.2030004@hmg.inpg.fr>
References: <440328CC.2030004@hmg.inpg.fr>
Message-ID: <1141074566.26366.2.camel@gargon.hooperlab>

On Mon, 2006-02-27 at 17:29 +0100, St?phane Mont?sino wrote:
> How do you switch on the stereo mode ?

At least on linux typing 
paraview --stereo runs in stereo on a single process. "--help" will
print a list of such goodies.  
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: This is a digitally signed message part
Url : http://public.kitware.com/pipermail/paraview/attachments/20060227/b13a764c/attachment.pgp
From pfb at exadios.com  Tue Feb 28 03:24:07 2006
From: pfb at exadios.com (Peter F Bradshaw)
Date: Tue Feb 28 03:24:24 2006
Subject: [Paraview] (repeat post) error in paraview help please!
In-Reply-To: <9E835F53-27A6-4FB5-9C62-BF956A00834B@llnl.gov>
References: <814B8A69-D50A-49A8-9CC5-BD928CBB40ED@llnl.gov>
	<Pine.LNX.4.58.0602221242060.2168@goldmund.pri>
	<9E835F53-27A6-4FB5-9C62-BF956A00834B@llnl.gov>
Message-ID: <Pine.LNX.4.58.0602281556430.21685@goldmund.pri>

Hi;

The Tcl and Tk libs used are controled by CMakeCache.txt var.
TCL_LIBRARY and TK_LIBRARY along with TCL_INCLUDE_PATH and
TK_INCLUDE_PATH etc. These should point to the libs built from the
sources distributed with the ParaView source. I'm guessing that if
you do not know how to change the Tcl / Tk libs then you have not
changed them and that you are using the correct ones.

It seems that vtkTkRenderWidget is not working for you. Could you write
a small test program which will try and create a vtkTkRenderWidget?
(See $PARAVIEW_BASE/GUI/Client/vtkPVRenderView.cxx for an example
of how to do this).

On Wed, 22 Feb 2006, Rich Cook wrote:

> Hi, thanks,
> Honestly, I don't know.  How would I be able to determine this?
>
> On Feb 21, 2006, at 9:22 PM, Peter F Bradshaw wrote:
>
> > Hi;
> >
> > Are you compiling ParaView against the Tcl/Tk supplied with the
> > package
> > or another Tcl/Tk installed on the machine?
> >
> > On Tue, 21 Feb 2006, Rich Cook wrote:
> >
> >> Hi, I get lots of errors when running paraview on AIX.  I had to do
> >> some things to get it to compile, which I mentioned in an earlier
> >> email.  Can anyone help me get this thing to work?  Am I on the right
> >> list?  Is there a way to get technical support from Kitware?  Thanks.
> >>
> >> rcook@up041 (rcook): /usr/global/tools/Kitware/Paraview/2.4.2/
> >> aix_5_64_fed/bin/paraview
> >> ErrorMessage
> >> # Error or warning: ERROR: In /usr/global/tools/Kitware/Paraview/
> >> 2.4.2/src/aix_5_64_fed/paraview-2.4
> >> .2/GUI/Widgets/vtkKWTkUtilities.cxx, line 217
> >> vtkPVApplication (110185790):
> >>      Script:
> >> vtkTkRenderWidget .paraview.24.33.36.37.40.161.163.165.168.169.174 -
> >> rw Addr=110468df0
> >>      Returned Error on line 1:
> >> NULL main window
> >>
> >>
> >>
> >> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> >> paraview-2.4.2/GUI/Widgets/vtkKW
> >> TkUtilities.cxx, line 217
> >> vtkPVApplication (110185790):
> >>      Script:
> >> pack .paraview.24.33.36.37.40.161.163.165.168.169.174 -expand yes -
> >> fill both -side top -anchor nw
> >>      Returned Error on line 1:
> >> bad window path name ".paraview.
> >> 24.33.36.37.40.161.163.165.168.169.174"
> >>
> >>
> >>
> >> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> >> paraview-2.4.2/GUI/Widgets/vtkKW
> >> TkUtilities.cxx, line 217
> >> vtkPVApplication (110185790):
> >>      Script:
> >> focus .paraview.24.33.36.37.40.161.163.165.168.169.174
> >>      Returned Error on line 1:
> >> bad window path name ".paraview.
> >> 24.33.36.37.40.161.163.165.168.169.174"
> >>
> >>
> >>
> >> ERROR: In /usr/global/tools/Kitware/Paraview/2.4.2/src/aix_5_64_fed/
> >> paraview-2.4.2/GUI/Widgets/vtkKW
> >> TkUtilities.cxx, line 217
> >> vtkPVApplication (110185790):
> >>      Script:
> >> bind .paraview.24.33.36.37.40.161.163.165.168.169.174 <Expose>
> >> {vtkTemp76 Exposed}
> >>      Returned Error on line 1:
> >> bad window path name ".paraview.
> >> 24.33.36.37.40.161.163.165.168.169.174"
> >>
> >>
> >>
> >>
> >
> > Cheers
> >

Cheers

-- 
Peter F Bradshaw, http://www.exadios.com, ICQ 75431157 (exadios).
Public key at www.exadios.com/pfb.pgp.key and www.exadios.com/pfb.gpg.key
"I love truth, and the way the government still uses it occasionally to
 keep us guessing." - Sam Kekovich.
From Stephane.Montesino at hmg.inpg.fr  Tue Feb 28 08:58:58 2006
From: Stephane.Montesino at hmg.inpg.fr (=?UTF-8?B?U3TDqXBoYW5lIE1vbnTDqXNpbm8=?=)
Date: Tue Feb 28 08:59:00 2006
Subject: [Paraview] Stereo visualization with paraview
In-Reply-To: <1141074566.26366.2.camel@gargon.hooperlab>
References: <440328CC.2030004@hmg.inpg.fr>
	<1141074566.26366.2.camel@gargon.hooperlab>
Message-ID: <44045722.80303@hmg.inpg.fr>

With Windobe, it doesn't change anything when I write this in the 
command line
C:\Program Files\ParaView 2.4\bin>paraview --stereo

Is the stereo mode available for windows ?

Kevin H. Hobbs wrote:

>On Mon, 2006-02-27 at 17:29 +0100, St?phane Mont?sino wrote:
>  
>
>>How do you switch on the stereo mode ?
>>    
>>
>
>At least on linux typing 
>paraview --stereo runs in stereo on a single process. "--help" will
>print a list of such goodies.  
>  
>


-- 
Stephane MONTESINO

PhD Student                     tel:+33 4 76 82 52 91
LEGI                            fax:+33 4 76 82 70 22
BP 53
38041 Grenoble Cedex            email: stephane.montesino@hmg.inpg.fr
France                          http://www.legi.hmg.inpg.fr 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Stephane.Montesino.vcf
Type: text/x-vcard
Size: 319 bytes
Desc: not available
Url : http://public.kitware.com/pipermail/paraview/attachments/20060228/97c2e51b/Stephane.Montesino.vcf
From jsg3 at psu.edu  Tue Feb 28 09:41:30 2006
From: jsg3 at psu.edu (Jack Gundrum)
Date: Tue Feb 28 09:42:30 2006
Subject: [Paraview] looping demo
Message-ID: <4404611A.7030606@psu.edu>

Hi, 
Is it possible to get the demo to play in a loop without stopping in 
version 2.4?

From kevin.hobbs.1 at ohiou.edu  Tue Feb 28 11:58:36 2006
From: kevin.hobbs.1 at ohiou.edu (Kevin H. Hobbs)
Date: Tue Feb 28 11:59:16 2006
Subject: [Paraview] Stereo visualization with paraview
In-Reply-To: <44045722.80303@hmg.inpg.fr>
References: <440328CC.2030004@hmg.inpg.fr>
	<1141074566.26366.2.camel@gargon.hooperlab>
	<44045722.80303@hmg.inpg.fr>
Message-ID: <1141145916.1840.14.camel@gargon.hooperlab>

On Tue, 2006-02-28 at 14:58 +0100, St?phane Mont?sino wrote:
> With Windobe, it doesn't change anything when I write this in the 
> command line
> C:\Program Files\ParaView 2.4\bin>paraview --stereo
> 

Try paraview /? to get a list of command line options. --help lists it
as a synonym but does not list a synonym for --stereo.

> Is the stereo mode available for windows ?

I don't know.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 191 bytes
Desc: This is a digitally signed message part
Url : http://public.kitware.com/pipermail/paraview/attachments/20060228/517f270a/attachment.pgp
From eschenbe at psc.edu  Tue Feb 28 17:35:41 2006
From: eschenbe at psc.edu (Kent Eschenberg)
Date: Tue Feb 28 17:35:43 2006
Subject: [Paraview] Cannot Read Binary Unstr Legacy VTK with 2.4.2
Message-ID: <0980BBFE202166642D069301@harpo.psc.edu>

ParaView 2.4.2 crashes when it reads a file using the VTK legacy binary 
format for an unstructured grid. In my test case there is one hexahedron 
and no data. A similar file in ASCII works fine. The error:

"There was a VTK Error in file: .../VTK/Common/vtkDataArrayTemplate.txx 
(105)
 vtkDoubleArray (0xd11fff8): Unable to allocate 402653184 elements of size 
8: St9bad_alloc"

I'm working from the document "File Formats for VTK Version 4.2" from the 
Kitware site. ParaView and the C program writing the binary VTK file were 
compiled on my Pentium 4 system using gcc 4.0.2. The system runs Redhat 
Fedora Core 4.

The binary data is written to the file directly from memory, i.e., it is in 
this system's native format. Is that what VTK and ParaView expect?

TIA.

Kent
Pittsburgh Supercomputing Center

From marshbur at cs.unc.edu  Tue Feb 28 17:52:45 2006
From: marshbur at cs.unc.edu (David Marshburn)
Date: Tue Feb 28 17:52:47 2006
Subject: [Paraview] Paraview's pipeline vs. a vtk pipeline, performance
Message-ID: <Pine.LNX.4.58.0602281642290.13249@swan.cs.unc.edu>


For a few datasets (3D image stacks) that I have, Paraview is several 
times faster when generating an isosurface than our application.  I'd like 
to be able to find out what pipeline of vtk classes Paraview constructs, 
or why the performance is so much worse with the pipeline of classes we 
put together.

In Paraview, I load a .vti file of the data (vtkXMLImageDataReader) and 
then add a contour (vtkContourFilter).  These show up in the navigation 
window at the top left in Paraview.  When I change/add an isovalue, the 
following class names appear in the status bar at the bottom:  
ContourFilter, PVGeometryfilter, PainterPolyDataMapper.  

In our application, the pipeline is as follows:
	vtkImageData -> vtkExtractVOI -> vtkImageMarchingCubes
	 -> vtkPolyDataMapper -> vtkActor
(at times, our application has had other classes in the pipeline, 
specifically TriangleFilter, Stripper and PolyDataNormals between 
ImageMarchingCubes and PolyDataMapper, but these don't change the 
performance when removed from the pipeline).

On the same dataset and with the same isovalue, Paraview takes maybe 30 
seconds to generate and display an isosurface and uses a moderate amount 
of memory.  Our application takes over 90 seconds and uses a good bit more 
memory (just by eyeballing task manager on windows).  This is with 
Paraview 2.4, and our app is in vtk 4.4.

Our application does use display lists; if i enable immediate mode 
rendering, it only saves 5-10 seconds, maybe.

Is there any way to ask Paraview, "What's your complete pipeline, from 
data set to actor?"

PVGeometryFilter is a class specific to Paraview, or I would recreate 
much of Paraview's apparent pipeline in our application.  Does anyone have 
any suggestions why our pipeline would perform so much more poorly?  Isn't 
ImageMarchingCubes the algorithm optimized for image data?

thank you for any insight!

-david
From mail at christoph-moder.de  Tue Feb 28 19:04:20 2006
From: mail at christoph-moder.de (Christoph Moder)
Date: Tue Feb 28 19:01:48 2006
Subject: [Paraview] Data size limit?
Message-ID: <4404E504.6060805@christoph-moder.de>

Hello!

I would like to use Paraview with big data files which contain 
unstructured grids with 10 million grid points. But Paraview always 
crashes, with different error messages. Is there any size limit? The 
size of the data file (binary vtk) is only 800 MB, this should not be a 
problem (PC: 2 GB RAM + 4 GM swap space). Also parallel processing does 
not help. Below are some error messages. Any comments?

Thanks,
Christoph

====================

$ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview
p1_27474:  p4_error: alloc_p4_msg: Message size exceeds P4s maximum 
message size: 321213977
rm_l_1_27475: (257.175131) net_send: could not write to fd=5, errno = 32

====================

$ ./paraview
ErrorMessage
# Error or warning: There was a VTK Error in file: 
/home/moder/paraview-3D/paraview-2.4.2-clone2/GUI/Client/vtkPVApplication.cxx 
(1732)
  vtkPVApplication (0xb65d8b8): TclTk error: Point scalarUncaught 
exception: St9bad_alloc
  Point scalarUncaught exception: St9bad_alloc

     while executing
"vtkTemp92 DrawSurface"
     invoked from within
".paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.483.485.487.494.495 
invoke active"
     ("uplevel" body line 1)
     invoked from within
"uplevel #0 [list $w invoke active]"
     (procedure "tk::MenuInvoke" line 47)
     invoked from within
"tk::MenuInvoke 
.paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.483.485.487.494.495 
1"
     (command bound to event)
ErrorMessage end

ErrorMessage
# Error or warning: There was a VTK Error in file: 
/home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Common/vtkDataArrayTemplate.txx 
(241)
  vtkIdTypeArray (0xac862e20): Unable to allocate 146800640 elements of 
size 8: St9bad_alloc
ErrorMessage end
p0_22811:  p4_error: interrupt SIGSEGV: 11

====================

$ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview
Process id: 1 >> ERROR: In 
/home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Rendering/vtkXOpenGLRenderWindow.cxx, 
line 1319
vtkXOpenGLRenderWindow (0xb576c78): bad X server connection.


p1_22329:  p4_error: interrupt SIGSEGV: 11
rm_l_1_22330: (1360.557878) net_send: could not write to fd=5, errno = 32

====================
From kmorel at sandia.gov  Tue Feb 28 19:10:29 2006
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue Feb 28 19:10:39 2006
Subject: [Paraview] Data size limit?
Message-ID: <7137A9E1D1768C44BE7DF11D30FAB32301CDFA1C@ES21SNLNT.srn.sandia.gov>

I'm guessing your crash has nothing to do with ParaView running out of
memory.  When you are running in client/server and you load in a "big"
data set (the threshold for "big" is adjustable, but 10 MB by default),
rendering switches from client to server.  This means that the server
will open up rendering windows, render in parallel, and ship images to
the client.

It looks like your server is unable to connect to the xhost to open a
window (note the "bad X server connection" error) and is subsequently
crashing.  Change the xhost permissions on the nodes in your cluster to
allow your ParaView job to connect to the xhost.

Alternatively, if you do not have rendering hardware on your server and
you are rendering with Mesa anyway, you can turn on OSMesa support so
that the server never has to connect to the xhost.

-Ken

> -----Original Message-----
> From: paraview-bounces+kmorel=sandia.gov@paraview.org 
> [mailto:paraview-bounces+kmorel=sandia.gov@paraview.org] On 
> Behalf Of Christoph Moder
> Sent: Tuesday, February 28, 2006 5:04 PM
> To: ParaView@paraview.org
> Subject: [Paraview] Data size limit?
> 
> Hello!
> 
> I would like to use Paraview with big data files which 
> contain unstructured grids with 10 million grid points. But 
> Paraview always crashes, with different error messages. Is 
> there any size limit? The size of the data file (binary vtk) 
> is only 800 MB, this should not be a problem (PC: 2 GB RAM + 
> 4 GM swap space). Also parallel processing does not help. 
> Below are some error messages. Any comments?
> 
> Thanks,
> Christoph
> 
> ====================
> 
> $ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview
> p1_27474:  p4_error: alloc_p4_msg: Message size exceeds P4s 
> maximum message size: 321213977
> rm_l_1_27475: (257.175131) net_send: could not write to fd=5, 
> errno = 32
> 
> ====================
> 
> $ ./paraview
> ErrorMessage
> # Error or warning: There was a VTK Error in file: 
> /home/moder/paraview-3D/paraview-2.4.2-clone2/GUI/Client/vtkPV
> Application.cxx
> (1732)
>   vtkPVApplication (0xb65d8b8): TclTk error: Point scalarUncaught
> exception: St9bad_alloc
>   Point scalarUncaught exception: St9bad_alloc
> 
>      while executing
> "vtkTemp92 DrawSurface"
>      invoked from within
> ".paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.
> 483.485.487.494.495
> invoke active"
>      ("uplevel" body line 1)
>      invoked from within
> "uplevel #0 [list $w invoke active]"
>      (procedure "tk::MenuInvoke" line 47)
>      invoked from within
> "tk::MenuInvoke
> .paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.4
> 83.485.487.494.495
> 1"
>      (command bound to event)
> ErrorMessage end
> 
> ErrorMessage
> # Error or warning: There was a VTK Error in file: 
> /home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Common/vtkDa
> taArrayTemplate.txx
> (241)
>   vtkIdTypeArray (0xac862e20): Unable to allocate 146800640 
> elements of size 8: St9bad_alloc ErrorMessage end
> p0_22811:  p4_error: interrupt SIGSEGV: 11
> 
> ====================
> 
> $ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview 
> Process id: 1 >> ERROR: In 
> /home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Rendering/vt
> kXOpenGLRenderWindow.cxx,
> line 1319
> vtkXOpenGLRenderWindow (0xb576c78): bad X server connection.
> 
> 
> p1_22329:  p4_error: interrupt SIGSEGV: 11
> rm_l_1_22330: (1360.557878) net_send: could not write to 
> fd=5, errno = 32
> 
> ====================
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 

From bnwylie at sandia.gov  Tue Feb 28 19:30:22 2006
From: bnwylie at sandia.gov (Wylie, Brian)
Date: Tue Feb 28 19:30:38 2006
Subject: [Paraview] Data size limit?
Message-ID: <E4C1C0FFED3E6B49AC2C1DA9723BE11E01CC77CA@ES20SNLNT.srn.sandia.gov>

All of the information below is correct, I just want to explicitly point
out that the easiest thing to do in the short term is just turn off
compositing.

Long term, figure out why you can't open an x window, fix it, and turn
compositing back on. :)

  Brian Wylie - Org 9227
  Sandia National Laboratories
  MS 0822 - Building 880/A1-J
  (505)844-2238 FAX(505)845-0833                       
       ____                  _    __
      / __ \____  _________ | |  / (_)__ _      __ 
     / /_/ / __ `/ ___/ __ `/ | / / / _ \ | /| / /
    / ____/ /_/ / /  / /_/ /| |/ / /  __/ |/ |/ /
   /_/    \__,_/_/   \__,_/ |___/_/\___/|__/|__/

                                    Unleash the Beast
 

> -----Original Message-----
> From: paraview-bounces+bnwylie=sandia.gov@paraview.org 
> [mailto:paraview-bounces+bnwylie=sandia.gov@paraview.org] On 
> Behalf Of Moreland, Kenneth
> Sent: Tuesday, February 28, 2006 5:10 PM
> To: Christoph Moder; ParaView@paraview.org
> Subject: RE: [Paraview] Data size limit?
> 
> I'm guessing your crash has nothing to do with ParaView 
> running out of memory.  When you are running in client/server 
> and you load in a "big"
> data set (the threshold for "big" is adjustable, but 10 MB by 
> default), rendering switches from client to server.  This 
> means that the server will open up rendering windows, render 
> in parallel, and ship images to the client.
> 
> It looks like your server is unable to connect to the xhost 
> to open a window (note the "bad X server connection" error) 
> and is subsequently crashing.  Change the xhost permissions 
> on the nodes in your cluster to allow your ParaView job to 
> connect to the xhost.
> 
> Alternatively, if you do not have rendering hardware on your 
> server and you are rendering with Mesa anyway, you can turn 
> on OSMesa support so that the server never has to connect to 
> the xhost.
> 
> -Ken
> 
> > -----Original Message-----
> > From: paraview-bounces+kmorel=sandia.gov@paraview.org
> > [mailto:paraview-bounces+kmorel=sandia.gov@paraview.org] On 
> Behalf Of 
> > Christoph Moder
> > Sent: Tuesday, February 28, 2006 5:04 PM
> > To: ParaView@paraview.org
> > Subject: [Paraview] Data size limit?
> > 
> > Hello!
> > 
> > I would like to use Paraview with big data files which contain 
> > unstructured grids with 10 million grid points. But Paraview always 
> > crashes, with different error messages. Is there any size 
> limit? The 
> > size of the data file (binary vtk) is only 800 MB, this 
> should not be 
> > a problem (PC: 2 GB RAM +
> > 4 GM swap space). Also parallel processing does not help. 
> > Below are some error messages. Any comments?
> > 
> > Thanks,
> > Christoph
> > 
> > ====================
> > 
> > $ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview
> > p1_27474:  p4_error: alloc_p4_msg: Message size exceeds P4s maximum 
> > message size: 321213977
> > rm_l_1_27475: (257.175131) net_send: could not write to 
> fd=5, errno = 
> > 32
> > 
> > ====================
> > 
> > $ ./paraview
> > ErrorMessage
> > # Error or warning: There was a VTK Error in file: 
> > /home/moder/paraview-3D/paraview-2.4.2-clone2/GUI/Client/vtkPV
> > Application.cxx
> > (1732)
> >   vtkPVApplication (0xb65d8b8): TclTk error: Point scalarUncaught
> > exception: St9bad_alloc
> >   Point scalarUncaught exception: St9bad_alloc
> > 
> >      while executing
> > "vtkTemp92 DrawSurface"
> >      invoked from within
> > ".paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.
> > 483.485.487.494.495
> > invoke active"
> >      ("uplevel" body line 1)
> >      invoked from within
> > "uplevel #0 [list $w invoke active]"
> >      (procedure "tk::MenuInvoke" line 47)
> >      invoked from within
> > "tk::MenuInvoke
> > .paraview.24.33.34.176.177.200.201.203.208.214.215.216.frame.4
> > 83.485.487.494.495
> > 1"
> >      (command bound to event)
> > ErrorMessage end
> > 
> > ErrorMessage
> > # Error or warning: There was a VTK Error in file: 
> > /home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Common/vtkDa
> > taArrayTemplate.txx
> > (241)
> >   vtkIdTypeArray (0xac862e20): Unable to allocate 146800640 
> elements 
> > of size 8: St9bad_alloc ErrorMessage end
> > p0_22811:  p4_error: interrupt SIGSEGV: 11
> > 
> > ====================
> > 
> > $ mpirun -machinefile ~/machinefile.txt -np 2 ./paraview 
> Process id: 1 
> > >> ERROR: In 
> > /home/moder/paraview-3D/paraview-2.4.2-clone2/VTK/Rendering/vt
> > kXOpenGLRenderWindow.cxx,
> > line 1319
> > vtkXOpenGLRenderWindow (0xb576c78): bad X server connection.
> > 
> > 
> > p1_22329:  p4_error: interrupt SIGSEGV: 11
> > rm_l_1_22330: (1360.557878) net_send: could not write to 
> fd=5, errno = 
> > 32
> > 
> > ====================
> > _______________________________________________
> > ParaView mailing list
> > ParaView@paraview.org
> > http://www.paraview.org/mailman/listinfo/paraview
> > 
> > 
> 
> _______________________________________________
> ParaView mailing list
> ParaView@paraview.org
> http://www.paraview.org/mailman/listinfo/paraview
> 
> 

