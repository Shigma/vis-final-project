From eranders at sci.utah.edu  Mon Aug  2 11:46:56 2010
From: eranders at sci.utah.edu (Erik Anderson)
Date: Mon, 02 Aug 2010 09:46:56 -0600
Subject: [Paraview] ParaView Python
Message-ID: <4C56E870.6050006@sci.utah.edu>

Hi all,
    I am trying to import paraview.simple from an external Python 
interpreter.  I am trying to use the ParaView 3.8.0 binary distribution 
and I have all my paths setup properly, but I'm getting the following error:

 >>> import paraview.simple
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/Applications/ParaView 
3.8.0.app/Contents/Python/paraview/simple.py", line 39, in <module>
    import servermanager
  File "/Applications/ParaView 
3.8.0.app/Contents/Python/paraview/servermanager.py", line 43, in <module>
    import paraview, re, os, new, sys, vtk
  File "/Applications/ParaView 
3.8.0.app/Contents/Python/paraview/vtk/__init__.py", line 4, in <module>
    from libvtkCommonPython import *
ImportError: dlopen(/Applications/ParaView 
3.8.0.app/Contents/Libraries/libvtkCommonPython.so, 2): no suitable 
image found.  Did find:
    /Applications/ParaView 
3.8.0.app/Contents/Libraries/libvtkCommonPython.so: mach-o, but wrong 
architecture

Upon some closer inspection, I see that the Python version used in 
ParaView is:
2.5.4_final

whereas I am using:
2.6.5_final

Is this the cause of the error?  If so, how can I work around this?

Thanks,
Erik Anderson

From owen.arnold at stfc.ac.uk  Mon Aug  2 12:03:03 2010
From: owen.arnold at stfc.ac.uk (owen.arnold at stfc.ac.uk)
Date: Mon, 2 Aug 2010 17:03:03 +0100
Subject: [Paraview] Example Object Panel Customisation
Message-ID: <CE2FC9C461BAB942B0ED268009C8497C0124D816@exchange17.fed.cclrc.ac.uk>

Hi,

 

As I am likely to require customized GUI controls in the near future, I
decided to look at the example in the Paraview documentation:

 

http://www.paraview.org/Wiki/Plugin_HowTo#Adding_an_object_panel 

 

I am finding that the plugin generated by this example compiles fine,
and appears to load without issue but the custom panel is never
initialized. I was expecting that generating a ConeSource after loading
this plugin would result in an additional widget on the object panel.

 

Does anyone know of any ways in which I could determine why no instances
of the ConePanel are generated?

 

Thanks in advance,

 

Owen


-- 
Scanned by iCritical.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100802/316ecc9b/attachment.htm>

From rick.angelini at us.army.mil  Mon Aug  2 13:15:04 2010
From: rick.angelini at us.army.mil (Rick Angelini)
Date: Mon, 02 Aug 2010 13:15:04 -0400
Subject: [Paraview] Trouble loading Ensight/Gold data
In-Reply-To: <AANLkTinMtXgoFdPOrTfJczxOuEdp4+rpEkuO9c8pP=Vs@mail.gmail.com>
References: <4C533062.10408@us.army.mil><AANLkTikDDrT9+mjH97YgULwWVKXFefqRtPzcSbSkOOSh@mail.gmail.com>
	<AANLkTinMtXgoFdPOrTfJczxOuEdp4+rpEkuO9c8pP=Vs@mail.gmail.com>
Message-ID: <4C56FD18.4060701@us.army.mil>

I've run the data through the EnSight tool "ens_checker" and the dataset 
passes correctly.    But, there's clearly something that the ParaView 
reader doesn't like about the Pressure dataset.      Is the EnSight 
reader in Paraview using the VTK reader?    The reason I ask is that I 
am able to read this dataset using VisIt which I believe also uses the 
VTK Ensight reader. 

Peter Brady wrote:
> Our data is in the EnSight-Gold file format and we haven't encountered 
> any problems with 3.8.  Have you tried the ensight format checkers 
> http://www.paraview.org/pipermail/paraview/2010-March/016356.html 
> <blockedhttp://www.paraview.org/pipermail/paraview/2010-March/016356.html>?
>
> You could also try replacing one of the files that loads correctly 
> with an appropriately named pressure file.  I imagine this would tell 
> you if there's a problem in the pressure file format or in the case file.
>
> Peter
>
> On Fri, Jul 30, 2010 at 1:14 PM, Andy Bauer <andy.bauer at kitware.com 
> <blockedmailto:andy.bauer at kitware.com>> wrote:
>
>     Sounds strange.  I'm not that familiar with the EnSight/Gold file
>     format but wonder if somehow the array doesn't have the same
>     number of tuples as there are points/cells in the grid for point
>     data/cell data.  Does it show up in the spreadsheet view?  Maybe
>     in the field data? 
>
>     Andy
>
>     On Fri, Jul 30, 2010 at 4:04 PM, Rick Angelini
>     <rick.angelini at us.army.mil
>     <blockedmailto:rick.angelini at us.army.mil>> wrote:
>
>         I have an EnSight/Gold case file that I'm able to read into a
>         couple of other vis packages with no problem.  When I load the
>         case file into Parview 3.6.2/3.8.0/3.9.x I don't get one of
>         the scalar files loaded.   (The scalar happens to be
>         pressure).     There are no error messages from the client or
>         server, ParaView just ignores this particular scalar value.
>         When I load the case file,  the variable shows up in the
>         properties window.  I select "Pressure",   and all of his
>         friends like Temp, Velocity, etc,  select APPLY, and then look
>         in the information tab.  "Pressure" is not listed.     This
>         Case file happens to have many timesteps defined, so I changed
>         it to only load one timestep - same behavior.    I selected
>         the first timestep, the last one, and many in the middle, same
>         behavior.   And of course, "Pressure" happens to be the
>         variable of interest!   8-)
>
>         I must be missing something really easy.   Unfortunately, I
>         can't share this data for debugging purposes.  
>
>
>         _______________________________________________
>         Powered by www.kitware.com <blockedhttp://www.kitware.com>
>
>         Visit other Kitware open-source projects at
>         http://www.kitware.com/opensource/opensource.html
>         <blockedhttp://www.kitware.com/opensource/opensource.html>
>
>         Please keep messages on-topic and check the ParaView Wiki at:
>         http://paraview.org/Wiki/ParaView
>         <blockedhttp://paraview.org/Wiki/ParaView>
>
>         Follow this link to subscribe/unsubscribe:
>         http://www.paraview.org/mailman/listinfo/paraview
>         <blockedhttp://www.paraview.org/mailman/listinfo/paraview>
>
>
>
>     _______________________________________________
>     Powered by www.kitware.com <blockedhttp://www.kitware.com>
>
>     Visit other Kitware open-source projects at
>     http://www.kitware.com/opensource/opensource.html
>     <blockedhttp://www.kitware.com/opensource/opensource.html>
>
>     Please keep messages on-topic and check the ParaView Wiki at:
>     http://paraview.org/Wiki/ParaView
>     <blockedhttp://paraview.org/Wiki/ParaView>
>
>     Follow this link to subscribe/unsubscribe:
>     http://www.paraview.org/mailman/listinfo/paraview
>     <blockedhttp://www.paraview.org/mailman/listinfo/paraview>
>
>

From robert.maynard at kitware.com  Mon Aug  2 14:16:31 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Mon, 2 Aug 2010 14:16:31 -0400
Subject: [Paraview] Example Object Panel Customisation
In-Reply-To: <CE2FC9C461BAB942B0ED268009C8497C0124D816@exchange17.fed.cclrc.ac.uk>
References: <CE2FC9C461BAB942B0ED268009C8497C0124D816@exchange17.fed.cclrc.ac.uk>
Message-ID: <AANLkTimPiJuU+4iScL_SRZniuEXe10EwXMaia+WpLcYC@mail.gmail.com>

On Mon, Aug 2, 2010 at 12:03 PM, <owen.arnold at stfc.ac.uk> wrote:

>  Hi,
>
>
>
> As I am likely to require customized GUI controls in the near future, I
> decided to look at the example in the Paraview documentation:
>
>
>
> http://www.paraview.org/Wiki/Plugin_HowTo#Adding_an_object_panel
>
>
>
> I am finding that the plugin generated by this example compiles fine, and
> appears to load without issue but the custom panel is never initialized. I
> was expecting that generating a ConeSource after loading this plugin would
> result in an additional widget on the object panel.
>
>
>
> Does anyone know of any ways in which I could determine why no instances of
> the ConePanel are generated?
>
>
>
> Thanks in advance,
>
>
>
> Owen
>
> --
> Scanned by iCritical.
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
Hi Owen,

I just tested the cone example and it is  working on my machine (Windows 7
64bit and Visual Studio 2010). To determine why are you not getting the
custom panel I would start debugging in
pqObjectInspectorWidget::setProxy(pqProxy *proxy) at line 434.


-- 
Robert Maynard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100802/a2a8a2d1/attachment.htm>

From josef.dubsky at gcsc.uni-frankfurt.de  Mon Aug  2 13:02:46 2010
From: josef.dubsky at gcsc.uni-frankfurt.de (=?US-ASCII?Q?Josef_Dubsky?=)
Date: Mon, 2 Aug 2010 19:02:46 +0200
Subject: [Paraview] Annotations with node IDs
Message-ID: <010b01cb3264$8ad90d30$a08b2790$@dubsky@gcsc.uni-frankfurt.de>

Hi,

I have one simple question - is it possible to somehow produce the
annotations for the mesh nodes to show their ID in Paraview?

I'm aware of the fact, that I can look this up in the table view, but doing
it for each node I'm interested in is not exactly the most efficient way.

 

Regards

 

Josef

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100802/0d3ab00f/attachment.htm>

From ivoroghair at gmail.com  Mon Aug  2 14:53:57 2010
From: ivoroghair at gmail.com (Ivo Roghair)
Date: Mon, 2 Aug 2010 20:53:57 +0200
Subject: [Paraview] Annotations with node IDs
In-Reply-To: <3488960615008430526@unknownmsgid>
References: <3488960615008430526@unknownmsgid>
Message-ID: <AANLkTinkJbDN9tJ9SpEzzU5LWMmpDayRw27bURMSRrV9@mail.gmail.com>

Open the selection inspector ('view' menu) and take the selection tool
(the one which selects nodes, not cells). Then select the part you're
interested in, go to the 'Point label' tab in the selction tool (all
the way to the bottom), and tick the 'visible' thing. The dropdown box
will let you choose the ID or any other variable that applies to the
point.


2010/8/2 Josef Dubsky <josef.dubsky at gcsc.uni-frankfurt.de>:
> Hi,
>
> I have one simple question ? is it possible to somehow produce the
> annotations for the mesh nodes to show their ID in Paraview?
>
> I?m aware of the fact, that I can look this up in the table view, but doing
> it for each node I?m interested in is not exactly the most efficient way.
>
>
>
> Regards
>
>
>
> Josef
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From josef.dubsky at gcsc.uni-frankfurt.de  Mon Aug  2 15:09:48 2010
From: josef.dubsky at gcsc.uni-frankfurt.de (=?US-ASCII?Q?Josef_Dubsky?=)
Date: Mon, 2 Aug 2010 21:09:48 +0200
Subject: [Paraview] Annotations with node IDs
In-Reply-To: <AANLkTinkJbDN9tJ9SpEzzU5LWMmpDayRw27bURMSRrV9@mail.gmail.com>
References: <3488960615008430526@unknownmsgid>
	<AANLkTinkJbDN9tJ9SpEzzU5LWMmpDayRw27bURMSRrV9@mail.gmail.com>
Message-ID: <012001cb3276$48d995a0$da8cc0e0$@dubsky@gcsc.uni-frankfurt.de>

Hi,
Thanks a lot, this was exactly what I needed. Somehow I kept looking for
annotations instead of labels and couldn't find what I wanted ;-)

Regards

Josef

-----Original Message-----
From: Ivo Roghair [mailto:ivoroghair at gmail.com] 
Sent: Monday, August 02, 2010 8:54 PM
To: Josef Dubsky
Cc: paraview at paraview.org
Subject: Re: [Paraview] Annotations with node IDs

Open the selection inspector ('view' menu) and take the selection tool
(the one which selects nodes, not cells). Then select the part you're
interested in, go to the 'Point label' tab in the selction tool (all
the way to the bottom), and tick the 'visible' thing. The dropdown box
will let you choose the ID or any other variable that applies to the
point.


2010/8/2 Josef Dubsky <josef.dubsky at gcsc.uni-frankfurt.de>:
> Hi,
>
> I have one simple question - is it possible to somehow produce the
> annotations for the mesh nodes to show their ID in Paraview?
>
> I'm aware of the fact, that I can look this up in the table view, but
doing
> it for each node I'm interested in is not exactly the most efficient way.
>
>
>
> Regards
>
>
>
> Josef
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>



From utkarsh.ayachit at kitware.com  Mon Aug  2 15:36:46 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 2 Aug 2010 15:36:46 -0400
Subject: [Paraview] Bug: Failure to open FLASH file on a PowerBook
In-Reply-To: <AANLkTi=r4mM4ScPSvjKpFXgd0Ap51a6bt=K4aV4Rw-6E@mail.gmail.com>
References: <Pine.LNX.4.64.1007291552440.7781@flash.uchicago.edu>
	<AANLkTi=r4mM4ScPSvjKpFXgd0Ap51a6bt=K4aV4Rw-6E@mail.gmail.com>
Message-ID: <AANLkTimG9UOHs-dXEQvv5+rha_-ZSiUY_X1_ZpNVbuwZ@mail.gmail.com>

Klaus,

I've tracked this issue down. It was indeed due to byte ordering. The
version number was being read incorrectly.  Attached is a patch for
the fix. It have been committed to git master. I'll ensure that it
gets into the 3.8.1 release as well.

Utkarsh

On Fri, Jul 30, 2010 at 10:22 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Klaus,
>
> Can you send us the data again please? Dave is away and not sure when
> I'd be able to get in touch with him.
>
> Utkarsh
>
> On Thu, Jul 29, 2010 at 5:06 PM, Klaus Weide <klaus at flash.uchicago.edu> wrote:
>> Hi,
>>
>> I have just installed ParaView 3.8.0 on a PowerBook G4 (Mac OS X 10.4.11).
>>
>> On opening a FLASH file, I get the output message:
>>
>> Generic Warning: In
>> /Users/partyd/Dashboards/MyTests/ParaView-3-8-0/ParaView/Servers/Filters/vtkFlashReader.cxx,
>> line 764
>> Inconsistency in the number of blocks.
>>
>> After that, the Object Inspector shows no useful information about the
>> file (other than Filename and Path).
>>
>> I gave Dave DeMarle a copy of the same file, he was able to successfully
>> open it on his laptop. ?He thinks the problem is caused by the different
>> byte ordering on PowerPC. ?This should be easy to fix since the underlying
>> file format of the FLASH format is HDF5.
>>
>> Klaus
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: FlashReaderBigEndianBug.patch
Type: text/x-patch
Size: 1169 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100802/2001b8ee/attachment.bin>

From berk.geveci at kitware.com  Mon Aug  2 15:55:32 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Mon, 2 Aug 2010 15:55:32 -0400
Subject: [Paraview] Trouble loading Ensight/Gold data
In-Reply-To: <4C56FD18.4060701@us.army.mil>
References: <4C533062.10408@us.army.mil>
	<AANLkTikDDrT9+mjH97YgULwWVKXFefqRtPzcSbSkOOSh@mail.gmail.com>
	<AANLkTinMtXgoFdPOrTfJczxOuEdp4+rpEkuO9c8pP=Vs@mail.gmail.com>
	<4C56FD18.4060701@us.army.mil>
Message-ID: <AANLkTi=2jQXhhS8L6j6n14QjG+Nip=ra5mkh3tfUfW94@mail.gmail.com>

The EnSight reader that VisIt uses is a fork of the VTK reader from 5
years ago or so. So, they either fixed a bug and not contributed it back
or there has been a regression in the VTK reader since then.

-berk

On Mon, Aug 2, 2010 at 1:15 PM, Rick Angelini <rick.angelini at us.army.mil> wrote:
> I've run the data through the EnSight tool "ens_checker" and the dataset
> passes correctly. ? ?But, there's clearly something that the ParaView reader
> doesn't like about the Pressure dataset. ? ? ?Is the EnSight reader in
> Paraview using the VTK reader? ? ?The reason I ask is that I am able to read
> this dataset using VisIt which I believe also uses the VTK Ensight reader.
> Peter Brady wrote:
>>
>> Our data is in the EnSight-Gold file format and we haven't encountered any
>> problems with 3.8. ?Have you tried the ensight format checkers
>> http://www.paraview.org/pipermail/paraview/2010-March/016356.html
>> <blockedhttp://www.paraview.org/pipermail/paraview/2010-March/016356.html>?
>>
>> You could also try replacing one of the files that loads correctly with an
>> appropriately named pressure file. ?I imagine this would tell you if there's
>> a problem in the pressure file format or in the case file.
>>
>> Peter
>>
>> On Fri, Jul 30, 2010 at 1:14 PM, Andy Bauer <andy.bauer at kitware.com
>> <blockedmailto:andy.bauer at kitware.com>> wrote:
>>
>> ? ?Sounds strange. ?I'm not that familiar with the EnSight/Gold file
>> ? ?format but wonder if somehow the array doesn't have the same
>> ? ?number of tuples as there are points/cells in the grid for point
>> ? ?data/cell data. ?Does it show up in the spreadsheet view? ?Maybe
>> ? ?in the field data?
>> ? ?Andy
>>
>> ? ?On Fri, Jul 30, 2010 at 4:04 PM, Rick Angelini
>> ? ?<rick.angelini at us.army.mil
>> ? ?<blockedmailto:rick.angelini at us.army.mil>> wrote:
>>
>> ? ? ? ?I have an EnSight/Gold case file that I'm able to read into a
>> ? ? ? ?couple of other vis packages with no problem. ?When I load the
>> ? ? ? ?case file into Parview 3.6.2/3.8.0/3.9.x I don't get one of
>> ? ? ? ?the scalar files loaded. ? (The scalar happens to be
>> ? ? ? ?pressure). ? ? There are no error messages from the client or
>> ? ? ? ?server, ParaView just ignores this particular scalar value.
>> ? ? ? ?When I load the case file, ?the variable shows up in the
>> ? ? ? ?properties window. ?I select "Pressure", ? and all of his
>> ? ? ? ?friends like Temp, Velocity, etc, ?select APPLY, and then look
>> ? ? ? ?in the information tab. ?"Pressure" is not listed. ? ? This
>> ? ? ? ?Case file happens to have many timesteps defined, so I changed
>> ? ? ? ?it to only load one timestep - same behavior. ? ?I selected
>> ? ? ? ?the first timestep, the last one, and many in the middle, same
>> ? ? ? ?behavior. ? And of course, "Pressure" happens to be the
>> ? ? ? ?variable of interest! ? 8-)
>>
>> ? ? ? ?I must be missing something really easy. ? Unfortunately, I
>> ? ? ? ?can't share this data for debugging purposes.
>>
>> ? ? ? ?_______________________________________________
>> ? ? ? ?Powered by www.kitware.com <blockedhttp://www.kitware.com>
>>
>> ? ? ? ?Visit other Kitware open-source projects at
>> ? ? ? ?http://www.kitware.com/opensource/opensource.html
>> ? ? ? ?<blockedhttp://www.kitware.com/opensource/opensource.html>
>>
>> ? ? ? ?Please keep messages on-topic and check the ParaView Wiki at:
>> ? ? ? ?http://paraview.org/Wiki/ParaView
>> ? ? ? ?<blockedhttp://paraview.org/Wiki/ParaView>
>>
>> ? ? ? ?Follow this link to subscribe/unsubscribe:
>> ? ? ? ?http://www.paraview.org/mailman/listinfo/paraview
>> ? ? ? ?<blockedhttp://www.paraview.org/mailman/listinfo/paraview>
>>
>>
>>
>> ? ?_______________________________________________
>> ? ?Powered by www.kitware.com <blockedhttp://www.kitware.com>
>>
>> ? ?Visit other Kitware open-source projects at
>> ? ?http://www.kitware.com/opensource/opensource.html
>> ? ?<blockedhttp://www.kitware.com/opensource/opensource.html>
>>
>> ? ?Please keep messages on-topic and check the ParaView Wiki at:
>> ? ?http://paraview.org/Wiki/ParaView
>> ? ?<blockedhttp://paraview.org/Wiki/ParaView>
>>
>> ? ?Follow this link to subscribe/unsubscribe:
>> ? ?http://www.paraview.org/mailman/listinfo/paraview
>> ? ?<blockedhttp://www.paraview.org/mailman/listinfo/paraview>
>>
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From berk.geveci at kitware.com  Mon Aug  2 20:07:14 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Mon, 2 Aug 2010 20:07:14 -0400
Subject: [Paraview] ParaView Python
In-Reply-To: <4C56E870.6050006@sci.utah.edu>
References: <4C56E870.6050006@sci.utah.edu>
Message-ID: <AANLkTikBY4fwA+gEJ0GbniBuQs9+cQwMVqPdsnp01F21@mail.gmail.com>

Most probably. The only way to get around this (and other similar problems)
is to build ParaView from source using the same version of Python and Qt
as yours. Otherwise, you'll get conflicts. Also, make sure that your Mac
target is the same as your Python when building. I forgot the CMake variable
for it. Something with target...

-berk

On Mon, Aug 2, 2010 at 11:46 AM, Erik Anderson <eranders at sci.utah.edu> wrote:
> Hi all,
> ? I am trying to import paraview.simple from an external Python interpreter.
> ?I am trying to use the ParaView 3.8.0 binary distribution and I have all my
> paths setup properly, but I'm getting the following error:
>
>>>> import paraview.simple
> Traceback (most recent call last):
> ?File "<stdin>", line 1, in <module>
> ?File "/Applications/ParaView 3.8.0.app/Contents/Python/paraview/simple.py",
> line 39, in <module>
> ? import servermanager
> ?File "/Applications/ParaView
> 3.8.0.app/Contents/Python/paraview/servermanager.py", line 43, in <module>
> ? import paraview, re, os, new, sys, vtk
> ?File "/Applications/ParaView
> 3.8.0.app/Contents/Python/paraview/vtk/__init__.py", line 4, in <module>
> ? from libvtkCommonPython import *
> ImportError: dlopen(/Applications/ParaView
> 3.8.0.app/Contents/Libraries/libvtkCommonPython.so, 2): no suitable image
> found. ?Did find:
> ? /Applications/ParaView 3.8.0.app/Contents/Libraries/libvtkCommonPython.so:
> mach-o, but wrong architecture
>
> Upon some closer inspection, I see that the Python version used in ParaView
> is:
> 2.5.4_final
>
> whereas I am using:
> 2.6.5_final
>
> Is this the cause of the error? ?If so, how can I work around this?
>
> Thanks,
> Erik Anderson
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From dave.partyka at kitware.com  Mon Aug  2 20:46:49 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 2 Aug 2010 20:46:49 -0400
Subject: [Paraview] ParaView Python
In-Reply-To: <AANLkTikBY4fwA+gEJ0GbniBuQs9+cQwMVqPdsnp01F21@mail.gmail.com>
References: <4C56E870.6050006@sci.utah.edu>
	<AANLkTikBY4fwA+gEJ0GbniBuQs9+cQwMVqPdsnp01F21@mail.gmail.com>
Message-ID: <AANLkTim6vXAUc2D47T=1EcEZA78t9drNQOCmdSPNwhO7@mail.gmail.com>

CMAKE_MACOSX_DEPLOYMENT_TARGET

On Mon, Aug 2, 2010 at 8:07 PM, Berk Geveci <berk.geveci at kitware.com> wrote:

> Most probably. The only way to get around this (and other similar problems)
> is to build ParaView from source using the same version of Python and Qt
> as yours. Otherwise, you'll get conflicts. Also, make sure that your Mac
> target is the same as your Python when building. I forgot the CMake
> variable
> for it. Something with target...
>
> -berk
>
> On Mon, Aug 2, 2010 at 11:46 AM, Erik Anderson <eranders at sci.utah.edu>
> wrote:
> > Hi all,
> >   I am trying to import paraview.simple from an external Python
> interpreter.
> >  I am trying to use the ParaView 3.8.0 binary distribution and I have all
> my
> > paths setup properly, but I'm getting the following error:
> >
> >>>> import paraview.simple
> > Traceback (most recent call last):
> >  File "<stdin>", line 1, in <module>
> >  File "/Applications/ParaView
> 3.8.0.app/Contents/Python/paraview/simple.py",
> > line 39, in <module>
> >   import servermanager
> >  File "/Applications/ParaView
> > 3.8.0.app/Contents/Python/paraview/servermanager.py", line 43, in
> <module>
> >   import paraview, re, os, new, sys, vtk
> >  File "/Applications/ParaView
> > 3.8.0.app/Contents/Python/paraview/vtk/__init__.py", line 4, in <module>
> >   from libvtkCommonPython import *
> > ImportError: dlopen(/Applications/ParaView
> > 3.8.0.app/Contents/Libraries/libvtkCommonPython.so, 2): no suitable image
> > found.  Did find:
> >   /Applications/ParaView
> 3.8.0.app/Contents/Libraries/libvtkCommonPython.so:
> > mach-o, but wrong architecture
> >
> > Upon some closer inspection, I see that the Python version used in
> ParaView
> > is:
> > 2.5.4_final
> >
> > whereas I am using:
> > 2.6.5_final
> >
> > Is this the cause of the error?  If so, how can I work around this?
> >
> > Thanks,
> > Erik Anderson
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100802/1db02602/attachment.htm>

From e.shahraeeni at gmail.com  Tue Aug  3 04:49:57 2010
From: e.shahraeeni at gmail.com (Ebrahim Shahraeeni)
Date: Tue, 3 Aug 2010 10:49:57 +0200
Subject: [Paraview] Incorrect dimensionality
Message-ID: <4c57d836.160edf0a.5813.052f@mx.google.com>

Hello Everybody,

I have a frustrating problem with ParaView, by now for two days. I cannot
visualize any CT dataset. It constantly gives "Incorrect Dimensionality"
error. I've tried my own dataset as well as a few dataset found on the web.
Does anybody can give me kind of step by step instruction how can I do that?
Or where I can find such instruction?

"Boston Teapot" in
http://www.gris.uni-tuebingen.de/edu/areas/scivis/volren/datasets/datasets.h
tml is an available dataset as raw data which I've tried and failed. My own
images can be found here http://www.2shared.com/file/ZGviDztx/rec_8bit.html
. it is a sintered glass beads sample 7.5mm in diameter (1024x1024 pixel
each image) and 2.25mm (304 cross section) in height. Voxel size is
7.5x7.5x7.5 micron. All your comments and remarks are highly appreciated.

Best,

Ebrahim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/48d859dc/attachment-0001.htm>

From jerng at gmx.de  Tue Aug  3 05:32:05 2010
From: jerng at gmx.de (jerng at gmx.de)
Date: Tue, 03 Aug 2010 11:32:05 +0200
Subject: [Paraview] visualize vector data
Message-ID: <20100803093205.105400@gmx.net>

Hello Everybody,

I'm using ParaView3.8 and I'm trying to visualize 2D images where the entries are 2-component-vectors. i want to visualize the image in a way that the entries are actually shown as vectors. i've already found the possibility to plot the norm of the vectors as well as the 2 components separately, encoded in different colors.
Is it possible to do so?

Best Regards,
Juergen
-- 
Neu: GMX De-Mail - Einfach wie E-Mail, sicher wie ein Brief!  
Jetzt De-Mail-Adresse reservieren: http://portal.gmx.net/de/go/demail

From paul.mcintosh at internetscooter.com  Tue Aug  3 06:32:16 2010
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Tue, 3 Aug 2010 20:32:16 +1000
Subject: [Paraview] Incorrect dimensionality
In-Reply-To: <4c57d836.160edf0a.5813.052f@mx.google.com>
References: <4c57d836.160edf0a.5813.052f@mx.google.com>
Message-ID: <CF807F1344CE41469FD208A7719B84D0@notebook>

HI Ebrahim,
 
Are you adjusting for the 0 index?
 
E.g the BostonTeapot 256x256x178 works for me with:
 
unsigned char
X 0 - 255
Y 0 - 255
Z 0 - 177
 
Cheers,
 
Paul

  _____  

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Ebrahim Shahraeeni
Sent: Tuesday, 3 August 2010 6:50 PM
To: paraview at paraview.org
Subject: [Paraview] Incorrect dimensionality



Hello Everybody,

I have a frustrating problem with ParaView, by now for two days. I cannot
visualize any CT dataset. It constantly gives "Incorrect Dimensionality"
error. I've tried my own dataset as well as a few dataset found on the web.
Does anybody can give me kind of step by step instruction how can I do that?
Or where I can find such instruction?

"Boston Teapot" in
http://www.gris.uni-tuebingen.de/edu/areas/scivis/volren/datasets/datasets.h
tml is an available dataset as raw data which I've tried and failed. My own
images can be found here http://www.2shared.com/file/ZGviDztx/rec_8bit.html
. it is a sintered glass beads sample 7.5mm in diameter (1024x1024 pixel
each image) and 2.25mm (304 cross section) in height. Voxel size is
7.5x7.5x7.5 micron. All your comments and remarks are highly appreciated.

Best,

Ebrahim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/1a864894/attachment.htm>

From e.shahraeeni at gmail.com  Tue Aug  3 06:51:29 2010
From: e.shahraeeni at gmail.com (Ebrahim Shahraeeni)
Date: Tue, 3 Aug 2010 12:51:29 +0200
Subject: [Paraview] Incorrect dimensionality
In-Reply-To: <CF807F1344CE41469FD208A7719B84D0@notebook>
References: <4c57d836.160edf0a.5813.052f@mx.google.com>
	<CF807F1344CE41469FD208A7719B84D0@notebook>
Message-ID: <4c57f4b2.cf41df0a.3fc8.565a@mx.google.com>

Thanks Paul, now it works. At least I see something on the screen and did
not get error message. Do you know somewhere I can read more about the
visualization of CT dataset in paraview? Something basic in the level of
this question? .

Ebrahim

 

From: Paul McIntosh [mailto:paul.mcintosh at internetscooter.com] 
Sent: Tuesday, August 03, 2010 12:32 PM
To: 'Ebrahim Shahraeeni'
Cc: paraview at paraview.org
Subject: RE: [Paraview] Incorrect dimensionality

 

HI Ebrahim,

 

Are you adjusting for the 0 index?

 

E.g the BostonTeapot 256x256x178 works for me with:

 

unsigned char

X 0 - 255

Y 0 - 255

Z 0 - 177

 

Cheers,

 

Paul

 

  _____  

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Ebrahim Shahraeeni
Sent: Tuesday, 3 August 2010 6:50 PM
To: paraview at paraview.org
Subject: [Paraview] Incorrect dimensionality

Hello Everybody,

I have a frustrating problem with ParaView, by now for two days. I cannot
visualize any CT dataset. It constantly gives "Incorrect Dimensionality"
error. I've tried my own dataset as well as a few dataset found on the web.
Does anybody can give me kind of step by step instruction how can I do that?
Or where I can find such instruction?

"Boston Teapot" in
http://www.gris.uni-tuebingen.de/edu/areas/scivis/volren/datasets/datasets.h
tml is an available dataset as raw data which I've tried and failed. My own
images can be found here http://www.2shared.com/file/ZGviDztx/rec_8bit.html
. it is a sintered glass beads sample 7.5mm in diameter (1024x1024 pixel
each image) and 2.25mm (304 cross section) in height. Voxel size is
7.5x7.5x7.5 micron. All your comments and remarks are highly appreciated.

Best,

Ebrahim

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/bb6d0ffb/attachment.htm>

From utkarsh.ayachit at kitware.com  Tue Aug  3 09:16:20 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 3 Aug 2010 09:16:20 -0400
Subject: [Paraview] visualize vector data
In-Reply-To: <20100803093205.105400@gmx.net>
References: <20100803093205.105400@gmx.net>
Message-ID: <AANLkTikv6cY7r6KpWxajcioApE9ede4MxEJGKMnxN-Cy@mail.gmail.com>

You might want to try the "Glyph" filter.

Utkarsh

On Tue, Aug 3, 2010 at 5:32 AM,  <jerng at gmx.de> wrote:
> Hello Everybody,
>
> I'm using ParaView3.8 and I'm trying to visualize 2D images where the entries are 2-component-vectors. i want to visualize the image in a way that the entries are actually shown as vectors. i've already found the possibility to plot the norm of the vectors as well as the 2 components separately, encoded in different colors.
> Is it possible to do so?
>
> Best Regards,
> Juergen
> --
> Neu: GMX De-Mail - Einfach wie E-Mail, sicher wie ein Brief!
> Jetzt De-Mail-Adresse reservieren: http://portal.gmx.net/de/go/demail
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From rross at nd.edu  Tue Aug  3 11:24:33 2010
From: rross at nd.edu (Ryan Ross)
Date: Tue, 3 Aug 2010 11:24:33 -0400
Subject: [Paraview] Difficulty loading .raw files
Message-ID: <AANLkTin_McZiChcRpjUZKq-r3Xm_YREejk_CUrZCoEjj@mail.gmail.com>

New to paraview and having a lot of trouble loading a handful of raw files.
The files are derived from 2048x2048, floating point hdf files with
little-endian bit order.
I tried to attach a slice, but the file size was too large (16 MB).  Could
the size be the problem?
Because I couldn't attach it, I have put a single slice up here in case it
helps:
http://www.nd.edu/~rross/
Any help would be appreciated.
Thanks

-- 
_________________________________

Ryan Ross
University of Notre Dame
Aerospace and Mechanical Engineering
Bioengineering PhD Program
225 Multidisciplinary Research Building
Notre Dame, IN 46556
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/18f0986d/attachment-0001.htm>

From utkarsh.ayachit at kitware.com  Tue Aug  3 12:08:20 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 3 Aug 2010 12:08:20 -0400
Subject: [Paraview] Difficulty loading .raw files
In-Reply-To: <AANLkTin_McZiChcRpjUZKq-r3Xm_YREejk_CUrZCoEjj@mail.gmail.com>
References: <AANLkTin_McZiChcRpjUZKq-r3Xm_YREejk_CUrZCoEjj@mail.gmail.com>
Message-ID: <AANLkTik=Hhyvqh2VjdaLf0VLQRMTeeb3mvuMz5Ji0oSu@mail.gmail.com>

Attached is a state file opening your dataset. (If you are using 3.8
or earlier, you'll have to fix the file name in the state xml to match
your file location, in git-master, a dialog will popup asking you to
fix the filename).

Things to change on the object inspector panel:
* Data Scalar Type: float
* Data Byte Order: LittleEndian
* File Dimensionality : 2
* Data Extent 0, 2047, 0, 2047, 0, 0

Utkarsh

On Tue, Aug 3, 2010 at 11:24 AM, Ryan Ross <rross at nd.edu> wrote:
> New to paraview and having a lot of trouble loading a handful of raw files.
> The files are derived from 2048x2048, floating point hdf files with
> little-endian bit order.
> I tried to attach a slice, but the file size was too large (16 MB).? Could
> the size be the problem?
> Because I couldn't attach it, I have put a single slice up here in case it
> helps:
> http://www.nd.edu/~rross/
> Any help would be appreciated.
> Thanks
>
> --
> _________________________________
>
> Ryan Ross
> University of Notre Dame
> Aerospace and Mechanical Engineering
> Bioengineering PhD Program
> 225 Multidisciplinary Research Building
> Notre Dame, IN 46556
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: OpenRawFile.pvsm
Type: application/octet-stream
Size: 41696 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/ac3fc80e/attachment-0001.obj>

From kmorel at sandia.gov  Tue Aug  3 13:00:37 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 3 Aug 2010 11:00:37 -0600
Subject: [Paraview] Difficulty loading .raw files
In-Reply-To: <AANLkTik=Hhyvqh2VjdaLf0VLQRMTeeb3mvuMz5Ji0oSu@mail.gmail.com>
Message-ID: <C87DA757.18897%kmorel@sandia.gov>

You may also find it convenient to create a NRRD detached header file that specifies the parameters of the raw image.  The attached header file seems to work for the data you posted.

-Ken


On 8/3/10 10:08 AM, "Utkarsh Ayachit" <utkarsh.ayachit at kitware.com> wrote:

Attached is a state file opening your dataset. (If you are using 3.8
or earlier, you'll have to fix the file name in the state xml to match
your file location, in git-master, a dialog will popup asking you to
fix the filename).

Things to change on the object inspector panel:
* Data Scalar Type: float
* Data Byte Order: LittleEndian
* File Dimensionality : 2
* Data Extent 0, 2047, 0, 2047, 0, 0

Utkarsh

On Tue, Aug 3, 2010 at 11:24 AM, Ryan Ross <rross at nd.edu> wrote:
> New to paraview and having a lot of trouble loading a handful of raw files.
> The files are derived from 2048x2048, floating point hdf files with
> little-endian bit order.
> I tried to attach a slice, but the file size was too large (16 MB).  Could
> the size be the problem?
> Because I couldn't attach it, I have put a single slice up here in case it
> helps:
> http://www.nd.edu/~rross/
> Any help would be appreciated.
> Thanks
>
> --
> _________________________________
>
> Ryan Ross
> University of Notre Dame
> Aerospace and Mechanical Engineering
> Bioengineering PhD Program
> 225 Multidisciplinary Research Building
> Notre Dame, IN 46556
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>



   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/4fbb6a3f/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: BP1_12_00000.nhdr
Type: application/octet-stream
Size: 108 bytes
Desc: BP1_12_00000.nhdr
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/4fbb6a3f/attachment.obj>

From wascott at sandia.gov  Tue Aug  3 16:19:20 2010
From: wascott at sandia.gov (Scott, W Alan)
Date: Tue, 3 Aug 2010 14:19:20 -0600
Subject: [Paraview] Difficulty loading .raw files
In-Reply-To: <14433_1280854914_o73Gw6RS016261_C87DA757.18897%kmorel@sandia.gov>
References: <AANLkTik=Hhyvqh2VjdaLf0VLQRMTeeb3mvuMz5Ji0oSu@mail.gmail.com>
	<14433_1280854914_o73Gw6RS016261_C87DA757.18897%kmorel@sandia.gov>
Message-ID: <56F66A9F02F8DD40B540440CEE290BEB8E4D76524B@ES03SNLNT.srn.sandia.gov>

I threw together a quick tutorial for the raw data reader here:  http://www.paraview.org/Wiki/Data_formats.  Scroll down to Raw files.

Alan

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Moreland, Kenneth
Sent: Tuesday, August 03, 2010 11:01 AM
To: Utkarsh Ayachit; Ryan Ross
Cc: paraview at paraview.org
Subject: Re: [Paraview] Difficulty loading .raw files

You may also find it convenient to create a NRRD detached header file that specifies the parameters of the raw image.  The attached header file seems to work for the data you posted.

-Ken


On 8/3/10 10:08 AM, "Utkarsh Ayachit" <utkarsh.ayachit at kitware.com> wrote:
Attached is a state file opening your dataset. (If you are using 3.8
or earlier, you'll have to fix the file name in the state xml to match
your file location, in git-master, a dialog will popup asking you to
fix the filename).

Things to change on the object inspector panel:
* Data Scalar Type: float
* Data Byte Order: LittleEndian
* File Dimensionality : 2
* Data Extent 0, 2047, 0, 2047, 0, 0

Utkarsh

On Tue, Aug 3, 2010 at 11:24 AM, Ryan Ross <rross at nd.edu> wrote:
> New to paraview and having a lot of trouble loading a handful of raw files.
> The files are derived from 2048x2048, floating point hdf files with
> little-endian bit order.
> I tried to attach a slice, but the file size was too large (16 MB).  Could
> the size be the problem?
> Because I couldn't attach it, I have put a single slice up here in case it
> helps:
> http://www.nd.edu/~rross/
> Any help would be appreciated.
> Thanks
>
> --
> _________________________________
>
> Ryan Ross
> University of Notre Dame
> Aerospace and Mechanical Engineering
> Bioengineering PhD Program
> 225 Multidisciplinary Research Building
> Notre Dame, IN 46556
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/fb8bd494/attachment.htm>

From berk.geveci at kitware.com  Tue Aug  3 16:23:31 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Tue, 3 Aug 2010 16:23:31 -0400
Subject: [Paraview] Follow a moving object
In-Reply-To: <56F66A9F02F8DD40B540440CEE290BEB8BA7006CB7@ES03SNLNT.srn.sandia.gov>
References: <4C51CBEE.1060103@us.army.mil>
	<AANLkTimxA1yEx0pRvTmBSbG_oQigGoPA4mfg4W=xrgoJ@mail.gmail.com>
	<56F66A9F02F8DD40B540440CEE290BEB8BA7006CB7@ES03SNLNT.srn.sandia.gov>
Message-ID: <AANLkTikYbLL+PjR=8SNckbysovfQ4Xuw6pDXtv6E5Uyz@mail.gmail.com>

Here is a script that I wrote for Rick. Add it as a macro from the Python shell
for easy access. Essentially, this script sets up tracking for the active object
in the active view. Look at the source file for instructions on how to use it.
Note that the tracking is pretty basic: the camera moves with the center of
the spatial bounds of the object. It would be easy to change the code to do
fancier things. If you want to extract a block/cell/subset/whatever,
first extract
whatever you want tracked using the selection mechanism + extract selection
filter and add tracking for that.

-berk

On Thu, Jul 29, 2010 at 5:09 PM, Scott, W Alan <wascott at sandia.gov> wrote:
> Rick/Dave,
> This has been reported as feature 6625, and frankly, would be REALLY NICE to have implemented.
>
> Alan
>
> -----Original Message-----
> From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of David E DeMarle
> Sent: Thursday, July 29, 2010 2:44 PM
> To: Rick Angelini
> Cc: ParaView
> Subject: Re: [Paraview] Follow a moving object
>
> There is still no good way to do this in the UI. Please file a feature
> request. I don't see any reason why this can't be made automatic in
> the GUI.
>
> In the meantime, the path I am thinking that one might do this at the
> user level is to select the point/cell you want to follow, plot that
> over time. Then via python you would extract the coordinates from that
> plot and use them to set up camera keyframes.
>
> Check the mailing list too, this has been discussed fairly recently
> and there might have been a better solution. I can't seem to track
> down the conversation for some reason though.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Jul 29, 2010 at 12:43 PM, Rick Angelini
> <rick.angelini at us.army.mil> wrote:
>> I have a time series dataset and the geometry moves over time. ?Is there a
>> way to make the geometry so that it remains centered in the display window?
>> ? I want to keep the view centered on a part centroid, for instance.
>> Otherwise, the object moves off of the screen over time .....
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Track Object.py
Type: application/octet-stream
Size: 2500 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100803/50583b64/attachment-0001.obj>

From berk.geveci at kitware.com  Tue Aug  3 16:34:09 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Tue, 3 Aug 2010 16:34:09 -0400
Subject: [Paraview] HDF5 files with time dimension & ParaView
In-Reply-To: <000301cb3016$d43fdd00$7cbf9700$@cam.ac.uk>
References: <000301cb3016$d43fdd00$7cbf9700$@cam.ac.uk>
Message-ID: <AANLkTin1yVzoBOiY4E+iLeC3nw7Q4uZJ1XDRgf=cht0M@mail.gmail.com>

Xdmf may allow you to do this. I am not 100% sure. See
xdmf.org. Please report back here if you try it out.

Best,
-berk

On Fri, Jul 30, 2010 at 2:41 PM,  <pkj22 at eng.cam.ac.uk> wrote:
> Greetings ParaView Users,
>
> I am currently running simulations using MEEP (
> http://ab-initio.mit.edu/wiki/index.php/Meep ), which generates output files
> in HDF5 format. Opening HDF5 3-dimensional files works ok with ParaView (it
> is recognized as Pixie 1.0 - I normally convert these files to VTK for
> convenience). However, MEEP can also generate 4-D HDF5 files, where the
> fourth dimension is time. Is there a way to view such files in ParaView and
> navigate along the time axis?
> Thank you in advance :-)
>
> Pawel Jasnos
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From ccattani at caltech.edu  Tue Aug  3 18:02:40 2010
From: ccattani at caltech.edu (ccattani at caltech.edu)
Date: Tue, 3 Aug 2010 15:02:40 -0700 (PDT)
Subject: [Paraview] AttributeError when transforming vector field
Message-ID: <59917.131.215.65.48.1280872960.squirrel@webmail.caltech.edu>

Hi,

I am new to Paraview, and I need to write a programmable filter to
transform a vector field. My filter (below) works when applied to a 2D
slice extracted from the data, but when I change the input to the original
3D dataset, I get the error:

AttributeError: 'NoneType' object has no attribute 'SetPoints'.

Any idea of why this happens, and how to fix it?
Thank you in advance for your help!

Camilla

---------------here's my script:------------------------------------

import math
tX=math.radians(5.67)
tY=math.radians(-107.761)
tZ=math.radians(-49.432)

r11=math.cos(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tY)*math.sin(tZ)
r12=math.sin(tZ)*math.cos(tX)
r13=-math.sin(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tZ)*math.cos(tY)
r21=-math.sin(tZ)*math.cos(tY)-math.cos(tZ)*math.sin(tX)*math.sin(tY)
r22=math.cos(tX)*math.cos(tZ)
r23=math.sin(tY)*math.sin(tZ)+math.cos(tZ)*math.cos(tY)*math.sin(tX)
r31=math.cos(tX)*math.sin(tY)
r32=-math.sin(tX)
r33=math.cos(tY)*math.cos(tX)

pdi = self.GetUnstructuredGridInput()
pdo =  self.GetPolyDataOutput()
newPoints = vtk.vtkPoints()
numPoints = pdi.GetNumberOfPoints()
vel0=pdi.GetPointData().GetArray('velocity')
vel=vtk.vtkFloatArray()
vel.SetNumberOfComponents(3)
vel.SetName('TransfVelocity')
vel.SetNumberOfTuples(numPoints)

for i in range(0, numPoints):
     coord = pdi.GetPoint(i)
     x,y,z=coord[:3]
     newPoints.InsertPoint(i, x, y, z)
     vx=vel0.GetValue(i*3)
     vy=vel0.GetValue(i*3+1)
     vz=vel0.GetValue(i*3+2)
     vxt= r11*vx + r12*vy + r13*vz
     vyt= r21*vx + r22*vy + r23*vz
     vzt= r31*vx + r32*vy + r33*vz
     vel.SetTuple3(i,vxt,vyt,vzt)

pdo.SetPoints(newPoints)
pdo.GetPointData().AddArray(vel)



From nuovodna at gmail.com  Wed Aug  4 07:08:43 2010
From: nuovodna at gmail.com (Emanuele T.)
Date: Wed, 4 Aug 2010 13:08:43 +0200
Subject: [Paraview] Contour on a 2d plot
Message-ID: <AANLkTik4NZtN3zbdt+kDYof7eajWMkDmwPj=JhJ7b3cm@mail.gmail.com>

Hi, i have some data in vtk in 3d. I made a slice and then a contour of a
variable (a single value contour). Now i d like to plot this contour in a 2d
plot with x-y axis

This is the screenshot http://dl.dropbox.com/u/3617688/Screenshot.png

I want the pic on the left on a plot similar to the pic on the right

Thanks in advance

Regards

Emanuele
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/a52edc8e/attachment.htm>

From jacques.papper at gmail.com  Wed Aug  4 07:36:39 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Wed, 4 Aug 2010 12:36:39 +0100
Subject: [Paraview] Contour on a 2d plot
In-Reply-To: <AANLkTik4NZtN3zbdt+kDYof7eajWMkDmwPj=JhJ7b3cm@mail.gmail.com>
References: <AANLkTik4NZtN3zbdt+kDYof7eajWMkDmwPj=JhJ7b3cm@mail.gmail.com>
Message-ID: <AANLkTimK2MNS041w_OXJmBoT2eozkiK64hVOw3fPRg2g@mail.gmail.com>

Hi All,

I'm starting to look into the ParaView CoProcessing libraries.
I just pulled from git today, and compiled it all up following the
guidelines in :
http://www.paraview.org/Wiki/CoProcessing
I didn't find :
*BUILD_PYTHON_COPROCESSING_ADAPTOR
*but instead :
PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
anyway the compilation went through without any issues.
I then tried :

ctest -R CoProcessing
Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
    Start 491: CoProcessingTestPythonScript
1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45 sec
    Start 492: CoProcessingPythonScriptGridPlot
2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09 sec
    Start 493: CoProcessingPythonScriptPressurePlot
3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09 sec

33% tests passed, 2 tests failed out of 3

Total Test time (real) =   0.68 sec

The following tests FAILED:
        492 - CoProcessingPythonScriptGridPlot (Failed)
        493 - CoProcessingPythonScriptPressurePlot (Failed)
Errors while running CTest

Is this a problem in my current installation or on the master branch ?

Finally, I would like to start writing an adaptor to a C++ parallelised
code. Can you tell me what is the closest code I can inspire myself from ?


Thank you,
Jacques
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/f17b2c60/attachment.htm>

From jacques.papper at gmail.com  Wed Aug  4 07:40:54 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Wed, 4 Aug 2010 12:40:54 +0100
Subject: [Paraview] CoProcessing
Message-ID: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>

Hi All,

I'm starting to look into the ParaView CoProcessing libraries.
I just pulled from git today, and compiled it all up following the
guidelines in :
http://www.paraview.org/Wiki/CoProcessing
I didn't find :
*BUILD_PYTHON_COPROCESSING_ADAPTOR
*but instead :
PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
anyway the compilation went through without any issues.
I then tried :

ctest -R CoProcessing
Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
    Start 491: CoProcessingTestPythonScript
1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45 sec
    Start 492: CoProcessingPythonScriptGridPlot
2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09 sec
    Start 493: CoProcessingPythonScriptPressurePlot
3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09 sec

33% tests passed, 2 tests failed out of 3

Total Test time (real) =   0.68 sec

The following tests FAILED:
        492 - CoProcessingPythonScriptGridPlot (Failed)
        493 - CoProcessingPythonScriptPressurePlot (Failed)
Errors while running CTest

Is this a problem in my current installation or on the master branch ?

Finally, I would like to start writing an adaptor to a C++ parallelised
code. Can you tell me what is the closest code I can inspire myself from ?


Thank you,
Jacques


PS sorry mixed up the subjects..
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/0206d8f2/attachment.htm>

From jacques.papper at gmail.com  Wed Aug  4 08:02:36 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Wed, 4 Aug 2010 13:02:36 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
Message-ID: <AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>

Hi All,

Sorry for my last post, I figured out that I had wrongly set my PYTHONPATH..

All the tests work ok now. Still interested in CoProcessing adaptors
examples though :)

Thanks
Jacques

2010/8/4 Jacques Papper <jacques.papper at gmail.com>

>
> Hi All,
>
> I'm starting to look into the ParaView CoProcessing libraries.
> I just pulled from git today, and compiled it all up following the
> guidelines in :
> http://www.paraview.org/Wiki/CoProcessing
> I didn't find :
> *BUILD_PYTHON_COPROCESSING_ADAPTOR
> *but instead :
> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
> anyway the compilation went through without any issues.
> I then tried :
>
> ctest -R CoProcessing
> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>     Start 491: CoProcessingTestPythonScript
> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45
> sec
>     Start 492: CoProcessingPythonScriptGridPlot
> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09
> sec
>     Start 493: CoProcessingPythonScriptPressurePlot
> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09
> sec
>
> 33% tests passed, 2 tests failed out of 3
>
> Total Test time (real) =   0.68 sec
>
> The following tests FAILED:
>         492 - CoProcessingPythonScriptGridPlot (Failed)
>         493 - CoProcessingPythonScriptPressurePlot (Failed)
> Errors while running CTest
>
> Is this a problem in my current installation or on the master branch ?
>
> Finally, I would like to start writing an adaptor to a C++ parallelised
> code. Can you tell me what is the closest code I can inspire myself from ?
>
>
> Thank you,
> Jacques
>
>
> PS sorry mixed up the subjects..
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/54d4d857/attachment.htm>

From oshima at eng.niigata-u.ac.jp  Wed Aug  4 09:47:59 2010
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Wed, 04 Aug 2010 22:47:59 +0900
	=?iso-2022-jp?B?KBskQkVsNX4bKEIgKBskQkk4PWA7fhsoQikp?=
Subject: [Paraview] CoProcessing
In-Reply-To: <20100804.224030.267063796.oshima@eng.niigata-u.ac.jp>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<20100804.224030.267063796.oshima@eng.niigata-u.ac.jp>
Message-ID: <20100804.224759.212438126.oshima@eng.niigata-u.ac.jp>

Hi again,

This time I have a question: the demonstration of a live data
visualization at the bottom of the CoProcessing wiki page is
definitely awesome. When is the feature expected to be merged to the
git master of ParaView?

Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
Subject: Re: [Paraview] CoProcessing
Date: Wed, 04 Aug 2010 22:40:30 +0900 (?? (???))

> Hi Jacques,
> 
> I can share what I did with my own C++ simulation code. The caveats
> are that I only did a quick test so far and that my code is
> serial. But it's working. Take a look at the attached cxx file.

From andy.bauer at kitware.com  Wed Aug  4 10:38:08 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 4 Aug 2010 10:38:08 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
Message-ID: <AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>

Hi Jacques,

What type of data set do you have?  Even though the PHASTA adaptor (
ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
code it may give you an idea.  Also stepping through the example in
ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
may help as well.

I'll spend some time this week putting up a skeleton of a simulation code on
the coprocessing wiki that should hopefully be easier to follow.  I'll let
you know when it's done.

Andy

On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Hi All,
>
> Sorry for my last post, I figured out that I had wrongly set my
> PYTHONPATH..
> All the tests work ok now. Still interested in CoProcessing adaptors
> examples though :)
>
> Thanks
> Jacques
>
> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>
>
>> Hi All,
>>
>> I'm starting to look into the ParaView CoProcessing libraries.
>> I just pulled from git today, and compiled it all up following the
>> guidelines in :
>> http://www.paraview.org/Wiki/CoProcessing
>> I didn't find :
>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>> *but instead :
>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>> anyway the compilation went through without any issues.
>> I then tried :
>>
>> ctest -R CoProcessing
>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>     Start 491: CoProcessingTestPythonScript
>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45
>> sec
>>     Start 492: CoProcessingPythonScriptGridPlot
>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09
>> sec
>>     Start 493: CoProcessingPythonScriptPressurePlot
>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09
>> sec
>>
>> 33% tests passed, 2 tests failed out of 3
>>
>> Total Test time (real) =   0.68 sec
>>
>> The following tests FAILED:
>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>> Errors while running CTest
>>
>> Is this a problem in my current installation or on the master branch ?
>>
>> Finally, I would like to start writing an adaptor to a C++ parallelised
>> code. Can you tell me what is the closest code I can inspire myself from ?
>>
>>
>> Thank you,
>> Jacques
>>
>>
>> PS sorry mixed up the subjects..
>>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/cd9f749f/attachment.htm>

From oshima at eng.niigata-u.ac.jp  Wed Aug  4 10:43:18 2010
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Wed, 04 Aug 2010 23:43:18 +0900
	=?iso-2022-jp?B?KBskQkVsNX4bKEIgKBskQkk4PWA7fhsoQikp?=
Subject: [Paraview] CoProcessing
In-Reply-To: <20100804.224030.267063796.oshima@eng.niigata-u.ac.jp>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<20100804.224030.267063796.oshima@eng.niigata-u.ac.jp>
Message-ID: <20100804.234318.254089881.oshima@eng.niigata-u.ac.jp>

I try to resend my mail as there seems to be a heavy delivery delay or
the mail was lost... Sorry if this is going to be a double post.

Takuya

------

Hi Jacques,

I can share what I did with my own C++ simulation code. The caveats
are that I only did a quick test so far and that my code is
serial. But it's working. Take a look at the attached cxx file.

Initializations are in
  fdmCoProcessing(fdmTimeInfo *tInfo) and
  fdmCoProcessing::Parse(vtkXMLDataElement *coproc).
Replace source->GetCharacterData() in Parse() with the file name of
your Python script created by the ParaView coprocessing script
generator plugin.

Per-time step processings are in
  fdmCoProcessing::Exec().
Replace this->TimeInfo->GetGrid() with the output of your
adaptor. Perhaps this is where you have to elaborate.

Finalizations are in
  fdmCoProcessing::~fdmCoProcessing().

If your project is CMake-based, add
  FIND_PACKAGE(ParaView REQUIRED)
  INCLUDE(${PARAVIEW_USE_FILE})
to your CMakeLists.txt and vtkCoProcessor to your TARGET_LINK_LIBRARIES.

If my example is not enough you can also take a look at
ParaView/CoProcessing/CoProcessor/Testing/TestDriver
but I'm afraid it might be a bit too overwhelming as a starting point.

Hope this helps,
Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Jacques Papper <jacques.papper at gmail.com>
Subject: Re: [Paraview] CoProcessing
Date: Wed, 4 Aug 2010 13:02:36 +0100

> * Hi All,
> 
> Sorry for my last post, I figured out that I had wrongly set my PYTHONPATH..
> All the tests work ok now. Still interested in CoProcessing adaptors examples
> though :)
> 
> Thanks
> Jacques
> 
> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
> 
>     Hi All,
>    
>     I'm starting to look into the ParaView CoProcessing libraries.
>     I just pulled from git today, and compiled it all up following the
>     guidelines in :
>     http://www.paraview.org/Wiki/CoProcessing
>     I didn't find :
>     BUILD_PYTHON_COPROCESSING_ADAPTOR
>     but instead :
>     PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>     anyway the compilation went through without any issues.
>     I then tried :
>    
>     ctest -R CoProcessing
>     Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>     ??? Start 491: CoProcessingTestPythonScript
>     1/3 Test #491: CoProcessingTestPythonScript ...........?? Passed??? 0.45
>     sec
>     ??? Start 492: CoProcessingPythonScriptGridPlot
>     2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed??? 0.09
>     sec
>     ??? Start 493: CoProcessingPythonScriptPressurePlot
>     3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed??? 0.09
>     sec
>    
>     33% tests passed, 2 tests failed out of 3
>    
>     Total Test time (real) =?? 0.68 sec
>    
>     The following tests FAILED:
>     ??????? 492 - CoProcessingPythonScriptGridPlot (Failed)
>     ??????? 493 - CoProcessingPythonScriptPressurePlot (Failed)
>     Errors while running CTest
>    
>     Is this a problem in my current installation or on the master branch ?
>    
>     Finally, I would like to start writing an adaptor to a C++ parallelised
>     code. Can you tell me what is the closest code I can inspire myself from ?
> 
>     Thank you,
>     Jacques
> 
>     PS sorry mixed up the subjects..
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fdmCoProcessing.cxx
Type: application/octet-stream
Size: 1814 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/5b9cb0fa/attachment.obj>

From emonson at cs.duke.edu  Wed Aug  4 10:45:25 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Wed, 4 Aug 2010 10:45:25 -0400
Subject: [Paraview] HDF5 files with time dimension & ParaView
In-Reply-To: <AANLkTin1yVzoBOiY4E+iLeC3nw7Q4uZJ1XDRgf=cht0M@mail.gmail.com>
References: <000301cb3016$d43fdd00$7cbf9700$@cam.ac.uk>
	<AANLkTin1yVzoBOiY4E+iLeC3nw7Q4uZJ1XDRgf=cht0M@mail.gmail.com>
Message-ID: <8F6F4251-DDD4-4665-A36A-E4AEBB609054@cs.duke.edu>

Hey Pawel,

I think I got 4D->time to work with ParaView and Xdmf using a little test data set I wrote. I was able to use the "HyperSlab" functionality in Xdmf to pick out the correct data set from the 4th dimension for each time step. 

Note: The only problem I'm having so far is that it loads into the ParaView git development head and PV 3.6.2 just fine, but PV 3.8.0 crashes. (At times there have been problems with reading Xdmf files using HyperSlab, so maybe I'm doing something wrong, or maybe there were some bugs with the Xdmf reader in 3.8.0...?)

The little HDF5 file I generated just has a 5x5x5x3 array of 32-bit integers where the "time" axis is the 4th dimension, and the grid contains all ones in the first step, twos in the second and threes in the third block. I'll attach both the HDF5 file and the .xmf file.

Hope this helps,
-Eric

-------------- next part --------------
A non-text attachment was scrubbed...
Name: array4d_1.h5
Type: application/octet-stream
Size: 3548 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/ec3f5eae/attachment-0002.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: array4d_1.xmf
Type: application/octet-stream
Size: 3118 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/ec3f5eae/attachment-0003.obj>
-------------- next part --------------


On Aug 3, 2010, at 4:34 PM, Berk Geveci wrote:

> Xdmf may allow you to do this. I am not 100% sure. See
> xdmf.org. Please report back here if you try it out.
> 
> Best,
> -berk
> 
> On Fri, Jul 30, 2010 at 2:41 PM,  <pkj22 at eng.cam.ac.uk> wrote:
>> Greetings ParaView Users,
>> 
>> I am currently running simulations using MEEP (
>> http://ab-initio.mit.edu/wiki/index.php/Meep ), which generates output files
>> in HDF5 format. Opening HDF5 3-dimensional files works ok with ParaView (it
>> is recognized as Pixie 1.0 - I normally convert these files to VTK for
>> convenience). However, MEEP can also generate 4-D HDF5 files, where the
>> fourth dimension is time. Is there a way to view such files in ParaView and
>> navigate along the time axis?
>> Thank you in advance :-)
>> 
>> Pawel Jasnos
>> 
>> _______________________________________________
>> Powered by www.kitware.com
>> 
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>> 
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>> 
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From oshima at eng.niigata-u.ac.jp  Wed Aug  4 09:40:30 2010
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Wed, 04 Aug 2010 22:40:30 +0900
	=?iso-2022-jp?B?KBskQkVsNX4bKEIgKBskQkk4PWA7fhsoQikp?=
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
Message-ID: <20100804.224030.267063796.oshima@eng.niigata-u.ac.jp>

Hi Jacques,

I can share what I did with my own C++ simulation code. The caveats
are that I only did a quick test so far and that my code is
serial. But it's working. Take a look at the attached cxx file.

Initializations are in
  fdmCoProcessing(fdmTimeInfo *tInfo) and
  fdmCoProcessing::Parse(vtkXMLDataElement *coproc).
Replace source->GetCharacterData() in Parse() with the file name of
your Python script created by the ParaView coprocessing script
generator plugin.

Per-time step processings are in
  fdmCoProcessing::Exec().
Replace this->TimeInfo->GetGrid() with the output of your
adaptor. Perhaps this is where you have to elaborate.

Finalizations are in
  fdmCoProcessing::~fdmCoProcessing().

If your project is CMake-based, add
  FIND_PACKAGE(ParaView REQUIRED)
  INCLUDE(${PARAVIEW_USE_FILE})
to your CMakeLists.txt and vtkCoProcessor to your TARGET_LINK_LIBRARIES.

If my example is not enough you can also take a look at
ParaView/CoProcessing/CoProcessor/Testing/TestDriver
but I'm afraid it might be a bit too overwhelming as a starting point.

Hope this helps,
Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Jacques Papper <jacques.papper at gmail.com>
Subject: Re: [Paraview] CoProcessing
Date: Wed, 4 Aug 2010 13:02:36 +0100

> * Hi All,
> 
> Sorry for my last post, I figured out that I had wrongly set my PYTHONPATH..
> All the tests work ok now. Still interested in CoProcessing adaptors examples
> though :)
> 
> Thanks
> Jacques
> 
> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
> 
>     Hi All,
>    
>     I'm starting to look into the ParaView CoProcessing libraries.
>     I just pulled from git today, and compiled it all up following the
>     guidelines in :
>     http://www.paraview.org/Wiki/CoProcessing
>     I didn't find :
>     BUILD_PYTHON_COPROCESSING_ADAPTOR
>     but instead :
>     PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>     anyway the compilation went through without any issues.
>     I then tried :
>    
>     ctest -R CoProcessing
>     Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>     ??? Start 491: CoProcessingTestPythonScript
>     1/3 Test #491: CoProcessingTestPythonScript ...........?? Passed??? 0.45
>     sec
>     ??? Start 492: CoProcessingPythonScriptGridPlot
>     2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed??? 0.09
>     sec
>     ??? Start 493: CoProcessingPythonScriptPressurePlot
>     3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed??? 0.09
>     sec
>    
>     33% tests passed, 2 tests failed out of 3
>    
>     Total Test time (real) =?? 0.68 sec
>    
>     The following tests FAILED:
>     ??????? 492 - CoProcessingPythonScriptGridPlot (Failed)
>     ??????? 493 - CoProcessingPythonScriptPressurePlot (Failed)
>     Errors while running CTest
>    
>     Is this a problem in my current installation or on the master branch ?
>    
>     Finally, I would like to start writing an adaptor to a C++ parallelised
>     code. Can you tell me what is the closest code I can inspire myself from ?
> 
>     Thank you,
>     Jacques
> 
>     PS sorry mixed up the subjects..
> 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: fdmCoProcessing.cxx
Type: application/octet-stream
Size: 1814 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/d45dec1c/attachment.obj>

From jacques.papper at gmail.com  Wed Aug  4 11:58:41 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Wed, 4 Aug 2010 16:58:41 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
Message-ID: <AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>

Thanks a lot Andy, Takuya,

I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for the
moment.
I know there were talks of getting POLYHEDRAL cell support in VTK. Do you
know if this is there yet?
My dataset is multiregion unstructured polyhedral mesh domain decomposed
amongst each processor.

Is the Phasta code parallelized ? If so, I do not see any MPI statements in
the adaptor code ?

Jacques

2010/8/4 Andy Bauer <andy.bauer at kitware.com>

> Hi Jacques,
>
> What type of data set do you have?  Even though the PHASTA adaptor (
> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
> code it may give you an idea.  Also stepping through the example in
> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
> may help as well.
>
> I'll spend some time this week putting up a skeleton of a simulation code
> on the coprocessing wiki that should hopefully be easier to follow.  I'll
> let you know when it's done.
>
> Andy
>
> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> Hi All,
>>
>> Sorry for my last post, I figured out that I had wrongly set my
>> PYTHONPATH..
>> All the tests work ok now. Still interested in CoProcessing adaptors
>> examples though :)
>>
>> Thanks
>> Jacques
>>
>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>
>>
>>> Hi All,
>>>
>>> I'm starting to look into the ParaView CoProcessing libraries.
>>> I just pulled from git today, and compiled it all up following the
>>> guidelines in :
>>> http://www.paraview.org/Wiki/CoProcessing
>>> I didn't find :
>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>> *but instead :
>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>> anyway the compilation went through without any issues.
>>> I then tried :
>>>
>>> ctest -R CoProcessing
>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>     Start 491: CoProcessingTestPythonScript
>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45
>>> sec
>>>     Start 492: CoProcessingPythonScriptGridPlot
>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09
>>> sec
>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09
>>> sec
>>>
>>> 33% tests passed, 2 tests failed out of 3
>>>
>>> Total Test time (real) =   0.68 sec
>>>
>>> The following tests FAILED:
>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>> Errors while running CTest
>>>
>>> Is this a problem in my current installation or on the master branch ?
>>>
>>> Finally, I would like to start writing an adaptor to a C++ parallelised
>>> code. Can you tell me what is the closest code I can inspire myself from ?
>>>
>>>
>>> Thank you,
>>> Jacques
>>>
>>>
>>> PS sorry mixed up the subjects..
>>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/cc6cc937/attachment.htm>

From emonson at cs.duke.edu  Wed Aug  4 12:04:18 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Wed, 4 Aug 2010 12:04:18 -0400
Subject: [Paraview] AttributeError when transforming vector field
In-Reply-To: <59917.131.215.65.48.1280872960.squirrel@webmail.caltech.edu>
References: <59917.131.215.65.48.1280872960.squirrel@webmail.caltech.edu>
Message-ID: <FFD1871C-5F6A-4516-807A-68FA9D3652A2@cs.duke.edu>

Hey Camilla,

Is there a reason you're specifying Unstructured Grid on the input and PolyData on the output? Are you trying to use the Programmable Filter to change the data type? I'm wondering if this might be the problem with pdo coming out as None? (Are you setting the Output Data Set Type to PolyData?)

If you're okay with preserving the original data type, you could do something a little simpler which works for me when I test it with a Wavelet Source on which I've run the Gradient filter to get some vector data (and then I tried using a Threshold to change the data type to Unstructured grid in 3d, or slice to try a 2d PolyData before the Programmable Filter, and these worked out fine, too). I think I got the matrix multiplication right, but you'd better check... :)

# ----------------
from paraview import numpy_support as NS
import numpy as N

pdi = self.GetInputDataObject(0,0)
pdo = self.GetOutputDataObject(0)
pdo.ShallowCopy(pdi)

import math

tX = math.radians(5.67)
tY = math.radians(-107.761)
tZ = math.radians(-49.432)

r11 = math.cos(tY)*math.cos(tZ) + math.sin(tX)*math.sin(tY)*math.sin(tZ)
r12 = math.sin(tZ)*math.cos(tX)
r13 = -math.sin(tY)*math.cos(tZ) + math.sin(tX)*math.sin(tZ)*math.cos(tY)
r21 = -math.sin(tZ)*math.cos(tY) - math.cos(tZ)*math.sin(tX)*math.sin(tY)
r22 = math.cos(tX)*math.cos(tZ)
r23 = math.sin(tY)*math.sin(tZ) + math.cos(tZ)*math.cos(tY)*math.sin(tX)
r31 = math.cos(tX)*math.sin(tY)
r32 = -math.sin(tX)
r33 = math.cos(tY)*math.cos(tX)

rr = N.mat([[r11, r12, r13], [r21, r22, r23], [r31, r32, r33]])

vel0 = pdi.GetPointData().GetArray('RTDataGradient')
vel0mat = N.mat(NS.vtk_to_numpy(vel0))
velTrans = vel0mat*rr.T

velNew = NS.numpy_to_vtk(velTrans)
velNew.SetName('TransfVelocity')
pdo.GetPointData().AddArray(velNew)
# ----------------

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 3, 2010, at 6:02 PM, ccattani at caltech.edu wrote:

> Hi,
> 
> I am new to Paraview, and I need to write a programmable filter to
> transform a vector field. My filter (below) works when applied to a 2D
> slice extracted from the data, but when I change the input to the original
> 3D dataset, I get the error:
> 
> AttributeError: 'NoneType' object has no attribute 'SetPoints'.
> 
> Any idea of why this happens, and how to fix it?
> Thank you in advance for your help!
> 
> Camilla
> 
> ---------------here's my script:------------------------------------
> 
> import math
> tX=math.radians(5.67)
> tY=math.radians(-107.761)
> tZ=math.radians(-49.432)
> 
> r11=math.cos(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tY)*math.sin(tZ)
> r12=math.sin(tZ)*math.cos(tX)
> r13=-math.sin(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tZ)*math.cos(tY)
> r21=-math.sin(tZ)*math.cos(tY)-math.cos(tZ)*math.sin(tX)*math.sin(tY)
> r22=math.cos(tX)*math.cos(tZ)
> r23=math.sin(tY)*math.sin(tZ)+math.cos(tZ)*math.cos(tY)*math.sin(tX)
> r31=math.cos(tX)*math.sin(tY)
> r32=-math.sin(tX)
> r33=math.cos(tY)*math.cos(tX)
> 
> pdi = self.GetUnstructuredGridInput()
> pdo =  self.GetPolyDataOutput()
> newPoints = vtk.vtkPoints()
> numPoints = pdi.GetNumberOfPoints()
> vel0=pdi.GetPointData().GetArray('velocity')
> vel=vtk.vtkFloatArray()
> vel.SetNumberOfComponents(3)
> vel.SetName('TransfVelocity')
> vel.SetNumberOfTuples(numPoints)
> 
> for i in range(0, numPoints):
>     coord = pdi.GetPoint(i)
>     x,y,z=coord[:3]
>     newPoints.InsertPoint(i, x, y, z)
>     vx=vel0.GetValue(i*3)
>     vy=vel0.GetValue(i*3+1)
>     vz=vel0.GetValue(i*3+2)
>     vxt= r11*vx + r12*vy + r13*vz
>     vyt= r21*vx + r22*vy + r23*vz
>     vzt= r31*vx + r32*vy + r33*vz
>     vel.SetTuple3(i,vxt,vyt,vzt)
> 
> pdo.SetPoints(newPoints)
> pdo.GetPointData().AddArray(vel)
> 
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From andy.bauer at kitware.com  Wed Aug  4 12:14:50 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 4 Aug 2010 12:14:50 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
Message-ID: <AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>

Hi Jacques,

There is a polyhedra cell type in VTK now --
http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
As far as I know it works with all of the proper filters but since I haven't
tried it yet I won't promise that.  The good news is that Will Schroeder had
a high interest in it and probably worked on some of it so I'd assume that
it's working quite well right now.

As for Phasta, it does run in parallel (as props to their developers it was
a finalist for the 2009 Gordon Bell prize).  The grid is already partitioned
and each process runs the adaptor and creates an unstructured grid from its
portion of the partitioned mesh.  Thus, there isn't any need for mpi calls
in the adaptor code.  If you had ghost cell information in your partitioned
mesh and wanted to get fancy you should be able to add that to your
partitioned grid to make some of the filters faster but I haven't tried
that.

Andy

On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Thanks a lot Andy, Takuya,
>
> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for the
> moment.
> I know there were talks of getting POLYHEDRAL cell support in VTK. Do you
> know if this is there yet?
> My dataset is multiregion unstructured polyhedral mesh domain decomposed
> amongst each processor.
>
> Is the Phasta code parallelized ? If so, I do not see any MPI statements in
> the adaptor code ?
>
> Jacques
>
> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>
> Hi Jacques,
>>
>> What type of data set do you have?  Even though the PHASTA adaptor (
>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>> code it may give you an idea.  Also stepping through the example in
>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>> may help as well.
>>
>> I'll spend some time this week putting up a skeleton of a simulation code
>> on the coprocessing wiki that should hopefully be easier to follow.  I'll
>> let you know when it's done.
>>
>> Andy
>>
>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <jacques.papper at gmail.com>wrote:
>>
>>>  Hi All,
>>>
>>> Sorry for my last post, I figured out that I had wrongly set my
>>> PYTHONPATH..
>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>> examples though :)
>>>
>>> Thanks
>>> Jacques
>>>
>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>
>>>
>>>> Hi All,
>>>>
>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>> I just pulled from git today, and compiled it all up following the
>>>> guidelines in :
>>>> http://www.paraview.org/Wiki/CoProcessing
>>>> I didn't find :
>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>> *but instead :
>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>> anyway the compilation went through without any issues.
>>>> I then tried :
>>>>
>>>> ctest -R CoProcessing
>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>     Start 491: CoProcessingTestPythonScript
>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45
>>>> sec
>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09
>>>> sec
>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09
>>>> sec
>>>>
>>>> 33% tests passed, 2 tests failed out of 3
>>>>
>>>> Total Test time (real) =   0.68 sec
>>>>
>>>> The following tests FAILED:
>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>> Errors while running CTest
>>>>
>>>> Is this a problem in my current installation or on the master branch ?
>>>>
>>>> Finally, I would like to start writing an adaptor to a C++ parallelised
>>>> code. Can you tell me what is the closest code I can inspire myself from ?
>>>>
>>>>
>>>> Thank you,
>>>> Jacques
>>>>
>>>>
>>>> PS sorry mixed up the subjects..
>>>>
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/6145db13/attachment.htm>

From pat.marion at kitware.com  Wed Aug  4 13:30:33 2010
From: pat.marion at kitware.com (pat marion)
Date: Wed, 4 Aug 2010 13:30:33 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
Message-ID: <AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>

Below is a simple cxx program I have used for testing.  It creates one
sphere per process, positions the sphere as a function of the process id,
and the spheres grow/shrink over time.

Pat

#include "vtkCPProcessor.h"
#include "vtkCPPythonScriptPipeline.h"
#include "vtkMultiProcessController.h"
#include "vtkXMLUnstructuredGridReader.h"
#include "vtkUnstructuredGrid.h"
#include "vtkCPDataDescription.h"
#include "vtkCPInputDataDescription.h"
#include "vtkSmartPointer.h"
#include "vtkPolyData.h"
#include "vtkSphereSource.h"

#include <stdio.h>
#include <string>
#include <sstream>

static unsigned int procId;

void myprint(const std::string& str)
{
  printf("driver (%u): %s\n", procId, str.c_str());
}

class DataGenerator {
public:

  DataGenerator()
    {
    this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
    this->Sphere->SetThetaResolution(30);
    this->Sphere->SetPhiResolution(30);
    this->Sphere->SetCenter(procId*4.0, 0, 0);
    this->Index = 0;
    }

  vtkSmartPointer<vtkPolyData> GetNext()
    {
    double radius = fabs(sin(0.1 * this->Index));
    this->Index++;
    this->Sphere->SetRadius(1.0 + radius);
    this->Sphere->Update();
    vtkSmartPointer<vtkPolyData> ret = vtkSmartPointer<vtkPolyData>::New();
    ret->DeepCopy(this->Sphere->GetOutput());
    return ret;
    }

protected:

  int Index;
  vtkSmartPointer<vtkSphereSource> Sphere;


};

int main(int argc, char* argv[])
{
  if (argc < 3)
    {
    printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
    return 1;
    }

  std::string cpPythonFile = argv[1];
  int nSteps = atoi(argv[2]);

  myprint("starting coprocessor");

  vtkCPProcessor* processor = vtkCPProcessor::New();
  processor->Initialize();
  vtkCPPythonScriptPipeline* pipeline = vtkCPPythonScriptPipeline::New();

  // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
  procId =
vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();


  // read the coprocessing python file
  myprint("loading pipeline python file: " + cpPythonFile);
  int success = pipeline->Initialize(cpPythonFile.c_str());
  if (!success)
    {
    myprint("aborting");
    return 1;
    }

  processor->AddPipeline(pipeline);
  pipeline->Delete();

  if (nSteps == 0)
    {
    return 0;
    }

  // create a data source
  DataGenerator generator;

  // do coprocessing
  double tStart = 0.0;
  double tEnd = 1.0;
  double stepSize = (tEnd - tStart)/nSteps;

  vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
  dataDesc->AddInput("input");

  for (int i = 0; i < nSteps; ++i)
    {

    double currentTime = tStart + stepSize*i;
    std::stringstream timeStr;
    timeStr << "time(" << i << ", " << currentTime << ")";


    dataDesc->SetTimeData(currentTime, i);

    myprint("call RequestDataDescription, " + timeStr.str());
    int do_coprocessing = processor->RequestDataDescription(dataDesc);

    if (do_coprocessing)
      {
      myprint("calling CoProcess, " + timeStr.str());

      vtkSmartPointer<vtkDataObject> dataObject =
        generator.GetNext();

      dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
      processor->CoProcess(dataDesc);
      }
    }


  myprint("finalizing");
  dataDesc->Delete();
  processor->Finalize();
  processor->Delete();

  return 0;
}



On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Hi Jacques,
>
> There is a polyhedra cell type in VTK now --
> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
> As far as I know it works with all of the proper filters but since I
> haven't tried it yet I won't promise that.  The good news is that Will
> Schroeder had a high interest in it and probably worked on some of it so I'd
> assume that it's working quite well right now.
>
> As for Phasta, it does run in parallel (as props to their developers it was
> a finalist for the 2009 Gordon Bell prize).  The grid is already partitioned
> and each process runs the adaptor and creates an unstructured grid from its
> portion of the partitioned mesh.  Thus, there isn't any need for mpi calls
> in the adaptor code.  If you had ghost cell information in your partitioned
> mesh and wanted to get fancy you should be able to add that to your
> partitioned grid to make some of the filters faster but I haven't tried
> that.
>
> Andy
>
>
> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> Thanks a lot Andy, Takuya,
>>
>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for the
>> moment.
>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do you
>> know if this is there yet?
>> My dataset is multiregion unstructured polyhedral mesh domain decomposed
>> amongst each processor.
>>
>> Is the Phasta code parallelized ? If so, I do not see any MPI statements
>> in the adaptor code ?
>>
>> Jacques
>>
>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>
>> Hi Jacques,
>>>
>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>> code it may give you an idea.  Also stepping through the example in
>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>> may help as well.
>>>
>>> I'll spend some time this week putting up a skeleton of a simulation code
>>> on the coprocessing wiki that should hopefully be easier to follow.  I'll
>>> let you know when it's done.
>>>
>>> Andy
>>>
>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <jacques.papper at gmail.com
>>> > wrote:
>>>
>>>>  Hi All,
>>>>
>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>> PYTHONPATH..
>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>> examples though :)
>>>>
>>>> Thanks
>>>> Jacques
>>>>
>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>
>>>>
>>>>> Hi All,
>>>>>
>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>> I just pulled from git today, and compiled it all up following the
>>>>> guidelines in :
>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>> I didn't find :
>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>> *but instead :
>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>> anyway the compilation went through without any issues.
>>>>> I then tried :
>>>>>
>>>>> ctest -R CoProcessing
>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>     Start 491: CoProcessingTestPythonScript
>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>> 0.45 sec
>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>> 0.09 sec
>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>> 0.09 sec
>>>>>
>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>
>>>>> Total Test time (real) =   0.68 sec
>>>>>
>>>>> The following tests FAILED:
>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>> Errors while running CTest
>>>>>
>>>>> Is this a problem in my current installation or on the master branch ?
>>>>>
>>>>> Finally, I would like to start writing an adaptor to a C++ parallelised
>>>>> code. Can you tell me what is the closest code I can inspire myself from ?
>>>>>
>>>>>
>>>>> Thank you,
>>>>> Jacques
>>>>>
>>>>>
>>>>> PS sorry mixed up the subjects..
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/461e6bcc/attachment-0001.htm>

From ccattani at caltech.edu  Wed Aug  4 14:05:46 2010
From: ccattani at caltech.edu (ccattani at caltech.edu)
Date: Wed, 4 Aug 2010 11:05:46 -0700 (PDT)
Subject: [Paraview] AttributeError when transforming vector field
In-Reply-To: <FFD1871C-5F6A-4516-807A-68FA9D3652A2@cs.duke.edu>
References: <59917.131.215.65.48.1280872960.squirrel@webmail.caltech.edu>
	<FFD1871C-5F6A-4516-807A-68FA9D3652A2@cs.duke.edu>
Message-ID: <43264.131.215.65.48.1280945146.squirrel@webmail.caltech.edu>

Hi Eric,

thank you for your reply!
The problem was indeed the output type, and is was solved by changing
self.GetPolyDataOutput to simply self.GetOutput.
Using matrices from the numpy module seems a much more sensible way than
doing the tranformation manually as I was doing in my script - thanks!

Camilla


> Hey Camilla,
>
> Is there a reason you're specifying Unstructured Grid on the input and
> PolyData on the output? Are you trying to use the Programmable Filter to
> change the data type? I'm wondering if this might be the problem with pdo
> coming out as None? (Are you setting the Output Data Set Type to
> PolyData?)
>
> If you're okay with preserving the original data type, you could do
> something a little simpler which works for me when I test it with a
> Wavelet Source on which I've run the Gradient filter to get some vector
> data (and then I tried using a Threshold to change the data type to
> Unstructured grid in 3d, or slice to try a 2d PolyData before the
> Programmable Filter, and these worked out fine, too). I think I got the
> matrix multiplication right, but you'd better check... :)
>
> # ----------------
> from paraview import numpy_support as NS
> import numpy as N
>
> pdi = self.GetInputDataObject(0,0)
> pdo = self.GetOutputDataObject(0)
> pdo.ShallowCopy(pdi)
>
> import math
>
> tX = math.radians(5.67)
> tY = math.radians(-107.761)
> tZ = math.radians(-49.432)
>
> r11 = math.cos(tY)*math.cos(tZ) + math.sin(tX)*math.sin(tY)*math.sin(tZ)
> r12 = math.sin(tZ)*math.cos(tX)
> r13 = -math.sin(tY)*math.cos(tZ) + math.sin(tX)*math.sin(tZ)*math.cos(tY)
> r21 = -math.sin(tZ)*math.cos(tY) - math.cos(tZ)*math.sin(tX)*math.sin(tY)
> r22 = math.cos(tX)*math.cos(tZ)
> r23 = math.sin(tY)*math.sin(tZ) + math.cos(tZ)*math.cos(tY)*math.sin(tX)
> r31 = math.cos(tX)*math.sin(tY)
> r32 = -math.sin(tX)
> r33 = math.cos(tY)*math.cos(tX)
>
> rr = N.mat([[r11, r12, r13], [r21, r22, r23], [r31, r32, r33]])
>
> vel0 = pdi.GetPointData().GetArray('RTDataGradient')
> vel0mat = N.mat(NS.vtk_to_numpy(vel0))
> velTrans = vel0mat*rr.T
>
> velNew = NS.numpy_to_vtk(velTrans)
> velNew.SetName('TransfVelocity')
> pdo.GetPointData().AddArray(velNew)
> # ----------------
>
> Talk to you later,
> -Eric
>
> ------------------------------------------------------
> Eric E Monson
> Duke Visualization Technology Group
>
>
> On Aug 3, 2010, at 6:02 PM, ccattani at caltech.edu wrote:
>
>> Hi,
>>
>> I am new to Paraview, and I need to write a programmable filter to
>> transform a vector field. My filter (below) works when applied to a 2D
>> slice extracted from the data, but when I change the input to the
>> original
>> 3D dataset, I get the error:
>>
>> AttributeError: 'NoneType' object has no attribute 'SetPoints'.
>>
>> Any idea of why this happens, and how to fix it?
>> Thank you in advance for your help!
>>
>> Camilla
>>
>> ---------------here's my script:------------------------------------
>>
>> import math
>> tX=math.radians(5.67)
>> tY=math.radians(-107.761)
>> tZ=math.radians(-49.432)
>>
>> r11=math.cos(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tY)*math.sin(tZ)
>> r12=math.sin(tZ)*math.cos(tX)
>> r13=-math.sin(tY)*math.cos(tZ)+math.sin(tX)*math.sin(tZ)*math.cos(tY)
>> r21=-math.sin(tZ)*math.cos(tY)-math.cos(tZ)*math.sin(tX)*math.sin(tY)
>> r22=math.cos(tX)*math.cos(tZ)
>> r23=math.sin(tY)*math.sin(tZ)+math.cos(tZ)*math.cos(tY)*math.sin(tX)
>> r31=math.cos(tX)*math.sin(tY)
>> r32=-math.sin(tX)
>> r33=math.cos(tY)*math.cos(tX)
>>
>> pdi = self.GetUnstructuredGridInput()
>> pdo =  self.GetPolyDataOutput()
>> newPoints = vtk.vtkPoints()
>> numPoints = pdi.GetNumberOfPoints()
>> vel0=pdi.GetPointData().GetArray('velocity')
>> vel=vtk.vtkFloatArray()
>> vel.SetNumberOfComponents(3)
>> vel.SetName('TransfVelocity')
>> vel.SetNumberOfTuples(numPoints)
>>
>> for i in range(0, numPoints):
>>     coord = pdi.GetPoint(i)
>>     x,y,z=coord[:3]
>>     newPoints.InsertPoint(i, x, y, z)
>>     vx=vel0.GetValue(i*3)
>>     vy=vel0.GetValue(i*3+1)
>>     vz=vel0.GetValue(i*3+2)
>>     vxt= r11*vx + r12*vy + r13*vz
>>     vyt= r21*vx + r22*vy + r23*vz
>>     vzt= r31*vx + r32*vy + r33*vz
>>     vel.SetTuple3(i,vxt,vyt,vzt)
>>
>> pdo.SetPoints(newPoints)
>> pdo.GetPointData().AddArray(vel)
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>



From eranders at sci.utah.edu  Wed Aug  4 17:52:08 2010
From: eranders at sci.utah.edu (Erik Anderson)
Date: Wed, 04 Aug 2010 15:52:08 -0600
Subject: [Paraview] Gathering information about python wrappers
In-Reply-To: <4C56E870.6050006@sci.utah.edu>
References: <4C56E870.6050006@sci.utah.edu>
Message-ID: <4C59E108.8070803@sci.utah.edu>

Hi all,
    I am trying to gather information about the Python-wrapped classes 
provided by the paraview.simple API.  So far, I have a script that uses 
some introspection and gets a lot done, but I'm left with a strange 
abort trap before things complete (in addition to some other strange 
errors).  The following script will reproduce all errors that I've seen 
and cannot explain.

 >>> import paraview.simple as pv
paraview version 3.8.0, Date: 2010-03-26

#  Some modules don't seem to like being instantiated at all...
 >>> forbidden = ["AlltoN", "Balance", "CTHSurface"]

#  Grab all possible objects from the package
 >>> l = dir(pv)

# Just create an object for each module and then destroy it to make sure 
we can get through the list...
 >>> for m in l:

# If it doesn't like being created, just skip it for now.
 >>>   if forbidden.__contains__(m):
 >>>     continue

# Grab a handle to the wrapper
 >>>   mod = getattr(pv, m)

# Make sure it's a createable object.
 >>>   if hasattr(mod, "func_name"):
 >>>     if mod.func_name == "CreateObject":

#  Create it and then delete it... This will eventually be necessary to 
inspect it's class methods.
 >>>       pv_instance = getattr(pv, m)()
 >>>       del pv_instance

One of the questionable errors that does NOT cause the script to fail 
and exit -- I've found that this happens upon instantiation of the Clip 
module (although a handful of others show this as well):

ERROR: In 
/Users/erikanderson/env/ParaView-3.8.0/VTK/Filtering/vtkExecutive.cxx, 
line 756
vtkCompositeDataPipeline (0x10ac101a0): Algorithm 
vtkPVArrayCalculator(0x10ac0dbe0) returned failure for request: 
vtkInformation (0x10ac37ed0)
  Debug: Off
  Modified Time: 182297
  Reference Count: 1
  Registered Events: (none)
  Request: REQUEST_DATA_OBJECT
  FORWARD_DIRECTION: 0
  ALGORITHM_AFTER_FORWARD: 1
  FROM_OUTPUT_PORT: 0



ERROR: In 
/Users/erikanderson/env/ParaView-3.8.0/Servers/Common/vtkPVClassNameInformation.cxx, 
line 47
vtkPVClassNameInformation (0x10ac37e00): Cannot get class name from NULL 
object.

ERROR: In 
/Users/erikanderson/env/ParaView-3.8.0/Servers/ServerManager/vtkSMOutputPort.cxx, 
line 338
vtkSMOutputPort (0x10ac38070): Missing data information.

ERROR: In 
/Users/erikanderson/env/ParaView-3.8.0/VTK/Filtering/vtkExecutive.cxx, 
line 756
vtkCompositeDataPipeline (0x10ac101a0): Algorithm 
vtkPVArrayCalculator(0x10ac0dbe0) returned failure for request: 
vtkInformation (0x10ac37ed0)
  Debug: Off
  Modified Time: 182297
  Reference Count: 1
  Registered Events: (none)
  Request: REQUEST_DATA_OBJECT
  FORWARD_DIRECTION: 0
  ALGORITHM_AFTER_FORWARD: 1
  FROM_OUTPUT_PORT: 0



ERROR: In 
/Users/erikanderson/env/ParaView-3.8.0/Servers/Common/vtkPVDataInformation.cxx, 
line 588
vtkPVDataInformation (0x10ac38280): Could not cast object to a known 
data set: vtkAlgorithmOutput

The fatal error:

terminate called after throwing an instance of 'std::logic_error'
  what():  basic_string::_S_construct NULL not valid
Abort trap

This happens after instantiation of the Ribbon module; however, if I 
skip a few it happens at another one down the line.

Any help on this would be great!
Thanks,
Erik Anderson



From jamitch at sandia.gov  Wed Aug  4 19:09:51 2010
From: jamitch at sandia.gov (Mitchell, John A)
Date: Wed, 4 Aug 2010 17:09:51 -0600
Subject: [Paraview] Elasticity: deformed geometry
Message-ID: <74004B6E4BD2E644AC4D89FD20D262338B6546ABF9@ES03SNLNT.srn.sandia.gov>

Hi,

I'm plotting data for an elasticity type problem.   I have a set of point coordinates "x"  for a body.   The body is deformed by a vector displacement field "u" so that the deformed coordinates "y" are given by:

y=x+u

If the source data file is an 'exodus' file, pv can scale the displacements 'u' by a user specified value - say alpha.   Then y=x+alpha*u.   This is part of the pv gui interface and it can do this for all time steps.

However, if the input is a collection file associated with a bunch of "vtu" files (one for each time step), then it doesn't seem possible to have this same functionality.  Is there a way to get the exodus type behavior with a "vtu" type file?

Thanks,
John



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/b2d91b51/attachment.htm>

From jacques.papper at gmail.com  Wed Aug  4 19:21:39 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Thu, 5 Aug 2010 00:21:39 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
Message-ID: <AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>

Thanks Pat,

I am trying to compile my first attempt.
Although I do find the headers I need, I am having some trouble identifying
which libraries I need to link to.
For example, I assume that I should be linking to libvtkCoProcessor.so ...
Although I find this library in the compilation folder (under bin), I do not
find it in the make installed version under lib...
Is this normal ?

Best,
Jacques

2010/8/4 pat marion <pat.marion at kitware.com>

> Below is a simple cxx program I have used for testing.  It creates one
> sphere per process, positions the sphere as a function of the process id,
> and the spheres grow/shrink over time.
>
> Pat
>
> #include "vtkCPProcessor.h"
> #include "vtkCPPythonScriptPipeline.h"
> #include "vtkMultiProcessController.h"
> #include "vtkXMLUnstructuredGridReader.h"
> #include "vtkUnstructuredGrid.h"
> #include "vtkCPDataDescription.h"
> #include "vtkCPInputDataDescription.h"
> #include "vtkSmartPointer.h"
> #include "vtkPolyData.h"
> #include "vtkSphereSource.h"
>
> #include <stdio.h>
> #include <string>
> #include <sstream>
>
> static unsigned int procId;
>
> void myprint(const std::string& str)
> {
>   printf("driver (%u): %s\n", procId, str.c_str());
> }
>
> class DataGenerator {
> public:
>
>   DataGenerator()
>     {
>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>     this->Sphere->SetThetaResolution(30);
>     this->Sphere->SetPhiResolution(30);
>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>     this->Index = 0;
>     }
>
>   vtkSmartPointer<vtkPolyData> GetNext()
>     {
>     double radius = fabs(sin(0.1 * this->Index));
>     this->Index++;
>     this->Sphere->SetRadius(1.0 + radius);
>     this->Sphere->Update();
>     vtkSmartPointer<vtkPolyData> ret = vtkSmartPointer<vtkPolyData>::New();
>     ret->DeepCopy(this->Sphere->GetOutput());
>     return ret;
>     }
>
> protected:
>
>   int Index;
>   vtkSmartPointer<vtkSphereSource> Sphere;
>
>
> };
>
> int main(int argc, char* argv[])
> {
>   if (argc < 3)
>     {
>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>     return 1;
>     }
>
>   std::string cpPythonFile = argv[1];
>   int nSteps = atoi(argv[2]);
>
>   myprint("starting coprocessor");
>
>   vtkCPProcessor* processor = vtkCPProcessor::New();
>   processor->Initialize();
>   vtkCPPythonScriptPipeline* pipeline = vtkCPPythonScriptPipeline::New();
>
>   // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
>   procId =
> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>
>
>   // read the coprocessing python file
>   myprint("loading pipeline python file: " + cpPythonFile);
>   int success = pipeline->Initialize(cpPythonFile.c_str());
>   if (!success)
>     {
>     myprint("aborting");
>     return 1;
>     }
>
>   processor->AddPipeline(pipeline);
>   pipeline->Delete();
>
>   if (nSteps == 0)
>     {
>     return 0;
>     }
>
>   // create a data source
>   DataGenerator generator;
>
>   // do coprocessing
>   double tStart = 0.0;
>   double tEnd = 1.0;
>   double stepSize = (tEnd - tStart)/nSteps;
>
>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>   dataDesc->AddInput("input");
>
>   for (int i = 0; i < nSteps; ++i)
>     {
>
>     double currentTime = tStart + stepSize*i;
>     std::stringstream timeStr;
>     timeStr << "time(" << i << ", " << currentTime << ")";
>
>
>     dataDesc->SetTimeData(currentTime, i);
>
>     myprint("call RequestDataDescription, " + timeStr.str());
>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>
>     if (do_coprocessing)
>       {
>       myprint("calling CoProcess, " + timeStr.str());
>
>       vtkSmartPointer<vtkDataObject> dataObject =
>         generator.GetNext();
>
>       dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>       processor->CoProcess(dataDesc);
>       }
>     }
>
>
>   myprint("finalizing");
>   dataDesc->Delete();
>   processor->Finalize();
>   processor->Delete();
>
>   return 0;
>
> }
>
>
>
> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>
>> Hi Jacques,
>>
>> There is a polyhedra cell type in VTK now --
>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>> As far as I know it works with all of the proper filters but since I
>> haven't tried it yet I won't promise that.  The good news is that Will
>> Schroeder had a high interest in it and probably worked on some of it so I'd
>> assume that it's working quite well right now.
>>
>> As for Phasta, it does run in parallel (as props to their developers it
>> was a finalist for the 2009 Gordon Bell prize).  The grid is already
>> partitioned and each process runs the adaptor and creates an unstructured
>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>> for mpi calls in the adaptor code.  If you had ghost cell information in
>> your partitioned mesh and wanted to get fancy you should be able to add that
>> to your partitioned grid to make some of the filters faster but I haven't
>> tried that.
>>
>> Andy
>>
>>
>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <jacques.papper at gmail.com
>> > wrote:
>>
>>> Thanks a lot Andy, Takuya,
>>>
>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for the
>>> moment.
>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do you
>>> know if this is there yet?
>>> My dataset is multiregion unstructured polyhedral mesh domain decomposed
>>> amongst each processor.
>>>
>>> Is the Phasta code parallelized ? If so, I do not see any MPI statements
>>> in the adaptor code ?
>>>
>>> Jacques
>>>
>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>
>>> Hi Jacques,
>>>>
>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>> code it may give you an idea.  Also stepping through the example in
>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>> may help as well.
>>>>
>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>> I'll let you know when it's done.
>>>>
>>>> Andy
>>>>
>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>>  Hi All,
>>>>>
>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>> PYTHONPATH..
>>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>>> examples though :)
>>>>>
>>>>> Thanks
>>>>> Jacques
>>>>>
>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>
>>>>>
>>>>>> Hi All,
>>>>>>
>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>> guidelines in :
>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>> I didn't find :
>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>> *but instead :
>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>> anyway the compilation went through without any issues.
>>>>>> I then tried :
>>>>>>
>>>>>> ctest -R CoProcessing
>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>>> 0.45 sec
>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>>> 0.09 sec
>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>>> 0.09 sec
>>>>>>
>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>
>>>>>> Total Test time (real) =   0.68 sec
>>>>>>
>>>>>> The following tests FAILED:
>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>> Errors while running CTest
>>>>>>
>>>>>> Is this a problem in my current installation or on the master branch ?
>>>>>>
>>>>>>
>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>> myself from ?
>>>>>>
>>>>>>
>>>>>> Thank you,
>>>>>> Jacques
>>>>>>
>>>>>>
>>>>>> PS sorry mixed up the subjects..
>>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/de72cc8a/attachment-0001.htm>

From kmorel at sandia.gov  Wed Aug  4 19:28:57 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Wed, 4 Aug 2010 17:28:57 -0600
Subject: [Paraview] Elasticity: deformed geometry
In-Reply-To: <28347_1280963426_o74MxRPK029915_74004B6E4BD2E644AC4D89FD20D262338B6546ABF9@ES03SNLNT.srn.sandia.gov>
Message-ID: <C87F53D9.189BD%kmorel@sandia.gov>

John,

Apply the "Warp By Vector" filter.  In the common filters toolbar, it is the third from the right.  Its icon looks like a bending bar.

-Ken


On 8/4/10 5:09 PM, "Mitchell, John A" <jamitch at sandia.gov> wrote:

Hi,

I'm plotting data for an elasticity type problem.   I have a set of point coordinates "x"  for a body.   The body is deformed by a vector displacement field "u" so that the deformed coordinates "y" are given by:

y=x+u

If the source data file is an 'exodus' file, pv can scale the displacements 'u' by a user specified value - say alpha.   Then y=x+alpha*u.   This is part of the pv gui interface and it can do this for all time steps.

However, if the input is a collection file associated with a bunch of "vtu" files (one for each time step), then it doesn't seem possible to have this same functionality.  Is there a way to get the exodus type behavior with a "vtu" type file?

Thanks,
John






   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100804/476e3b53/attachment.htm>

From lester_anderson1963 at hotmail.com  Thu Aug  5 04:28:12 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Thu, 5 Aug 2010 09:28:12 +0100
Subject: [Paraview] Plotting sphere data
Message-ID: <SNT108-W153D83B07E63D9B9604C1B8A900@phx.gbl>


Hello

I have a global seismic tomography dataset which has the column format:

Longitude (degrees), Latitude (degrees). depth (km), velocity anomaly (delta_v)

Because the data map out the structure of the Earth's mantle it is a simple process to convert the depths to Earth radius distances, thus giving the position of the data point on and within the sphere.

What I need to know is whether there is an easy way of getting the data into Paraview and mapped as a 3D sphere particularly for doing whole Earth views? My aim is to get the data into Paraview so that it can be easily sliced.

Thanks for any guidance and help

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/b0296d81/attachment.htm>

From bassaidai0 at gmail.com  Thu Aug  5 09:29:17 2010
From: bassaidai0 at gmail.com (bassaidai)
Date: Thu, 5 Aug 2010 15:29:17 +0200
Subject: [Paraview] Suggestion about a new feature
Message-ID: <AANLkTi=Cw8A2t6_4JWEZVP59yYD2o2q+iBfX2BehXeLY@mail.gmail.com>

Hi,
do you think may be possible to select a background image (bmp, png, ...) in
the next releases of ParaView (now is possible to change only the background
color)?

Thank you very much
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/df385ae8/attachment.htm>

From utkarsh.ayachit at kitware.com  Thu Aug  5 09:37:07 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 5 Aug 2010 09:37:07 -0400
Subject: [Paraview] Suggestion about a new feature
In-Reply-To: <AANLkTi=Cw8A2t6_4JWEZVP59yYD2o2q+iBfX2BehXeLY@mail.gmail.com>
References: <AANLkTi=Cw8A2t6_4JWEZVP59yYD2o2q+iBfX2BehXeLY@mail.gmail.com>
Message-ID: <AANLkTikyY_OQacqDU30Rsj-HjVA7Yx+h1khaPHebMytX@mail.gmail.com>

Actually, that's already supported (although only in builtin mode
currently). Go to Edit | View Settings and the same place where you
specify the background color, there are options to load an image.

This has been supported since ParaView 3.8.

Utkarsh

On Thu, Aug 5, 2010 at 9:29 AM, bassaidai <bassaidai0 at gmail.com> wrote:
> Hi,
> do you think may be possible to select a background image (bmp, png, ...) in
> the next releases of ParaView (now is possible to change only the background
> color)?
>
> Thank you very much
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From berk.geveci at kitware.com  Thu Aug  5 09:57:48 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Thu, 5 Aug 2010 09:57:48 -0400
Subject: [Paraview] Gathering information about python wrappers
In-Reply-To: <4C59E108.8070803@sci.utah.edu>
References: <4C56E870.6050006@sci.utah.edu>
	<4C59E108.8070803@sci.utah.edu>
Message-ID: <AANLkTinas2XCx82YaqO75=nNosahgYwznXkzajJgTxxU@mail.gmail.com>

Hi Erik,

The proxy classes override getattr and in some instances, they do
extra work when an attribute is requested. For example, any attribute
related to data causes the underlying filter to execute RequestInformation,
which causes it to execute RequestDataObject. Some filters require
that the input is connected before RequestDataObject because their
output data type depends on the input data type. This will change in
the future but currently there is no easy way to get around it.

Instead of parsing all of the attributes of the proxies, you can simply
access the properties. I believe I sent information about how to do
that in a previous e-mail.

Alternatively, you can identify the attributes that give you the errors
and filter them out. However, I am not crazy about the idea of exposing
all of attributes of the proxy classes to VisTrails because some of
them may cause similar issues in the future if they are accessed
before the pipeline is connected.

-berk

On Wed, Aug 4, 2010 at 5:52 PM, Erik Anderson <eranders at sci.utah.edu> wrote:
> Hi all,
> ? I am trying to gather information about the Python-wrapped classes
> provided by the paraview.simple API. ?So far, I have a script that uses some
> introspection and gets a lot done, but I'm left with a strange abort trap
> before things complete (in addition to some other strange errors). ?The
> following script will reproduce all errors that I've seen and cannot
> explain.
>
>>>> import paraview.simple as pv
> paraview version 3.8.0, Date: 2010-03-26
>
> # ?Some modules don't seem to like being instantiated at all...
>>>> forbidden = ["AlltoN", "Balance", "CTHSurface"]
>
> # ?Grab all possible objects from the package
>>>> l = dir(pv)
>
> # Just create an object for each module and then destroy it to make sure we
> can get through the list...
>>>> for m in l:
>
> # If it doesn't like being created, just skip it for now.
>>>> ? if forbidden.__contains__(m):
>>>> ? ? continue
>
> # Grab a handle to the wrapper
>>>> ? mod = getattr(pv, m)
>
> # Make sure it's a createable object.
>>>> ? if hasattr(mod, "func_name"):
>>>> ? ? if mod.func_name == "CreateObject":
>
> # ?Create it and then delete it... This will eventually be necessary to
> inspect it's class methods.
>>>> ? ? ? pv_instance = getattr(pv, m)()
>>>> ? ? ? del pv_instance
>
> One of the questionable errors that does NOT cause the script to fail and
> exit -- I've found that this happens upon instantiation of the Clip module
> (although a handful of others show this as well):
>
> ERROR: In
> /Users/erikanderson/env/ParaView-3.8.0/VTK/Filtering/vtkExecutive.cxx, line
> 756
> vtkCompositeDataPipeline (0x10ac101a0): Algorithm
> vtkPVArrayCalculator(0x10ac0dbe0) returned failure for request:
> vtkInformation (0x10ac37ed0)
> ?Debug: Off
> ?Modified Time: 182297
> ?Reference Count: 1
> ?Registered Events: (none)
> ?Request: REQUEST_DATA_OBJECT
> ?FORWARD_DIRECTION: 0
> ?ALGORITHM_AFTER_FORWARD: 1
> ?FROM_OUTPUT_PORT: 0
>
>
>
> ERROR: In
> /Users/erikanderson/env/ParaView-3.8.0/Servers/Common/vtkPVClassNameInformation.cxx,
> line 47
> vtkPVClassNameInformation (0x10ac37e00): Cannot get class name from NULL
> object.
>
> ERROR: In
> /Users/erikanderson/env/ParaView-3.8.0/Servers/ServerManager/vtkSMOutputPort.cxx,
> line 338
> vtkSMOutputPort (0x10ac38070): Missing data information.
>
> ERROR: In
> /Users/erikanderson/env/ParaView-3.8.0/VTK/Filtering/vtkExecutive.cxx, line
> 756
> vtkCompositeDataPipeline (0x10ac101a0): Algorithm
> vtkPVArrayCalculator(0x10ac0dbe0) returned failure for request:
> vtkInformation (0x10ac37ed0)
> ?Debug: Off
> ?Modified Time: 182297
> ?Reference Count: 1
> ?Registered Events: (none)
> ?Request: REQUEST_DATA_OBJECT
> ?FORWARD_DIRECTION: 0
> ?ALGORITHM_AFTER_FORWARD: 1
> ?FROM_OUTPUT_PORT: 0
>
>
>
> ERROR: In
> /Users/erikanderson/env/ParaView-3.8.0/Servers/Common/vtkPVDataInformation.cxx,
> line 588
> vtkPVDataInformation (0x10ac38280): Could not cast object to a known data
> set: vtkAlgorithmOutput
>
> The fatal error:
>
> terminate called after throwing an instance of 'std::logic_error'
> ?what(): ?basic_string::_S_construct NULL not valid
> Abort trap
>
> This happens after instantiation of the Ribbon module; however, if I skip a
> few it happens at another one down the line.
>
> Any help on this would be great!
> Thanks,
> Erik Anderson
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From marcus.hanwell at kitware.com  Thu Aug  5 10:14:29 2010
From: marcus.hanwell at kitware.com (Marcus D. Hanwell)
Date: Thu, 5 Aug 2010 10:14:29 -0400
Subject: [Paraview] Contour on a 2d plot
In-Reply-To: <AANLkTik4NZtN3zbdt+kDYof7eajWMkDmwPj=JhJ7b3cm@mail.gmail.com>
References: <AANLkTik4NZtN3zbdt+kDYof7eajWMkDmwPj=JhJ7b3cm@mail.gmail.com>
Message-ID: <AANLkTinctE+1ok0zduum=USb0PFPnX5xuMwtWHRxneR6@mail.gmail.com>

On Wed, Aug 4, 2010 at 7:08 AM, Emanuele T. <nuovodna at gmail.com> wrote:

> Hi, i have some data in vtk in 3d. I made a slice and then a contour of a
> variable (a single value contour). Now i d like to plot this contour in a 2d
> plot with x-y axis
>
> This is the screenshot http://dl.dropbox.com/u/3617688/Screenshot.png
>
> I want the pic on the left on a plot similar to the pic on the right
>
> Thanks in advance
>
> This is something I am working towards, but it is not currently possible.

Thanks,

Marcus
--
Marcus D. Hanwell, Ph.D.
R&D Engineer, Kitware Inc.
(518) 881-4937
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/41cfd482/attachment.htm>

From rreis at aero.ist.utl.pt  Thu Aug  5 10:36:14 2010
From: rreis at aero.ist.utl.pt (Ricardo Reis)
Date: Thu, 5 Aug 2010 15:36:14 +0100 (WEST)
Subject: [Paraview] ensight and parallel paraview
Message-ID: <alpine.DEB.2.00.1008051531040.28001@localhost>


  Hi all

  I'm writing my files using the Ensight Gold format. I've also created an 
ensight .sos file because I split my domain in several files.

  Paraview version is 3.9.0, compiled from git

  When running pvserver in parallel (mpirun -np 2 etc) the domain division 
that paraview uses is completly different from the partioned files.

  For instance, I have a 3D domain that is basicly a rectangular box. My 
ensight files do the division like:

  +---+ +---+
  |   | |   |
  | 1 | | 2 |
  |   | |   |
  +---+ +---+

  When opening the .sos file in paraview, paraview splits my domain as:

  +---+ +---+
  | 1 | | 1 |
  +...+ +...+
  | 2 | | 2 |
  +---+ +---+

  Does it mean it isn't worthwile to split my ensight files?

  best reagards,

  Ricardo Reis

  'Non Serviam'

  PhD candidate @ Lasef
  Computational Fluid Dynamics, High Performance Computing, Turbulence
  http://www.lasef.ist.utl.pt

  Cultural Instigator @ R?dio Zero
  http://www.radiozero.pt

  Keep them Flying! Ajude a/help Aero F?nix!

  http://www.aeronauta.com/aero.fenix

  http://www.flickr.com/photos/rreis/

                            < sent with alpine 2.00 >

From berk.geveci at kitware.com  Thu Aug  5 13:45:35 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Thu, 5 Aug 2010 13:45:35 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008051531040.28001@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
Message-ID: <AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>

Interesting. Can you provide an example?

On Thu, Aug 5, 2010 at 10:36 AM, Ricardo Reis <rreis at aero.ist.utl.pt> wrote:
>
> ?Hi all
>
> ?I'm writing my files using the Ensight Gold format. I've also created an
> ensight .sos file because I split my domain in several files.
>
> ?Paraview version is 3.9.0, compiled from git
>
> ?When running pvserver in parallel (mpirun -np 2 etc) the domain division
> that paraview uses is completly different from the partioned files.
>
> ?For instance, I have a 3D domain that is basicly a rectangular box. My
> ensight files do the division like:
>
> ?+---+ +---+
> ?| ? | | ? |
> ?| 1 | | 2 |
> ?| ? | | ? |
> ?+---+ +---+
>
> ?When opening the .sos file in paraview, paraview splits my domain as:
>
> ?+---+ +---+
> ?| 1 | | 1 |
> ?+...+ +...+
> ?| 2 | | 2 |
> ?+---+ +---+
>
> ?Does it mean it isn't worthwile to split my ensight files?
>
> ?best reagards,
>
> ?Ricardo Reis
>
> ?'Non Serviam'
>
> ?PhD candidate @ Lasef
> ?Computational Fluid Dynamics, High Performance Computing, Turbulence
> ?http://www.lasef.ist.utl.pt
>
> ?Cultural Instigator @ R?dio Zero
> ?http://www.radiozero.pt
>
> ?Keep them Flying! Ajude a/help Aero F?nix!
>
> ?http://www.aeronauta.com/aero.fenix
>
> ?http://www.flickr.com/photos/rreis/
>
> ? ? ? ? ? ? ? ? ? ? ? ? ? < sent with alpine 2.00 >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From rreis at aero.ist.utl.pt  Thu Aug  5 14:11:22 2010
From: rreis at aero.ist.utl.pt (Ricardo Reis)
Date: Thu, 5 Aug 2010 19:11:22 +0100 (WEST)
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1008051909510.12709@localhost>

On Thu, 5 Aug 2010, Berk Geveci wrote:

> Interesting. Can you provide an example?

yes but the files are quite big (1.3 Gb x 2)... I can try to fix some 
smaller size example if needed...


  Ricardo Reis

  'Non Serviam'

  PhD candidate @ Lasef
  Computational Fluid Dynamics, High Performance Computing, Turbulence
  http://www.lasef.ist.utl.pt

  Cultural Instigator @ R?dio Zero
  http://www.radiozero.pt

  Keep them Flying! Ajude a/help Aero F?nix!

  http://www.aeronauta.com/aero.fenix

  http://www.flickr.com/photos/rreis/

                            < sent with alpine 2.00 >

From berk.geveci at kitware.com  Thu Aug  5 14:15:02 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Thu, 5 Aug 2010 14:15:02 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008051909510.12709@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
	<alpine.DEB.2.00.1008051909510.12709@localhost>
Message-ID: <AANLkTikqpVAJOR3z7NN95Wsc=B8jCENOkRkEubk-qO8F@mail.gmail.com>

That would be great.

On Thu, Aug 5, 2010 at 2:11 PM, Ricardo Reis <rreis at aero.ist.utl.pt> wrote:
> On Thu, 5 Aug 2010, Berk Geveci wrote:
>
>> Interesting. Can you provide an example?
>
> yes but the files are quite big (1.3 Gb x 2)... I can try to fix some
> smaller size example if needed...
>
>
> ?Ricardo Reis
>
> ?'Non Serviam'
>
> ?PhD candidate @ Lasef
> ?Computational Fluid Dynamics, High Performance Computing, Turbulence
> ?http://www.lasef.ist.utl.pt
>
> ?Cultural Instigator @ R?dio Zero
> ?http://www.radiozero.pt
>
> ?Keep them Flying! Ajude a/help Aero F?nix!
>
> ?http://www.aeronauta.com/aero.fenix
>
> ?http://www.flickr.com/photos/rreis/
>
> ? ? ? ? ? ? ? ? ? ? ? ? ? < sent with alpine 2.00 >

From robert.maynard at kitware.com  Thu Aug  5 14:20:33 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Thu, 5 Aug 2010 14:20:33 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008051909510.12709@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost> 
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com> 
	<alpine.DEB.2.00.1008051909510.12709@localhost>
Message-ID: <AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>

It would be useful to have a smaller sized example dataset so I can
investigate the bug.

On Thu, Aug 5, 2010 at 2:11 PM, Ricardo Reis <rreis at aero.ist.utl.pt> wrote:

> On Thu, 5 Aug 2010, Berk Geveci wrote:
>
>  Interesting. Can you provide an example?
>>
>
> yes but the files are quite big (1.3 Gb x 2)... I can try to fix some
> smaller size example if needed...
>
>
>
>  Ricardo Reis
>
>  'Non Serviam'
>
>  PhD candidate @ Lasef
>  Computational Fluid Dynamics, High Performance Computing, Turbulence
>  http://www.lasef.ist.utl.pt
>
>  Cultural Instigator @ R?dio Zero
>  http://www.radiozero.pt
>
>  Keep them Flying! Ajude a/help Aero F?nix!
>
>  http://www.aeronauta.com/aero.fenix
>
>  http://www.flickr.com/photos/rreis/
>
>                           < sent with alpine 2.00 >
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
Robert Maynard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/7f5b72fc/attachment.htm>

From berk.geveci at kitware.com  Thu Aug  5 15:29:46 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Thu, 5 Aug 2010 15:29:46 -0400
Subject: [Paraview] ANNOUNCE: Kitware is hiring
Message-ID: <AANLkTinLq=7bRbj4CXOJFoM70NO5i6F0Cw4PF2vpEE9w@mail.gmail.com>

Hi folks,

Kitware, Inc. is actively seeking a talented HPC Visualization and
Data Analysis Software Developer to join our team.  Candidates will
create, develop and improve leading edge visualization software
solutions in the context of an open-source and highly collaborative
development model.

By joining our team you will participate in a dynamic work environment
with exceptionally talented co-workers; and collaborate with esteemed
researchers from around the world by:
 - developing visualization and analysis tools for use on HPC platforms;
 - developing distributed memory parallel algorithms for data analysis;
 - compiling and maintaining software on supercomputers;
 - performing scalability studies;
 - optimizing distributed parallel codes; and
 - debugging distributed parallel codes.

Qualified candidates will have 4 or more years experience in
developing HPC applications and a bachelors degree or higher in
Computer Science, Engineering or a related field.  This is an
opportunity for you to contribute to large open-source projects and
communities, such as VTK and ParaView, through your exceptional skill
in C++, your solid experience with MPI and your knowledge of Unix and
Linux operating systems.  The most desirable candidates will have
familiarity with scientific visualization software, knowledge of
Python and/or experience with parallel I/O.

Kitware team members enjoy our small company environment, flexibility
in work assignments, and the high levels of independence and
responsibility.  Besides a great work environment, our comprehensive
benefits package includes flexible working hours, six weeks paid time
off, a computer hardware budget, 401(k), health insurance, life
insurance, short- and long-term disability, flexible spending account,
visa processing, a generous compensation plan (that compensates
employees for all hours worked ? not just the first 40) and free
coffee, drinks and snacks.

For the right software developers, we are always hiring.  Please email
your cover letter and resume to jobs at kitware.com for immediate
consideration.

Kitware is an Equal Opportunity Employer and proudly supports
Affirmative Action.  Please, no recruiters or agencies without a
previously signed contract.

Best,
-berk

From daviddoria at gmail.com  Thu Aug  5 16:54:25 2010
From: daviddoria at gmail.com (David Doria)
Date: Thu, 5 Aug 2010 16:54:25 -0400
Subject: [Paraview] Orbiting camera
In-Reply-To: <AANLkTinv_Bj0H_tLNLh5vkSkWlW5Eu2CrjAqaSkws8Os@mail.gmail.com>
References: <AANLkTinv_Bj0H_tLNLh5vkSkWlW5Eu2CrjAqaSkws8Os@mail.gmail.com>
Message-ID: <AANLkTinDC8ohBGE1W5HwWV7mV4RHt58cc+TWkjLyMJ1_@mail.gmail.com>

On Tue, Jun 22, 2010 at 7:38 PM, David Doria <daviddoria at gmail.com> wrote:
> When I add a camera (orbit) to the animation view, it seems to pick an
> orientation (not the current view) and then orbits around and returns
> to the same point. Is there a way to make it start the orbit at the
> current view?
>
> Thanks,
>
> David
>

Any thoughts on this?

Thanks,

David

From daviddoria at gmail.com  Thu Aug  5 16:58:46 2010
From: daviddoria at gmail.com (David Doria)
Date: Thu, 5 Aug 2010 16:58:46 -0400
Subject: [Paraview] Centering data
Message-ID: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>

Is there a way to center a data set? That is, simply subtract the
center of mass from the data set?

This would be helpful because when applying rotations it is much
easier to hand-input the rotation parameters when the data is at the
origin.

Thanks,

David

From kmorel at sandia.gov  Thu Aug  5 18:25:04 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Thu, 5 Aug 2010 16:25:04 -0600
Subject: [Paraview] Orbiting camera
In-Reply-To: <AANLkTinDC8ohBGE1W5HwWV7mV4RHt58cc+TWkjLyMJ1_@mail.gmail.com>
Message-ID: <C8809660.18AEF%kmorel@sandia.gov>

I agree that this is stupid behavior and should be considered a bug.  To demonstrate more specifically, do the following:


 1.  Create a Superquadric source.  Apply.
 2.  Click the +Y camera view button.
 3.  Open the Animation View.
 4.  Create a Camera Orbit track.  Accept the default values.
 5.  Play the animation.

Notice that the animation begins and ends with the camera facing down the X axis rather than the Y axis where we initiated the orbit track.  It is logical to expect the animation to begin and end at the camera position at the time of creating the track.

Should I add a bug?

-Ken


On 8/5/10 2:54 PM, "David Doria" <daviddoria at gmail.com> wrote:

On Tue, Jun 22, 2010 at 7:38 PM, David Doria <daviddoria at gmail.com> wrote:
> When I add a camera (orbit) to the animation view, it seems to pick an
> orientation (not the current view) and then orbits around and returns
> to the same point. Is there a way to make it start the orbit at the
> current view?
>
> Thanks,
>
> David
>

Any thoughts on this?

Thanks,

David
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/9f736ed0/attachment-0001.htm>

From emanuele at sci.utah.edu  Thu Aug  5 18:51:30 2010
From: emanuele at sci.utah.edu (Emanuele Santos)
Date: Thu, 5 Aug 2010 19:51:30 -0300
Subject: [Paraview] Announcing: VisTrails Plugin for ParaView Users Guide
Message-ID: <AANLkTimnUcs5tmqoNEtrtgCU3gLEzz2CQJEBfnkmqMt5@mail.gmail.com>

Hello,

Some of you already noticed that the VisTrails Plugin for ParaView is
included in some of the binary releases of ParaView 3.8.0.

We would like to let you know that we have just released a users guide that
shows how to use the plugin and also explains its main features.

The users guide is available here:
http://downloads.sourceforge.net/project/vistrails/ParaView%20Plugin/v0.2/vistrails-paraview-usersguide-0.2-rev1275.pdf

Please send any questions or bug reports to
paraview at vistrails.com

Cheers,

-- Emanuele Santos.

VisTrails Developer -- www.vistrails.org
VisTrails Plugin for ParaView Developer --
http://www.vistrails.com/paraview.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/12786918/attachment.htm>

From andy.bauer at kitware.com  Thu Aug  5 21:10:17 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Thu, 5 Aug 2010 21:10:17 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
References: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
Message-ID: <AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>

Use the calculator filter to create a vector array from the coordinates,
then point to cell data, then integrate attributes to get the result divided
by the volume/area to give the desired input to the transform filter.

Andy

On Thu, Aug 5, 2010 at 4:58 PM, David Doria <daviddoria at gmail.com> wrote:

> Is there a way to center a data set? That is, simply subtract the
> center of mass from the data set?
>
> This would be helpful because when applying rotations it is much
> easier to hand-input the rotation parameters when the data is at the
> origin.
>
> Thanks,
>
> David
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100805/67593ff4/attachment.htm>

From robert.maynard at kitware.com  Fri Aug  6 09:27:48 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Fri, 6 Aug 2010 09:27:48 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>
References: <alpine.DEB.2.00.1008051531040.28001@localhost> 
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com> 
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>
Message-ID: <AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>

Hi Ricardo,

The behavior you are seeing inside ParaView is intended. The EnSight reader
in ParaView partitions each file across all nodes so that the server is
always load balanced.

On Thu, Aug 5, 2010 at 2:20 PM, Robert Maynard
<robert.maynard at kitware.com>wrote:

> It would be useful to have a smaller sized example dataset so I can
> investigate the bug.
>
> On Thu, Aug 5, 2010 at 2:11 PM, Ricardo Reis <rreis at aero.ist.utl.pt>wrote:
>
>> On Thu, 5 Aug 2010, Berk Geveci wrote:
>>
>>  Interesting. Can you provide an example?
>>>
>>
>> yes but the files are quite big (1.3 Gb x 2)... I can try to fix some
>> smaller size example if needed...
>>
>>
>>
>>  Ricardo Reis
>>
>>  'Non Serviam'
>>
>>  PhD candidate @ Lasef
>>  Computational Fluid Dynamics, High Performance Computing, Turbulence
>>  http://www.lasef.ist.utl.pt
>>
>>  Cultural Instigator @ R?dio Zero
>>  http://www.radiozero.pt
>>
>>  Keep them Flying! Ajude a/help Aero F?nix!
>>
>>  http://www.aeronauta.com/aero.fenix
>>
>>  http://www.flickr.com/photos/rreis/
>>
>>                           < sent with alpine 2.00 >
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
>
> --
> Robert Maynard
>



-- 
Robert Maynard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100806/e439d7dd/attachment.htm>

From daviddoria at gmail.com  Fri Aug  6 09:52:36 2010
From: daviddoria at gmail.com (David Doria)
Date: Fri, 6 Aug 2010 09:52:36 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>
References: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
	<AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>
Message-ID: <AANLkTik=Cy5zFH6r=yeAsNEDD9artGh+NPzEubhzu8Bx@mail.gmail.com>

On Thu, Aug 5, 2010 at 9:10 PM, Andy Bauer <andy.bauer at kitware.com> wrote:
> Use the calculator filter to create a vector array from the coordinates,
> then point to cell data, then integrate attributes to get the result divided
> by the volume/area to give the desired input to the transform filter.
>
> Andy

In the Calculator Filter I set
Attribute Mode = Point Data
Unchecked "Coordinate Results"
Result Array Name = coords
Selected "coords" from the "Vectors" drop down list

I now see that 'coords' is an array in the output.

When I run the "Integrate Variables" filter on the Calculator Filter
output, the result is just (0,0,0).

I know you said to run the "Integrate Attributes" filter, but that is
not in my Filters list. I looked in my ParaView source folder and I do
indeed have vtkIntegraetAttributes.cxx. Any reason why this wouldn't
show up in the filters list?

Thanks,

David

From andy.bauer at kitware.com  Fri Aug  6 10:28:02 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 6 Aug 2010 10:28:02 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTik=Cy5zFH6r=yeAsNEDD9artGh+NPzEubhzu8Bx@mail.gmail.com>
References: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
	<AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>
	<AANLkTik=Cy5zFH6r=yeAsNEDD9artGh+NPzEubhzu8Bx@mail.gmail.com>
Message-ID: <AANLkTi=zZ2zRmLPkBc3nbRi2aeRZaKLu6CJ_NxxMs2-D@mail.gmail.com>

On Fri, Aug 6, 2010 at 9:52 AM, David Doria <daviddoria at gmail.com> wrote:

> On Thu, Aug 5, 2010 at 9:10 PM, Andy Bauer <andy.bauer at kitware.com> wrote:
> > Use the calculator filter to create a vector array from the coordinates,
> > then point to cell data, then integrate attributes to get the result
> divided
> > by the volume/area to give the desired input to the transform filter.
> >
> > Andy
>
> In the Calculator Filter I set
> Attribute Mode = Point Data
> Unchecked "Coordinate Results"
> Result Array Name = coords
> Selected "coords" from the "Vectors" drop down list
>
> I now see that 'coords' is an array in the output.
>
> When I run the "Integrate Variables" filter on the Calculator Filter
> output, the result is just (0,0,0).
>

This seems weird.  What kind of data set do you have?  Is your data set
already centered then?  I'd think there'd be some roundoff error so that it
wouldn't be exactly 0 but a "very small number".  Do you have any
cells/what's the area result under the cell data?


>
> I know you said to run the "Integrate Attributes" filter, but that is
> not in my Filters list. I looked in my ParaView source folder and I do
> indeed have vtkIntegraetAttributes.cxx. Any reason why this wouldn't
> show up in the filters list?
>

Oops, I meant integrate variables, not integrate attributes.  According to
the filters.xml file it looks like the Integrate Variables filter is using
vtkIntegrateAttributes.


>
> Thanks,
>
> David
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100806/408a9450/attachment.htm>

From daviddoria at gmail.com  Fri Aug  6 11:21:38 2010
From: daviddoria at gmail.com (David Doria)
Date: Fri, 6 Aug 2010 11:21:38 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTi=zZ2zRmLPkBc3nbRi2aeRZaKLu6CJ_NxxMs2-D@mail.gmail.com>
References: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
	<AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>
	<AANLkTik=Cy5zFH6r=yeAsNEDD9artGh+NPzEubhzu8Bx@mail.gmail.com>
	<AANLkTi=zZ2zRmLPkBc3nbRi2aeRZaKLu6CJ_NxxMs2-D@mail.gmail.com>
Message-ID: <AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>

> This seems weird.? What kind of data set do you have?? Is your data set
> already centered then?? I'd think there'd be some roundoff error so that it
> wouldn't be exactly 0 but a "very small number".? Do you have any
> cells/what's the area result under the cell data?

Sorry, I should have specified this earlier. The data is a point
cloud. Each point has a vertex cell. The data set is far from
centered. Maybe this is the problem - there is no "area"? Here is the
data set: http://rpi.edu/~doriad/Paraview_List/data.vtp

Thanks for your help,

David

From di_zou at yahoo.com  Fri Aug  6 11:46:31 2010
From: di_zou at yahoo.com (Di Zou)
Date: Fri, 6 Aug 2010 08:46:31 -0700 (PDT)
Subject: [Paraview] NetDMFPlugin for Paraview build issues
Message-ID: <991674.22384.qm@web110809.mail.gq1.yahoo.com>

Hi,

I am tyring to build the NetDMFPlugin for paraview on Linux Red Hat 5. I have 
built Paraview. I am trying to build the NetDMFPlugin for Paraview. I can 
configure the build using cmake fine. However, when I click generate, I get this 
error:


CMake Error in Plugins/NetDMFPlugin/CMakeLists.txt:
   Cannot find source file "vtkThresholdGraph.h".  Tried extensions .c .C .c++
   .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx

I can't find the file in VTK at all, and it is not listed in the VTK class list 
documentation online:
http://www.vtk.org/doc/release/5.6/html/classes.html

So where is this file located? or how do I get this file?

Thanks.



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100806/f7749a77/attachment.htm>

From andy.bauer at kitware.com  Fri Aug  6 11:56:55 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 6 Aug 2010 11:56:55 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>
References: <AANLkTi=0RNOF2JwoARDT4AoPHHYoXPU4GjQ2U=3vFgmY@mail.gmail.com>
	<AANLkTim=YZGOMO8JHcKC9HcXmJEbP2e=1xGEFGuovaKp@mail.gmail.com>
	<AANLkTik=Cy5zFH6r=yeAsNEDD9artGh+NPzEubhzu8Bx@mail.gmail.com>
	<AANLkTi=zZ2zRmLPkBc3nbRi2aeRZaKLu6CJ_NxxMs2-D@mail.gmail.com>
	<AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>
Message-ID: <AANLkTimCdbVXu6yM-9GUAkSOsayuzHqKxEO94+N4awZm@mail.gmail.com>

Hmm, I guess you could use the Delauney 2D or 3D to create an area or volume
but it might be tough using those since they grids they create may not be a
good representation of your data geometry.  I can't think of anything better
than a programmable filter to get the desired translation amounts and then
do the translation in the filter as well (maybe using numpy or efficiency).
You can save it as a custom filter so that you don't have to enter the
python code every time you want to do the centering.

Andy

On Fri, Aug 6, 2010 at 11:21 AM, David Doria <daviddoria at gmail.com> wrote:

> > This seems weird.  What kind of data set do you have?  Is your data set
> > already centered then?  I'd think there'd be some roundoff error so that
> it
> > wouldn't be exactly 0 but a "very small number".  Do you have any
> > cells/what's the area result under the cell data?
>
> Sorry, I should have specified this earlier. The data is a point
> cloud. Each point has a vertex cell. The data set is far from
> centered. Maybe this is the problem - there is no "area"? Here is the
> data set: http://rpi.edu/~doriad/Paraview_List/data.vtp<http://rpi.edu/%7Edoriad/Paraview_List/data.vtp>
>
> Thanks for your help,
>
> David
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100806/b4bf5c5f/attachment.htm>

From kmorel at sandia.gov  Fri Aug  6 12:21:42 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Fri, 6 Aug 2010 10:21:42 -0600
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>
Message-ID: <C88192B6.4F88%kmorel@sandia.gov>

For the record, Andy's method is attempting to find the center of mass (assuming uniform density).  If you just need the center of the bounds, you can go to the information panel, average the bounds in each dimension, and then do a translate transform to move that point to the origin.

-Ken


On 8/6/10 9:21 AM, "David Doria" <daviddoria at gmail.com> wrote:

> This seems weird.  What kind of data set do you have?  Is your data set
> already centered then?  I'd think there'd be some roundoff error so that it
> wouldn't be exactly 0 but a "very small number".  Do you have any
> cells/what's the area result under the cell data?

Sorry, I should have specified this earlier. The data is a point
cloud. Each point has a vertex cell. The data set is far from
centered. Maybe this is the problem - there is no "area"? Here is the
data set: http://rpi.edu/~doriad/Paraview_List/data.vtp

Thanks for your help,

David
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100806/6fb4f84c/attachment.htm>

From daviddoria at gmail.com  Fri Aug  6 12:27:47 2010
From: daviddoria at gmail.com (David Doria)
Date: Fri, 6 Aug 2010 12:27:47 -0400
Subject: [Paraview] Centering data
In-Reply-To: <C88192B6.4F88%kmorel@sandia.gov>
References: <AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>
	<C88192B6.4F88%kmorel@sandia.gov>
Message-ID: <AANLkTi=jFWhpTNKO7+zCAzY98xJo+1MRi6hD-2OtmCH7@mail.gmail.com>

On Fri, Aug 6, 2010 at 12:21 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> For the record, Andy?s method is attempting to find the center of mass
> (assuming uniform density). ?If you just need the center of the bounds, you
> can go to the information panel, average the bounds in each dimension, and
> then do a translate transform to move that point to the origin.
>
> -Ken

Here is a programmable filter that does the trick:
http://www.paraview.org/Wiki/Python_Programmable_Filter#Center_Data

Thanks all,

David

From rreis at aero.ist.utl.pt  Fri Aug  6 16:53:51 2010
From: rreis at aero.ist.utl.pt (Ricardo Reis)
Date: Fri, 6 Aug 2010 21:53:51 +0100 (WEST)
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>
	<AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1008062153030.3320@localhost>

On Fri, 6 Aug 2010, Robert Maynard wrote:

> Hi Ricardo,
>
> The behavior you are seeing inside ParaView is intended. The EnSight reader
> in ParaView partitions each file across all nodes so that the server is
> always load balanced.

I understand that... but if you load the same field in just one file... 
paraview partions it like just I did for the files originally (so the 
proper load balance was already achieved)

So, I would conclude that unless you want to isolate some part of the flow 
just
use the whole files and let paraview do the rest

thx!

  Ricardo Reis

  'Non Serviam'

  PhD candidate @ Lasef
  Computational Fluid Dynamics, High Performance Computing, Turbulence
  http://www.lasef.ist.utl.pt

  Cultural Instigator @ R?dio Zero
  http://www.radiozero.pt

  Keep them Flying! Ajude a/help Aero F?nix!

  http://www.aeronauta.com/aero.fenix

  http://www.flickr.com/photos/rreis/

                            < sent with alpine 2.00 >

From rreis at aero.ist.utl.pt  Sat Aug  7 15:52:16 2010
From: rreis at aero.ist.utl.pt (Ricardo Reis)
Date: Sat, 7 Aug 2010 20:52:16 +0100 (WEST)
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008062153030.3320@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>
	<AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>
	<alpine.DEB.2.00.1008062153030.3320@localhost>
Message-ID: <alpine.DEB.2.00.1008072051560.9837@localhost>


  One (last) question:

  when running pvserver in parallel, are the ensight data files read in 
parallel? I mean, is it

  - using MPI_IO

  or

  - master reads all file and distributes?

  best regards,


  Ricardo Reis

  'Non Serviam'

  PhD candidate @ Lasef
  Computational Fluid Dynamics, High Performance Computing, Turbulence
  http://www.lasef.ist.utl.pt

  Cultural Instigator @ R?dio Zero
  http://www.radiozero.pt

  Keep them Flying! Ajude a/help Aero F?nix!

  http://www.aeronauta.com/aero.fenix

  http://www.flickr.com/photos/rreis/

                            < sent with alpine 2.00 >

From emonson at cs.duke.edu  Sat Aug  7 20:03:39 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Sat, 7 Aug 2010 20:03:39 -0400
Subject: [Paraview] Centering data
In-Reply-To: <AANLkTi=jFWhpTNKO7+zCAzY98xJo+1MRi6hD-2OtmCH7@mail.gmail.com>
References: <AANLkTimd5M53aR01Ls=D_cXC1pKqXTvqdmAO2RGY4Rzp@mail.gmail.com>
	<C88192B6.4F88%kmorel@sandia.gov>
	<AANLkTi=jFWhpTNKO7+zCAzY98xJo+1MRi6hD-2OtmCH7@mail.gmail.com>
Message-ID: <0AE4A663-39F3-4D0B-B1BC-4B0A63D96FDA@cs.duke.edu>

Hey David,

Here's another alternative using numpy. There may be a slightly more straightforward way to do it (so anyone please feel free to edit it, or pass along refinements/advice and I can edit it), but it works for me.

http://www.paraview.org/Wiki/Python_Programmable_Filter#Center_Data_using_numpy

from paraview.vtk import dataset_adapter as DA

pdi = self.GetInputDataObject(0,0)
pdo = self.GetOutputDataObject(0)
pdo.CopyAttributes(pdi)

old_pts = inputs[0].Points
new_pts = old_pts - mean(old_pts, axis=0)
arr = DA.numpyTovtkDataArray(new_pts, 'newpts')
pdo.GetPoints().SetData(arr)

Talk to you later,
-Eric


On Aug 6, 2010, at 12:27 PM, David Doria wrote:

> On Fri, Aug 6, 2010 at 12:21 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
>> For the record, Andy?s method is attempting to find the center of mass
>> (assuming uniform density).  If you just need the center of the bounds, you
>> can go to the information panel, average the bounds in each dimension, and
>> then do a translate transform to move that point to the origin.
>> 
>> -Ken
> 
> Here is a programmable filter that does the trick:
> http://www.paraview.org/Wiki/Python_Programmable_Filter#Center_Data
> 
> Thanks all,
> 
> David
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From aashish.chaudhary at kitware.com  Sun Aug  8 21:33:02 2010
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Sun, 8 Aug 2010 21:33:02 -0400
Subject: [Paraview] NetDMFPlugin for Paraview build issues
In-Reply-To: <991674.22384.qm@web110809.mail.gq1.yahoo.com>
References: <991674.22384.qm@web110809.mail.gq1.yahoo.com>
Message-ID: <AANLkTineqfW3qXXAUks7Sqka8yo34Z+8YOQ__q82rVNA@mail.gmail.com>

Hi Di,

I believe this class does not exists in VTK release 5.6. You would have to
check out the latest source code.

Let me know if  you encounter further issues.

Thanks,


On Fri, Aug 6, 2010 at 11:46 AM, Di Zou <di_zou at yahoo.com> wrote:

> Hi,
>
> I am tyring to build the NetDMFPlugin for paraview on Linux Red Hat 5. I
> have built Paraview. I am trying to build the NetDMFPlugin for Paraview. I
> can configure the build using cmake fine. However, when I click generate, I
> get this error:
>
> CMake Error in Plugins/NetDMFPlugin/CMakeLists.txt:
>    Cannot find source file "vtkThresholdGraph.h".  Tried extensions .c .C
> .c++
>    .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>
> I can't find the file in VTK at all, and it is not listed in the VTK class
> list documentation online:
> http://www.vtk.org/doc/release/5.6/html/classes.html
>
> So where is this file located? or how do I get this file?
>
> Thanks.
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100808/e8dcee58/attachment.htm>

From di_zou at yahoo.com  Mon Aug  9 10:53:03 2010
From: di_zou at yahoo.com (Di Zou)
Date: Mon, 9 Aug 2010 07:53:03 -0700 (PDT)
Subject: [Paraview] NetDMFPlugin for Paraview build issues
In-Reply-To: <AANLkTineqfW3qXXAUks7Sqka8yo34Z+8YOQ__q82rVNA@mail.gmail.com>
References: <991674.22384.qm@web110809.mail.gq1.yahoo.com>
	<AANLkTineqfW3qXXAUks7Sqka8yo34Z+8YOQ__q82rVNA@mail.gmail.com>
Message-ID: <911043.80415.qm@web110803.mail.gq1.yahoo.com>



I am also getting this error when I configure the plugin:
 CMake Error at CMakeLists.txt:25 (QT4_WRAP_CPP):
   Unknown CMake command "QT4_WRAP_CPP".
I am using cmake v2.8 and Qt v4.6.3.


________________________________
From: Aashish Chaudhary <aashish.chaudhary at kitware.com>
To: Di Zou <di_zou at yahoo.com>
Cc: paraview at paraview.org
Sent: Sun, August 8, 2010 9:33:02 PM
Subject: Re: [Paraview] NetDMFPlugin for Paraview build issues

Hi Di, 

I believe this class does not exists in VTK release 5.6. You would have to check 
out the latest source code. 

Let me know if  you encounter further issues. 

Thanks, 



On Fri, Aug 6, 2010 at 11:46 AM, Di Zou <di_zou at yahoo.com> wrote:

Hi,
>
>I am tyring to build the NetDMFPlugin for paraview on Linux Red Hat 5. I have 
>built Paraview. I am trying to build the NetDMFPlugin for Paraview. I can 
>configure the build using cmake fine. However, when I click generate, I get this 
>error:
>
>
>CMake Error in Plugins/NetDMFPlugin/CMakeLists.txt:
>   Cannot find source file "vtkThresholdGraph.h".  Tried extensions .c .C .c++
>   .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>
>I can't find the file in VTK at all, and it is not listed in the VTK class list 
>documentation online:
>http://www.vtk.org/doc/release/5.6/html/classes.html
>
>So where is this file located? or how do I get this  file?
>
>Thanks.
>
>
>_______________________________________________
>Powered by www.kitware.com
>
>Visit other Kitware open-source projects at 
>http://www.kitware.com/opensource/opensource.html
>
>Please keep messages on-topic and check the ParaView Wiki at: 
>http://paraview.org/Wiki/ParaView
>
>Follow this link to subscribe/unsubscribe:
>http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
| Aashish Chaudhary 
| R&D Engineer         
| Kitware Inc.            
| www.kitware.com    



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/a66b9da3/attachment.htm>

From andy.bauer at kitware.com  Mon Aug  9 10:58:26 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Mon, 9 Aug 2010 10:58:26 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
Message-ID: <AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>

Hi Jacques,

I put an example on the wiki based on Pat's example for running a
coprocessing.  It's at:
http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
Let me know if you have any problems with it so that I can fix any errors
that I have.

Also, I just made changes so that the coprocessing library gets installed
properly.

Thanks,
Andy

On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Thanks Pat,
>
> I am trying to compile my first attempt.
> Although I do find the headers I need, I am having some trouble identifying
> which libraries I need to link to.
> For example, I assume that I should be linking to libvtkCoProcessor.so ...
> Although I find this library in the compilation folder (under bin), I do not
> find it in the make installed version under lib...
> Is this normal ?
>
> Best,
> Jacques
>
> 2010/8/4 pat marion <pat.marion at kitware.com>
>
> Below is a simple cxx program I have used for testing.  It creates one
>> sphere per process, positions the sphere as a function of the process id,
>> and the spheres grow/shrink over time.
>>
>> Pat
>>
>> #include "vtkCPProcessor.h"
>> #include "vtkCPPythonScriptPipeline.h"
>> #include "vtkMultiProcessController.h"
>> #include "vtkXMLUnstructuredGridReader.h"
>> #include "vtkUnstructuredGrid.h"
>> #include "vtkCPDataDescription.h"
>> #include "vtkCPInputDataDescription.h"
>> #include "vtkSmartPointer.h"
>> #include "vtkPolyData.h"
>> #include "vtkSphereSource.h"
>>
>> #include <stdio.h>
>> #include <string>
>> #include <sstream>
>>
>> static unsigned int procId;
>>
>> void myprint(const std::string& str)
>> {
>>   printf("driver (%u): %s\n", procId, str.c_str());
>> }
>>
>> class DataGenerator {
>> public:
>>
>>   DataGenerator()
>>     {
>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>     this->Sphere->SetThetaResolution(30);
>>     this->Sphere->SetPhiResolution(30);
>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>     this->Index = 0;
>>     }
>>
>>   vtkSmartPointer<vtkPolyData> GetNext()
>>     {
>>     double radius = fabs(sin(0.1 * this->Index));
>>     this->Index++;
>>     this->Sphere->SetRadius(1.0 + radius);
>>     this->Sphere->Update();
>>     vtkSmartPointer<vtkPolyData> ret =
>> vtkSmartPointer<vtkPolyData>::New();
>>     ret->DeepCopy(this->Sphere->GetOutput());
>>     return ret;
>>     }
>>
>> protected:
>>
>>   int Index;
>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>
>>
>> };
>>
>> int main(int argc, char* argv[])
>> {
>>   if (argc < 3)
>>     {
>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>     return 1;
>>     }
>>
>>   std::string cpPythonFile = argv[1];
>>   int nSteps = atoi(argv[2]);
>>
>>   myprint("starting coprocessor");
>>
>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>   processor->Initialize();
>>   vtkCPPythonScriptPipeline* pipeline = vtkCPPythonScriptPipeline::New();
>>
>>   // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
>>   procId =
>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>
>>
>>   // read the coprocessing python file
>>   myprint("loading pipeline python file: " + cpPythonFile);
>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>   if (!success)
>>     {
>>     myprint("aborting");
>>     return 1;
>>     }
>>
>>   processor->AddPipeline(pipeline);
>>   pipeline->Delete();
>>
>>   if (nSteps == 0)
>>     {
>>     return 0;
>>     }
>>
>>   // create a data source
>>   DataGenerator generator;
>>
>>   // do coprocessing
>>   double tStart = 0.0;
>>   double tEnd = 1.0;
>>   double stepSize = (tEnd - tStart)/nSteps;
>>
>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>   dataDesc->AddInput("input");
>>
>>   for (int i = 0; i < nSteps; ++i)
>>     {
>>
>>     double currentTime = tStart + stepSize*i;
>>     std::stringstream timeStr;
>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>
>>
>>     dataDesc->SetTimeData(currentTime, i);
>>
>>     myprint("call RequestDataDescription, " + timeStr.str());
>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>
>>     if (do_coprocessing)
>>       {
>>       myprint("calling CoProcess, " + timeStr.str());
>>
>>       vtkSmartPointer<vtkDataObject> dataObject =
>>         generator.GetNext();
>>
>>       dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>       processor->CoProcess(dataDesc);
>>       }
>>     }
>>
>>
>>   myprint("finalizing");
>>   dataDesc->Delete();
>>   processor->Finalize();
>>   processor->Delete();
>>
>>   return 0;
>>
>> }
>>
>>
>>
>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>
>>> Hi Jacques,
>>>
>>> There is a polyhedra cell type in VTK now --
>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>> As far as I know it works with all of the proper filters but since I
>>> haven't tried it yet I won't promise that.  The good news is that Will
>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>> assume that it's working quite well right now.
>>>
>>> As for Phasta, it does run in parallel (as props to their developers it
>>> was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>> partitioned and each process runs the adaptor and creates an unstructured
>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>> to your partitioned grid to make some of the filters faster but I haven't
>>> tried that.
>>>
>>> Andy
>>>
>>>
>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> Thanks a lot Andy, Takuya,
>>>>
>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for
>>>> the moment.
>>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do
>>>> you know if this is there yet?
>>>> My dataset is multiregion unstructured polyhedral mesh domain decomposed
>>>> amongst each processor.
>>>>
>>>> Is the Phasta code parallelized ? If so, I do not see any MPI statements
>>>> in the adaptor code ?
>>>>
>>>> Jacques
>>>>
>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>
>>>> Hi Jacques,
>>>>>
>>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>> code it may give you an idea.  Also stepping through the example in
>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>> may help as well.
>>>>>
>>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>>> I'll let you know when it's done.
>>>>>
>>>>> Andy
>>>>>
>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>>  Hi All,
>>>>>>
>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>> PYTHONPATH..
>>>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>>>> examples though :)
>>>>>>
>>>>>> Thanks
>>>>>> Jacques
>>>>>>
>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>
>>>>>>
>>>>>>> Hi All,
>>>>>>>
>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>>> guidelines in :
>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>> I didn't find :
>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>> *but instead :
>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>> anyway the compilation went through without any issues.
>>>>>>> I then tried :
>>>>>>>
>>>>>>> ctest -R CoProcessing
>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>>>> 0.45 sec
>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>>>> 0.09 sec
>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>>>> 0.09 sec
>>>>>>>
>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>
>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>
>>>>>>> The following tests FAILED:
>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>> Errors while running CTest
>>>>>>>
>>>>>>> Is this a problem in my current installation or on the master branch
>>>>>>> ?
>>>>>>>
>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>> myself from ?
>>>>>>>
>>>>>>>
>>>>>>> Thank you,
>>>>>>> Jacques
>>>>>>>
>>>>>>>
>>>>>>> PS sorry mixed up the subjects..
>>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/c062de23/attachment-0001.htm>

From kmorel at sandia.gov  Mon Aug  9 12:37:57 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon, 9 Aug 2010 10:37:57 -0600
Subject: [Paraview] Announcement: ParaView coprocessing tutorial at SC10
Message-ID: <C8858B05.18BFF%kmorel@sandia.gov>

The ParaView developers are pleased to announce that we will be holding a tutorial on the ParaView coprocessing library at this year's Supercomputing conference for simulation developers and advanced ParaView users.  The coprocessing library is a concise API that allows you to integrate the parallel ParaView services with another application to perform in-situ visualization or other analyses.  Although designed to be coupled with simulation, the coproessing library could be used for subservient processing in any application.  This tutorial will demonstrate how to use the API, how to bind it to other languages, how to dynamically change the visualization via Python scripting, and how to use the ParaView GUI to automatically generate Python scripts.

The tutorial will be held on Sunday, November 14.  To register, go to the Supercomputing web site (http://sc10.supercomputing.org/) and register for the Sunday tutorials.  For more information, see the tutorial Wiki page (http://www.paraview.org/Wiki/SC10_Coprocessing_Tutorial).

(Hint: the Supercomputing hotel booking is now open, and we recommend reserving a room early.  In our experience, Supercomputing hotels tend to sell out fast.)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/370f6484/attachment.htm>

From yns130 at my.utsa.edu  Mon Aug  9 12:56:44 2010
From: yns130 at my.utsa.edu (Lea Vasbinder)
Date: Mon, 9 Aug 2010 11:56:44 -0500
Subject: [Paraview] Abaqus to ParaView
Message-ID: <AANLkTinfCuJXZVkAMPqSqisLTf0cxmx7GbuiGRsV4B0z@mail.gmail.com>

Hi,

I am a fairly new user to ParaView and I am looking for a translator that
can take Abaqus files and rearrange the nodes/elements in a format that
ParaView can read. I have been searching for a converter on the internet but
I have had no luck. If anyone knows of an easy way to change Abaqus files to
ParaView or of a converter than can do so, it would be greatly appreciated.



Thank you,

Lea V.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/b20fe69d/attachment.htm>

From reuterma at ornl.gov  Mon Aug  9 11:59:47 2010
From: reuterma at ornl.gov (Reuter, Michael A.)
Date: Mon, 09 Aug 2010 11:59:47 -0400
Subject: [Paraview] New HDF5 based reader
Message-ID: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov>

Hi,

                I have been working at trying to get a NeXus (www.nexusformat.org<http://www.nexusformat.org>) file read into ParaView. The NeXus format is HDF5 based and this seems to be the source of the current problem that I'm encountering.  When I try to open a NeXus file via this call:

NeXus::File *fh = new NeXus::File(filename, NXACC_READ);

I get the backtrace that's attached to this email. The lowest level frame is given here:

Program received signal SIGSEGV, Segmentation fault.
0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
(gdb) bt
#0  0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
...

At first, this looked like an issue with the system HDF5 libraries, but I can put the above line into a standalone program, link it against the same libraries and I can open a file without any errors. I have searched the list archive for any enlightenment, but I didn't find this particular problem. Is there anything special about using HDF5 libraries in ParaView plugins that I missed in the documentation? I am running on Ubuntu 10.04 using the provided HDF5 libraries and I have compiled and linked the NeXus libraries against the same HDF5 libraries.

I know about Xdmf and have tried that with success, but I do not want to go down the two file route, so I'd really like to get this reader working. I can provide more detailed information (like plugin source code, sample file etc.) to anyone who can help, but I don't want to spam the entire list with it right off the bat.

Thanks,
Michael
-------------------------------------------
Michael Reuter
Scientific Data Analysis Group
Neutron Scattering Science Division
Oak Ridge National Laboratory



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/02b25fcc/attachment-0001.htm>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: reader_backtrace.txt
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/02b25fcc/attachment-0001.txt>

From utkarsh.ayachit at kitware.com  Mon Aug  9 13:24:07 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 9 Aug 2010 13:24:07 -0400
Subject: [Paraview] New HDF5 based reader
In-Reply-To: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov>
References: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov>
Message-ID: <AANLkTi=Rf8bpT1s_H4-POBfG5p0Zfe+Y23cW_0KZwhap@mail.gmail.com>

Hmm, looks like your plugin is linking against a system installed
HDF5. Did you change the ParaView to use the same? Otherwise ParaView
brings in its own version of HDF5 and the two can't work together. To
ensure that ParaView and your plugin uses the same HDF5, set the cmake
variable PARAVIEW_USE_SYSTEM_HDF5 to ON and then point CMake to the
installed hdf5.

Utkarsh

On Mon, Aug 9, 2010 at 11:59 AM, Reuter, Michael A. <reuterma at ornl.gov> wrote:
> Hi,
>
>
>
> ??????????????? I have been working at trying to get a NeXus
> (www.nexusformat.org) file read into ParaView. The NeXus format is HDF5
> based and this seems to be the source of the current problem that I?m
> encountering.? When I try to open a NeXus file via this call:
>
>
>
> NeXus::File *fh = new NeXus::File(filename, NXACC_READ);
>
>
>
> I get the backtrace that?s attached to this email. The lowest level frame is
> given here:
>
>
>
> Program received signal SIGSEGV, Segmentation fault.
>
> 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> (gdb) bt
>
> #0? 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> ?
>
>
>
> At first, this looked like an issue with the system HDF5 libraries, but I
> can put the above line into a standalone program, link it against the same
> libraries and I can open a file without any errors. I have searched the list
> archive for any enlightenment, but I didn?t find this particular problem. Is
> there anything special about using HDF5 libraries in ParaView plugins that I
> missed in the documentation? I am running on Ubuntu 10.04 using the provided
> HDF5 libraries and I have compiled and linked the NeXus libraries against
> the same HDF5 libraries.
>
>
>
> I know about Xdmf and have tried that with success, but I do not want to go
> down the two file route, so I?d really like to get this reader working. I
> can provide more detailed information (like plugin source code, sample file
> etc.) to anyone who can help, but I don?t want to spam the entire list with
> it right off the bat.
>
>
>
> Thanks,
>
> Michael
>
> -------------------------------------------
>
> Michael Reuter
>
> Scientific Data Analysis Group
>
> Neutron Scattering Science Division
>
> Oak Ridge National Laboratory
>
>
>
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From emonson at cs.duke.edu  Mon Aug  9 13:52:39 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 9 Aug 2010 13:52:39 -0400
Subject: [Paraview] Announcement: ParaView coprocessing tutorial at SC10
In-Reply-To: <C8858B05.18BFF%kmorel@sandia.gov>
References: <C8858B05.18BFF%kmorel@sandia.gov>
Message-ID: <121C8BD6-EFAC-4700-840A-A93FE4F81C0D@cs.duke.edu>

Hey Ken,

Any chance you'll do something like this at Vis, too?

Thanks,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 9, 2010, at 12:37 PM, Moreland, Kenneth wrote:

> The ParaView developers are pleased to announce that we will be holding a tutorial on the ParaView coprocessing library at this year?s Supercomputing conference for simulation developers and advanced ParaView users.  The coprocessing library is a concise API that allows you to integrate the parallel ParaView services with another application to perform in-situ visualization or other analyses.  Although designed to be coupled with simulation, the coproessing library could be used for subservient processing in any application.  This tutorial will demonstrate how to use the API, how to bind it to other languages, how to dynamically change the visualization via Python scripting, and how to use the ParaView GUI to automatically generate Python scripts.
> 
> The tutorial will be held on Sunday, November 14.  To register, go to the Supercomputing web site (http://sc10.supercomputing.org/) and register for the Sunday tutorials.  For more information, see the tutorial Wiki page (http://www.paraview.org/Wiki/SC10_Coprocessing_Tutorial).
> 
> (Hint: the Supercomputing hotel booking is now open, and we recommend reserving a room early.  In our experience, Supercomputing hotels tend to sell out fast.)
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/d8a8b7de/attachment.htm>

From kmorel at sandia.gov  Mon Aug  9 14:29:38 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon, 9 Aug 2010 12:29:38 -0600
Subject: [Paraview] Announcement: ParaView coprocessing tutorial at SC10
In-Reply-To: <121C8BD6-EFAC-4700-840A-A93FE4F81C0D@cs.duke.edu>
Message-ID: <C885A532.18C1D%kmorel@sandia.gov>

Not this year.  The deadline for tutorial proposals is long past.  If enough people are interested (sound off!), I have no problem proposing one next year.

A related tutorial is being held at Vis: DIY Vis Applications.  It won't talk about the coprocessing API, but it will talk of other ways to utilize the ParaView framework for custom applications.

-Ken


On 8/9/10 11:52 AM, "Eric E. Monson" <emonson at cs.duke.edu> wrote:

Hey Ken,

Any chance you'll do something like this at Vis, too?

Thanks,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 9, 2010, at 12:37 PM, Moreland, Kenneth wrote:

The ParaView developers are pleased to announce that we will be holding a tutorial on the ParaView coprocessing library at this year's Supercomputing conference for simulation developers and advanced ParaView users.  The coprocessing library is a concise API that allows you to integrate the parallel ParaView services with another application to perform in-situ visualization or other analyses.  Although designed to be coupled with simulation, the coproessing library could be used for subservient processing in any application.  This tutorial will demonstrate how to use the API, how to bind it to other languages, how to dynamically change the visualization via Python scripting, and how to use the ParaView GUI to automatically generate Python scripts.

The tutorial will be held on Sunday, November 14.  To register, go to the Supercomputing web site (http://sc10.supercomputing.org/) and register for the Sunday tutorials.  For more information, see the tutorial Wiki page (http://www.paraview.org/Wiki/SC10_Coprocessing_Tutorial).

(Hint: the Supercomputing hotel booking is now open, and we recommend reserving a room early.  In our experience, Supercomputing hotels tend to sell out fast.)
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/5424f449/attachment.htm>

From lester_anderson1963 at hotmail.com  Mon Aug  9 14:54:04 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Mon, 9 Aug 2010 19:54:04 +0100
Subject: [Paraview] Plotting data on/in a sphere - update to earlier post
Message-ID: <SNT108-W60DA1367F0E465D541BD628A940@phx.gbl>


Hello all

Further to my earlier post, I have managed to work out 
how to get point data into Paraview in spherical coordinates using the 
following:

X=Radius * cos (longitude) * cos (latitude)
Y=Radius * sin (longitude) * cos (latitude)
Z=Radius * sin (latitude)

All angles in Radians. The radius is the earth distance, for which I computed 3 depths (50, 100, 150 km) - in radius this
works out as 6328 km, 6278 km and 6228 km (with fixed radius at d=0 as 6378 km).

Calculated
 a CSV file for input to Paraview and then did table to points which 
works fine, table to structured grid is more awkward.

Is there a way to take a point dataset (vtk) and convert it to a structured grid so that one can actually slice the data?

I have done a test VTK file and the input CSV, but are too large to post to the list,.

The modelling idea is to generate a mantle "shell" that can be sliced properly to visualise mantle velocity anomalies. The full data file
consists of 56 layers in 50km intervals and is quite large as a CSV file 350Mb+  The table data is all correct but it vauses Paraview to crash out of the import.

One option to get around the import issue is to load up the layers separately and I guess just use the append dataset option.

Thanks

Leste 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100809/88f02b0b/attachment.htm>

From lester_anderson1963 at hotmail.com  Tue Aug 10 05:11:42 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Tue, 10 Aug 2010 10:11:42 +0100
Subject: [Paraview] Loading coastline / continent data
Message-ID: <SNT108-W251F5CEA90053FB45C4DB78A950@phx.gbl>


Hello

Is it possible to load coastline data into Paraview and have it correctly projected on the sphere?

What formats will work with Paraview?

If the data re in Long/Lat it is an easy task to generate the spherical coordinates.

Cheers

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/fca04007/attachment-0001.htm>

From jfavre at cscs.ch  Tue Aug 10 06:44:00 2010
From: jfavre at cscs.ch (Favre  Jean)
Date: Tue, 10 Aug 2010 12:44:00 +0200
Subject: [Paraview] Loading coastline / continent data
In-Reply-To: <SNT108-W251F5CEA90053FB45C4DB78A950@phx.gbl>
References: <SNT108-W251F5CEA90053FB45C4DB78A950@phx.gbl>
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D306E258A@MBX00.d.ethz.ch>


if you have enabled TESTING and you have the correct VTK_DATA_ROOT set up, you may want to try

bin/HybridCxxTests TestTDxGeo -D /local/VTKData -V Baseline/Hybrid/TestTDxGeo.png -I

The source code is in VTK/Hybrid/Testing/Cxx/TestTDxGeo.cxx
-----------------
Jean M. Favre
Swiss National Supercomputing Center

From lester_anderson1963 at hotmail.com  Tue Aug 10 09:27:56 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Tue, 10 Aug 2010 14:27:56 +0100
Subject: [Paraview] Loading coastline / continent data
In-Reply-To: <AB48A31C4EC97E498F4235B7CEF74A194D306E258A@MBX00.d.ethz.ch>
References: <SNT108-W251F5CEA90053FB45C4DB78A950@phx.gbl>,
	<AB48A31C4EC97E498F4235B7CEF74A194D306E258A@MBX00.d.ethz.ch>
Message-ID: <SNT108-W5533B80EF679CDC76DC638A950@phx.gbl>


Hello Jean

Thanks for the suggestion. Unfotunately I am working with the Windows version of Paraview (3.8.0).

Essentially what I am looking to do is overlay coastlines as line data over a sphere of seismic tomography data. I guess if one has
the x,y coordinates (z would simply be the radius plus a small amount) then it should be possible to load or draw line data?

Leading on from this is the obvious point of being able to draw longitude and latitude lines, but having the coastline gives the user a point of
reference geographically.

Perhaps we could have a way of loading GIS data e.g. Shapefiles with line/vector data?

Cheers

Lester

> From: jfavre at cscs.ch
> To: lester_anderson1963 at hotmail.com; paraview at paraview.org
> Date: Tue, 10 Aug 2010 12:44:00 +0200
> Subject: RE: [Paraview] Loading coastline / continent data
> 
> 
> if you have enabled TESTING and you have the correct VTK_DATA_ROOT set up, you may want to try
> 
> bin/HybridCxxTests TestTDxGeo -D /local/VTKData -V Baseline/Hybrid/TestTDxGeo.png -I
> 
> The source code is in VTK/Hybrid/Testing/Cxx/TestTDxGeo.cxx
> -----------------
> Jean M. Favre
> Swiss National Supercomputing Center
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/f4c521ae/attachment.htm>

From lester_anderson1963 at hotmail.com  Tue Aug 10 10:06:51 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Tue, 10 Aug 2010 15:06:51 +0100
Subject: [Paraview] Point data on/in sphere - converting to structured
	grid
Message-ID: <SNT108-W56995FB94587552FB37BB28A950@phx.gbl>


Hello all

I have made a start with building the global mantle model. Because the data are referenced to the Sphere, it is not possible
to do the import of CSV using Table_to_Structured Grid and so I had to use Table_to_Points (see attached image).

The
 plot shows point data 50 depths 50-1600 km (final layers extend to 2800
 km). The spatial distribution of data is 1 x 1 degree, and each layer 
increment is 50 km (eg 50, 100, 150 ... 2800) - data converted to X,Y,Z coordinates. As such it would seem 
that one could describe the data as being a structured grid with a 
curvilinear geometry.

Is there a way to convert or reformat the 
data (in Paraview .pvd format) to a cell-based geometry given that one 
has the values and coordinates of each "cell" from the point data?

I did have a quick try of Delauny3D but it crashed Paraview (3.8.0)

If there is a more efficient way of dealing with the CSV file that would be useful to know.

Thanks

Lester 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/f8e0b439/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Point_data_50-1600km_2b.jpg
Type: image/jpeg
Size: 77268 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/f8e0b439/attachment-0001.jpg>

From samuelkey at bresnan.net  Tue Aug 10 11:39:07 2010
From: samuelkey at bresnan.net (Samuel Key)
Date: Tue, 10 Aug 2010 09:39:07 -0600
Subject: [Paraview] Loading coastline / continent data
In-Reply-To: <SNT108-W5533B80EF679CDC76DC638A950@phx.gbl>
References: <SNT108-W251F5CEA90053FB45C4DB78A950@phx.gbl>,
	<AB48A31C4EC97E498F4235B7CEF74A194D306E258A@MBX00.d.ethz.ch>
	<SNT108-W5533B80EF679CDC76DC638A950@phx.gbl>
Message-ID: <4C61729B.1060308@bresnan.net>

An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/e15e7d05/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: samuelkey.vcf
Type: text/x-vcard
Size: 282 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/e15e7d05/attachment.vcf>

From sean at rogue-research.com  Tue Aug 10 12:13:43 2010
From: sean at rogue-research.com (Sean McBride)
Date: Tue, 10 Aug 2010 12:13:43 -0400
Subject: [Paraview] download website mistakes/suggestions
Message-ID: <20100810161343.48276540@mail.rogue-research.com>

Hi all,

Just noticed here:

<http://www.paraview.org/paraview/resources/software.html>

A few mistakes/suggestions:

1) "x64_86" should be "x86_64"
2) "Macintosh OS X" really should be "Mac OS X". Nobody refers to it as
"Macintosh OS X".

Cheers,

-- 
____________________________________________________________
Sean McBride, B. Eng                 sean at rogue-research.com
Rogue Research                        www.rogue-research.com 
Mac Software Developer              Montr?al, Qu?bec, Canada



From reuterma at ornl.gov  Tue Aug 10 13:21:35 2010
From: reuterma at ornl.gov (Reuter, Michael A.)
Date: Tue, 10 Aug 2010 13:21:35 -0400
Subject: [Paraview] New HDF5 based reader
In-Reply-To: <AANLkTi=Rf8bpT1s_H4-POBfG5p0Zfe+Y23cW_0KZwhap@mail.gmail.com>
References: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov>
	<AANLkTi=Rf8bpT1s_H4-POBfG5p0Zfe+Y23cW_0KZwhap@mail.gmail.com>
Message-ID: <1F6AE093DC01A443ADA3A484BEB2CAB55E9FE2DB@EXCHMB.ornl.gov>

Hi Utkarsh,

	Thanks for the pointer on the cmake option as I somehow missed that one. However, 
using the PARAVIEW_USE_SYSTEM_HDF5 flag, cmake pointed at the system HDF5 information and a clean build, the following compile time error occurs:

Scanning dependencies of target Xdmf
[ 47%] Building CXX object Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o
In file included from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:28,
                 from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h: In member function 'XdmfInt32 XdmfDataDesc::SetHeavyDataSetName(const char*)':
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strcmp' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strlen' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strcpy' was not declared in this scope
In file included from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h: In member function 'void XdmfArray::SetDataFromChars(char*)':
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:398: error: 'strlen' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:399: error: 'strcpy' was not declared in this scope
make[2]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o] Error 1
make[1]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/all] Error 2
make: *** [all] Error 2

I did a little poking at the source code and it looks like the correct headers for the above functions are being included, but the compiler doesn't think so.

Michael

-----Original Message-----
From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com] 
Sent: Monday, August 09, 2010 13:24
To: Reuter, Michael A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] New HDF5 based reader

Hmm, looks like your plugin is linking against a system installed
HDF5. Did you change the ParaView to use the same? Otherwise ParaView
brings in its own version of HDF5 and the two can't work together. To
ensure that ParaView and your plugin uses the same HDF5, set the cmake
variable PARAVIEW_USE_SYSTEM_HDF5 to ON and then point CMake to the
installed hdf5.

Utkarsh

On Mon, Aug 9, 2010 at 11:59 AM, Reuter, Michael A. <reuterma at ornl.gov> wrote:
> Hi,
>
>
>
> ??????????????? I have been working at trying to get a NeXus
> (www.nexusformat.org) file read into ParaView. The NeXus format is HDF5
> based and this seems to be the source of the current problem that I'm
> encountering.? When I try to open a NeXus file via this call:
>
>
>
> NeXus::File *fh = new NeXus::File(filename, NXACC_READ);
>
>
>
> I get the backtrace that's attached to this email. The lowest level frame is
> given here:
>
>
>
> Program received signal SIGSEGV, Segmentation fault.
>
> 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> (gdb) bt
>
> #0? 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> .
>
>
>
> At first, this looked like an issue with the system HDF5 libraries, but I
> can put the above line into a standalone program, link it against the same
> libraries and I can open a file without any errors. I have searched the list
> archive for any enlightenment, but I didn't find this particular problem. Is
> there anything special about using HDF5 libraries in ParaView plugins that I
> missed in the documentation? I am running on Ubuntu 10.04 using the provided
> HDF5 libraries and I have compiled and linked the NeXus libraries against
> the same HDF5 libraries.
>
>
>
> I know about Xdmf and have tried that with success, but I do not want to go
> down the two file route, so I'd really like to get this reader working. I
> can provide more detailed information (like plugin source code, sample file
> etc.) to anyone who can help, but I don't want to spam the entire list with
> it right off the bat.
>
>
>
> Thanks,
>
> Michael
>
> -------------------------------------------
>
> Michael Reuter
>
> Scientific Data Analysis Group
>
> Neutron Scattering Science Division
>
> Oak Ridge National Laboratory
>
>
>
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From dave.partyka at kitware.com  Tue Aug 10 15:08:45 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Tue, 10 Aug 2010 15:08:45 -0400
Subject: [Paraview] New HDF5 based reader
In-Reply-To: <1F6AE093DC01A443ADA3A484BEB2CAB55E9FE2DB@EXCHMB.ornl.gov>
References: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov> 
	<AANLkTi=Rf8bpT1s_H4-POBfG5p0Zfe+Y23cW_0KZwhap@mail.gmail.com> 
	<1F6AE093DC01A443ADA3A484BEB2CAB55E9FE2DB@EXCHMB.ornl.gov>
Message-ID: <AANLkTindO_fQw1pZC4SJxi1Gtdyejcyp9AjYxWzsjK+w@mail.gmail.com>

Hi Michael,

This compile error should be fixed now. You should update Paraview to the
latest version and also do a 'git submodule update' to update Xdmf.

Commit

1ea84e6b53e6290f28993f64a844ca8fadbfbae8

Include <string.h> for XdmfSetStringMacro

    We need this header for strcmp in the macro implementation.  This error
    went unnoticed previously because places that used XdmfSetStringMacro
    happened to include <string.h> for another reason.

On Tue, Aug 10, 2010 at 1:21 PM, Reuter, Michael A. <reuterma at ornl.gov>wrote:

> Hi Utkarsh,
>
>        Thanks for the pointer on the cmake option as I somehow missed that
> one. However,
> using the PARAVIEW_USE_SYSTEM_HDF5 flag, cmake pointed at the system HDF5
> information and a clean build, the following compile time error occurs:
>
> Scanning dependencies of target Xdmf
> [ 47%] Building CXX object
> Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o
> In file included from
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:28,
>                 from
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h: In
> member function 'XdmfInt32 XdmfDataDesc::SetHeavyDataSetName(const char*)':
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202:
> error: 'strcmp' was not declared in this scope
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202:
> error: 'strlen' was not declared in this scope
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202:
> error: 'strcpy' was not declared in this scope
> In file included from
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h: In member
> function 'void XdmfArray::SetDataFromChars(char*)':
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:398: error:
> 'strlen' was not declared in this scope
> /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:399: error:
> 'strcpy' was not declared in this scope
> make[2]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o]
> Error 1
> make[1]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/all] Error 2
> make: *** [all] Error 2
>
> I did a little poking at the source code and it looks like the correct
> headers for the above functions are being included, but the compiler doesn't
> think so.
>
> Michael
>
> -----Original Message-----
> From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com]
> Sent: Monday, August 09, 2010 13:24
> To: Reuter, Michael A.
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] New HDF5 based reader
>
> Hmm, looks like your plugin is linking against a system installed
> HDF5. Did you change the ParaView to use the same? Otherwise ParaView
> brings in its own version of HDF5 and the two can't work together. To
> ensure that ParaView and your plugin uses the same HDF5, set the cmake
> variable PARAVIEW_USE_SYSTEM_HDF5 to ON and then point CMake to the
> installed hdf5.
>
> Utkarsh
>
> On Mon, Aug 9, 2010 at 11:59 AM, Reuter, Michael A. <reuterma at ornl.gov>
> wrote:
> > Hi,
> >
> >
> >
> >                 I have been working at trying to get a NeXus
> > (www.nexusformat.org) file read into ParaView. The NeXus format is HDF5
> > based and this seems to be the source of the current problem that I'm
> > encountering.  When I try to open a NeXus file via this call:
> >
> >
> >
> > NeXus::File *fh = new NeXus::File(filename, NXACC_READ);
> >
> >
> >
> > I get the backtrace that's attached to this email. The lowest level frame
> is
> > given here:
> >
> >
> >
> > Program received signal SIGSEGV, Segmentation fault.
> >
> > 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
> >
> > (gdb) bt
> >
> > #0  0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
> >
> > .
> >
> >
> >
> > At first, this looked like an issue with the system HDF5 libraries, but I
> > can put the above line into a standalone program, link it against the
> same
> > libraries and I can open a file without any errors. I have searched the
> list
> > archive for any enlightenment, but I didn't find this particular problem.
> Is
> > there anything special about using HDF5 libraries in ParaView plugins
> that I
> > missed in the documentation? I am running on Ubuntu 10.04 using the
> provided
> > HDF5 libraries and I have compiled and linked the NeXus libraries against
> > the same HDF5 libraries.
> >
> >
> >
> > I know about Xdmf and have tried that with success, but I do not want to
> go
> > down the two file route, so I'd really like to get this reader working. I
> > can provide more detailed information (like plugin source code, sample
> file
> > etc.) to anyone who can help, but I don't want to spam the entire list
> with
> > it right off the bat.
> >
> >
> >
> > Thanks,
> >
> > Michael
> >
> > -------------------------------------------
> >
> > Michael Reuter
> >
> > Scientific Data Analysis Group
> >
> > Neutron Scattering Science Division
> >
> > Oak Ridge National Laboratory
> >
> >
> >
> >
> >
> >
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/3c279349/attachment.htm>

From kmorel at sandia.gov  Tue Aug 10 16:14:23 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 10 Aug 2010 14:14:23 -0600
Subject: [Paraview] Point data on/in sphere - converting to structured
 grid
In-Reply-To: <SNT108-W56995FB94587552FB37BB28A950@phx.gbl>
Message-ID: <C8870F3F.18CA2%kmorel@sandia.gov>

I'm confused as to why Table to Structured Grid won't work.  A structured grid has no problem representing data on regular longitude, latitude, and radius.  If the coordinates are given in lon,lat,r, just use the calculator filter to convert them to x, y, z.

If you were to ask what the ideal format for the data would be, I would suggest creating netCDF files using the COARDS or CF convention.  It's a much more efficient format than CSV and was specifically designed with geospatial data in mind.  That said, this only makes sense if you have control over how your data is generated in the first place.  I know of no easy way to convert CSV to netCDF.

-Ken


On 8/10/10 8:06 AM, "Lester Anderson" <lester_anderson1963 at hotmail.com> wrote:

Hello all

I have made a start with building the global mantle model. Because the data are referenced to the Sphere, it is not possible
to do the import of CSV using Table_to_Structured Grid and so I had to use Table_to_Points (see attached image).

The plot shows point data 50 depths 50-1600 km (final layers extend to 2800 km). The spatial distribution of data is 1 x 1 degree, and each layer increment is 50 km (eg 50, 100, 150 ... 2800) - data converted to X,Y,Z coordinates. As such it would seem that one could describe the data as being a structured grid with a curvilinear geometry.

Is there a way to convert or reformat the data (in Paraview .pvd format) to a cell-based geometry given that one has the values and coordinates of each "cell" from the point data?

I did have a quick try of Delauny3D but it crashed Paraview (3.8.0)

If there is a more efficient way of dealing with the CSV file that would be useful to know.

Thanks

Lester


   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/88de2753/attachment-0001.htm>

From robert.maynard at kitware.com  Tue Aug 10 16:22:48 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Tue, 10 Aug 2010 16:22:48 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008072051560.9837@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost> 
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com> 
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com> 
	<AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com> 
	<alpine.DEB.2.00.1008062153030.3320@localhost>
	<alpine.DEB.2.00.1008072051560.9837@localhost>
Message-ID: <AANLkTi=ZmaG1oFLAT3SYm01PHGUpmffVTKyq2F4HjOQA@mail.gmail.com>

Neither, the reader presumes that each node has access to every file.

On Sat, Aug 7, 2010 at 3:52 PM, Ricardo Reis <rreis at aero.ist.utl.pt> wrote:

>
>  One (last) question:
>
>  when running pvserver in parallel, are the ensight data files read in
> parallel? I mean, is it
>
>  - using MPI_IO
>
>  or
>
>  - master reads all file and distributes?
>
>  best regards,
>
>
>
>  Ricardo Reis
>
>  'Non Serviam'
>
>  PhD candidate @ Lasef
>  Computational Fluid Dynamics, High Performance Computing, Turbulence
>  http://www.lasef.ist.utl.pt
>
>  Cultural Instigator @ R?dio Zero
>  http://www.radiozero.pt
>
>  Keep them Flying! Ajude a/help Aero F?nix!
>
>  http://www.aeronauta.com/aero.fenix
>
>  http://www.flickr.com/photos/rreis/
>
>                           < sent with alpine 2.00 >
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
Robert Maynard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100810/feada3f3/attachment.htm>

From ccattani at caltech.edu  Tue Aug 10 20:30:32 2010
From: ccattani at caltech.edu (ccattani at caltech.edu)
Date: Tue, 10 Aug 2010 17:30:32 -0700 (PDT)
Subject: [Paraview] Resampling an Unstructured Grid
Message-ID: <45035.131.215.65.48.1281486632.squirrel@webmail.caltech.edu>

Dear all,

I am using the ResampleWithDataset filter to interpolate values from an
unstructured grid to a grid of equally spaced points.

From lester_anderson1963 at hotmail.com  Wed Aug 11 04:15:08 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Wed, 11 Aug 2010 09:15:08 +0100
Subject: [Paraview] Point data on/in sphere - converting to structured
 grid
In-Reply-To: <C8870F3F.18CA2%kmorel@sandia.gov>
References: <SNT108-W56995FB94587552FB37BB28A950@phx.gbl>,
	<C8870F3F.18CA2%kmorel@sandia.gov>
Message-ID: <SNT108-W21DB13ACDCB4DCC17898FA8A960@phx.gbl>


Hi ken

Thanks for the pointers. If it is possible to load in a data file with Longitude, Latitude, and Radius (sphere) and convert the input grid to a x, y, z that would be great.

I had a look at the calculator filter but could not see what to use. Would the result be a spherical representation of the data?

I do have the data in netCDF and CSV files. I did try converting all the data to spherical coordinates for X, Y, Z but Paraview only worked to do Table to Points.

Thanks for the guidance

Lester

From: kmorel at sandia.gov
To: lester_anderson1963 at hotmail.com; paraview at paraview.org
Date: Tue, 10 Aug 2010 14:14:23 -0600
Subject: Re: [Paraview] Point data on/in sphere - converting to structured grid





Message body


I?m confused as to why Table to Structured Grid won?t work.  A structured grid has no problem representing data on regular longitude, latitude, and radius.  If the coordinates are given in lon,lat,r, just use the calculator filter to convert them to x, y, z.



If you were to ask what the ideal format for the data would be, I would suggest creating netCDF files using the COARDS or CF convention.  It?s a much more efficient format than CSV and was specifically designed with geospatial data in mind.  That said, this only makes sense if you have control over how your data is generated in the first place.  I know of no easy way to convert CSV to netCDF.



-Ken





On 8/10/10 8:06 AM, "Lester Anderson" <lester_anderson1963 at hotmail.com> wrote:



Hello all



I have made a start with building the global mantle model. Because the data are referenced to the Sphere, it is not possible

to do the import of CSV using Table_to_Structured Grid and so I had to use Table_to_Points (see attached image).



The plot shows point data 50 depths 50-1600 km (final layers extend to 2800 km). The spatial distribution of data is 1 x 1 degree, and each layer increment is 50 km (eg 50, 100, 150 ... 2800) - data converted to X,Y,Z coordinates. As such it would seem that one could describe the data as being a structured grid with a curvilinear geometry.



Is there a way to convert or reformat the data (in Paraview .pvd format) to a cell-based geometry given that one has the values and coordinates of each "cell" from the point data?



I did have a quick try of Delauny3D but it crashed Paraview (3.8.0)



If there is a more efficient way of dealing with the CSV file that would be useful to know.



Thanks



Lester       





   ****      Kenneth Moreland

    ***      Sandia National Laboratories

***********  

*** *** ***  email: kmorel at sandia.gov

**  ***  **  phone: (505) 844-8919

    ***      web:   http://www.cs.unm.edu/~kmorel



 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100811/f014e8be/attachment.htm>

From rreis at aero.ist.utl.pt  Wed Aug 11 06:59:15 2010
From: rreis at aero.ist.utl.pt (Ricardo Reis)
Date: Wed, 11 Aug 2010 11:59:15 +0100 (WEST)
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <AANLkTi=ZmaG1oFLAT3SYm01PHGUpmffVTKyq2F4HjOQA@mail.gmail.com>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com> 
	<AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>
	<alpine.DEB.2.00.1008062153030.3320@localhost>
	<alpine.DEB.2.00.1008072051560.9837@localhost>
	<AANLkTi=ZmaG1oFLAT3SYm01PHGUpmffVTKyq2F4HjOQA@mail.gmail.com>
Message-ID: <alpine.DEB.2.00.1008111155280.17746@localhost>

On Tue, 10 Aug 2010, Robert Maynard wrote:

> Neither, the reader presumes that each node has access to every file.

ok... but do they need to read the full file? I mean, if I have a 
3D vector field, each component is a 5 Gb file. I'm opening this in a 
cluster, all nodes see the files. Does each node load the 3 files entirely 
and then distribute among themselves or it just looks for its part of the 
file?

Sorry if the question is dumb... but is the workflow something like:

  - read geometry
  - partition/distribute geometry/mesh
  - only read relevant data to each node from files

  ?

  best regards,

  Ricardo Reis

  'Non Serviam'

  PhD candidate @ Lasef
  Computational Fluid Dynamics, High Performance Computing, Turbulence
  http://www.lasef.ist.utl.pt

  Cultural Instigator @ R?dio Zero
  http://www.radiozero.pt

  Keep them Flying! Ajude a/help Aero F?nix!

  http://www.aeronauta.com/aero.fenix

  http://www.flickr.com/photos/rreis/

                            < sent with alpine 2.00 >

From kmorel at sandia.gov  Wed Aug 11 11:59:46 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Wed, 11 Aug 2010 09:59:46 -0600
Subject: [Paraview] Resampling an Unstructured Grid
In-Reply-To: <45035.131.215.65.48.1281486632.squirrel@webmail.caltech.edu>
Message-ID: <C8882512.18D14%kmorel@sandia.gov>

It was not clear in your email, but I am assuming that the points marked invalid are actually inside a cell in the unstructured mesh and should not have been marked so.  You also stated that they happen near where the resolution of the unstructured grid changes.  That can mean multiple things, but I am assuming that you are referring to a discontinuity in the grid where coarse cells share a face with multiple finer cells.  If this is the case, then VTK is going to have problems because many of its algorithms, including finding the cell in which a point belongs, relies on being able to find a cell's neighbors, and this is ill defined when you have a discontinuity.

-Ken


On 8/10/10 6:30 PM, "ccattani at caltech.edu" <ccattani at caltech.edu> wrote:

Dear all,

I am using the ResampleWithDataset filter to interpolate values from an
unstructured grid to a grid of equally spaced points.

From rbpiccinini at gmail.com  Wed Aug 11 13:45:32 2010
From: rbpiccinini at gmail.com (Rodrigo Piccinini)
Date: Wed, 11 Aug 2010 14:45:32 -0300
Subject: [Paraview] Integrate Value for all time steps
Message-ID: <AANLkTikTWdd6rJUzsGe=2nKkgynm02n792rmTuo7Z=mY@mail.gmail.com>

Hello,

I wrote a python script to integrate a quantity defined in a calculator. I'd
like to perform the computation for all time steps,
but I  just have zero values for all time steps after the first one.
Someone would know it?
This is my try:

#!/cluster/apps/paraview/bin/pvpython
try: paraview.simple
except: from paraview.simple import *

casefile = '/home/piccinini/work/sygma_head/v02/movel/paraview/SYG2.CASE'

CASE = EnSightReader( CaseFileName=casefile )   #Read ENSI case
CASE.CellArrays = ['SVEL', 'P', 'PTER', 'TE', 'ED', 'T']
tsteps = CASE.TimestepValues                    #Get timesteps
print len(tsteps)
Show()

PointData = CellDatatoPointData(PassCellData=1)                #Convert to
cell data

valveCurtain = Slice( SliceType="Plane" )
valveCurtain.SliceType.Origin = [0, 0, 0.015]
valveCurtain.SliceType.Normal = [0.0, 0.0, 1.0]

LzF = Calculator()
LzF.AttributeMode = 'point_data'
LzF.Function = '(coordsX*SVEL_Y-coordsY*SVEL_X)*SVEL_Z'
LzF.ResultArrayName = 'LzF'

for t in tsteps:
    print 'Time (s) = ',t
    RV1 = GetRenderView()
    RV1.ViewTime = t

    RV1.CameraViewUp = [0.0, 0.0, 1.0]
    RV1.CameraPosition = [-0.080070000141859055, -1.1188103732684673,
0.027209000661969185]
    RV1.CameraFocalPoint = [-0.080070000141859055, -0.078404996544122696,
0.027209000661969185]
    RV1.CameraClippingRange = [0.74661537378502163, 1.4127359813330285]


    Render()
    Show()

    valveCurtainIntegral = IntegrateVariables()
    data = servermanager.Fetch(valveCurtainIntegral,0)
    scalarData = data.GetPointData()
    avgVar = scalarData.GetArray(0).GetTuple1(0)

    print 'Integral value = ', avgVar


--
Rodrigo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100811/53456f80/attachment.htm>

From berk.geveci at kitware.com  Wed Aug 11 16:29:17 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Wed, 11 Aug 2010 16:29:17 -0400
Subject: [Paraview] ensight and parallel paraview
In-Reply-To: <alpine.DEB.2.00.1008111155280.17746@localhost>
References: <alpine.DEB.2.00.1008051531040.28001@localhost>
	<AANLkTimkQ2_cOONOv5-0yMnh3YN87qr7Mj=US3_Z8N_9@mail.gmail.com>
	<alpine.DEB.2.00.1008051909510.12709@localhost>
	<AANLkTinRgFH6L3QPjR76Jyw=VCZ3SyxgstT3s8=OoJjB@mail.gmail.com>
	<AANLkTinfRBc-UZfBSucqETi7eE400-dAM0q8bD7Re41i@mail.gmail.com>
	<alpine.DEB.2.00.1008062153030.3320@localhost>
	<alpine.DEB.2.00.1008072051560.9837@localhost>
	<AANLkTi=ZmaG1oFLAT3SYm01PHGUpmffVTKyq2F4HjOQA@mail.gmail.com>
	<alpine.DEB.2.00.1008111155280.17746@localhost>
Message-ID: <AANLkTika9b5fJe_tTPumdB1Q=PNhrcWZU7c93bb5gnfM@mail.gmail.com>

The CEA guys folks developed this version so they'd know best but a
quick look at the source code tells me that each rank reads a portion
of the file. There seems to be logic to figure out offsets for each
rank such that they can start reading from there.

-berk

On Wed, Aug 11, 2010 at 6:59 AM, Ricardo Reis <rreis at aero.ist.utl.pt> wrote:
> On Tue, 10 Aug 2010, Robert Maynard wrote:
>
>> Neither, the reader presumes that each node has access to every file.
>
> ok... but do they need to read the full file? I mean, if I have a 3D vector
> field, each component is a 5 Gb file. I'm opening this in a cluster, all
> nodes see the files. Does each node load the 3 files entirely and then
> distribute among themselves or it just looks for its part of the file?
>
> Sorry if the question is dumb... but is the workflow something like:
>
> ?- read geometry
> ?- partition/distribute geometry/mesh
> ?- only read relevant data to each node from files
>
> ??
>
> ?best regards,
>
> ?Ricardo Reis
>
> ?'Non Serviam'
>
> ?PhD candidate @ Lasef
> ?Computational Fluid Dynamics, High Performance Computing, Turbulence
> ?http://www.lasef.ist.utl.pt
>
> ?Cultural Instigator @ R?dio Zero
> ?http://www.radiozero.pt
>
> ?Keep them Flying! Ajude a/help Aero F?nix!
>
> ?http://www.aeronauta.com/aero.fenix
>
> ?http://www.flickr.com/photos/rreis/
>
> ? ? ? ? ? ? ? ? ? ? ? ? ? < sent with alpine 2.00 >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From jacques.papper at gmail.com  Thu Aug 12 06:19:27 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Thu, 12 Aug 2010 11:19:27 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
Message-ID: <AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>

Hi Andy, Pat,

I have the skeleton of the coprocessing working (for the moment I just tried
by populating the point field - no cells, no data).
I am trying to figure out the most efficient way of transferring my data
structure to VTK with minimal copying and looping...
I would like to use the vtkUnstructuredGrid::SetCells() method, which means
I probably need to use the vtkCellArray::SetCells() method, and therefore
the vtkIdType::SetArray() method...
The problem is I am not sure what the format of the array should be ?
I am dealing with unstructured polyhedra cells (most of which are known
types like hex prism etc..).

Of course, I could also use the InsertNextCell() methods, but I was
wondering if there wasn't a more efficient way...

Best,
Jacques


2010/8/9 Andy Bauer <andy.bauer at kitware.com>

> Hi Jacques,
>
> I put an example on the wiki based on Pat's example for running a
> coprocessing.  It's at:
> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
> Let me know if you have any problems with it so that I can fix any errors
> that I have.
>
> Also, I just made changes so that the coprocessing library gets installed
> properly.
>
> Thanks,
> Andy
>
>
> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> Thanks Pat,
>>
>> I am trying to compile my first attempt.
>> Although I do find the headers I need, I am having some trouble
>> identifying which libraries I need to link to.
>> For example, I assume that I should be linking to libvtkCoProcessor.so ...
>> Although I find this library in the compilation folder (under bin), I do not
>> find it in the make installed version under lib...
>> Is this normal ?
>>
>> Best,
>> Jacques
>>
>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>
>> Below is a simple cxx program I have used for testing.  It creates one
>>> sphere per process, positions the sphere as a function of the process id,
>>> and the spheres grow/shrink over time.
>>>
>>> Pat
>>>
>>> #include "vtkCPProcessor.h"
>>> #include "vtkCPPythonScriptPipeline.h"
>>> #include "vtkMultiProcessController.h"
>>> #include "vtkXMLUnstructuredGridReader.h"
>>> #include "vtkUnstructuredGrid.h"
>>> #include "vtkCPDataDescription.h"
>>> #include "vtkCPInputDataDescription.h"
>>> #include "vtkSmartPointer.h"
>>> #include "vtkPolyData.h"
>>> #include "vtkSphereSource.h"
>>>
>>> #include <stdio.h>
>>> #include <string>
>>> #include <sstream>
>>>
>>> static unsigned int procId;
>>>
>>> void myprint(const std::string& str)
>>> {
>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>> }
>>>
>>> class DataGenerator {
>>> public:
>>>
>>>   DataGenerator()
>>>     {
>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>     this->Sphere->SetThetaResolution(30);
>>>     this->Sphere->SetPhiResolution(30);
>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>     this->Index = 0;
>>>     }
>>>
>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>     {
>>>     double radius = fabs(sin(0.1 * this->Index));
>>>     this->Index++;
>>>     this->Sphere->SetRadius(1.0 + radius);
>>>     this->Sphere->Update();
>>>     vtkSmartPointer<vtkPolyData> ret =
>>> vtkSmartPointer<vtkPolyData>::New();
>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>     return ret;
>>>     }
>>>
>>> protected:
>>>
>>>   int Index;
>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>
>>>
>>> };
>>>
>>> int main(int argc, char* argv[])
>>> {
>>>   if (argc < 3)
>>>     {
>>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>>     return 1;
>>>     }
>>>
>>>   std::string cpPythonFile = argv[1];
>>>   int nSteps = atoi(argv[2]);
>>>
>>>   myprint("starting coprocessor");
>>>
>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>   processor->Initialize();
>>>   vtkCPPythonScriptPipeline* pipeline = vtkCPPythonScriptPipeline::New();
>>>
>>>   // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
>>>   procId =
>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>
>>>
>>>   // read the coprocessing python file
>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>   if (!success)
>>>     {
>>>     myprint("aborting");
>>>     return 1;
>>>     }
>>>
>>>   processor->AddPipeline(pipeline);
>>>   pipeline->Delete();
>>>
>>>   if (nSteps == 0)
>>>     {
>>>     return 0;
>>>     }
>>>
>>>   // create a data source
>>>   DataGenerator generator;
>>>
>>>   // do coprocessing
>>>   double tStart = 0.0;
>>>   double tEnd = 1.0;
>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>
>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>   dataDesc->AddInput("input");
>>>
>>>   for (int i = 0; i < nSteps; ++i)
>>>     {
>>>
>>>     double currentTime = tStart + stepSize*i;
>>>     std::stringstream timeStr;
>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>
>>>
>>>     dataDesc->SetTimeData(currentTime, i);
>>>
>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>>
>>>     if (do_coprocessing)
>>>       {
>>>       myprint("calling CoProcess, " + timeStr.str());
>>>
>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>         generator.GetNext();
>>>
>>>       dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>       processor->CoProcess(dataDesc);
>>>       }
>>>     }
>>>
>>>
>>>   myprint("finalizing");
>>>   dataDesc->Delete();
>>>   processor->Finalize();
>>>   processor->Delete();
>>>
>>>   return 0;
>>>
>>> }
>>>
>>>
>>>
>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>
>>>> Hi Jacques,
>>>>
>>>> There is a polyhedra cell type in VTK now --
>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>> As far as I know it works with all of the proper filters but since I
>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>> assume that it's working quite well right now.
>>>>
>>>> As for Phasta, it does run in parallel (as props to their developers it
>>>> was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>> tried that.
>>>>
>>>> Andy
>>>>
>>>>
>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> Thanks a lot Andy, Takuya,
>>>>>
>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for
>>>>> the moment.
>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do
>>>>> you know if this is there yet?
>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>> decomposed amongst each processor.
>>>>>
>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>> statements in the adaptor code ?
>>>>>
>>>>> Jacques
>>>>>
>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>
>>>>> Hi Jacques,
>>>>>>
>>>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>> may help as well.
>>>>>>
>>>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>>>> I'll let you know when it's done.
>>>>>>
>>>>>> Andy
>>>>>>
>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>>  Hi All,
>>>>>>>
>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>> PYTHONPATH..
>>>>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>>>>> examples though :)
>>>>>>>
>>>>>>> Thanks
>>>>>>> Jacques
>>>>>>>
>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>
>>>>>>>
>>>>>>>> Hi All,
>>>>>>>>
>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>>>> guidelines in :
>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>> I didn't find :
>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>> *but instead :
>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>> I then tried :
>>>>>>>>
>>>>>>>> ctest -R CoProcessing
>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>>>>> 0.45 sec
>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>>>>> 0.09 sec
>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>>>>> 0.09 sec
>>>>>>>>
>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>
>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>
>>>>>>>> The following tests FAILED:
>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>> Errors while running CTest
>>>>>>>>
>>>>>>>> Is this a problem in my current installation or on the master branch
>>>>>>>> ?
>>>>>>>>
>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>> myself from ?
>>>>>>>>
>>>>>>>>
>>>>>>>> Thank you,
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>>
>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Powered by www.kitware.com
>>>>>>>
>>>>>>> Visit other Kitware open-source projects at
>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>
>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>
>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/b0de2da0/attachment-0001.htm>

From rakesh.hammond at googlemail.com  Thu Aug 12 13:42:34 2010
From: rakesh.hammond at googlemail.com (Rakesh Hammond)
Date: Thu, 12 Aug 2010 18:42:34 +0100
Subject: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
Message-ID: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>

Hi

I have a .pvti file which I can visualize in Paraview-3.8.0.

I would like to save a slice from my data set and able to display the
results correctly.
However, when I select SaveScreen option with PNG format, it seg faults.

I am able to get this to work correctly on 3.6.2 without seg faulting.

I am on SuSe-10.2.

Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
I haven't done this for 3.6.2 and works OK.

Has any one else come across this problem before?

Any pointers would be greatly appreciated.

Regards,

Rakesh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/1d6dbf61/attachment.htm>

From pat.marion at kitware.com  Thu Aug 12 14:26:39 2010
From: pat.marion at kitware.com (pat marion)
Date: Thu, 12 Aug 2010 14:26:39 -0400
Subject: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
In-Reply-To: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
References: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
Message-ID: <AANLkTi=XmRD5HsakKdchO09MdbuUEdqFPmAJ3ONTCi4n@mail.gmail.com>

Hi Rakesh,

In Edit -> Settings -> Render View there is an option "Use Offscreen
Rendering for Screenshots."  On some systems, this option will cause a crash
when enabled.

Pat

On Thu, Aug 12, 2010 at 1:42 PM, Rakesh Hammond <
rakesh.hammond at googlemail.com> wrote:

> Hi
>
> I have a .pvti file which I can visualize in Paraview-3.8.0.
>
> I would like to save a slice from my data set and able to display the
> results correctly.
> However, when I select SaveScreen option with PNG format, it seg faults.
>
> I am able to get this to work correctly on 3.6.2 without seg faulting.
>
> I am on SuSe-10.2.
>
> Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
> I haven't done this for 3.6.2 and works OK.
>
> Has any one else come across this problem before?
>
> Any pointers would be greatly appreciated.
>
> Regards,
>
> Rakesh
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/16a2172a/attachment.htm>

From jacques.papper at gmail.com  Thu Aug 12 14:38:01 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Thu, 12 Aug 2010 19:38:01 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
Message-ID: <AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>

Hi All,

I am making some more progress on this. Everything was working until I tried
adding field data... I now get an explosion :

#2  ?? in "/lib64/libc.so.6"
#3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
#4  vtkDataArray::ComputeRange(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
#5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#6
vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#10  vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#12  vtkSelfConnection::GatherInformation(unsigned int, vtkPVInformation*,
vtkClientServerID) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
vtkPVInformation*, vtkClientServerID) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#14  vtkSMOutputPort::GatherDataInformation() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#15  vtkSMOutputPort::GetDataInformation() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#18  vtkSMProperty::IsInDomains() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#20  ?? at vtkSMRenderViewProxyPython.cxx:0
#21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
#33  ?? in "/usr/lib64/libpython2.6.so.1.0"
#34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
#35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
#36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
#37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
#38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"

Any ideas where this can be coming from ?
When I do not add the field data it just complains about missing fields so I
know that the code is not completely wrong...
I am adding the data to the first block of my multiblockdataset... Is that a
problem ?



Thanks !
Jacques


2010/8/12 Jacques Papper <jacques.papper at gmail.com>

> Hi Andy, Pat,
>
> I have the skeleton of the coprocessing working (for the moment I just
> tried by populating the point field - no cells, no data).
> I am trying to figure out the most efficient way of transferring my data
> structure to VTK with minimal copying and looping...
> I would like to use the vtkUnstructuredGrid::SetCells() method, which means
> I probably need to use the vtkCellArray::SetCells() method, and therefore
> the vtkIdType::SetArray() method...
> The problem is I am not sure what the format of the array should be ?
> I am dealing with unstructured polyhedra cells (most of which are known
> types like hex prism etc..).
>
> Of course, I could also use the InsertNextCell() methods, but I was
> wondering if there wasn't a more efficient way...
>
> Best,
> Jacques
>
>
> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>
> Hi Jacques,
>>
>> I put an example on the wiki based on Pat's example for running a
>> coprocessing.  It's at:
>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>> Let me know if you have any problems with it so that I can fix any errors
>> that I have.
>>
>> Also, I just made changes so that the coprocessing library gets installed
>> properly.
>>
>> Thanks,
>> Andy
>>
>>
>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com>wrote:
>>
>>> Thanks Pat,
>>>
>>> I am trying to compile my first attempt.
>>> Although I do find the headers I need, I am having some trouble
>>> identifying which libraries I need to link to.
>>> For example, I assume that I should be linking to libvtkCoProcessor.so
>>> ... Although I find this library in the compilation folder (under bin), I do
>>> not find it in the make installed version under lib...
>>> Is this normal ?
>>>
>>> Best,
>>> Jacques
>>>
>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>
>>> Below is a simple cxx program I have used for testing.  It creates one
>>>> sphere per process, positions the sphere as a function of the process id,
>>>> and the spheres grow/shrink over time.
>>>>
>>>> Pat
>>>>
>>>> #include "vtkCPProcessor.h"
>>>> #include "vtkCPPythonScriptPipeline.h"
>>>> #include "vtkMultiProcessController.h"
>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>> #include "vtkUnstructuredGrid.h"
>>>> #include "vtkCPDataDescription.h"
>>>> #include "vtkCPInputDataDescription.h"
>>>> #include "vtkSmartPointer.h"
>>>> #include "vtkPolyData.h"
>>>> #include "vtkSphereSource.h"
>>>>
>>>> #include <stdio.h>
>>>> #include <string>
>>>> #include <sstream>
>>>>
>>>> static unsigned int procId;
>>>>
>>>> void myprint(const std::string& str)
>>>> {
>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>> }
>>>>
>>>> class DataGenerator {
>>>> public:
>>>>
>>>>   DataGenerator()
>>>>     {
>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>     this->Sphere->SetThetaResolution(30);
>>>>     this->Sphere->SetPhiResolution(30);
>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>     this->Index = 0;
>>>>     }
>>>>
>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>     {
>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>     this->Index++;
>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>     this->Sphere->Update();
>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>     return ret;
>>>>     }
>>>>
>>>> protected:
>>>>
>>>>   int Index;
>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>
>>>>
>>>> };
>>>>
>>>> int main(int argc, char* argv[])
>>>> {
>>>>   if (argc < 3)
>>>>     {
>>>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>>>     return 1;
>>>>     }
>>>>
>>>>   std::string cpPythonFile = argv[1];
>>>>   int nSteps = atoi(argv[2]);
>>>>
>>>>   myprint("starting coprocessor");
>>>>
>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>   processor->Initialize();
>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>> vtkCPPythonScriptPipeline::New();
>>>>
>>>>   // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
>>>>   procId =
>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>
>>>>
>>>>   // read the coprocessing python file
>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>   if (!success)
>>>>     {
>>>>     myprint("aborting");
>>>>     return 1;
>>>>     }
>>>>
>>>>   processor->AddPipeline(pipeline);
>>>>   pipeline->Delete();
>>>>
>>>>   if (nSteps == 0)
>>>>     {
>>>>     return 0;
>>>>     }
>>>>
>>>>   // create a data source
>>>>   DataGenerator generator;
>>>>
>>>>   // do coprocessing
>>>>   double tStart = 0.0;
>>>>   double tEnd = 1.0;
>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>
>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>   dataDesc->AddInput("input");
>>>>
>>>>   for (int i = 0; i < nSteps; ++i)
>>>>     {
>>>>
>>>>     double currentTime = tStart + stepSize*i;
>>>>     std::stringstream timeStr;
>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>
>>>>
>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>
>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>>>
>>>>     if (do_coprocessing)
>>>>       {
>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>
>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>         generator.GetNext();
>>>>
>>>>       dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>       processor->CoProcess(dataDesc);
>>>>       }
>>>>     }
>>>>
>>>>
>>>>   myprint("finalizing");
>>>>   dataDesc->Delete();
>>>>   processor->Finalize();
>>>>   processor->Delete();
>>>>
>>>>   return 0;
>>>>
>>>> }
>>>>
>>>>
>>>>
>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>>
>>>>> Hi Jacques,
>>>>>
>>>>> There is a polyhedra cell type in VTK now --
>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>> As far as I know it works with all of the proper filters but since I
>>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>> assume that it's working quite well right now.
>>>>>
>>>>> As for Phasta, it does run in parallel (as props to their developers it
>>>>> was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>>> tried that.
>>>>>
>>>>> Andy
>>>>>
>>>>>
>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> Thanks a lot Andy, Takuya,
>>>>>>
>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for
>>>>>> the moment.
>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do
>>>>>> you know if this is there yet?
>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>> decomposed amongst each processor.
>>>>>>
>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>> statements in the adaptor code ?
>>>>>>
>>>>>> Jacques
>>>>>>
>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>
>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>> may help as well.
>>>>>>>
>>>>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>>>>> I'll let you know when it's done.
>>>>>>>
>>>>>>> Andy
>>>>>>>
>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>>  Hi All,
>>>>>>>>
>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>> PYTHONPATH..
>>>>>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>>>>>> examples though :)
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>
>>>>>>>>
>>>>>>>>> Hi All,
>>>>>>>>>
>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>>>>> guidelines in :
>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>> I didn't find :
>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>> *but instead :
>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>> I then tried :
>>>>>>>>>
>>>>>>>>> ctest -R CoProcessing
>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>>>>>> 0.45 sec
>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>>>>>> 0.09 sec
>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>>>>>> 0.09 sec
>>>>>>>>>
>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>
>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>
>>>>>>>>> The following tests FAILED:
>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>> Errors while running CTest
>>>>>>>>>
>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>> branch ?
>>>>>>>>>
>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>> myself from ?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Thank you,
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Powered by www.kitware.com
>>>>>>>>
>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>
>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>
>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/4b2a4aad/attachment-0001.htm>

From andy.bauer at kitware.com  Thu Aug 12 15:02:27 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Thu, 12 Aug 2010 15:02:27 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
Message-ID: <AANLkTi=VRqYXwyUV9UAsPDoDg9e8mq9cPV3==LBCx=AD@mail.gmail.com>

Hi Jacques,

I don't see any shortcut for setting the points other than creating a
vtkPoints object and directly filling it with values.  For adding cells to
an unstructured grid, I think you first want to do an Allocate and then
SetCells() for each cell since you should already know how many cells you
have ahead of time.  For the arrays in pointdata, celldata, and fielddata
you should be able to create the array (e.g. vtkFloatArray) and if the
memory layout for your contiguous array (assuming your field values are in
contiguous arrays) is the same as VTK (i.e. tuple 0 component 0 then tuple 0
component 1, ..., tuple 1 component 0, tuple 1 component 1,...) then you can
use the SetArray() method to reuse your existing memory for field
information.

Andy

On Thu, Aug 12, 2010 at 6:19 AM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Hi Andy, Pat,
>
> I have the skeleton of the coprocessing working (for the moment I just
> tried by populating the point field - no cells, no data).
> I am trying to figure out the most efficient way of transferring my data
> structure to VTK with minimal copying and looping...
> I would like to use the vtkUnstructuredGrid::SetCells() method, which means
> I probably need to use the vtkCellArray::SetCells() method, and therefore
> the vtkIdType::SetArray() method...
> The problem is I am not sure what the format of the array should be ?
> I am dealing with unstructured polyhedra cells (most of which are known
> types like hex prism etc..).
>
> Of course, I could also use the InsertNextCell() methods, but I was
> wondering if there wasn't a more efficient way...
>
> Best,
> Jacques
>
>
> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>
>> Hi Jacques,
>>
>> I put an example on the wiki based on Pat's example for running a
>> coprocessing.  It's at:
>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>> Let me know if you have any problems with it so that I can fix any errors
>> that I have.
>>
>> Also, I just made changes so that the coprocessing library gets installed
>> properly.
>>
>> Thanks,
>> Andy
>>
>>
>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com>wrote:
>>
>>> Thanks Pat,
>>>
>>> I am trying to compile my first attempt.
>>> Although I do find the headers I need, I am having some trouble
>>> identifying which libraries I need to link to.
>>> For example, I assume that I should be linking to libvtkCoProcessor.so
>>> ... Although I find this library in the compilation folder (under bin), I do
>>> not find it in the make installed version under lib...
>>> Is this normal ?
>>>
>>> Best,
>>> Jacques
>>>
>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>
>>> Below is a simple cxx program I have used for testing.  It creates one
>>>> sphere per process, positions the sphere as a function of the process id,
>>>> and the spheres grow/shrink over time.
>>>>
>>>> Pat
>>>>
>>>> #include "vtkCPProcessor.h"
>>>> #include "vtkCPPythonScriptPipeline.h"
>>>> #include "vtkMultiProcessController.h"
>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>> #include "vtkUnstructuredGrid.h"
>>>> #include "vtkCPDataDescription.h"
>>>> #include "vtkCPInputDataDescription.h"
>>>> #include "vtkSmartPointer.h"
>>>> #include "vtkPolyData.h"
>>>> #include "vtkSphereSource.h"
>>>>
>>>> #include <stdio.h>
>>>> #include <string>
>>>> #include <sstream>
>>>>
>>>> static unsigned int procId;
>>>>
>>>> void myprint(const std::string& str)
>>>> {
>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>> }
>>>>
>>>> class DataGenerator {
>>>> public:
>>>>
>>>>   DataGenerator()
>>>>     {
>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>     this->Sphere->SetThetaResolution(30);
>>>>     this->Sphere->SetPhiResolution(30);
>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>     this->Index = 0;
>>>>     }
>>>>
>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>     {
>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>     this->Index++;
>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>     this->Sphere->Update();
>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>     return ret;
>>>>     }
>>>>
>>>> protected:
>>>>
>>>>   int Index;
>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>
>>>>
>>>> };
>>>>
>>>> int main(int argc, char* argv[])
>>>> {
>>>>   if (argc < 3)
>>>>     {
>>>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>>>     return 1;
>>>>     }
>>>>
>>>>   std::string cpPythonFile = argv[1];
>>>>   int nSteps = atoi(argv[2]);
>>>>
>>>>   myprint("starting coprocessor");
>>>>
>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>   processor->Initialize();
>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>> vtkCPPythonScriptPipeline::New();
>>>>
>>>>   // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
>>>>   procId =
>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>
>>>>
>>>>   // read the coprocessing python file
>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>   if (!success)
>>>>     {
>>>>     myprint("aborting");
>>>>     return 1;
>>>>     }
>>>>
>>>>   processor->AddPipeline(pipeline);
>>>>   pipeline->Delete();
>>>>
>>>>   if (nSteps == 0)
>>>>     {
>>>>     return 0;
>>>>     }
>>>>
>>>>   // create a data source
>>>>   DataGenerator generator;
>>>>
>>>>   // do coprocessing
>>>>   double tStart = 0.0;
>>>>   double tEnd = 1.0;
>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>
>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>   dataDesc->AddInput("input");
>>>>
>>>>   for (int i = 0; i < nSteps; ++i)
>>>>     {
>>>>
>>>>     double currentTime = tStart + stepSize*i;
>>>>     std::stringstream timeStr;
>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>
>>>>
>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>
>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>>>
>>>>     if (do_coprocessing)
>>>>       {
>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>
>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>         generator.GetNext();
>>>>
>>>>       dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>       processor->CoProcess(dataDesc);
>>>>       }
>>>>     }
>>>>
>>>>
>>>>   myprint("finalizing");
>>>>   dataDesc->Delete();
>>>>   processor->Finalize();
>>>>   processor->Delete();
>>>>
>>>>   return 0;
>>>>
>>>> }
>>>>
>>>>
>>>>
>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>>
>>>>> Hi Jacques,
>>>>>
>>>>> There is a polyhedra cell type in VTK now --
>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>> As far as I know it works with all of the proper filters but since I
>>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>> assume that it's working quite well right now.
>>>>>
>>>>> As for Phasta, it does run in parallel (as props to their developers it
>>>>> was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>>> tried that.
>>>>>
>>>>> Andy
>>>>>
>>>>>
>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> Thanks a lot Andy, Takuya,
>>>>>>
>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for
>>>>>> the moment.
>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do
>>>>>> you know if this is there yet?
>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>> decomposed amongst each processor.
>>>>>>
>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>> statements in the adaptor code ?
>>>>>>
>>>>>> Jacques
>>>>>>
>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>
>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>> may help as well.
>>>>>>>
>>>>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>>>>> I'll let you know when it's done.
>>>>>>>
>>>>>>> Andy
>>>>>>>
>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>>  Hi All,
>>>>>>>>
>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>> PYTHONPATH..
>>>>>>>> All the tests work ok now. Still interested in CoProcessing adaptors
>>>>>>>> examples though :)
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>
>>>>>>>>
>>>>>>>>> Hi All,
>>>>>>>>>
>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>>>>> guidelines in :
>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>> I didn't find :
>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>> *but instead :
>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>> I then tried :
>>>>>>>>>
>>>>>>>>> ctest -R CoProcessing
>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........   Passed
>>>>>>>>> 0.45 sec
>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed
>>>>>>>>> 0.09 sec
>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed
>>>>>>>>> 0.09 sec
>>>>>>>>>
>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>
>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>
>>>>>>>>> The following tests FAILED:
>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>> Errors while running CTest
>>>>>>>>>
>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>> branch ?
>>>>>>>>>
>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>> myself from ?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Thank you,
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Powered by www.kitware.com
>>>>>>>>
>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>
>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>
>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/c1166b0c/attachment-0001.htm>

From andy.bauer at kitware.com  Thu Aug 12 15:15:09 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Thu, 12 Aug 2010 15:15:09 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
Message-ID: <AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>

You probably want to add the field data to the specific grids in the
multiblock data set and not just the block itself.  As an example:

create multiblock
for each grid:
  create grid points and cells
  add point and cell data to grid
  add grid to block

Note that in parallel for coprocessing that the block must have the same
structure on each process but whether a leaf node is empty or not can
change.  For example:

proc 0 mutliblock:
  block 0 -> unstructured grid
  block 1 -> uniform grid
  block 2 -> NULL
proc 1 multiblock:
  block 0 -> NULL
  block 1 -> NULL
  block 2 -> unstructured grid

I'm not sure of all of the details but what I do is that I set a block to
only be non-NULL on a single process.

Hope this helps,
Andy

On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Hi All,
>
> I am making some more progress on this. Everything was working until I
> tried adding field data... I now get an explosion :
>
> #2  ?? in "/lib64/libc.so.6"
> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
> #4  vtkDataArray::ComputeRange(int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #6
> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
> in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #10  vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*)
> in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #12  vtkSelfConnection::GatherInformation(unsigned int, vtkPVInformation*,
> vtkClientServerID) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
> vtkPVInformation*, vtkClientServerID) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #14  vtkSMOutputPort::GatherDataInformation() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #15  vtkSMOutputPort::GetDataInformation() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #18  vtkSMProperty::IsInDomains() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>
> Any ideas where this can be coming from ?
> When I do not add the field data it just complains about missing fields so
> I know that the code is not completely wrong...
> I am adding the data to the first block of my multiblockdataset... Is that
> a problem ?
>
>
>
> Thanks !
> Jacques
>
>
> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>
> Hi Andy, Pat,
>>
>> I have the skeleton of the coprocessing working (for the moment I just
>> tried by populating the point field - no cells, no data).
>> I am trying to figure out the most efficient way of transferring my data
>> structure to VTK with minimal copying and looping...
>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>> means I probably need to use the vtkCellArray::SetCells() method, and
>> therefore the vtkIdType::SetArray() method...
>> The problem is I am not sure what the format of the array should be ?
>> I am dealing with unstructured polyhedra cells (most of which are known
>> types like hex prism etc..).
>>
>> Of course, I could also use the InsertNextCell() methods, but I was
>> wondering if there wasn't a more efficient way...
>>
>> Best,
>> Jacques
>>
>>
>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>
>> Hi Jacques,
>>>
>>> I put an example on the wiki based on Pat's example for running a
>>> coprocessing.  It's at:
>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>> Let me know if you have any problems with it so that I can fix any errors
>>> that I have.
>>>
>>> Also, I just made changes so that the coprocessing library gets installed
>>> properly.
>>>
>>> Thanks,
>>> Andy
>>>
>>>
>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com
>>> > wrote:
>>>
>>>> Thanks Pat,
>>>>
>>>> I am trying to compile my first attempt.
>>>> Although I do find the headers I need, I am having some trouble
>>>> identifying which libraries I need to link to.
>>>> For example, I assume that I should be linking to libvtkCoProcessor.so
>>>> ... Although I find this library in the compilation folder (under bin), I do
>>>> not find it in the make installed version under lib...
>>>> Is this normal ?
>>>>
>>>> Best,
>>>> Jacques
>>>>
>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>
>>>> Below is a simple cxx program I have used for testing.  It creates one
>>>>> sphere per process, positions the sphere as a function of the process id,
>>>>> and the spheres grow/shrink over time.
>>>>>
>>>>> Pat
>>>>>
>>>>> #include "vtkCPProcessor.h"
>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>> #include "vtkMultiProcessController.h"
>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>> #include "vtkUnstructuredGrid.h"
>>>>> #include "vtkCPDataDescription.h"
>>>>> #include "vtkCPInputDataDescription.h"
>>>>> #include "vtkSmartPointer.h"
>>>>> #include "vtkPolyData.h"
>>>>> #include "vtkSphereSource.h"
>>>>>
>>>>> #include <stdio.h>
>>>>> #include <string>
>>>>> #include <sstream>
>>>>>
>>>>> static unsigned int procId;
>>>>>
>>>>> void myprint(const std::string& str)
>>>>> {
>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>> }
>>>>>
>>>>> class DataGenerator {
>>>>> public:
>>>>>
>>>>>   DataGenerator()
>>>>>     {
>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>     this->Index = 0;
>>>>>     }
>>>>>
>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>     {
>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>     this->Index++;
>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>     this->Sphere->Update();
>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>     return ret;
>>>>>     }
>>>>>
>>>>> protected:
>>>>>
>>>>>   int Index;
>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>
>>>>>
>>>>> };
>>>>>
>>>>> int main(int argc, char* argv[])
>>>>> {
>>>>>   if (argc < 3)
>>>>>     {
>>>>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>>>>     return 1;
>>>>>     }
>>>>>
>>>>>   std::string cpPythonFile = argv[1];
>>>>>   int nSteps = atoi(argv[2]);
>>>>>
>>>>>   myprint("starting coprocessor");
>>>>>
>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>   processor->Initialize();
>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>> vtkCPPythonScriptPipeline::New();
>>>>>
>>>>>   // mpi was initialized when we called
>>>>> vtkCPPythonScriptPipeline::New()
>>>>>   procId =
>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>
>>>>>
>>>>>   // read the coprocessing python file
>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>   if (!success)
>>>>>     {
>>>>>     myprint("aborting");
>>>>>     return 1;
>>>>>     }
>>>>>
>>>>>   processor->AddPipeline(pipeline);
>>>>>   pipeline->Delete();
>>>>>
>>>>>   if (nSteps == 0)
>>>>>     {
>>>>>     return 0;
>>>>>     }
>>>>>
>>>>>   // create a data source
>>>>>   DataGenerator generator;
>>>>>
>>>>>   // do coprocessing
>>>>>   double tStart = 0.0;
>>>>>   double tEnd = 1.0;
>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>
>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>   dataDesc->AddInput("input");
>>>>>
>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>     {
>>>>>
>>>>>     double currentTime = tStart + stepSize*i;
>>>>>     std::stringstream timeStr;
>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>
>>>>>
>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>
>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>>>>
>>>>>     if (do_coprocessing)
>>>>>       {
>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>
>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>         generator.GetNext();
>>>>>
>>>>>
>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>       processor->CoProcess(dataDesc);
>>>>>       }
>>>>>     }
>>>>>
>>>>>
>>>>>   myprint("finalizing");
>>>>>   dataDesc->Delete();
>>>>>   processor->Finalize();
>>>>>   processor->Delete();
>>>>>
>>>>>   return 0;
>>>>>
>>>>> }
>>>>>
>>>>>
>>>>>
>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>>>
>>>>>> Hi Jacques,
>>>>>>
>>>>>> There is a polyhedra cell type in VTK now --
>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>> As far as I know it works with all of the proper filters but since I
>>>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>>> assume that it's working quite well right now.
>>>>>>
>>>>>> As for Phasta, it does run in parallel (as props to their developers
>>>>>> it was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>>>> tried that.
>>>>>>
>>>>>> Andy
>>>>>>
>>>>>>
>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>
>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for
>>>>>>> the moment.
>>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK. Do
>>>>>>> you know if this is there yet?
>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>> decomposed amongst each processor.
>>>>>>>
>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>> statements in the adaptor code ?
>>>>>>>
>>>>>>> Jacques
>>>>>>>
>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>
>>>>>>> Hi Jacques,
>>>>>>>>
>>>>>>>> What type of data set do you have?  Even though the PHASTA adaptor (
>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>> may help as well.
>>>>>>>>
>>>>>>>> I'll spend some time this week putting up a skeleton of a simulation
>>>>>>>> code on the coprocessing wiki that should hopefully be easier to follow.
>>>>>>>> I'll let you know when it's done.
>>>>>>>>
>>>>>>>> Andy
>>>>>>>>
>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>>  Hi All,
>>>>>>>>>
>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>>> PYTHONPATH..
>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>> adaptors examples though :)
>>>>>>>>>
>>>>>>>>> Thanks
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> Hi All,
>>>>>>>>>>
>>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>>> I just pulled from git today, and compiled it all up following the
>>>>>>>>>> guidelines in :
>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>> I didn't find :
>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>> *but instead :
>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>> I then tried :
>>>>>>>>>>
>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>
>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>
>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>
>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>> Errors while running CTest
>>>>>>>>>>
>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>> branch ?
>>>>>>>>>>
>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>> myself from ?
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Thank you,
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>
>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>
>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>
>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100812/b06f7e84/attachment-0001.htm>

From flyaway1212 at gmail.com  Thu Aug 12 18:48:45 2010
From: flyaway1212 at gmail.com (flyaway1212 at gmail.com)
Date: Thu, 12 Aug 2010 16:48:45 -0600
Subject: [Paraview] screenshoots of multiple views from python
Message-ID: <4C647A4D.5050507@gmail.com>

Hi all.
I know I can save all views from File/Save Screenshot, but how do I do 
that using a python script? I've tried checking how it works using the 
Trace feature in Python shell, but it only shows saving views 
separately, not all in one screenshot. I have to generate a lot of 
images from a script so doing it manually through the menu is not an 
option.
I will appreciate any hints.

Sincerely,
Victor Prosolin.

From daviddoria at gmail.com  Thu Aug 12 18:56:00 2010
From: daviddoria at gmail.com (David Doria)
Date: Thu, 12 Aug 2010 18:56:00 -0400
Subject: [Paraview] screenshoots of multiple views from python
In-Reply-To: <4C647A4D.5050507@gmail.com>
References: <4C647A4D.5050507@gmail.com>
Message-ID: <AANLkTim1g8Up5JoDoJs9Kbd+r=OmsQWkvYEU=_ougLiS@mail.gmail.com>

On Thu, Aug 12, 2010 at 6:48 PM,  <flyaway1212 at gmail.com> wrote:
> Hi all.
> I know I can save all views from File/Save Screenshot, but how do I do that
> using a python script? I've tried checking how it works using the Trace
> feature in Python shell, but it only shows saving views separately, not all
> in one screenshot. I have to generate a lot of images from a script so doing
> it manually through the menu is not an option.
> I will appreciate any hints.
>
> Sincerely,
> Victor Prosolin.

Is this what you're looking for?

http://www.paraview.org/Wiki/Take_a_Screenshot_of_a_VTP_File

David

From flyaway1212 at gmail.com  Thu Aug 12 19:08:28 2010
From: flyaway1212 at gmail.com (flyaway1212 at gmail.com)
Date: Thu, 12 Aug 2010 17:08:28 -0600
Subject: [Paraview] screenshoots of multiple views from python
In-Reply-To: <AANLkTim1g8Up5JoDoJs9Kbd+r=OmsQWkvYEU=_ougLiS@mail.gmail.com>
References: <4C647A4D.5050507@gmail.com>
	<AANLkTim1g8Up5JoDoJs9Kbd+r=OmsQWkvYEU=_ougLiS@mail.gmail.com>
Message-ID: <4C647EEC.5070002@gmail.com>



On 08/12/2010 04:56 PM, David Doria wrote:
> On Thu, Aug 12, 2010 at 6:48 PM,<flyaway1212 at gmail.com>  wrote:
>> Hi all.
>> I know I can save all views from File/Save Screenshot, but how do I do that
>> using a python script? I've tried checking how it works using the Trace
>> feature in Python shell, but it only shows saving views separately, not all
>> in one screenshot. I have to generate a lot of images from a script so doing
>> it manually through the menu is not an option.
>> I will appreciate any hints.
>>
>> Sincerely,
>> Victor Prosolin.
>
> Is this what you're looking for?
>
> http://www.paraview.org/Wiki/Take_a_Screenshot_of_a_VTP_File
>
> David

That is what I currently can do. What I need is to save two (or more) 
separate views in one screenshot. It can be done via "File/Save 
Screenshot" by unchecking "Save only selected view" option, but I need 
to do it in a script.

Victor.

From jacques.papper at gmail.com  Fri Aug 13 03:39:36 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Fri, 13 Aug 2010 08:39:36 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
Message-ID: <AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>

I found the problem... I was inserting PointData instead of CellData :) ,,,
Anyway it seems to be starting to work now.. 2 things though :

-> Whenever I try to run directly a python script exported from paraview
(Through the Coprocessing export state) it won't run until I remove all
references to LIC and all lines containing Null...

For the LIC, is it because the python script doesn't automatically load the
LIC plugin ?
For the Null, do you have this problem as well ?

-> Is the Live Source Data code already available in git ? I'd love to test
it out even if it is not robust yet.

Best,
Jacques


2010/8/12 Andy Bauer <andy.bauer at kitware.com>

> You probably want to add the field data to the specific grids in the
> multiblock data set and not just the block itself.  As an example:
>
> create multiblock
> for each grid:
>   create grid points and cells
>   add point and cell data to grid
>   add grid to block
>
> Note that in parallel for coprocessing that the block must have the same
> structure on each process but whether a leaf node is empty or not can
> change.  For example:
>
> proc 0 mutliblock:
>   block 0 -> unstructured grid
>   block 1 -> uniform grid
>   block 2 -> NULL
> proc 1 multiblock:
>   block 0 -> NULL
>   block 1 -> NULL
>   block 2 -> unstructured grid
>
> I'm not sure of all of the details but what I do is that I set a block to
> only be non-NULL on a single process.
>
> Hope this helps,
> Andy
>
>
> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> Hi All,
>>
>> I am making some more progress on this. Everything was working until I
>> tried adding field data... I now get an explosion :
>>
>> #2  ?? in "/lib64/libc.so.6"
>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>> #4  vtkDataArray::ComputeRange(int) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #6
>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>> in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #10  vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*)
>> in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #12  vtkSelfConnection::GatherInformation(unsigned int, vtkPVInformation*,
>> vtkClientServerID) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>> vtkPVInformation*, vtkClientServerID) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>> #14  vtkSMOutputPort::GatherDataInformation() in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #15  vtkSMOutputPort::GetDataInformation() in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #18  vtkSMProperty::IsInDomains() in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int)
>> in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>
>> Any ideas where this can be coming from ?
>> When I do not add the field data it just complains about missing fields so
>> I know that the code is not completely wrong...
>> I am adding the data to the first block of my multiblockdataset... Is that
>> a problem ?
>>
>>
>>
>> Thanks !
>> Jacques
>>
>>
>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>
>> Hi Andy, Pat,
>>>
>>> I have the skeleton of the coprocessing working (for the moment I just
>>> tried by populating the point field - no cells, no data).
>>> I am trying to figure out the most efficient way of transferring my data
>>> structure to VTK with minimal copying and looping...
>>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>>> means I probably need to use the vtkCellArray::SetCells() method, and
>>> therefore the vtkIdType::SetArray() method...
>>> The problem is I am not sure what the format of the array should be ?
>>> I am dealing with unstructured polyhedra cells (most of which are known
>>> types like hex prism etc..).
>>>
>>> Of course, I could also use the InsertNextCell() methods, but I was
>>> wondering if there wasn't a more efficient way...
>>>
>>> Best,
>>> Jacques
>>>
>>>
>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>
>>> Hi Jacques,
>>>>
>>>> I put an example on the wiki based on Pat's example for running a
>>>> coprocessing.  It's at:
>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>> Let me know if you have any problems with it so that I can fix any
>>>> errors that I have.
>>>>
>>>> Also, I just made changes so that the coprocessing library gets
>>>> installed properly.
>>>>
>>>> Thanks,
>>>> Andy
>>>>
>>>>
>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> Thanks Pat,
>>>>>
>>>>> I am trying to compile my first attempt.
>>>>> Although I do find the headers I need, I am having some trouble
>>>>> identifying which libraries I need to link to.
>>>>> For example, I assume that I should be linking to libvtkCoProcessor.so
>>>>> ... Although I find this library in the compilation folder (under bin), I do
>>>>> not find it in the make installed version under lib...
>>>>> Is this normal ?
>>>>>
>>>>> Best,
>>>>> Jacques
>>>>>
>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>
>>>>> Below is a simple cxx program I have used for testing.  It creates one
>>>>>> sphere per process, positions the sphere as a function of the process id,
>>>>>> and the spheres grow/shrink over time.
>>>>>>
>>>>>> Pat
>>>>>>
>>>>>> #include "vtkCPProcessor.h"
>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>> #include "vtkMultiProcessController.h"
>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>> #include "vtkCPDataDescription.h"
>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>> #include "vtkSmartPointer.h"
>>>>>> #include "vtkPolyData.h"
>>>>>> #include "vtkSphereSource.h"
>>>>>>
>>>>>> #include <stdio.h>
>>>>>> #include <string>
>>>>>> #include <sstream>
>>>>>>
>>>>>> static unsigned int procId;
>>>>>>
>>>>>> void myprint(const std::string& str)
>>>>>> {
>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>> }
>>>>>>
>>>>>> class DataGenerator {
>>>>>> public:
>>>>>>
>>>>>>   DataGenerator()
>>>>>>     {
>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>     this->Index = 0;
>>>>>>     }
>>>>>>
>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>     {
>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>     this->Index++;
>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>     this->Sphere->Update();
>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>     return ret;
>>>>>>     }
>>>>>>
>>>>>> protected:
>>>>>>
>>>>>>   int Index;
>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>
>>>>>>
>>>>>> };
>>>>>>
>>>>>> int main(int argc, char* argv[])
>>>>>> {
>>>>>>   if (argc < 3)
>>>>>>     {
>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
>>>>>>     return 1;
>>>>>>     }
>>>>>>
>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>
>>>>>>   myprint("starting coprocessor");
>>>>>>
>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>   processor->Initialize();
>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>
>>>>>>   // mpi was initialized when we called
>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>   procId =
>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>
>>>>>>
>>>>>>   // read the coprocessing python file
>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>   if (!success)
>>>>>>     {
>>>>>>     myprint("aborting");
>>>>>>     return 1;
>>>>>>     }
>>>>>>
>>>>>>   processor->AddPipeline(pipeline);
>>>>>>   pipeline->Delete();
>>>>>>
>>>>>>   if (nSteps == 0)
>>>>>>     {
>>>>>>     return 0;
>>>>>>     }
>>>>>>
>>>>>>   // create a data source
>>>>>>   DataGenerator generator;
>>>>>>
>>>>>>   // do coprocessing
>>>>>>   double tStart = 0.0;
>>>>>>   double tEnd = 1.0;
>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>
>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>   dataDesc->AddInput("input");
>>>>>>
>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>     {
>>>>>>
>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>     std::stringstream timeStr;
>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>
>>>>>>
>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>
>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>     int do_coprocessing = processor->RequestDataDescription(dataDesc);
>>>>>>
>>>>>>     if (do_coprocessing)
>>>>>>       {
>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>
>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>         generator.GetNext();
>>>>>>
>>>>>>
>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>       processor->CoProcess(dataDesc);
>>>>>>       }
>>>>>>     }
>>>>>>
>>>>>>
>>>>>>   myprint("finalizing");
>>>>>>   dataDesc->Delete();
>>>>>>   processor->Finalize();
>>>>>>   processor->Delete();
>>>>>>
>>>>>>   return 0;
>>>>>>
>>>>>> }
>>>>>>
>>>>>>
>>>>>>
>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>>>>
>>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>> As far as I know it works with all of the proper filters but since I
>>>>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>>>> assume that it's working quite well right now.
>>>>>>>
>>>>>>> As for Phasta, it does run in parallel (as props to their developers
>>>>>>> it was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>>>>> tried that.
>>>>>>>
>>>>>>> Andy
>>>>>>>
>>>>>>>
>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>
>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide
>>>>>>>> for the moment.
>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK.
>>>>>>>> Do you know if this is there yet?
>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>> decomposed amongst each processor.
>>>>>>>>
>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>> statements in the adaptor code ?
>>>>>>>>
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>
>>>>>>>> Hi Jacques,
>>>>>>>>>
>>>>>>>>> What type of data set do you have?  Even though the PHASTA adaptor
>>>>>>>>> ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for
>>>>>>>>> fortran code it may give you an idea.  Also stepping through the example in
>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>> may help as well.
>>>>>>>>>
>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>
>>>>>>>>> Andy
>>>>>>>>>
>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>>  Hi All,
>>>>>>>>>>
>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>>>> PYTHONPATH..
>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>
>>>>>>>>>> Thanks
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> Hi All,
>>>>>>>>>>>
>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>>>> I just pulled from git today, and compiled it all up following
>>>>>>>>>>> the guidelines in :
>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>> I didn't find :
>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>> *but instead :
>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>> I then tried :
>>>>>>>>>>>
>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>
>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>
>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>
>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>
>>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>>> branch ?
>>>>>>>>>>>
>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>> myself from ?
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Thank you,
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>
>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>
>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>
>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> Powered by www.kitware.com
>>>>>>>
>>>>>>> Visit other Kitware open-source projects at
>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>
>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>
>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/ac0d422c/attachment-0001.htm>

From Harald.Soleng at kongsberg.com  Fri Aug 13 05:57:04 2010
From: Harald.Soleng at kongsberg.com (Harald.Soleng at kongsberg.com)
Date: Fri, 13 Aug 2010 11:57:04 +0200
Subject: [Paraview] Combining data into one input file
Message-ID: <CE3AD75CC0364C4C9B3549234A769402022FF71C7B@ukgw-exmb-p06.kda.kongsberg.com>

I am a new paraview user, so please bear with me if the question is too simple.

I have two data sets currently in the legacy vtk format of the types STRUCTURED_GRID and POLYDATA.
Is there a (simple) way to combine these data into a single file for visualization in Paraview? (Yes, I know that I can load both files into Paraview, but I would like to have a combined input file).

Greetings,
Harald

________________________________
CONFIDENTIALITY
This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/f334cc1c/attachment.htm>

From Harald.Soleng at kongsberg.com  Fri Aug 13 07:44:23 2010
From: Harald.Soleng at kongsberg.com (Harald.Soleng at kongsberg.com)
Date: Fri, 13 Aug 2010 13:44:23 +0200
Subject: [Paraview] BUG: Crash when saving in pvd format
Message-ID: <CE3AD75CC0364C4C9B3549234A769402022FF71C7C@ukgw-exmb-p06.kda.kongsberg.com>

Load the attached file into paraview 3.8. Then try to save in pvd ascii format, and paraview crashes.

Harald




________________________________
CONFIDENTIALITY
This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/aec82133/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: curve.vtk
Type: application/octet-stream
Size: 163 bytes
Desc: curve.vtk
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/aec82133/attachment.obj>

From lester_anderson1963 at hotmail.com  Fri Aug 13 07:52:36 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Fri, 13 Aug 2010 12:52:36 +0100
Subject: [Paraview] Combining data into one input file
Message-ID: <SNT108-W7F2F77F16E14F910016EC8A980@phx.gbl>


Hello

I think you can just use the append dataset filter to combine the grids. This works fine with .pvd files: just load up the data
and select (highlight) all the data you want to combine and then apply the append dataset filter.

It certainly seems to work if the data have the same scalars etc.

Hopefully this is what you are looking at.

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/92b9a0b9/attachment.htm>

From Harald.Soleng at kongsberg.com  Fri Aug 13 08:14:26 2010
From: Harald.Soleng at kongsberg.com (Harald.Soleng at kongsberg.com)
Date: Fri, 13 Aug 2010 14:14:26 +0200
Subject: [Paraview] Combining data into one input file
In-Reply-To: <SNT108-W7F2F77F16E14F910016EC8A980@phx.gbl>
References: <SNT108-W7F2F77F16E14F910016EC8A980@phx.gbl>
Message-ID: <CE3AD75CC0364C4C9B3549234A769402022FF71C7D@ukgw-exmb-p06.kda.kongsberg.com>

Hi,

The append dataset filter method does not work for the two data sets I have (see attached files). It is a height map and a path above this landscape.

I would like to be able to put these data types together in a single file and have it visualized in Paraview without having to interfer manually.

Harald



________________________________
CONFIDENTIALITY
This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/0b6315f1/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: curve.vtk
Type: application/octet-stream
Size: 163 bytes
Desc: curve.vtk
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/0b6315f1/attachment-0002.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: simple.vtk
Type: application/octet-stream
Size: 258 bytes
Desc: simple.vtk
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/0b6315f1/attachment-0003.obj>

From emonson at cs.duke.edu  Fri Aug 13 08:58:59 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Fri, 13 Aug 2010 08:58:59 -0400
Subject: [Paraview] BUG: Crash when saving in pvd format
In-Reply-To: <CE3AD75CC0364C4C9B3549234A769402022FF71C7C@ukgw-exmb-p06.kda.kongsberg.com>
References: <CE3AD75CC0364C4C9B3549234A769402022FF71C7C@ukgw-exmb-p06.kda.kongsberg.com>
Message-ID: <C1A9CF9B-2486-45FC-B228-D2FA6DE81BB6@cs.duke.edu>

Hey Harald,

It looks like there is an error in your .vtk file: The description of LINES should read

LINES 1 6

since you are just describing one cell (rather than 4 separate cells). If you really want four separate cells, you need this:

LINES 4 12
2 0 1
2 1 2
2 2 3
2 3 4

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 13, 2010, at 7:44 AM, <Harald.Soleng at kongsberg.com> wrote:

> Load the attached file into paraview 3.8. Then try to save in pvd ascii format, and paraview crashes.
>  
> Harald
>  
>  
>  
> 
> CONFIDENTIALITY
> This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
> <curve.vtk>_______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/54524847/attachment.htm>

From emonson at cs.duke.edu  Fri Aug 13 09:14:24 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Fri, 13 Aug 2010 09:14:24 -0400
Subject: [Paraview] Combining data into one input file
In-Reply-To: <CE3AD75CC0364C4C9B3549234A769402022FF71C7D@ukgw-exmb-p06.kda.kongsberg.com>
References: <SNT108-W7F2F77F16E14F910016EC8A980@phx.gbl>
	<CE3AD75CC0364C4C9B3549234A769402022FF71C7D@ukgw-exmb-p06.kda.kongsberg.com>
Message-ID: <DC870DF9-A3AA-4085-8532-074CF3D3FF79@cs.duke.edu>

Hey again,

If you really want them together, one possibility would be to make them into an unstructured grid, which "consists of arbitrary combinations of any possible cell type". The problem is that all of the points or cells would have to have the same attributes defined, and you only have the height attribute defined for one of your two data sets.

You can also do a "multi-block" dataset. To see how this would work, load both into ParaView, then apply the Group Datasets filter. Then, you can Save Data as a .vtm (multi-block XML format file), and choose ascii. The two data files will still be separate in another folder, but you load this single .vtm file into ParaView and can extract the blocks separately if you need. There's still the problem of only one set containing the height attribute, but it's at least another option for you.

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 13, 2010, at 8:14 AM, <Harald.Soleng at kongsberg.com> wrote:

> Hi,
>  
> The append dataset filter method does not work for the two data sets I have (see attached files). It is a height map and a path above this landscape.
>  
> I would like to be able to put these data types together in a single file and have it visualized in Paraview without having to interfer manually.
>  
> Harald
>  
>  
> 
> CONFIDENTIALITY
> This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
> <curve.vtk><simple.vtk>_______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/f01b458d/attachment.htm>

From lester_anderson1963 at hotmail.com  Fri Aug 13 09:48:05 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Fri, 13 Aug 2010 14:48:05 +0100
Subject: [Paraview] Converting Longitude,
 latitude and Radius (distance) to XYZ (spherical coordonates)
Message-ID: <SNT108-W5271274A7512BC1E48AE528A980@phx.gbl>


Hello

I have got a global sesimic tomgraphy grid loaded as a .pvd file (see attached) and it accurately plots the data comprising 56 layers as a structured grid:

Statistics

Type: Structured (Curvilinear) Grid
Number of cells: 3564000
Number of points: 3659096
Memory: 1.1e+02 Mb

Data arrays

Anomaly (-6.7043, 6.879)

Extents

X Extent: -180 to 180 (dimension 361)
Y Extent: -90 to 90 (dimension 181)
Z extent: 0 to 55 (dimension 56)

Bounds

X range: -180 to 180 (delta 360)
Y range: -90 to 90 (delta 180)
Z range: 3.58e+03 to 6.33e+03 (delta 2.75e+03)

The bounds are correct for what I need, i.e. Long, Lat and radius distance (km) from sphere centre. What I need is to change this to XYZ for spherical coordinates.
Apparently this should be possible using the calculator but I cannot see the process - any pointers here :)

What I am hoping to achieve is the data to be a structured grid in spherical geometry.

Thanks

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/63afea34/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Global_tomo_LLR.png
Type: image/png
Size: 58407 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/63afea34/attachment-0001.png>

From andy.bauer at kitware.com  Fri Aug 13 10:42:35 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 13 Aug 2010 10:42:35 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
Message-ID: <AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>

On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <jacques.papper at gmail.com>wrote:

> I found the problem... I was inserting PointData instead of CellData :) ,,,
> Anyway it seems to be starting to work now.. 2 things though :
>
> -> Whenever I try to run directly a python script exported from paraview
> (Through the Coprocessing export state) it won't run until I remove all
> references to LIC and all lines containing Null...
>
> Now that you mention it, I didn't put in anything special for plugins.
Setting the plugins to auto-load may work but my guess is that it won't.
I'll look into the plugin thing and the best way to do it in the script
generator.

What do you mean by Null?  I don't know what that is so you'll have to
explain it to me.



> For the LIC, is it because the python script doesn't automatically load the
> LIC plugin ?
> For the Null, do you have this problem as well ?
>
> -> Is the Live Source Data code already available in git ? I'd love to test
> it out even if it is not robust yet.
>

We don't yet have permission to release the Live Source Data code yet but I
think it should be available in the next couple of months.

>
> Best,
> Jacques
>
>
> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>
>> You probably want to add the field data to the specific grids in the
>> multiblock data set and not just the block itself.  As an example:
>>
>> create multiblock
>> for each grid:
>>   create grid points and cells
>>   add point and cell data to grid
>>   add grid to block
>>
>> Note that in parallel for coprocessing that the block must have the same
>> structure on each process but whether a leaf node is empty or not can
>> change.  For example:
>>
>> proc 0 mutliblock:
>>   block 0 -> unstructured grid
>>   block 1 -> uniform grid
>>   block 2 -> NULL
>> proc 1 multiblock:
>>   block 0 -> NULL
>>   block 1 -> NULL
>>   block 2 -> unstructured grid
>>
>> I'm not sure of all of the details but what I do is that I set a block to
>> only be non-NULL on a single process.
>>
>> Hope this helps,
>> Andy
>>
>>
>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <jacques.papper at gmail.com
>> > wrote:
>>
>>> Hi All,
>>>
>>> I am making some more progress on this. Everything was working until I
>>> tried adding field data... I now get an explosion :
>>>
>>> #2  ?? in "/lib64/libc.so.6"
>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>> #4  vtkDataArray::ComputeRange(int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #6
>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>> in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #10  vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*)
>>> in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>> vtkPVInformation*, vtkClientServerID) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>> vtkPVInformation*, vtkClientServerID) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #15  vtkSMOutputPort::GetDataInformation() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #18  vtkSMProperty::IsInDomains() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int)
>>> in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>
>>> Any ideas where this can be coming from ?
>>> When I do not add the field data it just complains about missing fields
>>> so I know that the code is not completely wrong...
>>> I am adding the data to the first block of my multiblockdataset... Is
>>> that a problem ?
>>>
>>>
>>>
>>> Thanks !
>>> Jacques
>>>
>>>
>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>
>>> Hi Andy, Pat,
>>>>
>>>> I have the skeleton of the coprocessing working (for the moment I just
>>>> tried by populating the point field - no cells, no data).
>>>> I am trying to figure out the most efficient way of transferring my data
>>>> structure to VTK with minimal copying and looping...
>>>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>>>> means I probably need to use the vtkCellArray::SetCells() method, and
>>>> therefore the vtkIdType::SetArray() method...
>>>> The problem is I am not sure what the format of the array should be ?
>>>> I am dealing with unstructured polyhedra cells (most of which are known
>>>> types like hex prism etc..).
>>>>
>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>> wondering if there wasn't a more efficient way...
>>>>
>>>> Best,
>>>> Jacques
>>>>
>>>>
>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>
>>>> Hi Jacques,
>>>>>
>>>>> I put an example on the wiki based on Pat's example for running a
>>>>> coprocessing.  It's at:
>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>> Let me know if you have any problems with it so that I can fix any
>>>>> errors that I have.
>>>>>
>>>>> Also, I just made changes so that the coprocessing library gets
>>>>> installed properly.
>>>>>
>>>>> Thanks,
>>>>> Andy
>>>>>
>>>>>
>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> Thanks Pat,
>>>>>>
>>>>>> I am trying to compile my first attempt.
>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>> identifying which libraries I need to link to.
>>>>>> For example, I assume that I should be linking to libvtkCoProcessor.so
>>>>>> ... Although I find this library in the compilation folder (under bin), I do
>>>>>> not find it in the make installed version under lib...
>>>>>> Is this normal ?
>>>>>>
>>>>>> Best,
>>>>>> Jacques
>>>>>>
>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>
>>>>>> Below is a simple cxx program I have used for testing.  It creates one
>>>>>>> sphere per process, positions the sphere as a function of the process id,
>>>>>>> and the spheres grow/shrink over time.
>>>>>>>
>>>>>>> Pat
>>>>>>>
>>>>>>> #include "vtkCPProcessor.h"
>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>> #include "vtkSmartPointer.h"
>>>>>>> #include "vtkPolyData.h"
>>>>>>> #include "vtkSphereSource.h"
>>>>>>>
>>>>>>> #include <stdio.h>
>>>>>>> #include <string>
>>>>>>> #include <sstream>
>>>>>>>
>>>>>>> static unsigned int procId;
>>>>>>>
>>>>>>> void myprint(const std::string& str)
>>>>>>> {
>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>> }
>>>>>>>
>>>>>>> class DataGenerator {
>>>>>>> public:
>>>>>>>
>>>>>>>   DataGenerator()
>>>>>>>     {
>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>     this->Index = 0;
>>>>>>>     }
>>>>>>>
>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>     {
>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>     this->Index++;
>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>     this->Sphere->Update();
>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>     return ret;
>>>>>>>     }
>>>>>>>
>>>>>>> protected:
>>>>>>>
>>>>>>>   int Index;
>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>
>>>>>>>
>>>>>>> };
>>>>>>>
>>>>>>> int main(int argc, char* argv[])
>>>>>>> {
>>>>>>>   if (argc < 3)
>>>>>>>     {
>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>> argv[0]);
>>>>>>>     return 1;
>>>>>>>     }
>>>>>>>
>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>
>>>>>>>   myprint("starting coprocessor");
>>>>>>>
>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>   processor->Initialize();
>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>
>>>>>>>   // mpi was initialized when we called
>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>   procId =
>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>
>>>>>>>
>>>>>>>   // read the coprocessing python file
>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>   if (!success)
>>>>>>>     {
>>>>>>>     myprint("aborting");
>>>>>>>     return 1;
>>>>>>>     }
>>>>>>>
>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>   pipeline->Delete();
>>>>>>>
>>>>>>>   if (nSteps == 0)
>>>>>>>     {
>>>>>>>     return 0;
>>>>>>>     }
>>>>>>>
>>>>>>>   // create a data source
>>>>>>>   DataGenerator generator;
>>>>>>>
>>>>>>>   // do coprocessing
>>>>>>>   double tStart = 0.0;
>>>>>>>   double tEnd = 1.0;
>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>
>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>   dataDesc->AddInput("input");
>>>>>>>
>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>     {
>>>>>>>
>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>     std::stringstream timeStr;
>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>
>>>>>>>
>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>
>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>     int do_coprocessing =
>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>
>>>>>>>     if (do_coprocessing)
>>>>>>>       {
>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>
>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>         generator.GetNext();
>>>>>>>
>>>>>>>
>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>       }
>>>>>>>     }
>>>>>>>
>>>>>>>
>>>>>>>   myprint("finalizing");
>>>>>>>   dataDesc->Delete();
>>>>>>>   processor->Finalize();
>>>>>>>   processor->Delete();
>>>>>>>
>>>>>>>   return 0;
>>>>>>>
>>>>>>> }
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com>wrote:
>>>>>>>
>>>>>>>> Hi Jacques,
>>>>>>>>
>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>> As far as I know it works with all of the proper filters but since I
>>>>>>>> haven't tried it yet I won't promise that.  The good news is that Will
>>>>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>>>>> assume that it's working quite well right now.
>>>>>>>>
>>>>>>>> As for Phasta, it does run in parallel (as props to their developers
>>>>>>>> it was a finalist for the 2009 Gordon Bell prize).  The grid is already
>>>>>>>> partitioned and each process runs the adaptor and creates an unstructured
>>>>>>>> grid from its portion of the partitioned mesh.  Thus, there isn't any need
>>>>>>>> for mpi calls in the adaptor code.  If you had ghost cell information in
>>>>>>>> your partitioned mesh and wanted to get fancy you should be able to add that
>>>>>>>> to your partitioned grid to make some of the filters faster but I haven't
>>>>>>>> tried that.
>>>>>>>>
>>>>>>>> Andy
>>>>>>>>
>>>>>>>>
>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>
>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide
>>>>>>>>> for the moment.
>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK.
>>>>>>>>> Do you know if this is there yet?
>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>
>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>
>>>>>>>>> Hi Jacques,
>>>>>>>>>>
>>>>>>>>>> What type of data set do you have?  Even though the PHASTA adaptor
>>>>>>>>>> ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for
>>>>>>>>>> fortran code it may give you an idea.  Also stepping through the example in
>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>> may help as well.
>>>>>>>>>>
>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>
>>>>>>>>>> Andy
>>>>>>>>>>
>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>>  Hi All,
>>>>>>>>>>>
>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>>>>> PYTHONPATH..
>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>
>>>>>>>>>>> Thanks
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>
>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>>>>> I just pulled from git today, and compiled it all up following
>>>>>>>>>>>> the guidelines in :
>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>> *but instead :
>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>
>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>
>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>
>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>
>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>
>>>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>>>> branch ?
>>>>>>>>>>>>
>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Thank you,
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>
>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>
>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>
>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> Powered by www.kitware.com
>>>>>>>>
>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>
>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>
>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/a1773c11/attachment-0001.htm>

From lester_anderson1963 at hotmail.com  Fri Aug 13 11:43:02 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Fri, 13 Aug 2010 16:43:02 +0100
Subject: [Paraview] Converting Longitude,
 latitude and Radius (distance) to XYZ (spherical coordinates)
In-Reply-To: <SNT108-W563660CAE737620F21BCD78A980@phx.gbl>
References: <SNT108-W563660CAE737620F21BCD78A980@phx.gbl>
Message-ID: <SNT108-W385279EA62AD43A2EE801E8A980@phx.gbl>


 Hello

Further to my earlier mail the attached image illustrates what I am looking to achieve: Model is clipped from the sphere.
This data was generated from a single layer netCDF (GMT) grid - it is not readily possible to make a 3D netCDF.

The view shows the first layer (50km) and the inner sphere is matched to the diameter of the Outer Core.

The vertical bar is actually the Long/Lat/Radius grid at the same scale !

Hopefully someone has the answer or suggestions :)

Thanks

Lester 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/cfbc2e3c/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Global_tomo_sphere2a.jpg
Type: image/jpeg
Size: 40932 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/cfbc2e3c/attachment-0001.jpg>

From lester_anderson1963 at hotmail.com  Fri Aug 13 13:02:34 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Fri, 13 Aug 2010 18:02:34 +0100
Subject: [Paraview]
 =?windows-1256?q?Converting_Longitude=2C_latitude_and_?=
 =?windows-1256?q?Radius_=28distance=29_to_XYZ_=28spherical_coordinates=29?=
 =?windows-1256?q?=FE?=
Message-ID: <SNT108-W249B963E77A09F1680FE1F8A980@phx.gbl>


Hello again

Sorted out the calculator bit :

(coordsZ*cos(coordsX*3.14159265/180)*cos(coordsY*3.14159265/180))*iHat+(coordsZ*sin(coordsX*3.14159265/180)*cos(coordsY*3.14159265/180))*jHat+(coordsZ*sin(coordsY*3.14159265/180))*kHat

The model is now complete !

There is no Pi value in the calculator so had to use the numeric value (to reasonable approximation). Perhaps a new feature to have or a button to do degrees to radians vice versa.

Cheers

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/0c1b4db8/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Global_tomo_sphere3a.jpg
Type: image/jpeg
Size: 43145 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/0c1b4db8/attachment-0001.jpg>

From aashish.chaudhary at kitware.com  Fri Aug 13 13:19:45 2010
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Fri, 13 Aug 2010 13:19:45 -0400
Subject: [Paraview]
	=?utf-8?q?Converting_Longitude=2C_latitude_and_Radius_?=
	=?utf-8?q?=28distance=29_to_XYZ_=28spherical_coordinates=29?=
	=?utf-8?b?4oCP?=
In-Reply-To: <SNT108-W249B963E77A09F1680FE1F8A980@phx.gbl>
References: <SNT108-W249B963E77A09F1680FE1F8A980@phx.gbl>
Message-ID: <AANLkTiksre+NGX3Kxy9pDA4HdVgtVr2A39dv7xzx8khm@mail.gmail.com>

looks good.

2010/8/13 Lester Anderson <lester_anderson1963 at hotmail.com>

>  Hello again
>
> Sorted out the calculator bit :
>
>
> (coordsZ*cos(coordsX*3.14159265/180)*cos(coordsY*3.14159265/180))*iHat+(coordsZ*sin(coordsX*3.14159265/180)*cos(coordsY*3.14159265/180))*jHat+(coordsZ*sin(coordsY*3.14159265/180))*kHat
>
> The model is now complete !
>
> There is no Pi value in the calculator so had to use the numeric value (to
> reasonable approximation). Perhaps a new feature to have or a button to do
> degrees to radians vice versa.
>
> Cheers
>
> Lester
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/099e3ddc/attachment.htm>

From jfavre at cscs.ch  Fri Aug 13 13:38:02 2010
From: jfavre at cscs.ch (Favre  Jean)
Date: Fri, 13 Aug 2010 19:38:02 +0200
Subject: [Paraview]
 =?windows-1256?q?Converting_Longitude=2C_latitude_and_?=
 =?windows-1256?q?Radius_=28distance=29_to_XYZ_=28spherical_coordinates=29?=
 =?windows-1256?q?=FE?=
In-Reply-To: <SNT108-W249B963E77A09F1680FE1F8A980@phx.gbl>
References: <SNT108-W249B963E77A09F1680FE1F8A980@phx.gbl>
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D306E25A4@MBX00.d.ethz.ch>


I was trying the same exercise for fun, and I got it done with a Python Programmable Filter.  When you import math, you also get math.pi

Here is how I did it:

1) generate a structured grid with a programmable source and your given bounds
2) remap its coordinates with a programmable filter

Here is the source for both:

1) The Structured Grid

The Script for Information part:

  executive = self.GetExecutive()
  outInfo = executive.GetOutputInformation(0)
  executive.SetExtentTranslator(outInfo, vtk.vtkExtentTranslator())
  outInfo.Set(executive.WHOLE_EXTENT(), 0, 29, 0, 19, 0, 9)

The Script part:

  executive = self.GetExecutive()
  outInfo = executive.GetOutputInformation(0)
  updateExtent = [executive.UPDATE_EXTENT().Get(outInfo, i) for i in xrange(6)]
 
  imageData = self.GetOutput()
  imageData.SetExtent(updateExtent)

 
  dimensions = imageData.GetDimensions()
  pts = vtk.vtkPoints()

  for k in range(dimensions[2]):
    for j in range(-90, 90, 180/dimensions[1]):
      for i in xrange(-180, 180, 360/dimensions[0]):
        pts.InsertNextPoint(i,j,k)
  output.SetPoints(pts)

2) the programmable filter

import math
pdi = self.GetStructuredGridInput()
pdo =  self.GetStructuredGridOutput()
newPoints = vtk.vtkPoints()
numPoints = pdi.GetNumberOfPoints()
for i in range(0, numPoints):
    coord = pdi.GetPoint(i)
    x, y, z = coord[:3]
    Xf=z * cos (x*math.pi/180.0) * cos (y*math.pi/180.0)
    Yf=z * sin (x*math.pi/180.0) * cos (y*math.pi/180.0)
    Zf=z * sin (y*math.pi/180.0)
    newPoints.InsertPoint(i, Xf, Yf, Zf)
pdo.SetPoints(newPoints)


it is actually missing one layer of cells at the meridian. It depends on how people dump their data. You will be able to adjust the python loop to read data from your files (not included here for obvious reasons)

The issues I have seen in the past are:

I had one layer of cells missing, so I added a duplicate of the 0-meridian to close the sphere. I also copied my last layer of data
Vectors (from spherical space) also have to be converted, and you remember it is a messy formula.
There is no continuity of "flow" across the main meridian. This can usually be alleviated by removing the duplicate points - making a water-tight surface - on the shell you are looking at

For all these reasons, I did all of this with C programming to read our data. Python is fun, but it gets cumbersome. Doing it all in parallel, is an added challenge. Closing the meridian actually does not involve MPI communications. I just gave that last layer to one proc.



-----------------
Jean M. Favre
Swiss National Supercomputing Center

From rakesh.hammond at googlemail.com  Fri Aug 13 14:26:59 2010
From: rakesh.hammond at googlemail.com (Rakesh Hammond)
Date: Fri, 13 Aug 2010 19:26:59 +0100
Subject: [Paraview] Fwd:  saving screen shot as a PNG image, Paraview-3.8.0
In-Reply-To: <AANLkTimS2SHQ13RfRume-ZW5-EhxuXc0anfiFRaCn_-B@mail.gmail.com>
References: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
	<AANLkTi=XmRD5HsakKdchO09MdbuUEdqFPmAJ3ONTCi4n@mail.gmail.com>
	<AANLkTimS2SHQ13RfRume-ZW5-EhxuXc0anfiFRaCn_-B@mail.gmail.com>
Message-ID: <AANLkTim5vzeYueVbp1DvY3bN3oEfiXw13eq9Zh=d4tYr@mail.gmail.com>

---------- Forwarded message ----------
From: Rakesh Hammond <rakesh.hammond at googlemail.com>
Date: 13 August 2010 19:26
Subject: Re: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
To: pat marion <pat.marion at kitware.com>


Hi Pat,

Thanks for your suggestion - but didn't help, PV-3.8 still crashed.

I am able to save the screen shot using other formats (jpg, bmp etc).

I looked into it a little bit further and I think this is where its seg
faulting
(I am on 3.8 release branch, not the latest CVS)

in vtkPNGWriter.cxx

line 278 - the following for loop

 for (ui = 0; ui < height; ui++)
    {
    row_pointers[height - ui - 1] = (png_byte *)outPtr;
    outPtr = (unsigned char *)outPtr + rowInc;
    }

However, if I put a print statement inside the for loop(Hello world for
example), PV doesn't crash.  This may be due to a memory leak some where
else.

Can some one please comment on what sort of modifications I should make to
the above code?

I think this may be a nasty bug to recreate - has any one else encountered
this problem?

This is what I tried to do

start PV
Load some data
File->SaveScreenShot->
Now choose the .PNG format and my PV-3.8 crashes

Regards,


On 12 August 2010 19:26, pat marion <pat.marion at kitware.com> wrote:

> Hi Rakesh,
>
> In Edit -> Settings -> Render View there is an option "Use Offscreen
> Rendering for Screenshots."  On some systems, this option will cause a crash
> when enabled.
>
> Pat
>
> On Thu, Aug 12, 2010 at 1:42 PM, Rakesh Hammond <
> rakesh.hammond at googlemail.com> wrote:
>
>>  Hi
>>
>> I have a .pvti file which I can visualize in Paraview-3.8.0.
>>
>> I would like to save a slice from my data set and able to display the
>> results correctly.
>> However, when I select SaveScreen option with PNG format, it seg faults.
>>
>> I am able to get this to work correctly on 3.6.2 without seg faulting.
>>
>> I am on SuSe-10.2.
>>
>> Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
>> I haven't done this for 3.6.2 and works OK.
>>
>> Has any one else come across this problem before?
>>
>> Any pointers would be greatly appreciated.
>>
>> Regards,
>>
>> Rakesh
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/f7bb7b0a/attachment.htm>

From dave.partyka at kitware.com  Fri Aug 13 14:41:33 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Fri, 13 Aug 2010 14:41:33 -0400
Subject: [Paraview] Fwd: saving screen shot as a PNG image,
	Paraview-3.8.0
In-Reply-To: <AANLkTim5vzeYueVbp1DvY3bN3oEfiXw13eq9Zh=d4tYr@mail.gmail.com>
References: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
	<AANLkTi=XmRD5HsakKdchO09MdbuUEdqFPmAJ3ONTCi4n@mail.gmail.com>
	<AANLkTimS2SHQ13RfRume-ZW5-EhxuXc0anfiFRaCn_-B@mail.gmail.com>
	<AANLkTim5vzeYueVbp1DvY3bN3oEfiXw13eq9Zh=d4tYr@mail.gmail.com>
Message-ID: <AANLkTik29Rq7KsajjhWGcrZuk2Hcs9HOLD4t4TL0PvB0@mail.gmail.com>

Hi Rakesh,

You mentioned CVS. I just want to double check are you really still using
CVS ParaView? or are you on the git release branch? Or using the source
tarball from the webpage?

On Fri, Aug 13, 2010 at 2:26 PM, Rakesh Hammond <
rakesh.hammond at googlemail.com> wrote:

>
>
> ---------- Forwarded message ----------
> From: Rakesh Hammond <rakesh.hammond at googlemail.com>
> Date: 13 August 2010 19:26
> Subject: Re: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
> To: pat marion <pat.marion at kitware.com>
>
>
> Hi Pat,
>
> Thanks for your suggestion - but didn't help, PV-3.8 still crashed.
>
> I am able to save the screen shot using other formats (jpg, bmp etc).
>
> I looked into it a little bit further and I think this is where its seg
> faulting
> (I am on 3.8 release branch, not the latest CVS)
>
> in vtkPNGWriter.cxx
>
> line 278 - the following for loop
>
>  for (ui = 0; ui < height; ui++)
>     {
>     row_pointers[height - ui - 1] = (png_byte *)outPtr;
>     outPtr = (unsigned char *)outPtr + rowInc;
>     }
>
> However, if I put a print statement inside the for loop(Hello world for
> example), PV doesn't crash.  This may be due to a memory leak some where
> else.
>
> Can some one please comment on what sort of modifications I should make to
> the above code?
>
> I think this may be a nasty bug to recreate - has any one else encountered
> this problem?
>
> This is what I tried to do
>
> start PV
> Load some data
> File->SaveScreenShot->
> Now choose the .PNG format and my PV-3.8 crashes
>
> Regards,
>
>
> On 12 August 2010 19:26, pat marion <pat.marion at kitware.com> wrote:
>
>> Hi Rakesh,
>>
>> In Edit -> Settings -> Render View there is an option "Use Offscreen
>> Rendering for Screenshots."  On some systems, this option will cause a crash
>> when enabled.
>>
>> Pat
>>
>> On Thu, Aug 12, 2010 at 1:42 PM, Rakesh Hammond <
>> rakesh.hammond at googlemail.com> wrote:
>>
>>>  Hi
>>>
>>> I have a .pvti file which I can visualize in Paraview-3.8.0.
>>>
>>> I would like to save a slice from my data set and able to display the
>>> results correctly.
>>> However, when I select SaveScreen option with PNG format, it seg faults.
>>>
>>> I am able to get this to work correctly on 3.6.2 without seg faulting.
>>>
>>> I am on SuSe-10.2.
>>>
>>> Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
>>> I haven't done this for 3.6.2 and works OK.
>>>
>>> Has any one else come across this problem before?
>>>
>>> Any pointers would be greatly appreciated.
>>>
>>> Regards,
>>>
>>> Rakesh
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/6c21842c/attachment-0001.htm>

From rakesh.hammond at googlemail.com  Fri Aug 13 17:49:04 2010
From: rakesh.hammond at googlemail.com (Rakesh Hammond)
Date: Fri, 13 Aug 2010 22:49:04 +0100
Subject: [Paraview] Fwd: saving screen shot as a PNG image,
	Paraview-3.8.0
In-Reply-To: <AANLkTik29Rq7KsajjhWGcrZuk2Hcs9HOLD4t4TL0PvB0@mail.gmail.com>
References: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
	<AANLkTi=XmRD5HsakKdchO09MdbuUEdqFPmAJ3ONTCi4n@mail.gmail.com>
	<AANLkTimS2SHQ13RfRume-ZW5-EhxuXc0anfiFRaCn_-B@mail.gmail.com>
	<AANLkTim5vzeYueVbp1DvY3bN3oEfiXw13eq9Zh=d4tYr@mail.gmail.com>
	<AANLkTik29Rq7KsajjhWGcrZuk2Hcs9HOLD4t4TL0PvB0@mail.gmail.com>
Message-ID: <AANLkTinmnm0HkEv2xWa0gKkRpOz2CQbFY2d6CPiEvZ=p@mail.gmail.com>

Sorry - I should have been more clearer

I am using the source tar ball 3.8.0 from the webpage

On 13 August 2010 19:41, Dave Partyka <dave.partyka at kitware.com> wrote:

> Hi Rakesh,
>
> You mentioned CVS. I just want to double check are you really still using
> CVS ParaView? or are you on the git release branch? Or using the source
> tarball from the webpage?
>
>
> On Fri, Aug 13, 2010 at 2:26 PM, Rakesh Hammond <
> rakesh.hammond at googlemail.com> wrote:
>
>>
>>
>> ---------- Forwarded message ----------
>> From: Rakesh Hammond <rakesh.hammond at googlemail.com>
>> Date: 13 August 2010 19:26
>> Subject: Re: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
>> To: pat marion <pat.marion at kitware.com>
>>
>>
>> Hi Pat,
>>
>> Thanks for your suggestion - but didn't help, PV-3.8 still crashed.
>>
>> I am able to save the screen shot using other formats (jpg, bmp etc).
>>
>> I looked into it a little bit further and I think this is where its seg
>> faulting
>> (I am on 3.8 release branch, not the latest CVS)
>>
>> in vtkPNGWriter.cxx
>>
>> line 278 - the following for loop
>>
>>  for (ui = 0; ui < height; ui++)
>>     {
>>     row_pointers[height - ui - 1] = (png_byte *)outPtr;
>>     outPtr = (unsigned char *)outPtr + rowInc;
>>     }
>>
>> However, if I put a print statement inside the for loop(Hello world for
>> example), PV doesn't crash.  This may be due to a memory leak some where
>> else.
>>
>> Can some one please comment on what sort of modifications I should make to
>> the above code?
>>
>> I think this may be a nasty bug to recreate - has any one else encountered
>> this problem?
>>
>> This is what I tried to do
>>
>> start PV
>> Load some data
>> File->SaveScreenShot->
>> Now choose the .PNG format and my PV-3.8 crashes
>>
>> Regards,
>>
>>
>> On 12 August 2010 19:26, pat marion <pat.marion at kitware.com> wrote:
>>
>>> Hi Rakesh,
>>>
>>> In Edit -> Settings -> Render View there is an option "Use Offscreen
>>> Rendering for Screenshots."  On some systems, this option will cause a crash
>>> when enabled.
>>>
>>> Pat
>>>
>>> On Thu, Aug 12, 2010 at 1:42 PM, Rakesh Hammond <
>>> rakesh.hammond at googlemail.com> wrote:
>>>
>>>>  Hi
>>>>
>>>> I have a .pvti file which I can visualize in Paraview-3.8.0.
>>>>
>>>> I would like to save a slice from my data set and able to display the
>>>> results correctly.
>>>> However, when I select SaveScreen option with PNG format, it seg faults.
>>>>
>>>> I am able to get this to work correctly on 3.6.2 without seg faulting.
>>>>
>>>> I am on SuSe-10.2.
>>>>
>>>> Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
>>>> I haven't done this for 3.6.2 and works OK.
>>>>
>>>> Has any one else come across this problem before?
>>>>
>>>> Any pointers would be greatly appreciated.
>>>>
>>>> Regards,
>>>>
>>>> Rakesh
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/e34516bd/attachment.htm>

From jacques.papper at gmail.com  Fri Aug 13 18:20:33 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Fri, 13 Aug 2010 23:20:33 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
Message-ID: <AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>

   Sorry I meant None... not Null :

For example :


    DataRepresentation1.SelectOrientationVectors = [None, '']
    DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
    DataRepresentation1.CubeAxesTickLocation = 'Inside'
    DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
    DataRepresentation1.CubeAxesYAxisVisibility = 1
    DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
    DataRepresentation1.Source.ShaftResolution = 6
    DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
    DataRepresentation1.SelectScaleArray = [None, '']


2010/8/13 Andy Bauer <andy.bauer at kitware.com>

>
>
> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> I found the problem... I was inserting PointData instead of CellData :)
>> ,,,
>> Anyway it seems to be starting to work now.. 2 things though :
>>
>> -> Whenever I try to run directly a python script exported from paraview
>> (Through the Coprocessing export state) it won't run until I remove all
>> references to LIC and all lines containing Null...
>>
>> Now that you mention it, I didn't put in anything special for plugins.
> Setting the plugins to auto-load may work but my guess is that it won't.
> I'll look into the plugin thing and the best way to do it in the script
> generator.
>
> What do you mean by Null?  I don't know what that is so you'll have to
> explain it to me.
>
>
>
>> For the LIC, is it because the python script doesn't automatically load
>> the LIC plugin ?
>> For the Null, do you have this problem as well ?
>>
>> -> Is the Live Source Data code already available in git ? I'd love to
>> test it out even if it is not robust yet.
>>
>
> We don't yet have permission to release the Live Source Data code yet but I
> think it should be available in the next couple of months.
>
>>
>> Best,
>> Jacques
>>
>>
>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>
>>> You probably want to add the field data to the specific grids in the
>>> multiblock data set and not just the block itself.  As an example:
>>>
>>> create multiblock
>>> for each grid:
>>>   create grid points and cells
>>>   add point and cell data to grid
>>>   add grid to block
>>>
>>> Note that in parallel for coprocessing that the block must have the same
>>> structure on each process but whether a leaf node is empty or not can
>>> change.  For example:
>>>
>>> proc 0 mutliblock:
>>>   block 0 -> unstructured grid
>>>   block 1 -> uniform grid
>>>   block 2 -> NULL
>>> proc 1 multiblock:
>>>   block 0 -> NULL
>>>   block 1 -> NULL
>>>   block 2 -> unstructured grid
>>>
>>> I'm not sure of all of the details but what I do is that I set a block to
>>> only be non-NULL on a single process.
>>>
>>> Hope this helps,
>>> Andy
>>>
>>>
>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> Hi All,
>>>>
>>>> I am making some more progress on this. Everything was working until I
>>>> tried adding field data... I now get an explosion :
>>>>
>>>> #2  ?? in "/lib64/libc.so.6"
>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>> #4  vtkDataArray::ComputeRange(int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #6
>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>> in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #10
>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>> vtkPVInformation*, vtkClientServerID) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>> vtkPVInformation*, vtkClientServerID) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #18  vtkSMProperty::IsInDomains() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int)
>>>> in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>
>>>> Any ideas where this can be coming from ?
>>>> When I do not add the field data it just complains about missing fields
>>>> so I know that the code is not completely wrong...
>>>> I am adding the data to the first block of my multiblockdataset... Is
>>>> that a problem ?
>>>>
>>>>
>>>>
>>>> Thanks !
>>>> Jacques
>>>>
>>>>
>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>
>>>> Hi Andy, Pat,
>>>>>
>>>>> I have the skeleton of the coprocessing working (for the moment I just
>>>>> tried by populating the point field - no cells, no data).
>>>>> I am trying to figure out the most efficient way of transferring my
>>>>> data structure to VTK with minimal copying and looping...
>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>>>>> means I probably need to use the vtkCellArray::SetCells() method, and
>>>>> therefore the vtkIdType::SetArray() method...
>>>>> The problem is I am not sure what the format of the array should be ?
>>>>> I am dealing with unstructured polyhedra cells (most of which are known
>>>>> types like hex prism etc..).
>>>>>
>>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>>> wondering if there wasn't a more efficient way...
>>>>>
>>>>> Best,
>>>>> Jacques
>>>>>
>>>>>
>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>
>>>>> Hi Jacques,
>>>>>>
>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>> coprocessing.  It's at:
>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>> Let me know if you have any problems with it so that I can fix any
>>>>>> errors that I have.
>>>>>>
>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>> installed properly.
>>>>>>
>>>>>> Thanks,
>>>>>> Andy
>>>>>>
>>>>>>
>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> Thanks Pat,
>>>>>>>
>>>>>>> I am trying to compile my first attempt.
>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>> identifying which libraries I need to link to.
>>>>>>> For example, I assume that I should be linking to
>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>> lib...
>>>>>>> Is this normal ?
>>>>>>>
>>>>>>> Best,
>>>>>>> Jacques
>>>>>>>
>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>
>>>>>>> Below is a simple cxx program I have used for testing.  It creates
>>>>>>>> one sphere per process, positions the sphere as a function of the process
>>>>>>>> id, and the spheres grow/shrink over time.
>>>>>>>>
>>>>>>>> Pat
>>>>>>>>
>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>> #include "vtkPolyData.h"
>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>
>>>>>>>> #include <stdio.h>
>>>>>>>> #include <string>
>>>>>>>> #include <sstream>
>>>>>>>>
>>>>>>>> static unsigned int procId;
>>>>>>>>
>>>>>>>> void myprint(const std::string& str)
>>>>>>>> {
>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>> }
>>>>>>>>
>>>>>>>> class DataGenerator {
>>>>>>>> public:
>>>>>>>>
>>>>>>>>   DataGenerator()
>>>>>>>>     {
>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>     this->Index = 0;
>>>>>>>>     }
>>>>>>>>
>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>     {
>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>     this->Index++;
>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>     this->Sphere->Update();
>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>     return ret;
>>>>>>>>     }
>>>>>>>>
>>>>>>>> protected:
>>>>>>>>
>>>>>>>>   int Index;
>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>
>>>>>>>>
>>>>>>>> };
>>>>>>>>
>>>>>>>> int main(int argc, char* argv[])
>>>>>>>> {
>>>>>>>>   if (argc < 3)
>>>>>>>>     {
>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>> argv[0]);
>>>>>>>>     return 1;
>>>>>>>>     }
>>>>>>>>
>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>
>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>
>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>   processor->Initialize();
>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>
>>>>>>>>   // mpi was initialized when we called
>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>   procId =
>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>
>>>>>>>>
>>>>>>>>   // read the coprocessing python file
>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>   if (!success)
>>>>>>>>     {
>>>>>>>>     myprint("aborting");
>>>>>>>>     return 1;
>>>>>>>>     }
>>>>>>>>
>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>   pipeline->Delete();
>>>>>>>>
>>>>>>>>   if (nSteps == 0)
>>>>>>>>     {
>>>>>>>>     return 0;
>>>>>>>>     }
>>>>>>>>
>>>>>>>>   // create a data source
>>>>>>>>   DataGenerator generator;
>>>>>>>>
>>>>>>>>   // do coprocessing
>>>>>>>>   double tStart = 0.0;
>>>>>>>>   double tEnd = 1.0;
>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>
>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>
>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>     {
>>>>>>>>
>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>     std::stringstream timeStr;
>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>
>>>>>>>>
>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>
>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>     int do_coprocessing =
>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>
>>>>>>>>     if (do_coprocessing)
>>>>>>>>       {
>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>
>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>         generator.GetNext();
>>>>>>>>
>>>>>>>>
>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>       }
>>>>>>>>     }
>>>>>>>>
>>>>>>>>
>>>>>>>>   myprint("finalizing");
>>>>>>>>   dataDesc->Delete();
>>>>>>>>   processor->Finalize();
>>>>>>>>   processor->Delete();
>>>>>>>>
>>>>>>>>   return 0;
>>>>>>>>
>>>>>>>> }
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com
>>>>>>>> > wrote:
>>>>>>>>
>>>>>>>>> Hi Jacques,
>>>>>>>>>
>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>> As far as I know it works with all of the proper filters but since
>>>>>>>>> I haven't tried it yet I won't promise that.  The good news is that Will
>>>>>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>>>>>> assume that it's working quite well right now.
>>>>>>>>>
>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>> but I haven't tried that.
>>>>>>>>>
>>>>>>>>> Andy
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>
>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide
>>>>>>>>>> for the moment.
>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in VTK.
>>>>>>>>>> Do you know if this is there yet?
>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>
>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>
>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>
>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>> in
>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>> may help as well.
>>>>>>>>>>>
>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>
>>>>>>>>>>> Andy
>>>>>>>>>>>
>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>
>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>>>>>> PYTHONPATH..
>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>>>>>> I just pulled from git today, and compiled it all up following
>>>>>>>>>>>>> the guidelines in :
>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>
>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>
>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>
>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>
>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>
>>>>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>>>>> branch ?
>>>>>>>>>>>>>
>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>
>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>
>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>
>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>
>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>
>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>
>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/bea9d774/attachment-0001.htm>

From pat.marion at kitware.com  Fri Aug 13 18:36:11 2010
From: pat.marion at kitware.com (pat marion)
Date: Fri, 13 Aug 2010 18:36:11 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
Message-ID: <AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>

Hi Jacques,

My python trace files have similar lines, and I am able to run them without
error.  I've only just tested with latest git master, not 3.8.  Can you copy
the specific error message you're getting so I can take a look?

Pat

On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <jacques.papper at gmail.com>wrote:

>    Sorry I meant None... not Null :
>
> For example :
>
>
>     DataRepresentation1.SelectOrientationVectors = [None, '']
>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>     DataRepresentation1.Source.ShaftResolution = 6
>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>     DataRepresentation1.SelectScaleArray = [None, '']
>
>
> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>
>
>>
>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <jacques.papper at gmail.com
>> > wrote:
>>
>>> I found the problem... I was inserting PointData instead of CellData :)
>>> ,,,
>>> Anyway it seems to be starting to work now.. 2 things though :
>>>
>>> -> Whenever I try to run directly a python script exported from paraview
>>> (Through the Coprocessing export state) it won't run until I remove all
>>> references to LIC and all lines containing Null...
>>>
>>> Now that you mention it, I didn't put in anything special for plugins.
>> Setting the plugins to auto-load may work but my guess is that it won't.
>> I'll look into the plugin thing and the best way to do it in the script
>> generator.
>>
>> What do you mean by Null?  I don't know what that is so you'll have to
>> explain it to me.
>>
>>
>>
>>> For the LIC, is it because the python script doesn't automatically load
>>> the LIC plugin ?
>>> For the Null, do you have this problem as well ?
>>>
>>> -> Is the Live Source Data code already available in git ? I'd love to
>>> test it out even if it is not robust yet.
>>>
>>
>> We don't yet have permission to release the Live Source Data code yet but
>> I think it should be available in the next couple of months.
>>
>>>
>>> Best,
>>> Jacques
>>>
>>>
>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>
>>>> You probably want to add the field data to the specific grids in the
>>>> multiblock data set and not just the block itself.  As an example:
>>>>
>>>> create multiblock
>>>> for each grid:
>>>>   create grid points and cells
>>>>   add point and cell data to grid
>>>>   add grid to block
>>>>
>>>> Note that in parallel for coprocessing that the block must have the same
>>>> structure on each process but whether a leaf node is empty or not can
>>>> change.  For example:
>>>>
>>>> proc 0 mutliblock:
>>>>   block 0 -> unstructured grid
>>>>   block 1 -> uniform grid
>>>>   block 2 -> NULL
>>>> proc 1 multiblock:
>>>>   block 0 -> NULL
>>>>   block 1 -> NULL
>>>>   block 2 -> unstructured grid
>>>>
>>>> I'm not sure of all of the details but what I do is that I set a block
>>>> to only be non-NULL on a single process.
>>>>
>>>> Hope this helps,
>>>> Andy
>>>>
>>>>
>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> Hi All,
>>>>>
>>>>> I am making some more progress on this. Everything was working until I
>>>>> tried adding field data... I now get an explosion :
>>>>>
>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #6
>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>> in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #10
>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*,
>>>>> int) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>
>>>>> Any ideas where this can be coming from ?
>>>>> When I do not add the field data it just complains about missing fields
>>>>> so I know that the code is not completely wrong...
>>>>> I am adding the data to the first block of my multiblockdataset... Is
>>>>> that a problem ?
>>>>>
>>>>>
>>>>>
>>>>> Thanks !
>>>>> Jacques
>>>>>
>>>>>
>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>
>>>>> Hi Andy, Pat,
>>>>>>
>>>>>> I have the skeleton of the coprocessing working (for the moment I just
>>>>>> tried by populating the point field - no cells, no data).
>>>>>> I am trying to figure out the most efficient way of transferring my
>>>>>> data structure to VTK with minimal copying and looping...
>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>>>>>> means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>> The problem is I am not sure what the format of the array should be ?
>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>> known types like hex prism etc..).
>>>>>>
>>>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>>>> wondering if there wasn't a more efficient way...
>>>>>>
>>>>>> Best,
>>>>>> Jacques
>>>>>>
>>>>>>
>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>
>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>>> coprocessing.  It's at:
>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>> Let me know if you have any problems with it so that I can fix any
>>>>>>> errors that I have.
>>>>>>>
>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>> installed properly.
>>>>>>>
>>>>>>> Thanks,
>>>>>>> Andy
>>>>>>>
>>>>>>>
>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> Thanks Pat,
>>>>>>>>
>>>>>>>> I am trying to compile my first attempt.
>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>> identifying which libraries I need to link to.
>>>>>>>> For example, I assume that I should be linking to
>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>> lib...
>>>>>>>> Is this normal ?
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>
>>>>>>>> Below is a simple cxx program I have used for testing.  It creates
>>>>>>>>> one sphere per process, positions the sphere as a function of the process
>>>>>>>>> id, and the spheres grow/shrink over time.
>>>>>>>>>
>>>>>>>>> Pat
>>>>>>>>>
>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>
>>>>>>>>> #include <stdio.h>
>>>>>>>>> #include <string>
>>>>>>>>> #include <sstream>
>>>>>>>>>
>>>>>>>>> static unsigned int procId;
>>>>>>>>>
>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>> {
>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>> }
>>>>>>>>>
>>>>>>>>> class DataGenerator {
>>>>>>>>> public:
>>>>>>>>>
>>>>>>>>>   DataGenerator()
>>>>>>>>>     {
>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>     this->Index = 0;
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>     {
>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>     this->Index++;
>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>     return ret;
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>> protected:
>>>>>>>>>
>>>>>>>>>   int Index;
>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> };
>>>>>>>>>
>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>> {
>>>>>>>>>   if (argc < 3)
>>>>>>>>>     {
>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>> argv[0]);
>>>>>>>>>     return 1;
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>
>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>
>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>   processor->Initialize();
>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>
>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>   procId =
>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>   if (!success)
>>>>>>>>>     {
>>>>>>>>>     myprint("aborting");
>>>>>>>>>     return 1;
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>   pipeline->Delete();
>>>>>>>>>
>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>     {
>>>>>>>>>     return 0;
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>>   // create a data source
>>>>>>>>>   DataGenerator generator;
>>>>>>>>>
>>>>>>>>>   // do coprocessing
>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>
>>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>
>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>     {
>>>>>>>>>
>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>
>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>     int do_coprocessing =
>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>
>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>       {
>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>
>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>         generator.GetNext();
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>       }
>>>>>>>>>     }
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>   myprint("finalizing");
>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>   processor->Finalize();
>>>>>>>>>   processor->Delete();
>>>>>>>>>
>>>>>>>>>   return 0;
>>>>>>>>>
>>>>>>>>> }
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hi Jacques,
>>>>>>>>>>
>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>> As far as I know it works with all of the proper filters but since
>>>>>>>>>> I haven't tried it yet I won't promise that.  The good news is that Will
>>>>>>>>>> Schroeder had a high interest in it and probably worked on some of it so I'd
>>>>>>>>>> assume that it's working quite well right now.
>>>>>>>>>>
>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>
>>>>>>>>>> Andy
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>
>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide
>>>>>>>>>>> for the moment.
>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in
>>>>>>>>>>> VTK. Do you know if this is there yet?
>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>>
>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>>
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>
>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>
>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>> in
>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>
>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>
>>>>>>>>>>>> Andy
>>>>>>>>>>>>
>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>
>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set my
>>>>>>>>>>>>> PYTHONPATH..
>>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing libraries.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up following
>>>>>>>>>>>>>> the guidelines in :
>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>>>>>> branch ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>
>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>
>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>
>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>
>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>
>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>
>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/433055db/attachment-0001.htm>

From dan.lussier at sjc.ox.ac.uk  Fri Aug 13 19:21:01 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Fri, 13 Aug 2010 18:21:01 -0500
Subject: [Paraview] problem with OS X binary
Message-ID: <76976F4D-058C-49B0-AC19-C95148D4A774@sjc.ox.ac.uk>

I tried downloading the binary for OS X today, specifically:

Mac OS X x86_64 Application Bundle (10.5+)	ParaView-3.8.0-Darwin- 
x86_64.dmg

When I try to launch the application it crashes immediately.  My  
system setup is:

Mac Pro ~ 2007, 2 x quad Xeon 3GHz
OS X 10.6.4

Has anyone else run into this with up to date OS X 10.6 ?  I can  
supply more information such as the stack trace I get from OS X if  
that would be of interest.

Thanks.

Dan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/4d2ea92c/attachment.htm>

From dave.partyka at kitware.com  Fri Aug 13 20:54:31 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Fri, 13 Aug 2010 20:54:31 -0400
Subject: [Paraview] problem with OS X binary
In-Reply-To: <76976F4D-058C-49B0-AC19-C95148D4A774@sjc.ox.ac.uk>
References: <76976F4D-058C-49B0-AC19-C95148D4A774@sjc.ox.ac.uk>
Message-ID: <AANLkTinOcbRoVNHqz1eyQbju1TW57OeMUvChqiTCbW7s@mail.gmail.com>

That would be very helpful. Also if you launch the application from a
command line is any output printed to the console? I have experienced some
problems with upgrade machines only performing a 32bit upgrade. Thus this
bundle of ParaView won't work because it is 64 bit only. Haver you tried the
32 bit version?

Mac OS X Universal Application Bundle (10.4+)
ParaView-3.8.0-Darwin-Universal.dmg<http://paraview.org/files/v3.8/ParaView-3.8.0-Darwin-Universal.dmg>
On Fri, Aug 13, 2010 at 7:21 PM, Dan Lussier <dan.lussier at sjc.ox.ac.uk>wrote:

> I tried downloading the binary for OS X today, specifically:
>
> Mac OS X x86_64 Application Bundle (10.5+)ParaView-3.8.0-Darwin-x86_64.dmg<http://paraview.org/files/v3.8/ParaView-3.8.0-Darwin-x86_64.dmg>
>
> When I try to launch the application it crashes immediately.  My system
> setup is:
>
> Mac Pro ~ 2007, 2 x quad Xeon 3GHz
> OS X 10.6.4
>
> Has anyone else run into this with up to date OS X 10.6 ?  I can supply
> more information such as the stack trace I get from OS X if that would be of
> interest.
>
> Thanks.
>
> Dan
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100813/d05aaf97/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Sun Aug 15 17:41:09 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Sun, 15 Aug 2010 16:41:09 -0500
Subject: [Paraview] problem with OS X binary
In-Reply-To: <AANLkTinOcbRoVNHqz1eyQbju1TW57OeMUvChqiTCbW7s@mail.gmail.com>
References: <76976F4D-058C-49B0-AC19-C95148D4A774@sjc.ox.ac.uk>
	<AANLkTinOcbRoVNHqz1eyQbju1TW57OeMUvChqiTCbW7s@mail.gmail.com>
Message-ID: <2C9128C7-1DEC-4252-B162-26E716F68517@sjc.ox.ac.uk>

Hi Dave,

Ok - I gave everything another try today and I'm really not sure what  
happened on Friday as now both the 32 bit and 64 bit binaries appear  
to be working.

On Friday I was getting immediate and repeatable crashes from the 64  
bit library.  Having now looked back into the console  (I hadn't done  
that on Friday as I was brain dead on Friday afternoon) the potential  
culprit appears to be multiple qt installations on my system.

I installed a generic qt library into /opt/local via the MacPorts  
system for use with a few other pieces of software and it looks like  
this was causing some conflicts with Paraview as I get repeated  
messages that Paraview was unable to decide between libraries from the  
qt installation in /opt/local and the one that came bundled with the  
binary.

Does this explanation make sense?

Thanks again.


On 13-Aug-10, at 7:54 PM, Dave Partyka wrote:

> That would be very helpful. Also if you launch the application from  
> a command line is any output printed to the console? I have  
> experienced some problems with upgrade machines only performing a  
> 32bit upgrade. Thus this bundle of ParaView won't work because it is  
> 64 bit only. Haver you tried the 32 bit version?
>
> Mac OS X Universal Application Bundle (10.4+)	ParaView-3.8.0-Darwin- 
> Universal.dmg
>
> On Fri, Aug 13, 2010 at 7:21 PM, Dan Lussier  
> <dan.lussier at sjc.ox.ac.uk> wrote:
> I tried downloading the binary for OS X today, specifically:
>
> Mac OS X x86_64 Application Bundle (10.5+)	ParaView-3.8.0-Darwin- 
> x86_64.dmg
>
> When I try to launch the application it crashes immediately.  My  
> system setup is:
>
> Mac Pro ~ 2007, 2 x quad Xeon 3GHz
> OS X 10.6.4
>
> Has anyone else run into this with up to date OS X 10.6 ?  I can  
> supply more information such as the stack trace I get from OS X if  
> that would be of interest.
>
> Thanks.
>
> Dan
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100815/9024836b/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Sun Aug 15 17:48:16 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Sun, 15 Aug 2010 16:48:16 -0500
Subject: [Paraview] running in parallel on OS X
Message-ID: <3F580538-9C6D-45AC-B427-CDBCB64A455F@sjc.ox.ac.uk>

Hello,

I have a question about running in parallel on OS X.  I have built the  
CVS version of Paraview with MPI such that it can run in parallel.  I  
am  looking to run it across the CPUs local to my Mac Pro workstation  
but also want them to share the GPU.

Here is my system config:

Mac Pro
2 x quad core Xeon
1 x ATI graphics card

In the documentation the recommendation is to use --use-offscreen- 
rendering -display flags however when I do a pvserver - h I do not  
even see a -display option and --use-offscreen-rendering is labeled as  
only applicable to software or mangled Mesa rendering on UNIX.

I am looking to achieve maximum overall speed (rendering + filters) on  
OS X what options if any should I use for my command to initiate the  
pvservers ?

Many thanks.


From dan.lussier at sjc.ox.ac.uk  Sun Aug 15 19:15:43 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Sun, 15 Aug 2010 18:15:43 -0500
Subject: [Paraview] reading XDMF in parallel
Message-ID: <AANLkTik+dum2qcifmnataV6dYn_QzNrU-UO1-euxyHq-@mail.gmail.com>

Hello,

I am trying to read some XDMF files in parallel but am running into
some problems with Paraview crashing when I do so.  My suspicion is
that I have data which is not able to be read in parallel.

Some of my XDMF files work well. An example of this type of file is in
the first XDFM listing below.

In contrast other files do not read in parallel despite working well
in serial.  An example of this type of file is in the second XDMF
listing below  I cannot even get one to successfully open to run the
Process ID filter to see how the work is being split up.

Is this issue down to differences in how TopologyType 3DCORRECTMesh
(working) versus TopologyType Polyvertex work in XDMF, or the XDMF
reader in Paraview?

Many thanks!

# -----------------------------------------------------------------------------------------------------------------------------------------------------
# WORK IN PARALLEL

<?xml version="1.0" ?>
<!DOCTYPE Xdmf SYSTEM "Xdmf.dtd" []>
<Xdmf xmlns:xi="http://www.w3.org/2003/XInclude" Version="2.1">
    <Domain>		
            <Grid Time="95000" Name="sigma4ISO" GridType="Uniform">
                <Time Value="95000" />
			<Topology TopologyType="3DCORECTMesh" NumberOfElements="40 40 40 "/>
			<Geometry GeometryType="ORIGIN_DXDYDZ">
				<DataItem Dimensions="3 " NumberType="Float" Format="XML">
					0.0 0.0 0.0	
				</DataItem>
				<DataItem Dimensions="3 " NumberType="Float" Format="XML">
					4.0 4.0 4.0
				</DataItem>
			</Geometry>
				
				<Attribute Type="Scalar" Center="Node" Name="count">
					<DataItem DataType="Int" Dimensions="40 40 40" Format="HDF">
						95000.h5:/sigma4ISO/count
					</DataItem>
				</Attribute>				
				<Attribute Type="Scalar" Center="Node" Name="numDens">
					<DataItem DataType="Float" Dimensions="40 40 40" Format="HDF">
						95000.h5:/sigma4ISO/numDens
					</DataItem>
				</Attribute>			
            </Grid>
	</Domain>
</Xdmf>

# -----------------------------------------------------------------------------------------------------------------------------------------------------


# -----------------------------------------------------------------------------------------------------------------------------------------------------
# DO NOT WORK

<?xml version="1.0" ?>
<!DOCTYPE Xdmf SYSTEM "Xdmf.dtd" []>
<Xdmf xmlns:xi="http://www.w3.org/2003/XInclude" Version="2.1">
    <Domain>		
            <Grid Time="95000" Name="rawSimResults" GridType="Uniform">
                <Time Value="95000" />
                <Topology TopologyType="Polyvertex" NumberOfElements="1286486"/>
                <Geometry GeometryType="X_Y_Z">
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/x
                    </DataItem>
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/y
                    </DataItem>
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/z
                    </DataItem>
                </Geometry>				
		
		<Attribute Type="Scalar" Center="Node" Name="vy">
			<DataItem DataType="Float" Dimensions="1286486" Format="HDF">
				95000.h5:/rawSimResults/vy
			</DataItem>
		</Attribute>				
		<Attribute Type="Scalar" Center="Node" Name="vx">
			<DataItem DataType="Float" Dimensions="1286486" Format="HDF">
				95000.h5:/rawSimResults/vx
			</DataItem>
		</Attribute>				
		<Attribute Type="Scalar" Center="Node" Name="vz">
			<DataItem DataType="Float" Dimensions="1286486" Format="HDF">
				95000.h5:/rawSimResults/vz
			</DataItem>
		</Attribute>				
		<Attribute Type="Vector" Center="Node" Name="velocity">
			<DataItem ItemType="Function" Function="JOIN($0, $1, $2)"
Dimensions="1286486 3">
                        <DataItem Name="vx" Format="HDF"
DataType="Float" Dimensions="1286486">
                            95000.h5:/rawSimResults/vx
                        </DataItem>
                        <DataItem Name="vy" Format="HDF"
DataType="Float" Dimensions="1286486">
                            95000.h5:/rawSimResults/vy
                        </DataItem>
                        <DataItem Name="vz" Format="HDF"
DataType="Float" Dimensions="1286486">
				95000.h5:/rawSimResults/vz
			</DataItem>
			</DataItem>
		</Attribute>				
            </Grid>
	</Domain>
</Xdmf>

# -----------------------------------------------------------------------------------------------------------------------------------------------------

From Harald.Soleng at kongsberg.com  Mon Aug 16 02:53:55 2010
From: Harald.Soleng at kongsberg.com (Harald.Soleng at kongsberg.com)
Date: Mon, 16 Aug 2010 08:53:55 +0200
Subject: [Paraview]  Combining data into one input file
Message-ID: <CE3AD75CC0364C4C9B3549234A769402022FF71C7F@ukgw-exmb-p06.kda.kongsberg.com>

This worked well for saving, but in version 3.8.0 I cannot load the file back into Paraview. It says:

 A reader for "combined.vtm" could not be found.


Harald

________________________________
CONFIDENTIALITY
This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/9e7a6e4f/attachment.htm>

From burlen.loring at gmail.com  Mon Aug 16 03:09:20 2010
From: burlen.loring at gmail.com (burlen)
Date: Mon, 16 Aug 2010 00:09:20 -0700
Subject: [Paraview] running in parallel on OS X
In-Reply-To: <3F580538-9C6D-45AC-B427-CDBCB64A455F@sjc.ox.ac.uk>
References: <3F580538-9C6D-45AC-B427-CDBCB64A455F@sjc.ox.ac.uk>
Message-ID: <4C68E420.3000807@gmail.com>

Hi Dan,

Typically the -display command line option is used to specify which GPU 
when there are more than one per host.

In the situation you describe running paraview on a single workstation 
with 1 gpu and 8 cores, both rendering and IO are effectively serialized 
as the server processes concurrently attempt to access the single gpu or 
disk as the case may be. It is true that using OSMesa and the 
--off-screen-rendering flag will get you real parallel software 
rendering. However, comparing 1 process rendering with OSMesa to 1 
process rendering on a gpu, the gpu rendering can be 100s of times 
faster.* So for running on a single workstation your best bet is to 
start off using hardware rendering on the gpu and limit the number of 
server processes to 2 or 4 in order to limit contention for disk and 
gpu. If you find the filters you use run significantly longer than the 
reader or renderer, then you might experiment with more server 
processes. As you do so if rendering becomes the significant bottleneck 
you might experiment with OSMesa.

If you're having performance issues your best bet is to run PV on a cluster.

Burlen

* I don't know if you will have issues because of the ATI card.


Dan Lussier wrote:
> Hello,
>
> I have a question about running in parallel on OS X.  I have built the 
> CVS version of Paraview with MPI such that it can run in parallel.  I 
> am  looking to run it across the CPUs local to my Mac Pro workstation 
> but also want them to share the GPU.
>
> Here is my system config:
>
> Mac Pro
> 2 x quad core Xeon
> 1 x ATI graphics card
>
> In the documentation the recommendation is to use 
> --use-offscreen-rendering -display flags however when I do a pvserver 
> - h I do not even see a -display option and --use-offscreen-rendering 
> is labeled as only applicable to software or mangled Mesa rendering on 
> UNIX.
>
> I am looking to achieve maximum overall speed (rendering + filters) on 
> OS X what options if any should I use for my command to initiate the 
> pvservers ?
>
> Many thanks.
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From lester_anderson1963 at hotmail.com  Mon Aug 16 07:16:18 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Mon, 16 Aug 2010 12:16:18 +0100
Subject: [Paraview] Coastline data for Paraview
Message-ID: <SNT108-W790D25D21DD881D2889718A9B0@phx.gbl>


Hello all

Just a quick note to see if anyone has already got a Paraview formatted coastline file or legacy VTK?

Need to be able to overlay the data on a sphere.

Thanks

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/f3a99a21/attachment.htm>

From emonson at cs.duke.edu  Mon Aug 16 07:41:52 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 16 Aug 2010 07:41:52 -0400
Subject: [Paraview] BUG: Crash when saving in pvd format
In-Reply-To: <CE3AD75CC0364C4C9B3549234A769402022FF71C7E@ukgw-exmb-p06.kda.kongsberg.com>
References: <CE3AD75CC0364C4C9B3549234A769402022FF71C7C@ukgw-exmb-p06.kda.kongsberg.com>
	<C1A9CF9B-2486-45FC-B228-D2FA6DE81BB6@cs.duke.edu>
	<CE3AD75CC0364C4C9B3549234A769402022FF71C7E@ukgw-exmb-p06.kda.kongsberg.com>
Message-ID: <75780119-ACAB-49C5-A9EA-18041FB30942@cs.duke.edu>

Hey Harald,

Yes, that sounds to me too like something that should be addressed. Feel free to file a bug report, maybe including your small example file to help them out:

http://www.paraview.org/Bug/my_view_page.php

Thanks,
-Eric


On Aug 16, 2010, at 1:24 AM, <Harald.Soleng at kongsberg.com> <Harald.Soleng at kongsberg.com> wrote:

> Hey Eric,
>  
> Thank you for the rapid reply.
>  
> OK, I made a mistake. However, then there is a less serious bug in Paraview since it visualizes the input without warnings and then crashes upon output to another format. It should have refused the input with an error message (preferably undtsandable to the user).
>  
>  
> Greetings,
> Harald
>  
>  
>  
>  
> From: Eric E. Monson [mailto:emonson at cs.duke.edu] 
> Sent: 13. august 2010 14:59
> To: Soleng, Harald
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] BUG: Crash when saving in pvd format
>  
> Hey Harald,
>  
> It looks like there is an error in your .vtk file: The description of LINES should read
>  
> LINES 1 6
>  
> since you are just describing one cell (rather than 4 separate cells). If you really want four separate cells, you need this:
>  
> LINES 4 12
> 2 0 1
> 2 1 2
> 2 2 3
> 2 3 4
>  
> Talk to you later,
> -Eric
>  
> ------------------------------------------------------
> Eric E Monson
> Duke Visualization Technology Group
>  
>  
> On Aug 13, 2010, at 7:44 AM, <Harald.Soleng at kongsberg.com> wrote:
> 
> 
> Load the attached file into paraview 3.8. Then try to save in pvd ascii format, and paraview crashes.
>  
> Harald
>  
>  
>  
>  
> CONFIDENTIALITY
> This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
> <curve.vtk>_______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/b096d84e/attachment.htm>

From jacques.papper at gmail.com  Mon Aug 16 08:35:08 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Mon, 16 Aug 2010 13:35:08 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
Message-ID: <AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>

Hi Pat,

This is what shows up for me :

    datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'


Inside the Python script :

def RequestDataDescription(datadescription):
    "Callback to populate the request for current timestep"
    timestep = datadescription.GetTimeStep()


    input_name = 'test.foam'
    if (timestep % 0.0004 == 0) :
        datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()

datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
    else:
        datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()

datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()


Best,


Jacques


2010/8/13 pat marion <pat.marion at kitware.com>

> Hi Jacques,
>
> My python trace files have similar lines, and I am able to run them without
> error.  I've only just tested with latest git master, not 3.8.  Can you copy
> the specific error message you're getting so I can take a look?
>
> Pat
>
>
> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>>    Sorry I meant None... not Null :
>>
>> For example :
>>
>>
>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>     DataRepresentation1.Source.ShaftResolution = 6
>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>     DataRepresentation1.SelectScaleArray = [None, '']
>>
>>
>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>
>>
>>>
>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> I found the problem... I was inserting PointData instead of CellData :)
>>>> ,,,
>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>
>>>> -> Whenever I try to run directly a python script exported from paraview
>>>> (Through the Coprocessing export state) it won't run until I remove all
>>>> references to LIC and all lines containing Null...
>>>>
>>>> Now that you mention it, I didn't put in anything special for plugins.
>>> Setting the plugins to auto-load may work but my guess is that it won't.
>>> I'll look into the plugin thing and the best way to do it in the script
>>> generator.
>>>
>>> What do you mean by Null?  I don't know what that is so you'll have to
>>> explain it to me.
>>>
>>>
>>>
>>>> For the LIC, is it because the python script doesn't automatically load
>>>> the LIC plugin ?
>>>> For the Null, do you have this problem as well ?
>>>>
>>>> -> Is the Live Source Data code already available in git ? I'd love to
>>>> test it out even if it is not robust yet.
>>>>
>>>
>>> We don't yet have permission to release the Live Source Data code yet but
>>> I think it should be available in the next couple of months.
>>>
>>>>
>>>> Best,
>>>> Jacques
>>>>
>>>>
>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>
>>>>> You probably want to add the field data to the specific grids in the
>>>>> multiblock data set and not just the block itself.  As an example:
>>>>>
>>>>> create multiblock
>>>>> for each grid:
>>>>>   create grid points and cells
>>>>>   add point and cell data to grid
>>>>>   add grid to block
>>>>>
>>>>> Note that in parallel for coprocessing that the block must have the
>>>>> same structure on each process but whether a leaf node is empty or not can
>>>>> change.  For example:
>>>>>
>>>>> proc 0 mutliblock:
>>>>>   block 0 -> unstructured grid
>>>>>   block 1 -> uniform grid
>>>>>   block 2 -> NULL
>>>>> proc 1 multiblock:
>>>>>   block 0 -> NULL
>>>>>   block 1 -> NULL
>>>>>   block 2 -> unstructured grid
>>>>>
>>>>> I'm not sure of all of the details but what I do is that I set a block
>>>>> to only be non-NULL on a single process.
>>>>>
>>>>> Hope this helps,
>>>>> Andy
>>>>>
>>>>>
>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> Hi All,
>>>>>>
>>>>>> I am making some more progress on this. Everything was working until I
>>>>>> tried adding field data... I now get an explosion :
>>>>>>
>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #6
>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>> in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #10
>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*,
>>>>>> int) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>
>>>>>> Any ideas where this can be coming from ?
>>>>>> When I do not add the field data it just complains about missing
>>>>>> fields so I know that the code is not completely wrong...
>>>>>> I am adding the data to the first block of my multiblockdataset... Is
>>>>>> that a problem ?
>>>>>>
>>>>>>
>>>>>>
>>>>>> Thanks !
>>>>>> Jacques
>>>>>>
>>>>>>
>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>
>>>>>> Hi Andy, Pat,
>>>>>>>
>>>>>>> I have the skeleton of the coprocessing working (for the moment I
>>>>>>> just tried by populating the point field - no cells, no data).
>>>>>>> I am trying to figure out the most efficient way of transferring my
>>>>>>> data structure to VTK with minimal copying and looping...
>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method, which
>>>>>>> means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>> The problem is I am not sure what the format of the array should be ?
>>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>>> known types like hex prism etc..).
>>>>>>>
>>>>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>>>>> wondering if there wasn't a more efficient way...
>>>>>>>
>>>>>>> Best,
>>>>>>> Jacques
>>>>>>>
>>>>>>>
>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>
>>>>>>> Hi Jacques,
>>>>>>>>
>>>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>>>> coprocessing.  It's at:
>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>> Let me know if you have any problems with it so that I can fix any
>>>>>>>> errors that I have.
>>>>>>>>
>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>> installed properly.
>>>>>>>>
>>>>>>>> Thanks,
>>>>>>>> Andy
>>>>>>>>
>>>>>>>>
>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Thanks Pat,
>>>>>>>>>
>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>>> identifying which libraries I need to link to.
>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>> lib...
>>>>>>>>> Is this normal ?
>>>>>>>>>
>>>>>>>>> Best,
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>
>>>>>>>>> Below is a simple cxx program I have used for testing.  It creates
>>>>>>>>>> one sphere per process, positions the sphere as a function of the process
>>>>>>>>>> id, and the spheres grow/shrink over time.
>>>>>>>>>>
>>>>>>>>>> Pat
>>>>>>>>>>
>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>
>>>>>>>>>> #include <stdio.h>
>>>>>>>>>> #include <string>
>>>>>>>>>> #include <sstream>
>>>>>>>>>>
>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>
>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>> {
>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>> }
>>>>>>>>>>
>>>>>>>>>> class DataGenerator {
>>>>>>>>>> public:
>>>>>>>>>>
>>>>>>>>>>   DataGenerator()
>>>>>>>>>>     {
>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>     {
>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>     this->Index++;
>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>     return ret;
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>> protected:
>>>>>>>>>>
>>>>>>>>>>   int Index;
>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> };
>>>>>>>>>>
>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>> {
>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>     {
>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>> argv[0]);
>>>>>>>>>>     return 1;
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>
>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>
>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>
>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>   procId =
>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>   if (!success)
>>>>>>>>>>     {
>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>     return 1;
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>
>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>     {
>>>>>>>>>>     return 0;
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>>   // create a data source
>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>
>>>>>>>>>>   // do coprocessing
>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>
>>>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>
>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>     {
>>>>>>>>>>
>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>
>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>
>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>       {
>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>
>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>       }
>>>>>>>>>>     }
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>   processor->Delete();
>>>>>>>>>>
>>>>>>>>>>   return 0;
>>>>>>>>>>
>>>>>>>>>> }
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>
>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>
>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>
>>>>>>>>>>> Andy
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>
>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in
>>>>>>>>>>>> VTK. Do you know if this is there yet?
>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>>>
>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>>>
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>
>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>
>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>> in
>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set
>>>>>>>>>>>>>> my PYTHONPATH..
>>>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Is this a problem in my current installation or on the master
>>>>>>>>>>>>>>> branch ?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>
>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>
>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>
>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/cf2ae8fb/attachment-0001.htm>

From emonson at cs.duke.edu  Mon Aug 16 09:05:04 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 16 Aug 2010 09:05:04 -0400
Subject: [Paraview] Combining data into one input file
In-Reply-To: <CE3AD75CC0364C4C9B3549234A769402022FF71C7F@ukgw-exmb-p06.kda.kongsberg.com>
References: <CE3AD75CC0364C4C9B3549234A769402022FF71C7F@ukgw-exmb-p06.kda.kongsberg.com>
Message-ID: <F6122E8A-0FEA-4855-A3C8-3D5DF71C3A99@cs.duke.edu>

What platform are you on, and did you build ParaView 3.8 yourself or is it one of the binaries?

Can you load this .vtm file (attached) that I made from your data?

-Eric




On Aug 16, 2010, at 2:53 AM, <Harald.Soleng at kongsberg.com> <Harald.Soleng at kongsberg.com> wrote:

> This worked well for saving, but in version 3.8.0 I cannot load the file back into Paraview. It says:
>  
>  A reader for "combined.vtm" could not be found.
>  
>  
> Harald
> 
> CONFIDENTIALITY
> This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/edf935da/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: curve_simple.zip
Type: application/zip
Size: 1543 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/edf935da/attachment.zip>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/edf935da/attachment-0001.htm>

From pat.marion at kitware.com  Mon Aug 16 09:07:17 2010
From: pat.marion at kitware.com (pat marion)
Date: Mon, 16 Aug 2010 09:07:17 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
Message-ID: <AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>

Hi Jacques,

That error message seems to be unrelated to the lines containing 'None' that
you copied in a previous email.  It looks to me like your code that calls
the coprocessor is not inserting the vtk data set under the name
'test.foam'.  In the calling code you need something like:

dataDesc->AddInput("test.foam")
dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);

Pat

On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <jacques.papper at gmail.com>wrote:

> Hi Pat,
>
> This is what shows up for me :
>
>     datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>
>
> Inside the Python script :
>
> def RequestDataDescription(datadescription):
>     "Callback to populate the request for current timestep"
>     timestep = datadescription.GetTimeStep()
>
>
>     input_name = 'test.foam'
>     if (timestep % 0.0004 == 0) :
>         datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>
> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>     else:
>
> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>
> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>
>
> Best,
>
>
> Jacques
>
>
> 2010/8/13 pat marion <pat.marion at kitware.com>
>
> Hi Jacques,
>>
>> My python trace files have similar lines, and I am able to run them
>> without error.  I've only just tested with latest git master, not 3.8.  Can
>> you copy the specific error message you're getting so I can take a look?
>>
>> Pat
>>
>>
>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <jacques.papper at gmail.com
>> > wrote:
>>
>>>    Sorry I meant None... not Null :
>>>
>>> For example :
>>>
>>>
>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>
>>>
>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>
>>>
>>>>
>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> I found the problem... I was inserting PointData instead of CellData :)
>>>>> ,,,
>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>
>>>>> -> Whenever I try to run directly a python script exported from
>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>> all references to LIC and all lines containing Null...
>>>>>
>>>>> Now that you mention it, I didn't put in anything special for plugins.
>>>> Setting the plugins to auto-load may work but my guess is that it won't.
>>>> I'll look into the plugin thing and the best way to do it in the script
>>>> generator.
>>>>
>>>> What do you mean by Null?  I don't know what that is so you'll have to
>>>> explain it to me.
>>>>
>>>>
>>>>
>>>>> For the LIC, is it because the python script doesn't automatically load
>>>>> the LIC plugin ?
>>>>> For the Null, do you have this problem as well ?
>>>>>
>>>>> -> Is the Live Source Data code already available in git ? I'd love to
>>>>> test it out even if it is not robust yet.
>>>>>
>>>>
>>>> We don't yet have permission to release the Live Source Data code yet
>>>> but I think it should be available in the next couple of months.
>>>>
>>>>>
>>>>> Best,
>>>>> Jacques
>>>>>
>>>>>
>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>
>>>>>> You probably want to add the field data to the specific grids in the
>>>>>> multiblock data set and not just the block itself.  As an example:
>>>>>>
>>>>>> create multiblock
>>>>>> for each grid:
>>>>>>   create grid points and cells
>>>>>>   add point and cell data to grid
>>>>>>   add grid to block
>>>>>>
>>>>>> Note that in parallel for coprocessing that the block must have the
>>>>>> same structure on each process but whether a leaf node is empty or not can
>>>>>> change.  For example:
>>>>>>
>>>>>> proc 0 mutliblock:
>>>>>>   block 0 -> unstructured grid
>>>>>>   block 1 -> uniform grid
>>>>>>   block 2 -> NULL
>>>>>> proc 1 multiblock:
>>>>>>   block 0 -> NULL
>>>>>>   block 1 -> NULL
>>>>>>   block 2 -> unstructured grid
>>>>>>
>>>>>> I'm not sure of all of the details but what I do is that I set a block
>>>>>> to only be non-NULL on a single process.
>>>>>>
>>>>>> Hope this helps,
>>>>>> Andy
>>>>>>
>>>>>>
>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> Hi All,
>>>>>>>
>>>>>>> I am making some more progress on this. Everything was working until
>>>>>>> I tried adding field data... I now get an explosion :
>>>>>>>
>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #6
>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>> in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #10
>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*,
>>>>>>> int) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>
>>>>>>> Any ideas where this can be coming from ?
>>>>>>> When I do not add the field data it just complains about missing
>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>> I am adding the data to the first block of my multiblockdataset... Is
>>>>>>> that a problem ?
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> Thanks !
>>>>>>> Jacques
>>>>>>>
>>>>>>>
>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>
>>>>>>> Hi Andy, Pat,
>>>>>>>>
>>>>>>>> I have the skeleton of the coprocessing working (for the moment I
>>>>>>>> just tried by populating the point field - no cells, no data).
>>>>>>>> I am trying to figure out the most efficient way of transferring my
>>>>>>>> data structure to VTK with minimal copying and looping...
>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>> The problem is I am not sure what the format of the array should be
>>>>>>>> ?
>>>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>>>> known types like hex prism etc..).
>>>>>>>>
>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>>>>>> wondering if there wasn't a more efficient way...
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>>
>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>
>>>>>>>> Hi Jacques,
>>>>>>>>>
>>>>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>>>>> coprocessing.  It's at:
>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>> Let me know if you have any problems with it so that I can fix any
>>>>>>>>> errors that I have.
>>>>>>>>>
>>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>>> installed properly.
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> Andy
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Thanks Pat,
>>>>>>>>>>
>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>>>> identifying which libraries I need to link to.
>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>> lib...
>>>>>>>>>> Is this normal ?
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>
>>>>>>>>>> Below is a simple cxx program I have used for testing.  It creates
>>>>>>>>>>> one sphere per process, positions the sphere as a function of the process
>>>>>>>>>>> id, and the spheres grow/shrink over time.
>>>>>>>>>>>
>>>>>>>>>>> Pat
>>>>>>>>>>>
>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>
>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>> #include <string>
>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>
>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>
>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>> {
>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>> }
>>>>>>>>>>>
>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>> public:
>>>>>>>>>>>
>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>     {
>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>     {
>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>     return ret;
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>> protected:
>>>>>>>>>>>
>>>>>>>>>>>   int Index;
>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> };
>>>>>>>>>>>
>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>> {
>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>     {
>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>> argv[0]);
>>>>>>>>>>>     return 1;
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>
>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>
>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>
>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>   procId =
>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>   if (!success)
>>>>>>>>>>>     {
>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>     return 1;
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>
>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>     {
>>>>>>>>>>>     return 0;
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>>   // create a data source
>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>
>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>
>>>>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>
>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>     {
>>>>>>>>>>>
>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>
>>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>
>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>       {
>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>
>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>       }
>>>>>>>>>>>     }
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>
>>>>>>>>>>>   return 0;
>>>>>>>>>>>
>>>>>>>>>>> }
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>
>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>>
>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>
>>>>>>>>>>>> Andy
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in
>>>>>>>>>>>>> VTK. Do you know if this is there yet?
>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>>>>
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>>> in
>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set
>>>>>>>>>>>>>>> my PYTHONPATH..
>>>>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>
>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>
>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>
>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/1a18b5c6/attachment-0001.htm>

From jfavre at cscs.ch  Mon Aug 16 09:25:48 2010
From: jfavre at cscs.ch (Favre  Jean)
Date: Mon, 16 Aug 2010 15:25:48 +0200
Subject: [Paraview] Coastline data for Paraview
In-Reply-To: <SNT108-W790D25D21DD881D2889718A9B0@phx.gbl>
References: <SNT108-W790D25D21DD881D2889718A9B0@phx.gbl>
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D306E25B0@MBX00.d.ethz.ch>


The file political.vtp from the VTKData directory has bounds between [-180, 180], [-90, +83], [0,0] and can be transformed to a spherical representation with the filters proposed last week.
It has country names and regions and works well with the spreadsheet selection in paraview.


-----------------
Jean M. Favre
Swiss National Supercomputing Center

From dave.partyka at kitware.com  Mon Aug 16 10:06:40 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 16 Aug 2010 10:06:40 -0400
Subject: [Paraview] problem with OS X binary
In-Reply-To: <2C9128C7-1DEC-4252-B162-26E716F68517@sjc.ox.ac.uk>
References: <76976F4D-058C-49B0-AC19-C95148D4A774@sjc.ox.ac.uk>
	<AANLkTinOcbRoVNHqz1eyQbju1TW57OeMUvChqiTCbW7s@mail.gmail.com>
	<2C9128C7-1DEC-4252-B162-26E716F68517@sjc.ox.ac.uk>
Message-ID: <AANLkTimMfL6yPRMpSSAaHHT2ofOKAJmbUqaeOYmJLgno@mail.gmail.com>

That is strange, did you add opt/local/lib to your DYLD_LIBRARY_PATH? Even
so, the app should have been fixed up to point to it's internally bundled Qt
with relative RPATH entries that look something like libqtcore.dylib
../FrameWorks/Qt/blah. Can you send some of the output? I will see if I can
recreate this on my Mac.

On Sun, Aug 15, 2010 at 5:41 PM, Dan Lussier <dan.lussier at sjc.ox.ac.uk>wrote:

> Hi Dave,
>
> Ok - I gave everything another try today and I'm really not sure what
> happened on Friday as now both the 32 bit and 64 bit binaries appear to be
> working.
>
> On Friday I was getting immediate and repeatable crashes from the 64 bit
> library.  Having now looked back into the console  (I hadn't done that on
> Friday as I was brain dead on Friday afternoon) the potential culprit
> appears to be multiple qt installations on my system.
>
> I installed a generic qt library into /opt/local via the MacPorts system
> for use with a few other pieces of software and it looks like this was
> causing some conflicts with Paraview as I get repeated messages that
> Paraview was unable to decide between libraries from the qt installation in
> /opt/local and the one that came bundled with the binary.
>
> Does this explanation make sense?
>
> Thanks again.
>
>
> On 13-Aug-10, at 7:54 PM, Dave Partyka wrote:
>
> That would be very helpful. Also if you launch the application from a
> command line is any output printed to the console? I have experienced some
> problems with upgrade machines only performing a 32bit upgrade. Thus this
> bundle of ParaView won't work because it is 64 bit only. Haver you tried the
> 32 bit version?
>
> Mac OS X Universal Application Bundle (10.4+)
> ParaView-3.8.0-Darwin-Universal.dmg<http://paraview.org/files/v3.8/ParaView-3.8.0-Darwin-Universal.dmg>
> On Fri, Aug 13, 2010 at 7:21 PM, Dan Lussier <dan.lussier at sjc.ox.ac.uk>wrote:
>
>> I tried downloading the binary for OS X today, specifically:
>>
>>  Mac OS X x86_64 Application Bundle (10.5+)
>> ParaView-3.8.0-Darwin-x86_64.dmg<http://paraview.org/files/v3.8/ParaView-3.8.0-Darwin-x86_64.dmg>
>>
>> When I try to launch the application it crashes immediately.  My system
>> setup is:
>>
>> Mac Pro ~ 2007, 2 x quad Xeon 3GHz
>> OS X 10.6.4
>>
>> Has anyone else run into this with up to date OS X 10.6 ?  I can supply
>> more information such as the stack trace I get from OS X if that would be of
>> interest.
>>
>> Thanks.
>>
>> Dan
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/e96bb0d0/attachment.htm>

From andy.bauer at kitware.com  Mon Aug 16 10:51:41 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Mon, 16 Aug 2010 10:51:41 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
Message-ID: <AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>

The other thing is that there was a problem when outputting images from
coprocessing.  Try updating to commit 2302777 to see if that's it.

Andy

On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com> wrote:

> Hi Jacques,
>
> That error message seems to be unrelated to the lines containing 'None'
> that you copied in a previous email.  It looks to me like your code that
> calls the coprocessor is not inserting the vtk data set under the name
> 'test.foam'.  In the calling code you need something like:
>
> dataDesc->AddInput("test.foam")
> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>
> Pat
>
>
> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <jacques.papper at gmail.com>wrote:
>
>> Hi Pat,
>>
>> This is what shows up for me :
>>
>>     datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>
>>
>> Inside the Python script :
>>
>> def RequestDataDescription(datadescription):
>>     "Callback to populate the request for current timestep"
>>     timestep = datadescription.GetTimeStep()
>>
>>
>>     input_name = 'test.foam'
>>     if (timestep % 0.0004 == 0) :
>>
>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>
>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>     else:
>>
>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>
>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>
>>
>> Best,
>>
>>
>> Jacques
>>
>>
>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>
>> Hi Jacques,
>>>
>>> My python trace files have similar lines, and I am able to run them
>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>> you copy the specific error message you're getting so I can take a look?
>>>
>>> Pat
>>>
>>>
>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>>    Sorry I meant None... not Null :
>>>>
>>>> For example :
>>>>
>>>>
>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>
>>>>
>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>
>>>>
>>>>>
>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> I found the problem... I was inserting PointData instead of CellData
>>>>>> :) ,,,
>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>
>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>> all references to LIC and all lines containing Null...
>>>>>>
>>>>>> Now that you mention it, I didn't put in anything special for
>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>> script generator.
>>>>>
>>>>> What do you mean by Null?  I don't know what that is so you'll have to
>>>>> explain it to me.
>>>>>
>>>>>
>>>>>
>>>>>> For the LIC, is it because the python script doesn't automatically
>>>>>> load the LIC plugin ?
>>>>>> For the Null, do you have this problem as well ?
>>>>>>
>>>>>> -> Is the Live Source Data code already available in git ? I'd love to
>>>>>> test it out even if it is not robust yet.
>>>>>>
>>>>>
>>>>> We don't yet have permission to release the Live Source Data code yet
>>>>> but I think it should be available in the next couple of months.
>>>>>
>>>>>>
>>>>>> Best,
>>>>>> Jacques
>>>>>>
>>>>>>
>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>
>>>>>>> You probably want to add the field data to the specific grids in the
>>>>>>> multiblock data set and not just the block itself.  As an example:
>>>>>>>
>>>>>>> create multiblock
>>>>>>> for each grid:
>>>>>>>   create grid points and cells
>>>>>>>   add point and cell data to grid
>>>>>>>   add grid to block
>>>>>>>
>>>>>>> Note that in parallel for coprocessing that the block must have the
>>>>>>> same structure on each process but whether a leaf node is empty or not can
>>>>>>> change.  For example:
>>>>>>>
>>>>>>> proc 0 mutliblock:
>>>>>>>   block 0 -> unstructured grid
>>>>>>>   block 1 -> uniform grid
>>>>>>>   block 2 -> NULL
>>>>>>> proc 1 multiblock:
>>>>>>>   block 0 -> NULL
>>>>>>>   block 1 -> NULL
>>>>>>>   block 2 -> unstructured grid
>>>>>>>
>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>> block to only be non-NULL on a single process.
>>>>>>>
>>>>>>> Hope this helps,
>>>>>>> Andy
>>>>>>>
>>>>>>>
>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi All,
>>>>>>>>
>>>>>>>> I am making some more progress on this. Everything was working until
>>>>>>>> I tried adding field data... I now get an explosion :
>>>>>>>>
>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #6
>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>> in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #10
>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned
>>>>>>>> int, vtkPVInformation*, vtkClientServerID) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*,
>>>>>>>> int) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>
>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>> When I do not add the field data it just complains about missing
>>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>>> I am adding the data to the first block of my multiblockdataset...
>>>>>>>> Is that a problem ?
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> Thanks !
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>>
>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>
>>>>>>>> Hi Andy, Pat,
>>>>>>>>>
>>>>>>>>> I have the skeleton of the coprocessing working (for the moment I
>>>>>>>>> just tried by populating the point field - no cells, no data).
>>>>>>>>> I am trying to figure out the most efficient way of transferring my
>>>>>>>>> data structure to VTK with minimal copying and looping...
>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>>> The problem is I am not sure what the format of the array should be
>>>>>>>>> ?
>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>>>>> known types like hex prism etc..).
>>>>>>>>>
>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I was
>>>>>>>>> wondering if there wasn't a more efficient way...
>>>>>>>>>
>>>>>>>>> Best,
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>
>>>>>>>>> Hi Jacques,
>>>>>>>>>>
>>>>>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>>>>>> coprocessing.  It's at:
>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>> Let me know if you have any problems with it so that I can fix any
>>>>>>>>>> errors that I have.
>>>>>>>>>>
>>>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>>>> installed properly.
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> Andy
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>
>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>>>>> identifying which libraries I need to link to.
>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>> lib...
>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>
>>>>>>>>>>> Best,
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>
>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>
>>>>>>>>>>>> Pat
>>>>>>>>>>>>
>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>
>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>> #include <string>
>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>
>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>
>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>> {
>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>> }
>>>>>>>>>>>>
>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>> public:
>>>>>>>>>>>>
>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>     {
>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>     {
>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>> protected:
>>>>>>>>>>>>
>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> };
>>>>>>>>>>>>
>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>> {
>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>     {
>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>>> argv[0]);
>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>
>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>
>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>
>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>   procId =
>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>     {
>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>
>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>     {
>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>
>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>
>>>>>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>
>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>     {
>>>>>>>>>>>>
>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>
>>>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>
>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>       {
>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>
>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>       }
>>>>>>>>>>>>     }
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>
>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>
>>>>>>>>>>>> }
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>
>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>
>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in
>>>>>>>>>>>>>> VTK. Do you know if this is there yet?
>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly set
>>>>>>>>>>>>>>>> my PYTHONPATH..
>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot (Failed)
>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>
>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>
>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>
>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/1a72695f/attachment-0001.htm>

From jacques.papper at gmail.com  Mon Aug 16 11:01:26 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Mon, 16 Aug 2010 16:01:26 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
Message-ID: <AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>

Hi,

I'm sorry I was just rerunning to reproduce the error, and did not realize I
missed changing my input back to input.foam instead of toto.foam ....

Here is the actual error message :

Traceback (most recent call last):
  File "<string>", line 2, in <module>
  File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line 138,
in DoCoProcessing
    DataRepresentation1.SelectOrientationVectors = [None, '']
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 207, in __setattr__
    setter(self, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 2367, in setProperty
    return self.SetPropertyWithName(propName, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 256, in SetPropertyWithName
    prop.SetData(arg)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 799, in SetData
    self.SMProperty.SetElement(3,  str(val))
UnboundLocalError: local variable 'val' referenced before assignment


Jacques

2010/8/16 Andy Bauer <andy.bauer at kitware.com>

> The other thing is that there was a problem when outputting images from
> coprocessing.  Try updating to commit 2302777 to see if that's it.
>
> Andy
>
>
> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>
>> Hi Jacques,
>>
>> That error message seems to be unrelated to the lines containing 'None'
>> that you copied in a previous email.  It looks to me like your code that
>> calls the coprocessor is not inserting the vtk data set under the name
>> 'test.foam'.  In the calling code you need something like:
>>
>> dataDesc->AddInput("test.foam")
>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>
>> Pat
>>
>>
>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <jacques.papper at gmail.com
>> > wrote:
>>
>>> Hi Pat,
>>>
>>> This is what shows up for me :
>>>
>>>     datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>
>>>
>>> Inside the Python script :
>>>
>>> def RequestDataDescription(datadescription):
>>>     "Callback to populate the request for current timestep"
>>>     timestep = datadescription.GetTimeStep()
>>>
>>>
>>>     input_name = 'test.foam'
>>>     if (timestep % 0.0004 == 0) :
>>>
>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>
>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>     else:
>>>
>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>
>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>
>>>
>>> Best,
>>>
>>>
>>> Jacques
>>>
>>>
>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>
>>> Hi Jacques,
>>>>
>>>> My python trace files have similar lines, and I am able to run them
>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>> you copy the specific error message you're getting so I can take a look?
>>>>
>>>> Pat
>>>>
>>>>
>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>>    Sorry I meant None... not Null :
>>>>>
>>>>> For example :
>>>>>
>>>>>
>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>
>>>>>
>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>
>>>>>
>>>>>>
>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> I found the problem... I was inserting PointData instead of CellData
>>>>>>> :) ,,,
>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>
>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>
>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>> script generator.
>>>>>>
>>>>>> What do you mean by Null?  I don't know what that is so you'll have to
>>>>>> explain it to me.
>>>>>>
>>>>>>
>>>>>>
>>>>>>> For the LIC, is it because the python script doesn't automatically
>>>>>>> load the LIC plugin ?
>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>
>>>>>>> -> Is the Live Source Data code already available in git ? I'd love
>>>>>>> to test it out even if it is not robust yet.
>>>>>>>
>>>>>>
>>>>>> We don't yet have permission to release the Live Source Data code yet
>>>>>> but I think it should be available in the next couple of months.
>>>>>>
>>>>>>>
>>>>>>> Best,
>>>>>>> Jacques
>>>>>>>
>>>>>>>
>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>
>>>>>>>> You probably want to add the field data to the specific grids in the
>>>>>>>> multiblock data set and not just the block itself.  As an example:
>>>>>>>>
>>>>>>>> create multiblock
>>>>>>>> for each grid:
>>>>>>>>   create grid points and cells
>>>>>>>>   add point and cell data to grid
>>>>>>>>   add grid to block
>>>>>>>>
>>>>>>>> Note that in parallel for coprocessing that the block must have the
>>>>>>>> same structure on each process but whether a leaf node is empty or not can
>>>>>>>> change.  For example:
>>>>>>>>
>>>>>>>> proc 0 mutliblock:
>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>   block 1 -> uniform grid
>>>>>>>>   block 2 -> NULL
>>>>>>>> proc 1 multiblock:
>>>>>>>>   block 0 -> NULL
>>>>>>>>   block 1 -> NULL
>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>
>>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>>> block to only be non-NULL on a single process.
>>>>>>>>
>>>>>>>> Hope this helps,
>>>>>>>> Andy
>>>>>>>>
>>>>>>>>
>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Hi All,
>>>>>>>>>
>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>
>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #6
>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>> in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #10
>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned
>>>>>>>>> int, vtkPVInformation*, vtkClientServerID) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*,
>>>>>>>>> int) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>
>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>> When I do not add the field data it just complains about missing
>>>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>>>> I am adding the data to the first block of my multiblockdataset...
>>>>>>>>> Is that a problem ?
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> Thanks !
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>
>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>
>>>>>>>>>> I have the skeleton of the coprocessing working (for the moment I
>>>>>>>>>> just tried by populating the point field - no cells, no data).
>>>>>>>>>> I am trying to figure out the most efficient way of transferring
>>>>>>>>>> my data structure to VTK with minimal copying and looping...
>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>>>> The problem is I am not sure what the format of the array should
>>>>>>>>>> be ?
>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>>>>>> known types like hex prism etc..).
>>>>>>>>>>
>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I
>>>>>>>>>> was wondering if there wasn't a more efficient way...
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>
>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>
>>>>>>>>>>> I put an example on the wiki based on Pat's example for running a
>>>>>>>>>>> coprocessing.  It's at:
>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>> Let me know if you have any problems with it so that I can fix
>>>>>>>>>>> any errors that I have.
>>>>>>>>>>>
>>>>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>>>>> installed properly.
>>>>>>>>>>>
>>>>>>>>>>> Thanks,
>>>>>>>>>>> Andy
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>
>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>>>>>> identifying which libraries I need to link to.
>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>> lib...
>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>
>>>>>>>>>>>> Best,
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>
>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>
>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>
>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>
>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>
>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>> {
>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>> }
>>>>>>>>>>>>>
>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>> public:
>>>>>>>>>>>>>
>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>
>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> };
>>>>>>>>>>>>>
>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>> {
>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>>>> argv[0]);
>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>
>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>
>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>
>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>
>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>
>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>
>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>
>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>     {
>>>>>>>>>>>>>
>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>
>>>>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>
>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>       {
>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>
>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>       }
>>>>>>>>>>>>>     }
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>
>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>
>>>>>>>>>>>>> }
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support in
>>>>>>>>>>>>>>> VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh domain
>>>>>>>>>>>>>>> decomposed amongst each processor.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any MPI
>>>>>>>>>>>>>>> statements in the adaptor code ?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly
>>>>>>>>>>>>>>>>> set my PYTHONPATH..
>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in CoProcessing
>>>>>>>>>>>>>>>>> adaptors examples though :)
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>> Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a C++
>>>>>>>>>>>>>>>>>> parallelised code. Can you tell me what is the closest code I can inspire
>>>>>>>>>>>>>>>>>> myself from ?
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/c605ee14/attachment-0001.htm>

From pat.marion at kitware.com  Mon Aug 16 11:12:42 2010
From: pat.marion at kitware.com (pat marion)
Date: Mon, 16 Aug 2010 11:12:42 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
Message-ID: <AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>

If you can't upgrade your paraview version you could try hand applying the
patch to /users/boreas01/jacques/
>
>
> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py


The patch:

http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b

Pat

On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper
<jacques.papper at gmail.com>wrote:

> Hi,
>
> I'm sorry I was just rerunning to reproduce the error, and did not realize
> I missed changing my input back to input.foam instead of toto.foam ....
>
> Here is the actual error message :
>
> Traceback (most recent call last):
>   File "<string>", line 2, in <module>
>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
> 138, in DoCoProcessing
>     DataRepresentation1.SelectOrientationVectors = [None, '']
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 207, in __setattr__
>     setter(self, value)
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 2367, in setProperty
>     return self.SetPropertyWithName(propName, value)
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 256, in SetPropertyWithName
>     prop.SetData(arg)
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 799, in SetData
>     self.SMProperty.SetElement(3,  str(val))
> UnboundLocalError: local variable 'val' referenced before assignment
>
>
> Jacques
>
> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>
> The other thing is that there was a problem when outputting images from
>> coprocessing.  Try updating to commit 2302777 to see if that's it.
>>
>> Andy
>>
>>
>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>>
>>> Hi Jacques,
>>>
>>> That error message seems to be unrelated to the lines containing 'None'
>>> that you copied in a previous email.  It looks to me like your code that
>>> calls the coprocessor is not inserting the vtk data set under the name
>>> 'test.foam'.  In the calling code you need something like:
>>>
>>> dataDesc->AddInput("test.foam")
>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>
>>> Pat
>>>
>>>
>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> Hi Pat,
>>>>
>>>> This is what shows up for me :
>>>>
>>>>     datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>
>>>>
>>>> Inside the Python script :
>>>>
>>>> def RequestDataDescription(datadescription):
>>>>     "Callback to populate the request for current timestep"
>>>>     timestep = datadescription.GetTimeStep()
>>>>
>>>>
>>>>     input_name = 'test.foam'
>>>>     if (timestep % 0.0004 == 0) :
>>>>
>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>
>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>     else:
>>>>
>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>
>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>
>>>>
>>>> Best,
>>>>
>>>>
>>>> Jacques
>>>>
>>>>
>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>
>>>> Hi Jacques,
>>>>>
>>>>> My python trace files have similar lines, and I am able to run them
>>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>>> you copy the specific error message you're getting so I can take a look?
>>>>>
>>>>> Pat
>>>>>
>>>>>
>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>>    Sorry I meant None... not Null :
>>>>>>
>>>>>> For example :
>>>>>>
>>>>>>
>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>
>>>>>>
>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>
>>>>>>
>>>>>>>
>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> I found the problem... I was inserting PointData instead of CellData
>>>>>>>> :) ,,,
>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>
>>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>>
>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>> script generator.
>>>>>>>
>>>>>>> What do you mean by Null?  I don't know what that is so you'll have
>>>>>>> to explain it to me.
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> For the LIC, is it because the python script doesn't automatically
>>>>>>>> load the LIC plugin ?
>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>
>>>>>>>> -> Is the Live Source Data code already available in git ? I'd love
>>>>>>>> to test it out even if it is not robust yet.
>>>>>>>>
>>>>>>>
>>>>>>> We don't yet have permission to release the Live Source Data code yet
>>>>>>> but I think it should be available in the next couple of months.
>>>>>>>
>>>>>>>>
>>>>>>>> Best,
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>>
>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>
>>>>>>>>> You probably want to add the field data to the specific grids in
>>>>>>>>> the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>
>>>>>>>>> create multiblock
>>>>>>>>> for each grid:
>>>>>>>>>   create grid points and cells
>>>>>>>>>   add point and cell data to grid
>>>>>>>>>   add grid to block
>>>>>>>>>
>>>>>>>>> Note that in parallel for coprocessing that the block must have the
>>>>>>>>> same structure on each process but whether a leaf node is empty or not can
>>>>>>>>> change.  For example:
>>>>>>>>>
>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>   block 2 -> NULL
>>>>>>>>> proc 1 multiblock:
>>>>>>>>>   block 0 -> NULL
>>>>>>>>>   block 1 -> NULL
>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>
>>>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>>>> block to only be non-NULL on a single process.
>>>>>>>>>
>>>>>>>>> Hope this helps,
>>>>>>>>> Andy
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hi All,
>>>>>>>>>>
>>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>>
>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #6
>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>> in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #10
>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned
>>>>>>>>>> int, vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #19
>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*)
>>>>>>>>>> in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>
>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>> When I do not add the field data it just complains about missing
>>>>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>>>>> I am adding the data to the first block of my multiblockdataset...
>>>>>>>>>> Is that a problem ?
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Thanks !
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>
>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>
>>>>>>>>>>> I have the skeleton of the coprocessing working (for the moment I
>>>>>>>>>>> just tried by populating the point field - no cells, no data).
>>>>>>>>>>> I am trying to figure out the most efficient way of transferring
>>>>>>>>>>> my data structure to VTK with minimal copying and looping...
>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>>>>> The problem is I am not sure what the format of the array should
>>>>>>>>>>> be ?
>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which are
>>>>>>>>>>> known types like hex prism etc..).
>>>>>>>>>>>
>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I
>>>>>>>>>>> was wondering if there wasn't a more efficient way...
>>>>>>>>>>>
>>>>>>>>>>> Best,
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>
>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>
>>>>>>>>>>>> I put an example on the wiki based on Pat's example for running
>>>>>>>>>>>> a coprocessing.  It's at:
>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>> Let me know if you have any problems with it so that I can fix
>>>>>>>>>>>> any errors that I have.
>>>>>>>>>>>>
>>>>>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>>>>>> installed properly.
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks,
>>>>>>>>>>>> Andy
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>> Although I do find the headers I need, I am having some trouble
>>>>>>>>>>>>> identifying which libraries I need to link to.
>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>> lib...
>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>
>>>>>>>>>>>>> Best,
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>>>>> argv[0]);
>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support
>>>>>>>>>>>>>>>> in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any
>>>>>>>>>>>>>>>> MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly
>>>>>>>>>>>>>>>>>> set my PYTHONPATH..
>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript ...........
>>>>>>>>>>>>>>>>>>> Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a
>>>>>>>>>>>>>>>>>>> C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/3f10913a/attachment-0001.htm>

From dan.lussier at sjc.ox.ac.uk  Mon Aug 16 11:34:38 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Mon, 16 Aug 2010 10:34:38 -0500
Subject: [Paraview] reading XDMF files in parallel
Message-ID: <DF00A15F-BD14-41A8-8A41-275BF3EA2765@sjc.ox.ac.uk>

Hello,

I am trying to read some XDMF files in parallel but am running into
some problems with Paraview crashing when I do so.  My suspicion is
that I have data which is not able to be read in parallel.

Some of my XDMF files work well. An example of this type of file is in
the first XDFM listing below.

In contrast other files do not read in parallel despite working well
in serial.  An example of this type of file is in the second XDMF
listing below  I cannot even get one to successfully open to run the
Process ID filter to see how the work is being split up.

Is this issue down to differences in how TopologyType 3DCORRECTMesh
(working) versus TopologyType Polyvertex work in XDMF, or the XDMF
reader in Paraview?

Many thanks!

#  
-----------------------------------------------------------------------------------------------------------------------------------------------------
# WORK IN PARALLEL

<?xml version="1.0" ?>
<!DOCTYPE Xdmf SYSTEM "Xdmf.dtd" []>
<Xdmf xmlns:xi="http://www.w3.org/2003/XInclude" Version="2.1">
    <Domain>
            <Grid Time="95000" Name="sigma4ISO" GridType="Uniform">
                <Time Value="95000" />
                        <Topology TopologyType="3DCORECTMesh"
NumberOfElements="40 40 40 "/>
                        <Geometry GeometryType="ORIGIN_DXDYDZ">
                                <DataItem Dimensions="3 "
NumberType="Float" Format="XML">
                                        0.0 0.0 0.0
                                </DataItem>
                                <DataItem Dimensions="3 "
NumberType="Float" Format="XML">
                                        4.0 4.0 4.0
                                </DataItem>
                        </Geometry>

                                <Attribute Type="Scalar" Center="Node"
Name="count">
                                        <DataItem DataType="Int"
Dimensions="40 40 40" Format="HDF">
                                                95000.h5:/sigma4ISO/ 
count
                                        </DataItem>
                                </Attribute>
                                <Attribute Type="Scalar" Center="Node"
Name="numDens">
                                        <DataItem DataType="Float"
Dimensions="40 40 40" Format="HDF">
                                                95000.h5:/sigma4ISO/ 
numDens
                                        </DataItem>
                                </Attribute>
            </Grid>
        </Domain>
</Xdmf>

#  
-----------------------------------------------------------------------------------------------------------------------------------------------------


#  
-----------------------------------------------------------------------------------------------------------------------------------------------------
# DO NOT WORK

<?xml version="1.0" ?>
<!DOCTYPE Xdmf SYSTEM "Xdmf.dtd" []>
<Xdmf xmlns:xi="http://www.w3.org/2003/XInclude" Version="2.1">
    <Domain>
            <Grid Time="95000" Name="rawSimResults" GridType="Uniform">
                <Time Value="95000" />
                <Topology TopologyType="Polyvertex"  
NumberOfElements="1286486"/>
                <Geometry GeometryType="X_Y_Z">
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/x
                    </DataItem>
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/y
                    </DataItem>
                    <DataItem Dimensions="1286486" NumberType="Float"
Format="HDF">
                        95000.h5:/rawSimResults/z
                    </DataItem>
                </Geometry>

                <Attribute Type="Scalar" Center="Node" Name="vy">
                        <DataItem DataType="Float" Dimensions="1286486"
Format="HDF">
                                95000.h5:/rawSimResults/vy
                        </DataItem>
                </Attribute>
                <Attribute Type="Scalar" Center="Node" Name="vx">
                        <DataItem DataType="Float" Dimensions="1286486"
Format="HDF">
                                95000.h5:/rawSimResults/vx
                        </DataItem>
                </Attribute>
                <Attribute Type="Scalar" Center="Node" Name="vz">
                        <DataItem DataType="Float" Dimensions="1286486"
Format="HDF">
                                95000.h5:/rawSimResults/vz
                        </DataItem>
                </Attribute>
                <Attribute Type="Vector" Center="Node" Name="velocity">
                        <DataItem ItemType="Function"  
Function="JOIN($0, $1, $2)"
Dimensions="1286486 3">
                        <DataItem Name="vx" Format="HDF"
DataType="Float" Dimensions="1286486">
                            95000.h5:/rawSimResults/vx
                        </DataItem>
                        <DataItem Name="vy" Format="HDF"
DataType="Float" Dimensions="1286486">
                            95000.h5:/rawSimResults/vy
                        </DataItem>
                        <DataItem Name="vz" Format="HDF"
DataType="Float" Dimensions="1286486">
                                95000.h5:/rawSimResults/vz
                        </DataItem>
                        </DataItem>
                </Attribute>
            </Grid>
        </Domain>
</Xdmf>

#  
-----------------------------------------------------------------------------------------------------------------------------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/273fabe3/attachment.htm>

From jacques.papper at gmail.com  Mon Aug 16 12:17:14 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Mon, 16 Aug 2010 17:17:14 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
Message-ID: <AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>

Hi, I just pulled my git..

CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
  Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c .C
  .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx

I tried to configure and generate cmake but I get the same error when
generating...

Should I start from a clean cmake cache ?

Jacques

2010/8/16 pat marion <pat.marion at kitware.com>

> If you can't upgrade your paraview version you could try hand applying the
> patch to /users/boreas01/jacques/
>
>>
>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>
>
> The patch:
>
>
> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>
> Pat
>
>
> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <jacques.papper at gmail.com
> > wrote:
>
>> Hi,
>>
>> I'm sorry I was just rerunning to reproduce the error, and did not realize
>> I missed changing my input back to input.foam instead of toto.foam ....
>>
>> Here is the actual error message :
>>
>> Traceback (most recent call last):
>>   File "<string>", line 2, in <module>
>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>> 138, in DoCoProcessing
>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>   File
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> line 207, in __setattr__
>>     setter(self, value)
>>   File
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> line 2367, in setProperty
>>     return self.SetPropertyWithName(propName, value)
>>   File
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> line 256, in SetPropertyWithName
>>     prop.SetData(arg)
>>   File
>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> line 799, in SetData
>>     self.SMProperty.SetElement(3,  str(val))
>> UnboundLocalError: local variable 'val' referenced before assignment
>>
>>
>> Jacques
>>
>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>
>> The other thing is that there was a problem when outputting images from
>>> coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>
>>> Andy
>>>
>>>
>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>>>
>>>> Hi Jacques,
>>>>
>>>> That error message seems to be unrelated to the lines containing 'None'
>>>> that you copied in a previous email.  It looks to me like your code that
>>>> calls the coprocessor is not inserting the vtk data set under the name
>>>> 'test.foam'.  In the calling code you need something like:
>>>>
>>>> dataDesc->AddInput("test.foam")
>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>
>>>> Pat
>>>>
>>>>
>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> Hi Pat,
>>>>>
>>>>> This is what shows up for me :
>>>>>
>>>>>
>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>
>>>>>
>>>>> Inside the Python script :
>>>>>
>>>>> def RequestDataDescription(datadescription):
>>>>>     "Callback to populate the request for current timestep"
>>>>>     timestep = datadescription.GetTimeStep()
>>>>>
>>>>>
>>>>>     input_name = 'test.foam'
>>>>>     if (timestep % 0.0004 == 0) :
>>>>>
>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>
>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>     else:
>>>>>
>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>
>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>
>>>>>
>>>>> Best,
>>>>>
>>>>>
>>>>> Jacques
>>>>>
>>>>>
>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>
>>>>> Hi Jacques,
>>>>>>
>>>>>> My python trace files have similar lines, and I am able to run them
>>>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>>>> you copy the specific error message you're getting so I can take a look?
>>>>>>
>>>>>> Pat
>>>>>>
>>>>>>
>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>>    Sorry I meant None... not Null :
>>>>>>>
>>>>>>> For example :
>>>>>>>
>>>>>>>
>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>
>>>>>>>
>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>> CellData :) ,,,
>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>>
>>>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>>>
>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>> script generator.
>>>>>>>>
>>>>>>>> What do you mean by Null?  I don't know what that is so you'll have
>>>>>>>> to explain it to me.
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>> For the LIC, is it because the python script doesn't automatically
>>>>>>>>> load the LIC plugin ?
>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>
>>>>>>>>> -> Is the Live Source Data code already available in git ? I'd love
>>>>>>>>> to test it out even if it is not robust yet.
>>>>>>>>>
>>>>>>>>
>>>>>>>> We don't yet have permission to release the Live Source Data code
>>>>>>>> yet but I think it should be available in the next couple of months.
>>>>>>>>
>>>>>>>>>
>>>>>>>>> Best,
>>>>>>>>> Jacques
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>
>>>>>>>>>> You probably want to add the field data to the specific grids in
>>>>>>>>>> the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>>
>>>>>>>>>> create multiblock
>>>>>>>>>> for each grid:
>>>>>>>>>>   create grid points and cells
>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>   add grid to block
>>>>>>>>>>
>>>>>>>>>> Note that in parallel for coprocessing that the block must have
>>>>>>>>>> the same structure on each process but whether a leaf node is empty or not
>>>>>>>>>> can change.  For example:
>>>>>>>>>>
>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>
>>>>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>>>>> block to only be non-NULL on a single process.
>>>>>>>>>>
>>>>>>>>>> Hope this helps,
>>>>>>>>>> Andy
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Hi All,
>>>>>>>>>>>
>>>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>>>
>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #6
>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>> in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #10
>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned
>>>>>>>>>>> int, vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #19
>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*)
>>>>>>>>>>> in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>
>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>> When I do not add the field data it just complains about missing
>>>>>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Thanks !
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>
>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>
>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the moment
>>>>>>>>>>>> I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>> I am trying to figure out the most efficient way of transferring
>>>>>>>>>>>> my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>> The problem is I am not sure what the format of the array should
>>>>>>>>>>>> be ?
>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which
>>>>>>>>>>>> are known types like hex prism etc..).
>>>>>>>>>>>>
>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I
>>>>>>>>>>>> was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>
>>>>>>>>>>>> Best,
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>
>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for running
>>>>>>>>>>>>> a coprocessing.  It's at:
>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>> Let me know if you have any problems with it so that I can fix
>>>>>>>>>>>>> any errors that I have.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Also, I just made changes so that the coprocessing library gets
>>>>>>>>>>>>> installed properly.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>>>>>> argv[0]);
>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " + timeStr.str());
>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>> As far as I know it works with all of the proper filters but
>>>>>>>>>>>>>>>> since I haven't tried it yet I won't promise that.  The good news is that
>>>>>>>>>>>>>>>> Will Schroeder had a high interest in it and probably worked on some of it
>>>>>>>>>>>>>>>> so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a
>>>>>>>>>>>>>>>>> guide for the moment.
>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support
>>>>>>>>>>>>>>>>> in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any
>>>>>>>>>>>>>>>>> MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the PHASTA
>>>>>>>>>>>>>>>>>> adaptor ( ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is
>>>>>>>>>>>>>>>>>> for fortran code it may give you an idea.  Also stepping through the example
>>>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly
>>>>>>>>>>>>>>>>>>> set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a
>>>>>>>>>>>>>>>>>>>> C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/d4d8d739/attachment-0001.htm>

From pat.marion at kitware.com  Mon Aug 16 13:56:46 2010
From: pat.marion at kitware.com (pat marion)
Date: Mon, 16 Aug 2010 13:56:46 -0400
Subject: [Paraview] Fwd:  CoProcessing
In-Reply-To: <AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
	<AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>
	<AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
Message-ID: <AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>

cc'ing the list.

Pat

---------- Forwarded message ----------
From: Jacques Papper <jacques.papper at gmail.com>
Date: Mon, Aug 16, 2010 at 1:55 PM
Subject: Re: [Paraview] CoProcessing
To: pat marion <pat.marion at kitware.com>


Once again... My mistake .. I'm not used to submodules !

2010/8/16 Jacques Papper <jacques.papper at gmail.com>

Hi, I just pulled my git..
>
> CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>   Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c .C
>   .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>
> I tried to configure and generate cmake but I get the same error when
> generating...
>
> Should I start from a clean cmake cache ?
>
> Jacques
>
> 2010/8/16 pat marion <pat.marion at kitware.com>
>
> If you can't upgrade your paraview version you could try hand applying the
>> patch to /users/boreas01/jacques/
>>
>>>
>>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>>
>>
>> The patch:
>>
>>
>> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>>
>> Pat
>>
>>
>> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <
>> jacques.papper at gmail.com> wrote:
>>
>>> Hi,
>>>
>>> I'm sorry I was just rerunning to reproduce the error, and did not
>>> realize I missed changing my input back to input.foam instead of toto.foam
>>> ....
>>>
>>> Here is the actual error message :
>>>
>>> Traceback (most recent call last):
>>>   File "<string>", line 2, in <module>
>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>>> 138, in DoCoProcessing
>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 207, in __setattr__
>>>     setter(self, value)
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 2367, in setProperty
>>>     return self.SetPropertyWithName(propName, value)
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 256, in SetPropertyWithName
>>>     prop.SetData(arg)
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 799, in SetData
>>>     self.SMProperty.SetElement(3,  str(val))
>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>
>>>
>>> Jacques
>>>
>>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>>
>>> The other thing is that there was a problem when outputting images from
>>>> coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>>
>>>> Andy
>>>>
>>>>
>>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>>>>
>>>>> Hi Jacques,
>>>>>
>>>>> That error message seems to be unrelated to the lines containing 'None'
>>>>> that you copied in a previous email.  It looks to me like your code that
>>>>> calls the coprocessor is not inserting the vtk data set under the name
>>>>> 'test.foam'.  In the calling code you need something like:
>>>>>
>>>>> dataDesc->AddInput("test.foam")
>>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>>
>>>>> Pat
>>>>>
>>>>>
>>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>>> jacques.papper at gmail.com> wrote:
>>>>>
>>>>>> Hi Pat,
>>>>>>
>>>>>> This is what shows up for me :
>>>>>>
>>>>>>
>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>>
>>>>>>
>>>>>> Inside the Python script :
>>>>>>
>>>>>> def RequestDataDescription(datadescription):
>>>>>>     "Callback to populate the request for current timestep"
>>>>>>     timestep = datadescription.GetTimeStep()
>>>>>>
>>>>>>
>>>>>>     input_name = 'test.foam'
>>>>>>     if (timestep % 0.0004 == 0) :
>>>>>>
>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>>
>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>>     else:
>>>>>>
>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>
>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>>
>>>>>>
>>>>>> Best,
>>>>>>
>>>>>>
>>>>>> Jacques
>>>>>>
>>>>>>
>>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>>
>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> My python trace files have similar lines, and I am able to run them
>>>>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>>>>> you copy the specific error message you're getting so I can take a look?
>>>>>>>
>>>>>>> Pat
>>>>>>>
>>>>>>>
>>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>>    Sorry I meant None... not Null :
>>>>>>>>
>>>>>>>> For example :
>>>>>>>>
>>>>>>>>
>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>>
>>>>>>>>
>>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>>> CellData :) ,,,
>>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>>>
>>>>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>>>>
>>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>>> script generator.
>>>>>>>>>
>>>>>>>>> What do you mean by Null?  I don't know what that is so you'll have
>>>>>>>>> to explain it to me.
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>> For the LIC, is it because the python script doesn't automatically
>>>>>>>>>> load the LIC plugin ?
>>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>>
>>>>>>>>>> -> Is the Live Source Data code already available in git ? I'd
>>>>>>>>>> love to test it out even if it is not robust yet.
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>> We don't yet have permission to release the Live Source Data code
>>>>>>>>> yet but I think it should be available in the next couple of months.
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>
>>>>>>>>>>> You probably want to add the field data to the specific grids in
>>>>>>>>>>> the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>>>
>>>>>>>>>>> create multiblock
>>>>>>>>>>> for each grid:
>>>>>>>>>>>   create grid points and cells
>>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>>   add grid to block
>>>>>>>>>>>
>>>>>>>>>>> Note that in parallel for coprocessing that the block must have
>>>>>>>>>>> the same structure on each process but whether a leaf node is empty or not
>>>>>>>>>>> can change.  For example:
>>>>>>>>>>>
>>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>>
>>>>>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>>>>>> block to only be non-NULL on a single process.
>>>>>>>>>>>
>>>>>>>>>>> Hope this helps,
>>>>>>>>>>> Andy
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>
>>>>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>>>>
>>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #6
>>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>>> in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #10
>>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned
>>>>>>>>>>>> int, vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #19
>>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>>> #37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*)
>>>>>>>>>>>> in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>
>>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>>> When I do not add the field data it just complains about missing
>>>>>>>>>>>> fields so I know that the code is not completely wrong...
>>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Thanks !
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>
>>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the moment
>>>>>>>>>>>>> I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>>> I am trying to figure out the most efficient way of
>>>>>>>>>>>>> transferring my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells() method,
>>>>>>>>>>>>> which means I probably need to use the vtkCellArray::SetCells() method, and
>>>>>>>>>>>>> therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>>> The problem is I am not sure what the format of the array
>>>>>>>>>>>>> should be ?
>>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which
>>>>>>>>>>>>> are known types like hex prism etc..).
>>>>>>>>>>>>>
>>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but I
>>>>>>>>>>>>> was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>>
>>>>>>>>>>>>> Best,
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for
>>>>>>>>>>>>>> running a coprocessing.  It's at:
>>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>>> Let me know if you have any problems with it so that I can fix
>>>>>>>>>>>>>> any errors that I have.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Also, I just made changes so that the coprocessing library
>>>>>>>>>>>>>> gets installed properly.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of steps>\n",
>>>>>>>>>>>>>>>> argv[0]);
>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " +
>>>>>>>>>>>>>>>> timeStr.str());
>>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>>> As far as I know it works with all of the proper filters
>>>>>>>>>>>>>>>>> but since I haven't tried it yet I won't promise that.  The good news is
>>>>>>>>>>>>>>>>> that Will Schroeder had a high interest in it and probably worked on some of
>>>>>>>>>>>>>>>>> it so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as
>>>>>>>>>>>>>>>>>> a guide for the moment.
>>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell support
>>>>>>>>>>>>>>>>>> in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any
>>>>>>>>>>>>>>>>>> MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the
>>>>>>>>>>>>>>>>>>> PHASTA adaptor (
>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>>>>>>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of a
>>>>>>>>>>>>>>>>>>> simulation code on the coprocessing wiki that should hopefully be easier to
>>>>>>>>>>>>>>>>>>> follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had wrongly
>>>>>>>>>>>>>>>>>>>> set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any issues.
>>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot (Failed)
>>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a
>>>>>>>>>>>>>>>>>>>>> C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/fbe72438/attachment-0001.htm>

From nenadus at gmail.com  Mon Aug 16 16:29:54 2010
From: nenadus at gmail.com (Nenad Vujicic)
Date: Mon, 16 Aug 2010 22:29:54 +0200
Subject: [Paraview] How to include ParaView documentation to NSIS package
Message-ID: <AANLkTin3EZuJFPgK+zcbdJ5nNF_szVFirpbc0bk4L38z@mail.gmail.com>

Hello all,

I downloaded ParaView 3.8 sources, compiled them using VS 2008 with
default options (+ turned on BUILD_SHARED_LIBS,
PARAVIEW_ENABLE_PYTHON, BUILD_DOCUMENTATION and
DOCUMENTATION_HTML_HELP) and created NSIS installer (using 'cpack -G
NSIS --config Applications/ParaView/CPackParaViewConfig.cmake').
Unfortunately, ParaView documentation is missing in created ParaView
installer.

I also tried under CentOS 5, but got same results - missing
documentation. How to include ParaView documentation into my
installer?

Thanks,
Nenad.

From wascott at sandia.gov  Mon Aug 16 21:04:32 2010
From: wascott at sandia.gov (Scott, W Alan)
Date: Mon, 16 Aug 2010 19:04:32 -0600
Subject: [Paraview] Python to export spreadsheet
Message-ID: <56F66A9F02F8DD40B540440CEE290BEB8E4F9D6868@ES03SNLNT.srn.sandia.gov>

Does anyone have the python used to export a spreadsheet?  For instance,
*       Sources/ Sphere/ Apply.
*       Split Vertical
*       Spreadsheet view
*       File/ Export

Thanks,

Alan

--------------------------------------------------------
W. Alan Scott
ParaView Support Manager

GAITS
Sandia National Laboratories, MS 0822
Org 9326 - Building 880 A1-C
(505) 284-0932   FAX (505) 845-0833
---------------------------------------------------------



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/ed21ddd5/attachment.htm>

From pat.marion at kitware.com  Mon Aug 16 23:06:09 2010
From: pat.marion at kitware.com (pat marion)
Date: Mon, 16 Aug 2010 23:06:09 -0400
Subject: [Paraview] Python to export spreadsheet
In-Reply-To: <56F66A9F02F8DD40B540440CEE290BEB8E4F9D6868@ES03SNLNT.srn.sandia.gov>
References: <56F66A9F02F8DD40B540440CEE290BEB8E4F9D6868@ES03SNLNT.srn.sandia.gov>
Message-ID: <AANLkTi=tzwfR0XkN_VAznsSq8fgV5cVndAOqDj-H-ZUq@mail.gmail.com>

Hi Alan,

Perhaps there is new API that I am not aware of, but as far as I can tell
this is what is required:

Sphere()
view = paraview.simple._create_view("SpreadSheetView")
Show()
Render()
exporters = servermanager.createModule("exporters")
csvExporter = exporters.CSVExporter(FileName="/tmp/test.csv", View=view)
csvExporter.Write()

Pat


On Mon, Aug 16, 2010 at 9:04 PM, Scott, W Alan <wascott at sandia.gov> wrote:

>  Does anyone have the python used to export a spreadsheet?  For instance,
>
>    - Sources/ Sphere/ Apply.
>    - Split Vertical
>    - Spreadsheet view
>    - File/ Export
>
>
> Thanks,
>
> Alan
>
> --------------------------------------------------------
> W. Alan Scott
> ParaView Support Manager
>
> GAITS
> Sandia National Laboratories, MS 0822
> Org 9326 - Building 880 A1-C
> (505) 284-0932   FAX (505) 845-0833
> ---------------------------------------------------------
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100816/c0036f25/attachment.htm>

From Harald.Soleng at kongsberg.com  Tue Aug 17 01:20:15 2010
From: Harald.Soleng at kongsberg.com (Harald.Soleng at kongsberg.com)
Date: Tue, 17 Aug 2010 07:20:15 +0200
Subject: [Paraview] Combining data into one input file
In-Reply-To: <F6122E8A-0FEA-4855-A3C8-3D5DF71C3A99@cs.duke.edu>
References: <CE3AD75CC0364C4C9B3549234A769402022FF71C7F@ukgw-exmb-p06.kda.kongsberg.com>
	<F6122E8A-0FEA-4855-A3C8-3D5DF71C3A99@cs.duke.edu>
Message-ID: <CE3AD75CC0364C4C9B3549234A769402022FF71C81@ukgw-exmb-p06.kda.kongsberg.com>

I used the binaries for 64 bit linux and 32 bit windows.

The problem occurs if I create ascii .vtm files. They cannot be reloaded. I found out later that the binary version works, so I'll try to use binary files.

Regards,
Harald

P.S. I am forced to use WIndows Outlook and it does not seem to respect the thread structure of the mailing list.



From: Eric E. Monson [mailto:emonson at cs.duke.edu]
Sent: 16. august 2010 15:05
To: Soleng, Harald
Cc: paraview at paraview.org
Subject: Re: [Paraview] Combining data into one input file

What platform are you on, and did you build ParaView 3.8 yourself or is it one of the binaries?

Can you load this .vtm file (attached) that I made from your data?

-Eric


________________________________
CONFIDENTIALITY
This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/8676ff69/attachment.htm>

From emonson at cs.duke.edu  Tue Aug 17 08:56:23 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Tue, 17 Aug 2010 08:56:23 -0400
Subject: [Paraview] Combining data into one input file
In-Reply-To: <CE3AD75CC0364C4C9B3549234A769402022FF71C81@ukgw-exmb-p06.kda.kongsberg.com>
References: <CE3AD75CC0364C4C9B3549234A769402022FF71C7F@ukgw-exmb-p06.kda.kongsberg.com>
	<F6122E8A-0FEA-4855-A3C8-3D5DF71C3A99@cs.duke.edu>
	<CE3AD75CC0364C4C9B3549234A769402022FF71C81@ukgw-exmb-p06.kda.kongsberg.com>
Message-ID: <D71E1DB3-F7B5-4571-B107-966EDB5D1224@cs.duke.edu>

Hey Harald,

Well, I'm glad you found a mode that works for you, but I just tried 64-bit Ubuntu 9.10 and 32-bit Windows 7 and in both of them I can load the (corrected) vtk files, apply the Group Datasets filter, save them as ascii-encoded .vtm files and the load them back in. So, if you find you need to use the ascii mode we'll have to do some more detective work to figure out why it's not working on your system.

Good luck,
-Eric


On Aug 17, 2010, at 1:20 AM, <Harald.Soleng at kongsberg.com> <Harald.Soleng at kongsberg.com> wrote:

> I used the binaries for 64 bit linux and 32 bit windows.
>  
> The problem occurs if I create ascii .vtm files. They cannot be reloaded. I found out later that the binary version works, so I'll try to use binary files.
>  
> Regards,
> Harald
>  
> P.S. I am forced to use WIndows Outlook and it does not seem to respect the thread structure of the mailing list.
>  
>  
>  
> From: Eric E. Monson [mailto:emonson at cs.duke.edu] 
> Sent: 16. august 2010 15:05
> To: Soleng, Harald
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] Combining data into one input file
>  
> What platform are you on, and did you build ParaView 3.8 yourself or is it one of the binaries?
>  
> Can you load this .vtm file (attached) that I made from your data?
>  
> -Eric
>  
> 
> CONFIDENTIALITY
> This e-mail and any attachment contain KONGSBERG information which may be proprietary, confidential or subject to export regulations, and is only meant for the intended recipient(s). Any disclosure, copying, distribution or use is prohibited, if not otherwise explicitly agreed with KONGSBERG. If received in error, please delete it immediately from your system and notify the sender properly.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/3e165cb0/attachment-0001.htm>

From jacques.papper at gmail.com  Tue Aug 17 10:06:59 2010
From: jacques.papper at gmail.com (Jacques Papper)
Date: Tue, 17 Aug 2010 15:06:59 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
	<AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>
	<AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
	<AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
Message-ID: <AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>

Hi All,

Although I've got the coprocessing to work somehow, I still have a couple of
problems :

-> I have pulled from git yesterday.

1. None inside the python scripts generated by the plugin throws up some
issues :

Traceback (most recent call last):
  File "<string>", line 2, in <module>
  File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line 138,
in DoCoProcessing
    DataRepresentation1.SelectOrientationVectors = [None, '']
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 207, in __setattr__
    setter(self, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 2367, in setProperty
    return self.GetPropertyValue(propName)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 256, in SetPropertyWithName
    def SetPropertyWithName(self, pname, arg):
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
line 799, in SetData
    if len(values) == 1:
UnboundLocalError: local variable 'val' referenced before assignment


2. When Compiling with MESA, and switching offscreen rendering ON I get
problems at runtime when coprocessing (I have no problems saving screenshots
directly from within paraview) :


--- Some of my CMAKE settings :
//Path to a file.
OPENGL_INCLUDE_DIR:PATH=/usr/include

//Path to a library.
OPENGL_gl_LIBRARY:FILEPATH=/usr/lib64/libGL.so

//Path to a library.
OPENGL_glu_LIBRARY:FILEPATH=/usr/lib64/libGLU.so

//Path to a file.
OPENGL_xmesa_INCLUDE_DIR:PATH=/usr/include

//Path to a file.
OSMESA_INCLUDE_DIR:PATH=/usr/include

//Path to a library.
OSMESA_LIBRARY:FILEPATH=/usr/lib64/libOSMesa.so

----- RunTime error message ----


#0  Foam::error::printStack(Foam::Ostream&) in
"/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
#1  Foam::sigSegv::sigSegvHandler(int) in
"/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
#2  ?? in "/lib64/libc.so.6"
#3  __rawmemchr in "/lib64/libc.so.6"
#4  ?? in "/lib64/libc.so.6"
#5  vsscanf in "/lib64/libc.so.6"
#6  _IO_sscanf in "/lib64/libc.so.6"
#7  vtkOpenGLExtensionManager::ReadOpenGLExtensions() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#8  vtkOpenGLExtensionManager::Update() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#9  vtkOpenGLExtensionManager::ExtensionSupported(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#10  vtkOpenGLRenderWindow::OpenGLInit() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#11  vtkXOpenGLRenderWindow::Start() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#12  vtkRenderWindow::DoStereoRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#13  vtkRenderWindow::DoFDRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#14  vtkRenderWindow::DoAARender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#15  vtkRenderWindow::Render() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#16  vtkXOpenGLRenderWindow::Render() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#17  vtkXOpenGLRenderWindowCommand(vtkClientServerInterpreter*,
vtkObjectBase*, char const*, vtkClientServerStream const&,
vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRenderingCS.so"
#18  vtkClientServerInterpreter::ProcessCommandInvoke(vtkClientServerStream
const&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#19  vtkClientServerInterpreter::ProcessOneMessage(vtkClientServerStream
const&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#20  vtkClientServerInterpreter::ProcessStream(vtkClientServerStream const&)
in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#21  vtkSelfConnection::ProcessStreamLocally(vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#22
vtkMPISelfConnection::SendStreamToDataServerRoot(vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#23  vtkProcessModuleConnection::SendStream(unsigned int,
vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#24  vtkProcessModuleConnectionManager::SendStream(long long, unsigned int,
vtkClientServerStream&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#25  vtkProcessModule::SendStream(long long, unsigned int,
vtkClientServerStream&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#26  vtkSMRenderViewProxy::PerformRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#27  vtkSMViewProxy::StillRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#28  vtkSMRenderViewProxy::CaptureWindow(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#29  vtkSMRenderViewProxy::WriteImage(char const*, char const*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#30  ?? at vtkSMRenderViewProxyPython.cxx:0
#31  vtkPythonUtil::CallOverloadedMethod(PyMethodDef*, _object*, _object*)
in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPythonCore.so.pv3.9"
#32  PyObject_Call in "/usr/lib64/libpython2.6.so.1.0"
#33  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#34  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#35  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#36  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#37  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#38  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#39  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#40  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
#41  ?? in "/usr/lib64/libpython2.6.so.1.0"
#42  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
#43  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
#44  vtkPVPythonInterpretor::RunSimpleString(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
#45  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
#46  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"


When compiling without MESA and OFFSCREEN then it works fine but I get an
annoying window that pops up all the time...

3. I am able to use the Parallel Multi Block Data Set Writer, on a very
simple hex mesh. But when I use it on a more complex mesh (including
POLYHEDRA cells) I get the following error :

When opening the file in paraview :

  ERROR: In
/users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLParser.cxx, line 483

vtkXMLDataParser (0x18aa700): Error parsing XML in stream at line 1, column
7, byte index 7: not well-formed (invalid token)

 ERROR: In
/users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLReader.cxx, line 362

vtkXMLUnstructuredGridReader (0x18cbbc0): Error parsing input file.
ReadXMLInformation aborting.

 ERROR: In
/users/boreas01/jacques/PARAVIEW/ParaView/VTK/Filtering/vtkExecutive.cxx,
line 756

vtkStreamingDemandDrivenPipeline (0xdadf60): Algorithm
vtkXMLUnstructuredGridReader(0x18cbbc0) returned failure for request:
vtkInformation (0x127b170)

Debug: Off

Modified Time: 80976

Reference Count: 1

Registered Events: (none)

Request: REQUEST_INFORMATION

ALGORITHM_AFTER_FORWARD: 1

FORWARD_DIRECTION: 0



When running the coprocessor  I do not get any error message. And I am still
able to ouput png screenshots (when not using OFFSCREEN)... Is there an
incompatibility between the writers and the polyhedra cell type ? Or is it
possible that somewhere I am not filling in the cells / points properly ?

Best,
Jacques





2010/8/16 pat marion <pat.marion at kitware.com>

> cc'ing the list.
>
> Pat
>
>
> ---------- Forwarded message ----------
> From: Jacques Papper <jacques.papper at gmail.com>
> Date: Mon, Aug 16, 2010 at 1:55 PM
> Subject: Re: [Paraview] CoProcessing
> To: pat marion <pat.marion at kitware.com>
>
>
> Once again... My mistake .. I'm not used to submodules !
>
> 2010/8/16 Jacques Papper <jacques.papper at gmail.com>
>
> Hi, I just pulled my git..
>>
>> CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>>   Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c .C
>>   .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>>
>> I tried to configure and generate cmake but I get the same error when
>> generating...
>>
>> Should I start from a clean cmake cache ?
>>
>> Jacques
>>
>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>
>> If you can't upgrade your paraview version you could try hand applying the
>>> patch to /users/boreas01/jacques/
>>>
>>>>
>>>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>>>
>>>
>>> The patch:
>>>
>>>
>>> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>>>
>>> Pat
>>>
>>>
>>> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> Hi,
>>>>
>>>> I'm sorry I was just rerunning to reproduce the error, and did not
>>>> realize I missed changing my input back to input.foam instead of toto.foam
>>>> ....
>>>>
>>>> Here is the actual error message :
>>>>
>>>> Traceback (most recent call last):
>>>>   File "<string>", line 2, in <module>
>>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>>>> 138, in DoCoProcessing
>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 207, in __setattr__
>>>>     setter(self, value)
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 2367, in setProperty
>>>>     return self.SetPropertyWithName(propName, value)
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 256, in SetPropertyWithName
>>>>     prop.SetData(arg)
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 799, in SetData
>>>>     self.SMProperty.SetElement(3,  str(val))
>>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>>
>>>>
>>>> Jacques
>>>>
>>>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>>>
>>>> The other thing is that there was a problem when outputting images from
>>>>> coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>>>
>>>>> Andy
>>>>>
>>>>>
>>>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>>>>>
>>>>>> Hi Jacques,
>>>>>>
>>>>>> That error message seems to be unrelated to the lines containing
>>>>>> 'None' that you copied in a previous email.  It looks to me like your code
>>>>>> that calls the coprocessor is not inserting the vtk data set under the name
>>>>>> 'test.foam'.  In the calling code you need something like:
>>>>>>
>>>>>> dataDesc->AddInput("test.foam")
>>>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>>>
>>>>>> Pat
>>>>>>
>>>>>>
>>>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> Hi Pat,
>>>>>>>
>>>>>>> This is what shows up for me :
>>>>>>>
>>>>>>>
>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>>>
>>>>>>>
>>>>>>> Inside the Python script :
>>>>>>>
>>>>>>> def RequestDataDescription(datadescription):
>>>>>>>     "Callback to populate the request for current timestep"
>>>>>>>     timestep = datadescription.GetTimeStep()
>>>>>>>
>>>>>>>
>>>>>>>     input_name = 'test.foam'
>>>>>>>     if (timestep % 0.0004 == 0) :
>>>>>>>
>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>>>
>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>>>     else:
>>>>>>>
>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>
>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>>>
>>>>>>>
>>>>>>> Best,
>>>>>>>
>>>>>>>
>>>>>>> Jacques
>>>>>>>
>>>>>>>
>>>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>>>
>>>>>>> Hi Jacques,
>>>>>>>>
>>>>>>>> My python trace files have similar lines, and I am able to run them
>>>>>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>>>>>> you copy the specific error message you're getting so I can take a look?
>>>>>>>>
>>>>>>>> Pat
>>>>>>>>
>>>>>>>>
>>>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>
>>>>>>>>>    Sorry I meant None... not Null :
>>>>>>>>>
>>>>>>>>> For example :
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>>>> CellData :) ,,,
>>>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>>>>
>>>>>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>>>>>
>>>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>>>> script generator.
>>>>>>>>>>
>>>>>>>>>> What do you mean by Null?  I don't know what that is so you'll
>>>>>>>>>> have to explain it to me.
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>> For the LIC, is it because the python script doesn't
>>>>>>>>>>> automatically load the LIC plugin ?
>>>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>>>
>>>>>>>>>>> -> Is the Live Source Data code already available in git ? I'd
>>>>>>>>>>> love to test it out even if it is not robust yet.
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> We don't yet have permission to release the Live Source Data code
>>>>>>>>>> yet but I think it should be available in the next couple of months.
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Best,
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>
>>>>>>>>>>>> You probably want to add the field data to the specific grids in
>>>>>>>>>>>> the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>>>>
>>>>>>>>>>>> create multiblock
>>>>>>>>>>>> for each grid:
>>>>>>>>>>>>   create grid points and cells
>>>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>>>   add grid to block
>>>>>>>>>>>>
>>>>>>>>>>>> Note that in parallel for coprocessing that the block must have
>>>>>>>>>>>> the same structure on each process but whether a leaf node is empty or not
>>>>>>>>>>>> can change.  For example:
>>>>>>>>>>>>
>>>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>>>
>>>>>>>>>>>> I'm not sure of all of the details but what I do is that I set a
>>>>>>>>>>>> block to only be non-NULL on a single process.
>>>>>>>>>>>>
>>>>>>>>>>>> Hope this helps,
>>>>>>>>>>>> Andy
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>
>>>>>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>>>>>
>>>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #6
>>>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>>>> in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*)
>>>>>>>>>>>>> in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #10
>>>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #13
>>>>>>>>>>>>> vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #19
>>>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #35  PyRun_SimpleStringFlags in
>>>>>>>>>>>>> "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>>>> #37
>>>>>>>>>>>>> vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>
>>>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>>>> When I do not add the field data it just complains about
>>>>>>>>>>>>> missing fields so I know that the code is not completely wrong...
>>>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Thanks !
>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the
>>>>>>>>>>>>>> moment I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>>>> I am trying to figure out the most efficient way of
>>>>>>>>>>>>>> transferring my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells()
>>>>>>>>>>>>>> method, which means I probably need to use the vtkCellArray::SetCells()
>>>>>>>>>>>>>> method, and therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>>>> The problem is I am not sure what the format of the array
>>>>>>>>>>>>>> should be ?
>>>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which
>>>>>>>>>>>>>> are known types like hex prism etc..).
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but
>>>>>>>>>>>>>> I was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for
>>>>>>>>>>>>>>> running a coprocessing.  It's at:
>>>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>>>> Let me know if you have any problems with it so that I can
>>>>>>>>>>>>>>> fix any errors that I have.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Also, I just made changes so that the coprocessing library
>>>>>>>>>>>>>>> gets installed properly.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>     this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of
>>>>>>>>>>>>>>>>> steps>\n", argv[0]);
>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " + cpPythonFile);
>>>>>>>>>>>>>>>>>   int success = pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " +
>>>>>>>>>>>>>>>>> timeStr.str());
>>>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>>>> As far as I know it works with all of the proper filters
>>>>>>>>>>>>>>>>>> but since I haven't tried it yet I won't promise that.  The good news is
>>>>>>>>>>>>>>>>>> that Will Schroeder had a high interest in it and probably worked on some of
>>>>>>>>>>>>>>>>>> it so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI as
>>>>>>>>>>>>>>>>>>> a guide for the moment.
>>>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell
>>>>>>>>>>>>>>>>>>> support in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see any
>>>>>>>>>>>>>>>>>>> MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the
>>>>>>>>>>>>>>>>>>>> PHASTA adaptor (
>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>>>>>>>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of
>>>>>>>>>>>>>>>>>>>> a simulation code on the coprocessing wiki that should hopefully be easier
>>>>>>>>>>>>>>>>>>>> to follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had
>>>>>>>>>>>>>>>>>>>>> wrongly set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any
>>>>>>>>>>>>>>>>>>>>>> issues.
>>>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on the
>>>>>>>>>>>>>>>>>>>>>> master branch ?
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to a
>>>>>>>>>>>>>>>>>>>>>> C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/d0b6152e/attachment-0001.htm>

From agagliardi at ara.co.uk  Tue Aug 17 10:19:32 2010
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Tue, 17 Aug 2010 15:19:32 +0100
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com><AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com><AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com><AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com><AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com><AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com><AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com><AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com><AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com><AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com><AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com><AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com><AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com><AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com><AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com><AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSS!
	tZM@mail.gmail.com><AANLk
	Ti=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com><AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com><AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com><AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com><AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com><AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com><AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
	<AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
Message-ID: <EA2924F56C7B4D8A93185BC08449A705@win.ara>

Jacques,
 
Utkarsh had a patch for preventing the opengl window popping up when
producing screenshots from a while ago. Not sure if this was implemented in
the latest releases of ParaView (I'm talking PV v3.6.2).
 
Cheers,
 
Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Jacques Papper
Sent: 17 August 2010 15:07
To: pat marion
Cc: ParaView
Subject: [Paraview] CoProcessing


Hi All, 

Although I've got the coprocessing to work somehow, I still have a couple of
problems :

-> I have pulled from git yesterday.

1. None inside the python scripts generated by the plugin throws up some
issues :

Traceback (most recent call last):
  File "<string>", line 2, in <module>
  File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line 138,
in DoCoProcessing
    DataRepresentation1.SelectOrientationVectors = [None, '']
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 207, in __setattr__
    setter(self, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 2367, in setProperty
    return self.GetPropertyValue(propName)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 256, in SetPropertyWithName
    def SetPropertyWithName(self, pname, arg):
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 799, in SetData
    if len(values) == 1:
UnboundLocalError: local variable 'val' referenced before assignment


2. When Compiling with MESA, and switching offscreen rendering ON I get
problems at runtime when coprocessing (I have no problems saving screenshots
directly from within paraview) :


--- Some of my CMAKE settings :
//Path to a file.
OPENGL_INCLUDE_DIR:PATH=/usr/include

//Path to a library.
OPENGL_gl_LIBRARY:FILEPATH=/usr/lib64/libGL.so

//Path to a library.
OPENGL_glu_LIBRARY:FILEPATH=/usr/lib64/libGLU.so

//Path to a file.
OPENGL_xmesa_INCLUDE_DIR:PATH=/usr/include

//Path to a file.
OSMESA_INCLUDE_DIR:PATH=/usr/include

//Path to a library.
OSMESA_LIBRARY:FILEPATH=/usr/lib64/libOSMesa.so

----- RunTime error message ---- 


#0  Foam::error::printStack(Foam::Ostream&) in
"/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOA
M.so"
#1  Foam::sigSegv::sigSegvHandler(int) in
"/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOA
M.so"
#2  ?? in "/lib64/libc.so.6"
#3  __rawmemchr in "/lib64/libc.so.6"
#4  ?? in "/lib64/libc.so.6"
#5  vsscanf in "/lib64/libc.so.6"
#6  _IO_sscanf in "/lib64/libc.so.6"
#7  vtkOpenGLExtensionManager::ReadOpenGLExtensions() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#8  vtkOpenGLExtensionManager::Update() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#9  vtkOpenGLExtensionManager::ExtensionSupported(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#10  vtkOpenGLRenderWindow::OpenGLInit() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#11  vtkXOpenGLRenderWindow::Start() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#12  vtkRenderWindow::DoStereoRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#13  vtkRenderWindow::DoFDRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#14  vtkRenderWindow::DoAARender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#15  vtkRenderWindow::Render() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#16  vtkXOpenGLRenderWindow::Render() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
#17  vtkXOpenGLRenderWindowCommand(vtkClientServerInterpreter*,
vtkObjectBase*, char const*, vtkClientServerStream const&,
vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRenderingCS.so"
#18  vtkClientServerInterpreter::ProcessCommandInvoke(vtkClientServerStream
const&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#19  vtkClientServerInterpreter::ProcessOneMessage(vtkClientServerStream
const&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#20  vtkClientServerInterpreter::ProcessStream(vtkClientServerStream const&)
in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
#21  vtkSelfConnection::ProcessStreamLocally(vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#22
vtkMPISelfConnection::SendStreamToDataServerRoot(vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#23  vtkProcessModuleConnection::SendStream(unsigned int,
vtkClientServerStream&) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#24  vtkProcessModuleConnectionManager::SendStream(long long, unsigned int,
vtkClientServerStream&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#25  vtkProcessModule::SendStream(long long, unsigned int,
vtkClientServerStream&, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#26  vtkSMRenderViewProxy::PerformRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#27  vtkSMViewProxy::StillRender() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#28  vtkSMRenderViewProxy::CaptureWindow(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#29  vtkSMRenderViewProxy::WriteImage(char const*, char const*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#30  ?? at vtkSMRenderViewProxyPython.cxx:0
#31  vtkPythonUtil::CallOverloadedMethod(PyMethodDef*, _object*, _object*)
in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPythonCore.so.pv3.9
"
#32  PyObject_Call in "/usr/lib64/libpython2.6.so.1.0"
#33  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#34  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#35  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#36  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#37  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#38  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#39  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#40  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
#41  ?? in "/usr/lib64/libpython2.6.so.1.0"
#42  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
#43  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
#44  vtkPVPythonInterpretor::RunSimpleString(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor
.so"
#45  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
#46  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"


When compiling without MESA and OFFSCREEN then it works fine but I get an
annoying window that pops up all the time...

3. I am able to use the Parallel Multi Block Data Set Writer, on a very
simple hex mesh. But when I use it on a more complex mesh (including
POLYHEDRA cells) I get the following error :

When opening the file in paraview :



ERROR: In /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLParser.cxx,
line 483

vtkXMLDataParser (0x18aa700): Error parsing XML in stream at line 1, column
7, byte index 7: not well-formed (invalid token)

ERROR: In /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLReader.cxx,
line 362

vtkXMLUnstructuredGridReader (0x18cbbc0): Error parsing input file.
ReadXMLInformation aborting.

ERROR: In
/users/boreas01/jacques/PARAVIEW/ParaView/VTK/Filtering/vtkExecutive.cxx,
line 756

vtkStreamingDemandDrivenPipeline (0xdadf60): Algorithm
vtkXMLUnstructuredGridReader(0x18cbbc0) returned failure for request:
vtkInformation (0x127b170)

Debug: Off

Modified Time: 80976

Reference Count: 1

Registered Events: (none)

Request: REQUEST_INFORMATION

ALGORITHM_AFTER_FORWARD: 1

FORWARD_DIRECTION: 0



When running the coprocessor  I do not get any error message. And I am still
able to ouput png screenshots (when not using OFFSCREEN)... Is there an
incompatibility between the writers and the polyhedra cell type ? Or is it
possible that somewhere I am not filling in the cells / points properly ? 

Best, 
Jacques






2010/8/16 pat marion <pat.marion at kitware.com>


cc'ing the list.

Pat 


---------- Forwarded message ----------
From: Jacques Papper <jacques.papper at gmail.com>
Date: Mon, Aug 16, 2010 at 1:55 PM
Subject: Re: [Paraview] CoProcessing
To: pat marion <pat.marion at kitware.com>


Once again... My mistake .. I'm not used to submodules ! 


2010/8/16 Jacques Papper <jacques.papper at gmail.com> 


Hi, I just pulled my git.. 

CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
  Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c .C
  .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx

I tried to configure and generate cmake but I get the same error when
generating... 

Should I start from a clean cmake cache ? 

Jacques


2010/8/16 pat marion <pat.marion at kitware.com> 


If you can't upgrade your paraview version you could try hand applying the
patch to /users/boreas01/jacques/ 

PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/ser
vermanager.py


The patch:

http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f78
77c6e4150d5ca834f3b9b 


Pat 


On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Hi, 

I'm sorry I was just rerunning to reproduce the error, and did not realize I
missed changing my input back to input.foam instead of toto.foam .... 

Here is the actual error message :

Traceback (most recent call last):
  File "<string>", line 2, in <module>
  File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line 138,
in DoCoProcessing
    DataRepresentation1.SelectOrientationVectors = [None, '']
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 207, in __setattr__
    setter(self, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 2367, in setProperty
    return self.SetPropertyWithName(propName, value)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 256, in SetPropertyWithName
    prop.SetData(arg)
  File
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/s
ite-packages/paraview/servermanager.py", line 799, in SetData
    self.SMProperty.SetElement(3,  str(val))
UnboundLocalError: local variable 'val' referenced before assignment


Jacques


2010/8/16 Andy Bauer <andy.bauer at kitware.com> 


The other thing is that there was a problem when outputting images from
coprocessing.  Try updating to commit 2302777 to see if that's it.  

Andy 


On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com> wrote:


Hi Jacques,

That error message seems to be unrelated to the lines containing 'None' that
you copied in a previous email.  It looks to me like your code that calls
the coprocessor is not inserting the vtk data set under the name
'test.foam'.  In the calling code you need something like:

dataDesc->AddInput("test.foam")
dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);

Pat 


On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Hi Pat, 

This is what shows up for me :

    datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'


Inside the Python script :

def RequestDataDescription(datadescription):
    "Callback to populate the request for current timestep"
    timestep = datadescription.GetTimeStep()


    input_name = 'test.foam'
    if (timestep % 0.0004 == 0) :
        datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
 
datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
    else:
        datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
 
datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()


Best,


Jacques



2010/8/13 pat marion <pat.marion at kitware.com> 


Hi Jacques,

My python trace files have similar lines, and I am able to run them without
error.  I've only just tested with latest git master, not 3.8.  Can you copy
the specific error message you're getting so I can take a look?

Pat 


On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <jacques.papper at gmail.com>
wrote:


   Sorry I meant None... not Null :
 
For example :


    DataRepresentation1.SelectOrientationVectors = [None, '']
    DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
    DataRepresentation1.CubeAxesTickLocation = 'Inside'
    DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
    DataRepresentation1.CubeAxesYAxisVisibility = 1
    DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
    DataRepresentation1.Source.ShaftResolution = 6
    DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
    DataRepresentation1.SelectScaleArray = [None, '']



2010/8/13 Andy Bauer <andy.bauer at kitware.com> 




On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <jacques.papper at gmail.com>
wrote:


I found the problem... I was inserting PointData instead of CellData :) ,,,
Anyway it seems to be starting to work now.. 2 things though :

-> Whenever I try to run directly a python script exported from paraview
(Through the Coprocessing export state) it won't run until I remove all
references to LIC and all lines containing Null...



Now that you mention it, I didn't put in anything special for plugins.
Setting the plugins to auto-load may work but my guess is that it won't.
I'll look into the plugin thing and the best way to do it in the script
generator.

What do you mean by Null?  I don't know what that is so you'll have to
explain it to me.

 

For the LIC, is it because the python script doesn't automatically load the
LIC plugin ? 
For the Null, do you have this problem as well ?

-> Is the Live Source Data code already available in git ? I'd love to test
it out even if it is not robust yet. 



We don't yet have permission to release the Live Source Data code yet but I
think it should be available in the next couple of months. 



Best, 
Jacques



2010/8/12 Andy Bauer <andy.bauer at kitware.com>


You probably want to add the field data to the specific grids in the
multiblock data set and not just the block itself.  As an example:

create multiblock
for each grid:
  create grid points and cells
  add point and cell data to grid
  add grid to block

Note that in parallel for coprocessing that the block must have the same
structure on each process but whether a leaf node is empty or not can
change.  For example:

proc 0 mutliblock:
  block 0 -> unstructured grid
  block 1 -> uniform grid
  block 2 -> NULL
proc 1 multiblock:
  block 0 -> NULL
  block 1 -> NULL
  block 2 -> unstructured grid

I'm not sure of all of the details but what I do is that I set a block to
only be non-NULL on a single process.

Hope this helps,
Andy 


On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Hi All, 

I am making some more progress on this. Everything was working until I tried
adding field data... I now get an explosion :

#2  ?? in "/lib64/libc.so.6"
#3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
#4  vtkDataArray::ComputeRange(int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
#5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#6
vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttri
butes*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#10  vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#12  vtkSelfConnection::GatherInformation(unsigned int, vtkPVInformation*,
vtkClientServerID) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#13  vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
vtkPVInformation*, vtkClientServerID) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
#14  vtkSMOutputPort::GatherDataInformation() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#15  vtkSMOutputPort::GetDataInformation() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#18  vtkSMProperty::IsInDomains() in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#19  vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
#20  ?? at vtkSMRenderViewProxyPython.cxx:0
#21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
#31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
#32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
#33  ?? in "/usr/lib64/libpython2.6.so.1.0"
#34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
#35  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
#36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor
.so"
#37  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
#38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
"/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"

Any ideas where this can be coming from ?
When I do not add the field data it just complains about missing fields so I
know that the code is not completely wrong...
I am adding the data to the first block of my multiblockdataset... Is that a
problem ? 



Thanks ! 
Jacques



2010/8/12 Jacques Papper <jacques.papper at gmail.com> 


Hi Andy, Pat,

I have the skeleton of the coprocessing working (for the moment I just tried
by populating the point field - no cells, no data).
I am trying to figure out the most efficient way of transferring my data
structure to VTK with minimal copying and looping... 
I would like to use the vtkUnstructuredGrid::SetCells() method, which means
I probably need to use the vtkCellArray::SetCells() method, and therefore
the vtkIdType::SetArray() method... 
The problem is I am not sure what the format of the array should be ?
I am dealing with unstructured polyhedra cells (most of which are known
types like hex prism etc..). 

Of course, I could also use the InsertNextCell() methods, but I was
wondering if there wasn't a more efficient way... 

Best,
Jacques



2010/8/9 Andy Bauer <andy.bauer at kitware.com> 


Hi Jacques,

I put an example on the wiki based on Pat's example for running a
coprocessing.  It's at:
http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
Let me know if you have any problems with it so that I can fix any errors
that I have.

Also, I just made changes so that the coprocessing library gets installed
properly.

Thanks,
Andy 


On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Thanks Pat, 

I am trying to compile my first attempt.
Although I do find the headers I need, I am having some trouble identifying
which libraries I need to link to. 
For example, I assume that I should be linking to libvtkCoProcessor.so ...
Although I find this library in the compilation folder (under bin), I do not
find it in the make installed version under lib... 
Is this normal ? 

Best, 
Jacques


2010/8/4 pat marion <pat.marion at kitware.com> 


Below is a simple cxx program I have used for testing.  It creates one
sphere per process, positions the sphere as a function of the process id,
and the spheres grow/shrink over time.

Pat

#include "vtkCPProcessor.h"
#include "vtkCPPythonScriptPipeline.h"
#include "vtkMultiProcessController.h"
#include "vtkXMLUnstructuredGridReader.h"
#include "vtkUnstructuredGrid.h"
#include "vtkCPDataDescription.h"
#include "vtkCPInputDataDescription.h"
#include "vtkSmartPointer.h"
#include "vtkPolyData.h"
#include "vtkSphereSource.h"

#include <stdio.h>
#include <string>
#include <sstream>

static unsigned int procId;

void myprint(const std::string& str)
{
  printf("driver (%u): %s\n", procId, str.c_str());
}

class DataGenerator {
public:

  DataGenerator()
    {
    this->Sphere = vtkSmartPointer<vtkSphereSource>::New();
    this->Sphere->SetThetaResolution(30);
    this->Sphere->SetPhiResolution(30);
    this->Sphere->SetCenter(procId*4.0, 0, 0);
    this->Index = 0;
    }

  vtkSmartPointer<vtkPolyData> GetNext()
    {
    double radius = fabs(sin(0.1 * this->Index));
    this->Index++;
    this->Sphere->SetRadius(1.0 + radius);
    this->Sphere->Update();
    vtkSmartPointer<vtkPolyData> ret = vtkSmartPointer<vtkPolyData>::New();
    ret->DeepCopy(this->Sphere->GetOutput());
    return ret;
    }

protected:

  int Index;
  vtkSmartPointer<vtkSphereSource> Sphere;
  

};

int main(int argc, char* argv[])
{
  if (argc < 3)
    {
    printf("Usage: %s <cp python file> <number of steps>\n", argv[0]);
    return 1;
    }

  std::string cpPythonFile = argv[1];
  int nSteps = atoi(argv[2]);

  myprint("starting coprocessor");

  vtkCPProcessor* processor = vtkCPProcessor::New();
  processor->Initialize();
  vtkCPPythonScriptPipeline* pipeline = vtkCPPythonScriptPipeline::New();

  // mpi was initialized when we called vtkCPPythonScriptPipeline::New()
  procId =
vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();


  // read the coprocessing python file
  myprint("loading pipeline python file: " + cpPythonFile);
  int success = pipeline->Initialize(cpPythonFile.c_str());
  if (!success)
    {
    myprint("aborting");
    return 1;
    }

  processor->AddPipeline(pipeline);
  pipeline->Delete();

  if (nSteps == 0)
    {
    return 0;
    }

  // create a data source
  DataGenerator generator;

  // do coprocessing
  double tStart = 0.0;
  double tEnd = 1.0;
  double stepSize = (tEnd - tStart)/nSteps;

  vtkCPDataDescription* dataDesc = vtkCPDataDescription::New();
  dataDesc->AddInput("input");

  for (int i = 0; i < nSteps; ++i)
    {

    double currentTime = tStart + stepSize*i;
    std::stringstream timeStr;
    timeStr << "time(" << i << ", " << currentTime << ")";


    dataDesc->SetTimeData(currentTime, i);

    myprint("call RequestDataDescription, " + timeStr.str());
    int do_coprocessing = processor->RequestDataDescription(dataDesc);

    if (do_coprocessing)
      {
      myprint("calling CoProcess, " + timeStr.str());

      vtkSmartPointer<vtkDataObject> dataObject =
        generator.GetNext();

      dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
      processor->CoProcess(dataDesc);
      }
    }


  myprint("finalizing");
  dataDesc->Delete();
  processor->Finalize();
  processor->Delete();

  return 0; 

}




On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <andy.bauer at kitware.com> wrote:


Hi Jacques,

There is a polyhedra cell type in VTK now --
http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
As far as I know it works with all of the proper filters but since I haven't
tried it yet I won't promise that.  The good news is that Will Schroeder had
a high interest in it and probably worked on some of it so I'd assume that
it's working quite well right now.

As for Phasta, it does run in parallel (as props to their developers it was
a finalist for the 2009 Gordon Bell prize).  The grid is already partitioned
and each process runs the adaptor and creates an unstructured grid from its
portion of the partitioned mesh.  Thus, there isn't any need for mpi calls
in the adaptor code.  If you had ghost cell information in your partitioned
mesh and wanted to get fancy you should be able to add that to your
partitioned grid to make some of the filters faster but I haven't tried
that.

Andy 


On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Thanks a lot Andy, Takuya,

I'm using the PhastaAdaptor, and the FortranAdaptorAPI as a guide for the
moment. 
I know there were talks of getting POLYHEDRAL cell support in VTK. Do you
know if this is there yet?
My dataset is multiregion unstructured polyhedral mesh domain decomposed
amongst each processor. 

Is the Phasta code parallelized ? If so, I do not see any MPI statements in
the adaptor code ?

Jacques


2010/8/4 Andy Bauer <andy.bauer at kitware.com> 


Hi Jacques,

What type of data set do you have?  Even though the PHASTA adaptor (
ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
code it may give you an idea.  Also stepping through the example in
ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExampl
e.cxx may help as well.

I'll spend some time this week putting up a skeleton of a simulation code on
the coprocessing wiki that should hopefully be easier to follow.  I'll let
you know when it's done.

Andy


On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <jacques.papper at gmail.com>
wrote:


Hi All,

Sorry for my last post, I figured out that I had wrongly set my PYTHONPATH..

All the tests work ok now. Still interested in CoProcessing adaptors
examples though :) 

Thanks 
Jacques


2010/8/4 Jacques Papper <jacques.papper at gmail.com> 



Hi All, 

I'm starting to look into the ParaView CoProcessing libraries. 
I just pulled from git today, and compiled it all up following the
guidelines in :
http://www.paraview.org/Wiki/CoProcessing
I didn't find :
BUILD_PYTHON_COPROCESSING_ADAPTOR
but instead :
PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
anyway the compilation went through without any issues.
I then tried :

ctest -R CoProcessing
Test project /users/boreas01/jacques/PARAVIEW/ParaView-bin
    Start 491: CoProcessingTestPythonScript
1/3 Test #491: CoProcessingTestPythonScript ...........   Passed    0.45 sec
    Start 492: CoProcessingPythonScriptGridPlot
2/3 Test #492: CoProcessingPythonScriptGridPlot .......***Failed    0.09 sec
    Start 493: CoProcessingPythonScriptPressurePlot
3/3 Test #493: CoProcessingPythonScriptPressurePlot ...***Failed    0.09 sec

33% tests passed, 2 tests failed out of 3

Total Test time (real) =   0.68 sec

The following tests FAILED:
        492 - CoProcessingPythonScriptGridPlot (Failed)
        493 - CoProcessingPythonScriptPressurePlot (Failed)
Errors while running CTest

Is this a problem in my current installation or on the master branch ? 

Finally, I would like to start writing an adaptor to a C++ parallelised
code. Can you tell me what is the closest code I can inspire myself from ? 


Thank you, 
Jacques



PS sorry mixed up the subjects.. 




_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview







_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview






















_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview





**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/8c022cc9/attachment-0001.htm>

From dave.partyka at kitware.com  Tue Aug 17 15:11:12 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Tue, 17 Aug 2010 15:11:12 -0400
Subject: [Paraview] vtkNetCDF upgraded to 4.1.1
Message-ID: <AANLkTi=1=JfahwxShfjgPuWp=fHPvU2etORMx0XD7z-w@mail.gmail.com>

Hi All,

I just upaded VTK's netcdf from 3.6.2 to 4.1.1. In addition to the
traditional C library I have also brought in the C++ version of the library
(vtkNetCDF_cpp). I spent time creating the proper DLL exports, allowing even
Windows developers to use the library! This provides a nicer API that
developers can use when writing new netcdf readers/writers. Also with netcdf
4.x we can now potentially use HDF5 based NetCDF files. See here for the
release notes for NetCDF 4. As always we value feedback from the community,
feel free to report any issues. In the mean time I will be monitoring the
dashboards.

http://www.unidata.ucar.edu/software/netcdf/docs/faq.html#changes_4.0

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/17984023/attachment.htm>

From andy.bauer at kitware.com  Tue Aug 17 15:49:12 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Tue, 17 Aug 2010 15:49:12 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
	<AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>
	<AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
	<AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
	<AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
Message-ID: <AANLkTimQUSo5tm5gB4HD82EBEqb9WYn_Nb9wO5c3Ay3Z@mail.gmail.com>

For 1:  Can you send me your
Utilities/VTKPythonWrapping/paraview/servermanager.py in the PV source as
well as the
Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py file in
your PV build?

For 2: I'll take a look at that since I have to do the same thing on a
remote machine I'll be working on.

For 3: No idea why.  If you can set up a simple problem I can take a look at
it.

Andy

On Tue, Aug 17, 2010 at 10:06 AM, Jacques Papper
<jacques.papper at gmail.com>wrote:

> Hi All,
>
> Although I've got the coprocessing to work somehow, I still have a couple
> of problems :
>
> -> I have pulled from git yesterday.
>
> 1. None inside the python scripts generated by the plugin throws up some
> issues :
>
> Traceback (most recent call last):
>   File "<string>", line 2, in <module>
>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
> 138, in DoCoProcessing
>     DataRepresentation1.SelectOrientationVectors = [None, '']
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 207, in __setattr__
>     setter(self, value)
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 2367, in setProperty
>     return self.GetPropertyValue(propName)
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 256, in SetPropertyWithName
>     def SetPropertyWithName(self, pname, arg):
>   File
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> line 799, in SetData
>     if len(values) == 1:
> UnboundLocalError: local variable 'val' referenced before assignment
>
>
> 2. When Compiling with MESA, and switching offscreen rendering ON I get
> problems at runtime when coprocessing (I have no problems saving screenshots
> directly from within paraview) :
>
>
> --- Some of my CMAKE settings :
> //Path to a file.
> OPENGL_INCLUDE_DIR:PATH=/usr/include
>
> //Path to a library.
> OPENGL_gl_LIBRARY:FILEPATH=/usr/lib64/libGL.so
>
> //Path to a library.
> OPENGL_glu_LIBRARY:FILEPATH=/usr/lib64/libGLU.so
>
> //Path to a file.
> OPENGL_xmesa_INCLUDE_DIR:PATH=/usr/include
>
> //Path to a file.
> OSMESA_INCLUDE_DIR:PATH=/usr/include
>
> //Path to a library.
> OSMESA_LIBRARY:FILEPATH=/usr/lib64/libOSMesa.so
>
> ----- RunTime error message ----
>
>
> #0  Foam::error::printStack(Foam::Ostream&) in
> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
> #1  Foam::sigSegv::sigSegvHandler(int) in
> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
> #2  ?? in "/lib64/libc.so.6"
> #3  __rawmemchr in "/lib64/libc.so.6"
> #4  ?? in "/lib64/libc.so.6"
> #5  vsscanf in "/lib64/libc.so.6"
> #6  _IO_sscanf in "/lib64/libc.so.6"
> #7  vtkOpenGLExtensionManager::ReadOpenGLExtensions() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #8  vtkOpenGLExtensionManager::Update() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #9  vtkOpenGLExtensionManager::ExtensionSupported(char const*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #10  vtkOpenGLRenderWindow::OpenGLInit() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #11  vtkXOpenGLRenderWindow::Start() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #12  vtkRenderWindow::DoStereoRender() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #13  vtkRenderWindow::DoFDRender() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #14  vtkRenderWindow::DoAARender() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #15  vtkRenderWindow::Render() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #16  vtkXOpenGLRenderWindow::Render() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
> #17  vtkXOpenGLRenderWindowCommand(vtkClientServerInterpreter*,
> vtkObjectBase*, char const*, vtkClientServerStream const&,
> vtkClientServerStream&) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRenderingCS.so"
> #18  vtkClientServerInterpreter::ProcessCommandInvoke(vtkClientServerStream
> const&, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
> #19  vtkClientServerInterpreter::ProcessOneMessage(vtkClientServerStream
> const&, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
> #20  vtkClientServerInterpreter::ProcessStream(vtkClientServerStream
> const&) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
> #21  vtkSelfConnection::ProcessStreamLocally(vtkClientServerStream&) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #22
> vtkMPISelfConnection::SendStreamToDataServerRoot(vtkClientServerStream&) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #23  vtkProcessModuleConnection::SendStream(unsigned int,
> vtkClientServerStream&) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #24  vtkProcessModuleConnectionManager::SendStream(long long, unsigned int,
> vtkClientServerStream&, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #25  vtkProcessModule::SendStream(long long, unsigned int,
> vtkClientServerStream&, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
> #26  vtkSMRenderViewProxy::PerformRender() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #27  vtkSMViewProxy::StillRender() in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #28  vtkSMRenderViewProxy::CaptureWindow(int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #29  vtkSMRenderViewProxy::WriteImage(char const*, char const*, int) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
> #30  ?? at vtkSMRenderViewProxyPython.cxx:0
> #31  vtkPythonUtil::CallOverloadedMethod(PyMethodDef*, _object*, _object*)
> in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPythonCore.so.pv3.9"
> #32  PyObject_Call in "/usr/lib64/libpython2.6.so.1.0"
> #33  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #34  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #35  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #36  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #37  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #38  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
> #39  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
> #40  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
> #41  ?? in "/usr/lib64/libpython2.6.so.1.0"
> #42  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
> #43  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
> #44  vtkPVPythonInterpretor::RunSimpleString(char const*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
> #45  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
> #46  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>
>
> When compiling without MESA and OFFSCREEN then it works fine but I get an
> annoying window that pops up all the time...
>
> 3. I am able to use the Parallel Multi Block Data Set Writer, on a very
> simple hex mesh. But when I use it on a more complex mesh (including
> POLYHEDRA cells) I get the following error :
>
> When opening the file in paraview :
>
>   ERROR: In
> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLParser.cxx, line 483
>
> vtkXMLDataParser (0x18aa700): Error parsing XML in stream at line 1, column
> 7, byte index 7: not well-formed (invalid token)
>
>  ERROR: In
> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLReader.cxx, line 362
>
> vtkXMLUnstructuredGridReader (0x18cbbc0): Error parsing input file.
> ReadXMLInformation aborting.
>
>  ERROR: In
> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/Filtering/vtkExecutive.cxx,
> line 756
>
> vtkStreamingDemandDrivenPipeline (0xdadf60): Algorithm
> vtkXMLUnstructuredGridReader(0x18cbbc0) returned failure for request:
> vtkInformation (0x127b170)
>
> Debug: Off
>
> Modified Time: 80976
>
> Reference Count: 1
>
> Registered Events: (none)
>
> Request: REQUEST_INFORMATION
>
> ALGORITHM_AFTER_FORWARD: 1
>
> FORWARD_DIRECTION: 0
>
>
>
> When running the coprocessor  I do not get any error message. And I am
> still able to ouput png screenshots (when not using OFFSCREEN)... Is there
> an incompatibility between the writers and the polyhedra cell type ? Or is
> it possible that somewhere I am not filling in the cells / points properly ?
>
>
> Best,
> Jacques
>
>
>
>
>
> 2010/8/16 pat marion <pat.marion at kitware.com>
>
>> cc'ing the list.
>>
>> Pat
>>
>>
>> ---------- Forwarded message ----------
>> From: Jacques Papper <jacques.papper at gmail.com>
>> Date: Mon, Aug 16, 2010 at 1:55 PM
>> Subject: Re: [Paraview] CoProcessing
>> To: pat marion <pat.marion at kitware.com>
>>
>>
>> Once again... My mistake .. I'm not used to submodules !
>>
>> 2010/8/16 Jacques Papper <jacques.papper at gmail.com>
>>
>> Hi, I just pulled my git..
>>>
>>> CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>>>   Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c .C
>>>   .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>>>
>>> I tried to configure and generate cmake but I get the same error when
>>> generating...
>>>
>>> Should I start from a clean cmake cache ?
>>>
>>> Jacques
>>>
>>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>>
>>> If you can't upgrade your paraview version you could try hand applying
>>>> the patch to /users/boreas01/jacques/
>>>>
>>>>>
>>>>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>>>>
>>>>
>>>> The patch:
>>>>
>>>>
>>>> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>>>>
>>>> Pat
>>>>
>>>>
>>>> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <
>>>> jacques.papper at gmail.com> wrote:
>>>>
>>>>> Hi,
>>>>>
>>>>> I'm sorry I was just rerunning to reproduce the error, and did not
>>>>> realize I missed changing my input back to input.foam instead of toto.foam
>>>>> ....
>>>>>
>>>>> Here is the actual error message :
>>>>>
>>>>> Traceback (most recent call last):
>>>>>   File "<string>", line 2, in <module>
>>>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>>>>> 138, in DoCoProcessing
>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>   File
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>> line 207, in __setattr__
>>>>>     setter(self, value)
>>>>>   File
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>> line 2367, in setProperty
>>>>>     return self.SetPropertyWithName(propName, value)
>>>>>   File
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>> line 256, in SetPropertyWithName
>>>>>     prop.SetData(arg)
>>>>>   File
>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>> line 799, in SetData
>>>>>     self.SMProperty.SetElement(3,  str(val))
>>>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>>>
>>>>>
>>>>> Jacques
>>>>>
>>>>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>>>>
>>>>> The other thing is that there was a problem when outputting images from
>>>>>> coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>>>>
>>>>>> Andy
>>>>>>
>>>>>>
>>>>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com>wrote:
>>>>>>
>>>>>>> Hi Jacques,
>>>>>>>
>>>>>>> That error message seems to be unrelated to the lines containing
>>>>>>> 'None' that you copied in a previous email.  It looks to me like your code
>>>>>>> that calls the coprocessor is not inserting the vtk data set under the name
>>>>>>> 'test.foam'.  In the calling code you need something like:
>>>>>>>
>>>>>>> dataDesc->AddInput("test.foam")
>>>>>>>
>>>>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>>>>
>>>>>>> Pat
>>>>>>>
>>>>>>>
>>>>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi Pat,
>>>>>>>>
>>>>>>>> This is what shows up for me :
>>>>>>>>
>>>>>>>>
>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>>>>
>>>>>>>>
>>>>>>>> Inside the Python script :
>>>>>>>>
>>>>>>>> def RequestDataDescription(datadescription):
>>>>>>>>     "Callback to populate the request for current timestep"
>>>>>>>>     timestep = datadescription.GetTimeStep()
>>>>>>>>
>>>>>>>>
>>>>>>>>     input_name = 'test.foam'
>>>>>>>>     if (timestep % 0.0004 == 0) :
>>>>>>>>
>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>>>>
>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>>>>     else:
>>>>>>>>
>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>>
>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>>>>
>>>>>>>>
>>>>>>>> Best,
>>>>>>>>
>>>>>>>>
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>>
>>>>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>>>>
>>>>>>>> Hi Jacques,
>>>>>>>>>
>>>>>>>>> My python trace files have similar lines, and I am able to run them
>>>>>>>>> without error.  I've only just tested with latest git master, not 3.8.  Can
>>>>>>>>> you copy the specific error message you're getting so I can take a look?
>>>>>>>>>
>>>>>>>>> Pat
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>>    Sorry I meant None... not Null :
>>>>>>>>>>
>>>>>>>>>> For example :
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>>>>> CellData :) ,,,
>>>>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>>>>>
>>>>>>>>>>>> -> Whenever I try to run directly a python script exported from
>>>>>>>>>>>> paraview (Through the Coprocessing export state) it won't run until I remove
>>>>>>>>>>>> all references to LIC and all lines containing Null...
>>>>>>>>>>>>
>>>>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>>>>> script generator.
>>>>>>>>>>>
>>>>>>>>>>> What do you mean by Null?  I don't know what that is so you'll
>>>>>>>>>>> have to explain it to me.
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>> For the LIC, is it because the python script doesn't
>>>>>>>>>>>> automatically load the LIC plugin ?
>>>>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>>>>
>>>>>>>>>>>> -> Is the Live Source Data code already available in git ? I'd
>>>>>>>>>>>> love to test it out even if it is not robust yet.
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> We don't yet have permission to release the Live Source Data code
>>>>>>>>>>> yet but I think it should be available in the next couple of months.
>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> Best,
>>>>>>>>>>>> Jacques
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>
>>>>>>>>>>>>> You probably want to add the field data to the specific grids
>>>>>>>>>>>>> in the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>>>>>
>>>>>>>>>>>>> create multiblock
>>>>>>>>>>>>> for each grid:
>>>>>>>>>>>>>   create grid points and cells
>>>>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>>>>   add grid to block
>>>>>>>>>>>>>
>>>>>>>>>>>>> Note that in parallel for coprocessing that the block must have
>>>>>>>>>>>>> the same structure on each process but whether a leaf node is empty or not
>>>>>>>>>>>>> can change.  For example:
>>>>>>>>>>>>>
>>>>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>>>>
>>>>>>>>>>>>> I'm not sure of all of the details but what I do is that I set
>>>>>>>>>>>>> a block to only be non-NULL on a single process.
>>>>>>>>>>>>>
>>>>>>>>>>>>> Hope this helps,
>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> I am making some more progress on this. Everything was working
>>>>>>>>>>>>>> until I tried adding field data... I now get an explosion :
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #6
>>>>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>>>>> in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #9  vtkPVCompositeDataInformation::CopyFromObject(vtkObject*)
>>>>>>>>>>>>>> in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #10
>>>>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #13
>>>>>>>>>>>>>> vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int)
>>>>>>>>>>>>>> in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #19
>>>>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #35  PyRun_SimpleStringFlags in
>>>>>>>>>>>>>> "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>>>>> #37
>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>>>>> When I do not add the field data it just complains about
>>>>>>>>>>>>>> missing fields so I know that the code is not completely wrong...
>>>>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Thanks !
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the
>>>>>>>>>>>>>>> moment I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>>>>> I am trying to figure out the most efficient way of
>>>>>>>>>>>>>>> transferring my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells()
>>>>>>>>>>>>>>> method, which means I probably need to use the vtkCellArray::SetCells()
>>>>>>>>>>>>>>> method, and therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>>>>> The problem is I am not sure what the format of the array
>>>>>>>>>>>>>>> should be ?
>>>>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of which
>>>>>>>>>>>>>>> are known types like hex prism etc..).
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods, but
>>>>>>>>>>>>>>> I was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for
>>>>>>>>>>>>>>>> running a coprocessing.  It's at:
>>>>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>>>>> Let me know if you have any problems with it so that I can
>>>>>>>>>>>>>>>> fix any errors that I have.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Also, I just made changes so that the coprocessing library
>>>>>>>>>>>>>>>> gets installed properly.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.  It
>>>>>>>>>>>>>>>>>> creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>     this->Sphere =
>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of
>>>>>>>>>>>>>>>>>> steps>\n", argv[0]);
>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " +
>>>>>>>>>>>>>>>>>> cpPythonFile);
>>>>>>>>>>>>>>>>>>   int success =
>>>>>>>>>>>>>>>>>> pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime << ")";
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " +
>>>>>>>>>>>>>>>>>> timeStr.str());
>>>>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>>>>> As far as I know it works with all of the proper filters
>>>>>>>>>>>>>>>>>>> but since I haven't tried it yet I won't promise that.  The good news is
>>>>>>>>>>>>>>>>>>> that Will Schroeder had a high interest in it and probably worked on some of
>>>>>>>>>>>>>>>>>>> it so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to their
>>>>>>>>>>>>>>>>>>> developers it was a finalist for the 2009 Gordon Bell prize).  The grid is
>>>>>>>>>>>>>>>>>>> already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI
>>>>>>>>>>>>>>>>>>>> as a guide for the moment.
>>>>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell
>>>>>>>>>>>>>>>>>>>> support in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see
>>>>>>>>>>>>>>>>>>>> any MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the
>>>>>>>>>>>>>>>>>>>>> PHASTA adaptor (
>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>>>>>>>>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton of
>>>>>>>>>>>>>>>>>>>>> a simulation code on the coprocessing wiki that should hopefully be easier
>>>>>>>>>>>>>>>>>>>>> to follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had
>>>>>>>>>>>>>>>>>>>>>> wrongly set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all up
>>>>>>>>>>>>>>>>>>>>>>> following the guidelines in :
>>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any
>>>>>>>>>>>>>>>>>>>>>>> issues.
>>>>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on
>>>>>>>>>>>>>>>>>>>>>>> the master branch ?
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor to
>>>>>>>>>>>>>>>>>>>>>>> a C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView Wiki
>>>>>>>>>>>>>>>>>>> at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100817/776c3e57/attachment-0001.htm>

From agagliardi at ara.co.uk  Wed Aug 18 04:17:57 2010
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Wed, 18 Aug 2010 09:17:57 +0100
Subject: [Paraview] Moving slice animation
Message-ID: <5FE9B4F076FC43608852DD3B15E8C46B@win.ara>


Dear All,

I've decided to revisit a problem that got me stuck a long time ago. I'd
like to animate a slice moving through a fluid, but I'm stuck on the syntax
for the cue.AnimatedPropertyName I need. I followed the example from the
Wiki as closely as possible. I only wish to animate the y component of the
origin, but since I can't pass that scalar as an AnimatedPropertyName, I am
defining the KeyValue as a vector instead. Is this correct? Secondly, after
I execute the following code, I get this error message:

ERROR: In
/usr/people/gagliard/Paraview/FILES/ParaView3/Servers/ServerManager/vtkSMRam
pKeyFrameProxy.cxx, line 53
vtkSMRampKeyFrameProxy (0x10e34270): Cue does not have domain or property
set!

>>> slice = GetActiveSource()
>>> movie = servermanager.animation.AnimationScene()
>>> movie.ViewModules = (GetActiveView())
>>> cue = servermanager.animation.KeyFrameAnimationCue()
>>> cue.AnimatedProxy = slice
>>> cue.AnimatedPropertyName = "SliceType.Origin"
>>> movie.Cues = [cue]
>>> keyf1 = servermanager.animation.CompositeKeyFrame()
>>> keyf1.Interpolation = "Ramp"
>>> keyf1.KeyTime = 0
>>> keyf1.KeyValues = [0,0.2,0]
>>> keyf2 = servermanager.animation.CompositeKeyFrame()
>>> keyf2.KeyTime = 1.0
>>> keyf2.KeyValues = [0,0.4,0]
>>> cue.KeyFrames = [keyf1,keyf2]
>>> movie.Play()

I'm pretty sure other people have this working, so it would be good to have
some pointers.

Cheers,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 


**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************

From utkarsh.ayachit at kitware.com  Wed Aug 18 09:36:27 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 18 Aug 2010 09:36:27 -0400
Subject: [Paraview] Moving slice animation
In-Reply-To: <5FE9B4F076FC43608852DD3B15E8C46B@win.ara>
References: <5FE9B4F076FC43608852DD3B15E8C46B@win.ara>
Message-ID: <AANLkTi=hEgp0Wb59NvhZhbUCGqyR0NFRh5L1n1giJe0_@mail.gmail.com>

Try:

cue.AnimatedProxy = slice.SliceType
cue.AnimatedPropertyName = "Origin"

Utkarsh


On Wed, Aug 18, 2010 at 4:17 AM, Adriano Gagliardi <agagliardi at ara.co.uk> wrote:
>
> Dear All,
>
> I've decided to revisit a problem that got me stuck a long time ago. I'd
> like to animate a slice moving through a fluid, but I'm stuck on the syntax
> for the cue.AnimatedPropertyName I need. I followed the example from the
> Wiki as closely as possible. I only wish to animate the y component of the
> origin, but since I can't pass that scalar as an AnimatedPropertyName, I am
> defining the KeyValue as a vector instead. Is this correct? Secondly, after
> I execute the following code, I get this error message:
>
> ERROR: In
> /usr/people/gagliard/Paraview/FILES/ParaView3/Servers/ServerManager/vtkSMRam
> pKeyFrameProxy.cxx, line 53
> vtkSMRampKeyFrameProxy (0x10e34270): Cue does not have domain or property
> set!
>
>>>> slice = GetActiveSource()
>>>> movie = servermanager.animation.AnimationScene()
>>>> movie.ViewModules = (GetActiveView())
>>>> cue = servermanager.animation.KeyFrameAnimationCue()
>>>> cue.AnimatedProxy = slice
>>>> cue.AnimatedPropertyName = "SliceType.Origin"
>>>> movie.Cues = [cue]
>>>> keyf1 = servermanager.animation.CompositeKeyFrame()
>>>> keyf1.Interpolation = "Ramp"
>>>> keyf1.KeyTime = 0
>>>> keyf1.KeyValues = [0,0.2,0]
>>>> keyf2 = servermanager.animation.CompositeKeyFrame()
>>>> keyf2.KeyTime = 1.0
>>>> keyf2.KeyValues = [0,0.4,0]
>>>> cue.KeyFrames = [keyf1,keyf2]
>>>> movie.Play()
>
> I'm pretty sure other people have this working, so it would be good to have
> some pointers.
>
> Cheers,
>
> Adriano
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
> **********************************************************************
> This email contains information that is private and confidential and is intended only for the addressee.
> If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd. ?Registered in England, Registration No 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From agagliardi at ara.co.uk  Wed Aug 18 10:42:06 2010
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Wed, 18 Aug 2010 15:42:06 +0100
Subject: [Paraview] Moving slice animation
In-Reply-To: <AANLkTi=hEgp0Wb59NvhZhbUCGqyR0NFRh5L1n1giJe0_@mail.gmail.com>
References: <5FE9B4F076FC43608852DD3B15E8C46B@win.ara> 
	<AANLkTi=hEgp0Wb59NvhZhbUCGqyR0NFRh5L1n1giJe0_@mail.gmail.com>
Message-ID: <D13F9D6A7A9941ED9DFEBE9CDCE73925@win.ara>

Utkarsh,

I made that change you suggested and it removed the error message. However,
when using the Origin as the AnimatedPropertyName, it was ignoring all but
the first value of the vector I used for the KeyValues e.g.:

keyf1.KeyValues = [0,0,0]
keyf2.KeyValues = [1,1,0]

It would only recognise the first component of the vector and animate along
that, which didn't do anything as you'd expect (apart from move the arrow
widget). I got round this by using Offset instead of Origin and that worked
as I expected. Code is below:

movie = servermanager.animation.AnimationScene()
movie.ViewModules = (GetActiveView())
cue = servermanager.animation.KeyFrameAnimationCue()
cue.AnimatedProxy = sl.SliceType
cue.AnimatedPropertyName = "Offset"
keyf1 = servermanager.animation.CompositeKeyFrame()
keyf1.Interpolation = "Ramp"
keyf1.KeyTime = 0
keyf1.KeyValues = [0,0,0]
keyf2 = servermanager.animation.CompositeKeyFrame()
keyf2.KeyTime = 1.0
keyf2.KeyValues = [0.5,0.5,0]
cue.KeyFrames = [keyf1,keyf2]
movie.NumberOfFrames = 20
movie.Cues = [cue]

movie_writer = servermanager.vtkSMAnimationSceneImageWriter()
movie_writer.SetFileName("temp.avi")
movie_writer.SetFrameRate(3)
movie_writer.SetQuality(2)
movie_writer.SetMagnification(2)
movie_writer.SetAnimationScene(movie.SMProxy)
movie_writer.Save()

Hopefully this can give others a helping hand in the future.

Cheers,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 
-----Original Message-----
From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com] 
Sent: 18 August 2010 14:36
To: agagliardi at ara.co.uk
Cc: ParaView
Subject: Re: [Paraview] Moving slice animation

Try:

cue.AnimatedProxy = slice.SliceType
cue.AnimatedPropertyName = "Origin"

Utkarsh


On Wed, Aug 18, 2010 at 4:17 AM, Adriano Gagliardi <agagliardi at ara.co.uk>
wrote:
>
> Dear All,
>
> I've decided to revisit a problem that got me stuck a long time ago. 
> I'd like to animate a slice moving through a fluid, but I'm stuck on 
> the syntax for the cue.AnimatedPropertyName I need. I followed the 
> example from the Wiki as closely as possible. I only wish to animate 
> the y component of the origin, but since I can't pass that scalar as 
> an AnimatedPropertyName, I am defining the KeyValue as a vector 
> instead. Is this correct? Secondly, after I execute the following code, I
get this error message:
>
> ERROR: In
> /usr/people/gagliard/Paraview/FILES/ParaView3/Servers/ServerManager/vt
> kSMRam
> pKeyFrameProxy.cxx, line 53
> vtkSMRampKeyFrameProxy (0x10e34270): Cue does not have domain or 
> property set!
>
>>>> slice = GetActiveSource()
>>>> movie = servermanager.animation.AnimationScene()
>>>> movie.ViewModules = (GetActiveView()) cue = 
>>>> servermanager.animation.KeyFrameAnimationCue()
>>>> cue.AnimatedProxy = slice
>>>> cue.AnimatedPropertyName = "SliceType.Origin"
>>>> movie.Cues = [cue]
>>>> keyf1 = servermanager.animation.CompositeKeyFrame()
>>>> keyf1.Interpolation = "Ramp"
>>>> keyf1.KeyTime = 0
>>>> keyf1.KeyValues = [0,0.2,0]
>>>> keyf2 = servermanager.animation.CompositeKeyFrame()
>>>> keyf2.KeyTime = 1.0
>>>> keyf2.KeyValues = [0,0.4,0]
>>>> cue.KeyFrames = [keyf1,keyf2]
>>>> movie.Play()
>
> I'm pretty sure other people have this working, so it would be good to 
> have some pointers.
>
> Cheers,
>
> Adriano
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
> **********************************************************************
> This email contains information that is private and confidential and is
intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by 
> someone other than the recipient, for system management and security
reasons.
> Aircraft Research Association Ltd. ?Registered in England, Registration No
503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>


**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************

From Bastil2001 at yahoo.de  Wed Aug 18 14:37:39 2010
From: Bastil2001 at yahoo.de (Bastil2001 at yahoo.de)
Date: Wed, 18 Aug 2010 20:37:39 +0200
Subject: [Paraview] Reflect-Filter: Line at symmetry plane
Message-ID: <4C6C2873.6060901@yahoo.de>

 Hi,

I reflect some symmetry geometry to make a full model out of a half one.
Afterwards I have a black line in the middle of the geometry - the
position where I mirrored it. How can I get rid of this? I tried "clean
to grid" without success. My input is a multiblock-dataset from the
ensight-reader.

Thanks Bastian

From owen.arnold at stfc.ac.uk  Thu Aug 19 10:38:15 2010
From: owen.arnold at stfc.ac.uk (owen.arnold at stfc.ac.uk)
Date: Thu, 19 Aug 2010 15:38:15 +0100
Subject: [Paraview] Interacting Widgets
Message-ID: <CE2FC9C461BAB942B0ED268009C8497C0124D839@exchange17.fed.cclrc.ac.uk>

Hi,

 

I want to generate a filter that uses a vtkImplicitPlaneWidget. I want
to obtain origin and normal vector information of the plane from the
widget. I know that a number of filters in Paraview do this already
(such as the Slice and Clip filters ). Is there any documentation
describing how this is achieved? Any pointers on how I hook the filter
and the widget together would be greatly appreciated.

 

Thanks in advance,

 

Owen


-- 
Scanned by iCritical.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/60ca5db9/attachment.htm>

From utkarsh.ayachit at kitware.com  Thu Aug 19 10:54:23 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 19 Aug 2010 10:54:23 -0400
Subject: [Paraview] Interacting Widgets
In-Reply-To: <CE2FC9C461BAB942B0ED268009C8497C0124D839@exchange17.fed.cclrc.ac.uk>
References: <CE2FC9C461BAB942B0ED268009C8497C0124D839@exchange17.fed.cclrc.ac.uk>
Message-ID: <AANLkTim0WQVWFq=pDh6VwgyL1UHMrCMhxZcpqg+8KVov@mail.gmail.com>

To better answer your question, I'd like some more information.

Is your filter going to have 2 methods such as:
void SetOrigin(...);
void SetNormal(...);

Or is it going to take an vtkImplicitFunction as a parameter (like Slice).

Utkarsh

On Thu, Aug 19, 2010 at 10:38 AM,  <owen.arnold at stfc.ac.uk> wrote:
> Hi,
>
>
>
> I want to generate a filter that uses a vtkImplicitPlaneWidget. I want to
> obtain origin and normal vector information of the plane from the widget. I
> know that a number of filters in Paraview do this already (such as the Slice
> and Clip filters ). Is there any documentation describing how this is
> achieved? Any pointers on how I hook the filter and the widget together
> would be greatly appreciated.
>
>
>
> Thanks in advance,
>
>
>
> Owen
>
> --
> Scanned by iCritical.
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From andy.bauer at kitware.com  Thu Aug 19 11:39:48 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Thu, 19 Aug 2010 11:39:48 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTim7C5x1tfsfbCkYNCOyM4tMjDM-6w8X9G-kLyt-@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
	<AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>
	<AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
	<AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
	<AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
	<AANLkTimQUSo5tm5gB4HD82EBEqb9WYn_Nb9wO5c3Ay3Z@mail.gmail.com>
	<AANLkTim7C5x1tfsfbCkYNCOyM4tMjDM-6w8X9G-kLyt-@mail.gmail.com>
Message-ID: <AANLkTingSP-Zf_Y55-r3pg=F3WBDceXZdKo99kYQXCNj@mail.gmail.com>

On Thu, Aug 19, 2010 at 11:23 AM, Jacques Papper
<jacques.papper at gmail.com>wrote:

> Hi Andy,
>
> 1 : Here are he files
>

Somehow Utkarsh's change to servermanager.py didn't make it into your build
servermanager.py.  The change is:
@@ -796,6 +796,10 @@ class ArraySelectionProperty(VectorProperty):
         elif len(values) == 2:
             if isinstance(values[0], str):
                 val = str(ASSOCIATIONS[values[0]])
+            else:
+                # In case user didn't specify valid association,
+                # just pick POINTS.
+                val = str(ASSOCIATIONS['POINTS'])
             self.SMProperty.SetElement(3,  str(val))
             self.SMProperty.SetElement(4, values[1])
         else:

Try rebuilding and if you don't see those changes in your build
servermanager.py file, do a clean build.



> 2 : Thanks ! I do need this to work, so I can run on a cluster without any
> graphics card. I haven't tried the patch Adriano sent earlier yet.
>
> 3 : How do you want me to set this up for you ? If you are using the Phasta
> code then if you just replace the Hex input by Poly input then you should
> get the same problem ?
>

Do something similar to the example I put up on the coprocessing wiki.  Use
the multiblock reader to load the grid and let me know how many processes
you use when you see the problem.



>
> Thanks again,
> Jacques
>
> 2010/8/17 Andy Bauer <andy.bauer at kitware.com>
>
> For 1:  Can you send me your
>> Utilities/VTKPythonWrapping/paraview/servermanager.py in the PV source as
>> well as the
>> Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py file in
>> your PV build?
>>
>> For 2: I'll take a look at that since I have to do the same thing on a
>> remote machine I'll be working on.
>>
>> For 3: No idea why.  If you can set up a simple problem I can take a look
>> at it.
>>
>> Andy
>>
>>
>> On Tue, Aug 17, 2010 at 10:06 AM, Jacques Papper <
>> jacques.papper at gmail.com> wrote:
>>
>>> Hi All,
>>>
>>> Although I've got the coprocessing to work somehow, I still have a couple
>>> of problems :
>>>
>>> -> I have pulled from git yesterday.
>>>
>>> 1. None inside the python scripts generated by the plugin throws up some
>>> issues :
>>>
>>> Traceback (most recent call last):
>>>   File "<string>", line 2, in <module>
>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>>> 138, in DoCoProcessing
>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 207, in __setattr__
>>>     setter(self, value)
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 2367, in setProperty
>>>     return self.GetPropertyValue(propName)
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 256, in SetPropertyWithName
>>>     def SetPropertyWithName(self, pname, arg):
>>>   File
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> line 799, in SetData
>>>     if len(values) == 1:
>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>
>>>
>>> 2. When Compiling with MESA, and switching offscreen rendering ON I get
>>> problems at runtime when coprocessing (I have no problems saving screenshots
>>> directly from within paraview) :
>>>
>>>
>>> --- Some of my CMAKE settings :
>>> //Path to a file.
>>> OPENGL_INCLUDE_DIR:PATH=/usr/include
>>>
>>> //Path to a library.
>>> OPENGL_gl_LIBRARY:FILEPATH=/usr/lib64/libGL.so
>>>
>>> //Path to a library.
>>> OPENGL_glu_LIBRARY:FILEPATH=/usr/lib64/libGLU.so
>>>
>>> //Path to a file.
>>> OPENGL_xmesa_INCLUDE_DIR:PATH=/usr/include
>>>
>>> //Path to a file.
>>> OSMESA_INCLUDE_DIR:PATH=/usr/include
>>>
>>> //Path to a library.
>>> OSMESA_LIBRARY:FILEPATH=/usr/lib64/libOSMesa.so
>>>
>>> ----- RunTime error message ----
>>>
>>>
>>> #0  Foam::error::printStack(Foam::Ostream&) in
>>> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
>>> #1  Foam::sigSegv::sigSegvHandler(int) in
>>> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
>>> #2  ?? in "/lib64/libc.so.6"
>>> #3  __rawmemchr in "/lib64/libc.so.6"
>>> #4  ?? in "/lib64/libc.so.6"
>>> #5  vsscanf in "/lib64/libc.so.6"
>>> #6  _IO_sscanf in "/lib64/libc.so.6"
>>> #7  vtkOpenGLExtensionManager::ReadOpenGLExtensions() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #8  vtkOpenGLExtensionManager::Update() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #9  vtkOpenGLExtensionManager::ExtensionSupported(char const*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #10  vtkOpenGLRenderWindow::OpenGLInit() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #11  vtkXOpenGLRenderWindow::Start() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #12  vtkRenderWindow::DoStereoRender() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #13  vtkRenderWindow::DoFDRender() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #14  vtkRenderWindow::DoAARender() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #15  vtkRenderWindow::Render() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #16  vtkXOpenGLRenderWindow::Render() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>> #17  vtkXOpenGLRenderWindowCommand(vtkClientServerInterpreter*,
>>> vtkObjectBase*, char const*, vtkClientServerStream const&,
>>> vtkClientServerStream&) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRenderingCS.so"
>>> #18
>>> vtkClientServerInterpreter::ProcessCommandInvoke(vtkClientServerStream
>>> const&, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>> #19  vtkClientServerInterpreter::ProcessOneMessage(vtkClientServerStream
>>> const&, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>> #20  vtkClientServerInterpreter::ProcessStream(vtkClientServerStream
>>> const&) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>> #21  vtkSelfConnection::ProcessStreamLocally(vtkClientServerStream&) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #22
>>> vtkMPISelfConnection::SendStreamToDataServerRoot(vtkClientServerStream&) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #23  vtkProcessModuleConnection::SendStream(unsigned int,
>>> vtkClientServerStream&) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #24  vtkProcessModuleConnectionManager::SendStream(long long, unsigned
>>> int, vtkClientServerStream&, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #25  vtkProcessModule::SendStream(long long, unsigned int,
>>> vtkClientServerStream&, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>> #26  vtkSMRenderViewProxy::PerformRender() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #27  vtkSMViewProxy::StillRender() in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #28  vtkSMRenderViewProxy::CaptureWindow(int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #29  vtkSMRenderViewProxy::WriteImage(char const*, char const*, int) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>> #30  ?? at vtkSMRenderViewProxyPython.cxx:0
>>> #31  vtkPythonUtil::CallOverloadedMethod(PyMethodDef*, _object*,
>>> _object*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPythonCore.so.pv3.9"
>>> #32  PyObject_Call in "/usr/lib64/libpython2.6.so.1.0"
>>> #33  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #34  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #35  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #36  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #37  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #38  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #39  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>> #40  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>> #41  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>> #42  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>> #43  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>> #44  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>> #45  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>> #46  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>
>>>
>>> When compiling without MESA and OFFSCREEN then it works fine but I get an
>>> annoying window that pops up all the time...
>>>
>>> 3. I am able to use the Parallel Multi Block Data Set Writer, on a very
>>> simple hex mesh. But when I use it on a more complex mesh (including
>>> POLYHEDRA cells) I get the following error :
>>>
>>> When opening the file in paraview :
>>>
>>>   ERROR: In
>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLParser.cxx, line 483
>>>
>>> vtkXMLDataParser (0x18aa700): Error parsing XML in stream at line 1,
>>> column 7, byte index 7: not well-formed (invalid token)
>>>
>>>  ERROR: In
>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLReader.cxx, line 362
>>>
>>> vtkXMLUnstructuredGridReader (0x18cbbc0): Error parsing input file.
>>> ReadXMLInformation aborting.
>>>
>>>  ERROR: In
>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/Filtering/vtkExecutive.cxx,
>>> line 756
>>>
>>> vtkStreamingDemandDrivenPipeline (0xdadf60): Algorithm
>>> vtkXMLUnstructuredGridReader(0x18cbbc0) returned failure for request:
>>> vtkInformation (0x127b170)
>>>
>>> Debug: Off
>>>
>>> Modified Time: 80976
>>>
>>> Reference Count: 1
>>>
>>> Registered Events: (none)
>>>
>>> Request: REQUEST_INFORMATION
>>>
>>> ALGORITHM_AFTER_FORWARD: 1
>>>
>>> FORWARD_DIRECTION: 0
>>>
>>>
>>>
>>> When running the coprocessor  I do not get any error message. And I am
>>> still able to ouput png screenshots (when not using OFFSCREEN)... Is there
>>> an incompatibility between the writers and the polyhedra cell type ? Or is
>>> it possible that somewhere I am not filling in the cells / points properly ?
>>>
>>>
>>> Best,
>>> Jacques
>>>
>>>
>>>
>>>
>>>
>>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>>
>>>> cc'ing the list.
>>>>
>>>> Pat
>>>>
>>>>
>>>> ---------- Forwarded message ----------
>>>> From: Jacques Papper <jacques.papper at gmail.com>
>>>> Date: Mon, Aug 16, 2010 at 1:55 PM
>>>> Subject: Re: [Paraview] CoProcessing
>>>> To: pat marion <pat.marion at kitware.com>
>>>>
>>>>
>>>> Once again... My mistake .. I'm not used to submodules !
>>>>
>>>> 2010/8/16 Jacques Papper <jacques.papper at gmail.com>
>>>>
>>>> Hi, I just pulled my git..
>>>>>
>>>>> CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>>>>>   Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c
>>>>> .C
>>>>>   .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>>>>>
>>>>> I tried to configure and generate cmake but I get the same error when
>>>>> generating...
>>>>>
>>>>> Should I start from a clean cmake cache ?
>>>>>
>>>>> Jacques
>>>>>
>>>>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>>>>
>>>>> If you can't upgrade your paraview version you could try hand applying
>>>>>> the patch to /users/boreas01/jacques/
>>>>>>
>>>>>>>
>>>>>>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>>>>>>
>>>>>>
>>>>>> The patch:
>>>>>>
>>>>>>
>>>>>> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>>>>>>
>>>>>> Pat
>>>>>>
>>>>>>
>>>>>> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <
>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>
>>>>>>> Hi,
>>>>>>>
>>>>>>> I'm sorry I was just rerunning to reproduce the error, and did not
>>>>>>> realize I missed changing my input back to input.foam instead of toto.foam
>>>>>>> ....
>>>>>>>
>>>>>>> Here is the actual error message :
>>>>>>>
>>>>>>> Traceback (most recent call last):
>>>>>>>   File "<string>", line 2, in <module>
>>>>>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py",
>>>>>>> line 138, in DoCoProcessing
>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>   File
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>> line 207, in __setattr__
>>>>>>>     setter(self, value)
>>>>>>>   File
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>> line 2367, in setProperty
>>>>>>>     return self.SetPropertyWithName(propName, value)
>>>>>>>   File
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>> line 256, in SetPropertyWithName
>>>>>>>     prop.SetData(arg)
>>>>>>>   File
>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>> line 799, in SetData
>>>>>>>     self.SMProperty.SetElement(3,  str(val))
>>>>>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>>>>>
>>>>>>>
>>>>>>> Jacques
>>>>>>>
>>>>>>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>
>>>>>>> The other thing is that there was a problem when outputting images
>>>>>>>> from coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>>>>>>
>>>>>>>> Andy
>>>>>>>>
>>>>>>>>
>>>>>>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <pat.marion at kitware.com
>>>>>>>> > wrote:
>>>>>>>>
>>>>>>>>> Hi Jacques,
>>>>>>>>>
>>>>>>>>> That error message seems to be unrelated to the lines containing
>>>>>>>>> 'None' that you copied in a previous email.  It looks to me like your code
>>>>>>>>> that calls the coprocessor is not inserting the vtk data set under the name
>>>>>>>>> 'test.foam'.  In the calling code you need something like:
>>>>>>>>>
>>>>>>>>> dataDesc->AddInput("test.foam")
>>>>>>>>>
>>>>>>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>>>>>>
>>>>>>>>> Pat
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hi Pat,
>>>>>>>>>>
>>>>>>>>>> This is what shows up for me :
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Inside the Python script :
>>>>>>>>>>
>>>>>>>>>> def RequestDataDescription(datadescription):
>>>>>>>>>>     "Callback to populate the request for current timestep"
>>>>>>>>>>     timestep = datadescription.GetTimeStep()
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>     input_name = 'test.foam'
>>>>>>>>>>     if (timestep % 0.0004 == 0) :
>>>>>>>>>>
>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>>>>>>
>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>>>>>>     else:
>>>>>>>>>>
>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>>>>
>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Best,
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Jacques
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>>>>>>
>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>
>>>>>>>>>>> My python trace files have similar lines, and I am able to run
>>>>>>>>>>> them without error.  I've only just tested with latest git master, not 3.8.
>>>>>>>>>>> Can you copy the specific error message you're getting so I can take a look?
>>>>>>>>>>>
>>>>>>>>>>> Pat
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>
>>>>>>>>>>>>    Sorry I meant None... not Null :
>>>>>>>>>>>>
>>>>>>>>>>>> For example :
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>
>>>>>>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>>>>>>> CellData :) ,,,
>>>>>>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though :
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> -> Whenever I try to run directly a python script exported
>>>>>>>>>>>>>> from paraview (Through the Coprocessing export state) it won't run until I
>>>>>>>>>>>>>> remove all references to LIC and all lines containing Null...
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>>>>>>> script generator.
>>>>>>>>>>>>>
>>>>>>>>>>>>> What do you mean by Null?  I don't know what that is so you'll
>>>>>>>>>>>>> have to explain it to me.
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>> For the LIC, is it because the python script doesn't
>>>>>>>>>>>>>> automatically load the LIC plugin ?
>>>>>>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> -> Is the Live Source Data code already available in git ? I'd
>>>>>>>>>>>>>> love to test it out even if it is not robust yet.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> We don't yet have permission to release the Live Source Data
>>>>>>>>>>>>> code yet but I think it should be available in the next couple of months.
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> You probably want to add the field data to the specific grids
>>>>>>>>>>>>>>> in the multiblock data set and not just the block itself.  As an example:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> create multiblock
>>>>>>>>>>>>>>> for each grid:
>>>>>>>>>>>>>>>   create grid points and cells
>>>>>>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>>>>>>   add grid to block
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Note that in parallel for coprocessing that the block must
>>>>>>>>>>>>>>> have the same structure on each process but whether a leaf node is empty or
>>>>>>>>>>>>>>> not can change.  For example:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I'm not sure of all of the details but what I do is that I
>>>>>>>>>>>>>>> set a block to only be non-NULL on a single process.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Hope this helps,
>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I am making some more progress on this. Everything was
>>>>>>>>>>>>>>>> working until I tried adding field data... I now get an explosion :
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #6
>>>>>>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #9
>>>>>>>>>>>>>>>> vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #10
>>>>>>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #13
>>>>>>>>>>>>>>>> vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*, int)
>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #19
>>>>>>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #35  PyRun_SimpleStringFlags in
>>>>>>>>>>>>>>>> "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>>>>>>> #37
>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>>>>>>> When I do not add the field data it just complains about
>>>>>>>>>>>>>>>> missing fields so I know that the code is not completely wrong...
>>>>>>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Thanks !
>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the
>>>>>>>>>>>>>>>>> moment I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>>>>>>> I am trying to figure out the most efficient way of
>>>>>>>>>>>>>>>>> transferring my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells()
>>>>>>>>>>>>>>>>> method, which means I probably need to use the vtkCellArray::SetCells()
>>>>>>>>>>>>>>>>> method, and therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>>>>>>> The problem is I am not sure what the format of the array
>>>>>>>>>>>>>>>>> should be ?
>>>>>>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of
>>>>>>>>>>>>>>>>> which are known types like hex prism etc..).
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods,
>>>>>>>>>>>>>>>>> but I was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for
>>>>>>>>>>>>>>>>>> running a coprocessing.  It's at:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>>>>>>> Let me know if you have any problems with it so that I can
>>>>>>>>>>>>>>>>>> fix any errors that I have.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Also, I just made changes so that the coprocessing library
>>>>>>>>>>>>>>>>>> gets installed properly.
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.
>>>>>>>>>>>>>>>>>>>> It creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>     this->Sphere =
>>>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of
>>>>>>>>>>>>>>>>>>>> steps>\n", argv[0]);
>>>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " +
>>>>>>>>>>>>>>>>>>>> cpPythonFile);
>>>>>>>>>>>>>>>>>>>>   int success =
>>>>>>>>>>>>>>>>>>>> pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime <<
>>>>>>>>>>>>>>>>>>>> ")";
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " +
>>>>>>>>>>>>>>>>>>>> timeStr.str());
>>>>>>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>>>>>>> As far as I know it works with all of the proper
>>>>>>>>>>>>>>>>>>>>> filters but since I haven't tried it yet I won't promise that.  The good
>>>>>>>>>>>>>>>>>>>>> news is that Will Schroeder had a high interest in it and probably worked on
>>>>>>>>>>>>>>>>>>>>> some of it so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to
>>>>>>>>>>>>>>>>>>>>> their developers it was a finalist for the 2009 Gordon Bell prize).  The
>>>>>>>>>>>>>>>>>>>>> grid is already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the FortranAdaptorAPI
>>>>>>>>>>>>>>>>>>>>>> as a guide for the moment.
>>>>>>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell
>>>>>>>>>>>>>>>>>>>>>> support in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral mesh
>>>>>>>>>>>>>>>>>>>>>> domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see
>>>>>>>>>>>>>>>>>>>>>> any MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the
>>>>>>>>>>>>>>>>>>>>>>> PHASTA adaptor (
>>>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>>>>>>>>>>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton
>>>>>>>>>>>>>>>>>>>>>>> of a simulation code on the coprocessing wiki that should hopefully be
>>>>>>>>>>>>>>>>>>>>>>> easier to follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had
>>>>>>>>>>>>>>>>>>>>>>>> wrongly set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView CoProcessing
>>>>>>>>>>>>>>>>>>>>>>>>> libraries.
>>>>>>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all
>>>>>>>>>>>>>>>>>>>>>>>>> up following the guidelines in :
>>>>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any
>>>>>>>>>>>>>>>>>>>>>>>>> issues.
>>>>>>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>>>     Start 493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>>>> 3/3 Test #493: CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>>>> ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on
>>>>>>>>>>>>>>>>>>>>>>>>> the master branch ?
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor
>>>>>>>>>>>>>>>>>>>>>>>>> to a C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/b169b0cb/attachment-0001.htm>

From xunlei at renci.org  Thu Aug 19 11:40:49 2010
From: xunlei at renci.org (Dr. X)
Date: Thu, 19 Aug 2010 11:40:49 -0400
Subject: [Paraview] ParaView Git build failed to run on Windows7
In-Reply-To: <AANLkTimnUcs5tmqoNEtrtgCU3gLEzz2CQJEBfnkmqMt5@mail.gmail.com>
References: <AANLkTimnUcs5tmqoNEtrtgCU3gLEzz2CQJEBfnkmqMt5@mail.gmail.com>
Message-ID: <4C6D5081.8080200@renci.org>

  Hi,
I just built ParaView git under Windows7 64bit + MSVC2008. When I 
launched paraview.exe, I encountered

"paraview.exe has stopped working
A problem caused the progrma to stop working correctly. windows will 
close the program and notify you if a solution is available.
     Debug   Close Program"

The git build is the only ParaView instance on my computer and its path 
is registered with the OS. Did I miss any steps after the build? Thanks 
a lot.

Best,
x

From jfavre at cscs.ch  Thu Aug 19 15:49:35 2010
From: jfavre at cscs.ch (Favre  Jean)
Date: Thu, 19 Aug 2010 21:49:35 +0200
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>


i am having difficulty with pvbatch - compiled with Mesa 7.6 - running in parallel and hanging after the first WriteImage in my python scripts.

I have tested several compilations on different clusters, several MPI (mvapich and openmpi) and still cannot make this work.  It writes the first image and then deadlocks or dies somewhere.

I have no error messages to give me a clue. The pvserver from the same compilation works fine when connected to a client.

This would be a test line:

mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch coloredSphere.0.py

are there problems with my syntax, or something I overlooked in this simple example?

thanks for any tip.

-----------------
Jean M. Favre
Swiss National Supercomputing Center

-------------- next part --------------
A non-text attachment was scrubbed...
Name: coloredSphere.0.py
Type: text/x-python
Size: 1293 bytes
Desc: coloredSphere.0.py
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/defc607d/attachment.py>

From emonson at cs.duke.edu  Thu Aug 19 17:09:14 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Thu, 19 Aug 2010 17:09:14 -0400
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
In-Reply-To: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
References: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
Message-ID: <147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>

Hey Jean,

I am getting the same behavior on my Mac OS X 10.6 compiled with OpenMPI (but no OSMesa). I can run scripts like yours from the ParaView Python shell when connected to a four-process pvserver just fine, and it works from the same build of pvbatch run in serial (without mpirun), but when I try to run pvbatch with 

mpirun -np 4 ./pvbatch coloredSphere.0.py

it hangs after writing the first image and giving me this output:

vtkSphereSource : [ ...........]
vtkSphereSource(3) : [ ...........]
vtkSphereSource(1) : [ ...........]
vtkSphereSource(2) : [ ...........]
vtkPVGeometryFilter : [ ...........]
vtkPVGeometryFilter(1) : [ ...........]
vtkPainterPolyDataMapper : [ ...........]
vtkPainterPolyDataMapper : [ ...........]
Process id: 2 >> ERROR: In /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx, line 1869
vtkIceTRenderManager (0x10b104a90): Failed to read window information

Process id: 3 >> ERROR: In /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx, line 1869
vtkIceTRenderManager (0x10be0ec40): Failed to read window information

Process id: 1 >> ERROR: In /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx, line 1869
vtkIceTRenderManager (0x10b604a10): Failed to read window information


Even a simple example like this hangs in the same way:

from paraview.simple import *

view = CreateRenderView()

sphere = Sphere()
Show()
Render()

WriteImage("sphere.0.png")
WriteImage("sphere.1.png")

Sorry I don't have any solution, but hopefully this will help someone who knows more figure it out. :)
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 19, 2010, at 3:49 PM, Favre Jean wrote:

> 
> i am having difficulty with pvbatch - compiled with Mesa 7.6 - running in parallel and hanging after the first WriteImage in my python scripts.
> 
> I have tested several compilations on different clusters, several MPI (mvapich and openmpi) and still cannot make this work.  It writes the first image and then deadlocks or dies somewhere.
> 
> I have no error messages to give me a clue. The pvserver from the same compilation works fine when connected to a client.
> 
> This would be a test line:
> 
> mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch coloredSphere.0.py
> 
> are there problems with my syntax, or something I overlooked in this simple example?
> 
> thanks for any tip.
> 
> -----------------
> Jean M. Favre
> Swiss National Supercomputing Center
> 
> <coloredSphere.0.py>_______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From pat.marion at kitware.com  Thu Aug 19 17:12:19 2010
From: pat.marion at kitware.com (pat marion)
Date: Thu, 19 Aug 2010 17:12:19 -0400
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
In-Reply-To: <147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>
References: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
	<147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>
Message-ID: <AANLkTim11pqzSF2=k_7a3gX=+rOp-PWoaVxd6uNN9ucT@mail.gmail.com>

I can repeat this.  Believe it or not, WriteImage does an mpi broadcast.  In
the 3.8 release and some time afterward it worked fine, but it doesn't seem
to work now.

Pat

On Thu, Aug 19, 2010 at 5:09 PM, Eric E. Monson <emonson at cs.duke.edu> wrote:

> Hey Jean,
>
> I am getting the same behavior on my Mac OS X 10.6 compiled with OpenMPI
> (but no OSMesa). I can run scripts like yours from the ParaView Python shell
> when connected to a four-process pvserver just fine, and it works from the
> same build of pvbatch run in serial (without mpirun), but when I try to run
> pvbatch with
>
> mpirun -np 4 ./pvbatch coloredSphere.0.py
>
> it hangs after writing the first image and giving me this output:
>
> vtkSphereSource : [ ...........]
> vtkSphereSource(3) : [ ...........]
> vtkSphereSource(1) : [ ...........]
> vtkSphereSource(2) : [ ...........]
> vtkPVGeometryFilter : [ ...........]
> vtkPVGeometryFilter(1) : [ ...........]
> vtkPainterPolyDataMapper : [ ...........]
> vtkPainterPolyDataMapper : [ ...........]
> Process id: 2 >> ERROR: In
> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
> line 1869
> vtkIceTRenderManager (0x10b104a90): Failed to read window information
>
> Process id: 3 >> ERROR: In
> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
> line 1869
> vtkIceTRenderManager (0x10be0ec40): Failed to read window information
>
> Process id: 1 >> ERROR: In
> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
> line 1869
> vtkIceTRenderManager (0x10b604a10): Failed to read window information
>
>
> Even a simple example like this hangs in the same way:
>
> from paraview.simple import *
>
> view = CreateRenderView()
>
> sphere = Sphere()
> Show()
> Render()
>
> WriteImage("sphere.0.png")
> WriteImage("sphere.1.png")
>
> Sorry I don't have any solution, but hopefully this will help someone who
> knows more figure it out. :)
> -Eric
>
> ------------------------------------------------------
> Eric E Monson
> Duke Visualization Technology Group
>
>
> On Aug 19, 2010, at 3:49 PM, Favre Jean wrote:
>
> >
> > i am having difficulty with pvbatch - compiled with Mesa 7.6 - running in
> parallel and hanging after the first WriteImage in my python scripts.
> >
> > I have tested several compilations on different clusters, several MPI
> (mvapich and openmpi) and still cannot make this work.  It writes the first
> image and then deadlocks or dies somewhere.
> >
> > I have no error messages to give me a clue. The pvserver from the same
> compilation works fine when connected to a client.
> >
> > This would be a test line:
> >
> > mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch
> coloredSphere.0.py
> >
> > are there problems with my syntax, or something I overlooked in this
> simple example?
> >
> > thanks for any tip.
> >
> > -----------------
> > Jean M. Favre
> > Swiss National Supercomputing Center
> >
> > <coloredSphere.0.py>_______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/bc5107be/attachment.htm>

From pat.marion at kitware.com  Thu Aug 19 17:22:28 2010
From: pat.marion at kitware.com (pat marion)
Date: Thu, 19 Aug 2010 17:22:28 -0400
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
In-Reply-To: <AANLkTim11pqzSF2=k_7a3gX=+rOp-PWoaVxd6uNN9ucT@mail.gmail.com>
References: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
	<147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>
	<AANLkTim11pqzSF2=k_7a3gX=+rOp-PWoaVxd6uNN9ucT@mail.gmail.com>
Message-ID: <AANLkTinRmMD2Jhn7Cg4W9+WDg2xcPi-f-oMY-yi7Q_xg@mail.gmail.com>

I think it may have been buggy ever since the mpi broadcast was added, but a
month and a half ago Utkarsh added a debugging call to Barrier to expose to
help expose these issues.  I'll fix.

Pat

On Thu, Aug 19, 2010 at 5:12 PM, pat marion <pat.marion at kitware.com> wrote:

> I can repeat this.  Believe it or not, WriteImage does an mpi broadcast.
> In the 3.8 release and some time afterward it worked fine, but it doesn't
> seem to work now.
>
> Pat
>
>
> On Thu, Aug 19, 2010 at 5:09 PM, Eric E. Monson <emonson at cs.duke.edu>wrote:
>
>> Hey Jean,
>>
>> I am getting the same behavior on my Mac OS X 10.6 compiled with OpenMPI
>> (but no OSMesa). I can run scripts like yours from the ParaView Python shell
>> when connected to a four-process pvserver just fine, and it works from the
>> same build of pvbatch run in serial (without mpirun), but when I try to run
>> pvbatch with
>>
>> mpirun -np 4 ./pvbatch coloredSphere.0.py
>>
>> it hangs after writing the first image and giving me this output:
>>
>> vtkSphereSource : [ ...........]
>> vtkSphereSource(3) : [ ...........]
>> vtkSphereSource(1) : [ ...........]
>> vtkSphereSource(2) : [ ...........]
>> vtkPVGeometryFilter : [ ...........]
>> vtkPVGeometryFilter(1) : [ ...........]
>> vtkPainterPolyDataMapper : [ ...........]
>> vtkPainterPolyDataMapper : [ ...........]
>> Process id: 2 >> ERROR: In
>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>> line 1869
>> vtkIceTRenderManager (0x10b104a90): Failed to read window information
>>
>> Process id: 3 >> ERROR: In
>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>> line 1869
>> vtkIceTRenderManager (0x10be0ec40): Failed to read window information
>>
>> Process id: 1 >> ERROR: In
>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>> line 1869
>> vtkIceTRenderManager (0x10b604a10): Failed to read window information
>>
>>
>> Even a simple example like this hangs in the same way:
>>
>> from paraview.simple import *
>>
>> view = CreateRenderView()
>>
>> sphere = Sphere()
>> Show()
>> Render()
>>
>> WriteImage("sphere.0.png")
>> WriteImage("sphere.1.png")
>>
>> Sorry I don't have any solution, but hopefully this will help someone who
>> knows more figure it out. :)
>> -Eric
>>
>> ------------------------------------------------------
>> Eric E Monson
>> Duke Visualization Technology Group
>>
>>
>> On Aug 19, 2010, at 3:49 PM, Favre Jean wrote:
>>
>> >
>> > i am having difficulty with pvbatch - compiled with Mesa 7.6 - running
>> in parallel and hanging after the first WriteImage in my python scripts.
>> >
>> > I have tested several compilations on different clusters, several MPI
>> (mvapich and openmpi) and still cannot make this work.  It writes the first
>> image and then deadlocks or dies somewhere.
>> >
>> > I have no error messages to give me a clue. The pvserver from the same
>> compilation works fine when connected to a client.
>> >
>> > This would be a test line:
>> >
>> > mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch
>> coloredSphere.0.py
>> >
>> > are there problems with my syntax, or something I overlooked in this
>> simple example?
>> >
>> > thanks for any tip.
>> >
>> > -----------------
>> > Jean M. Favre
>> > Swiss National Supercomputing Center
>> >
>> > <coloredSphere.0.py>_______________________________________________
>> > Powered by www.kitware.com
>> >
>> > Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>> >
>> > Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>> >
>> > Follow this link to subscribe/unsubscribe:
>> > http://www.paraview.org/mailman/listinfo/paraview
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/ebf410ac/attachment-0001.htm>

From pat.marion at kitware.com  Thu Aug 19 17:24:36 2010
From: pat.marion at kitware.com (pat marion)
Date: Thu, 19 Aug 2010 17:24:36 -0400
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
In-Reply-To: <AANLkTinRmMD2Jhn7Cg4W9+WDg2xcPi-f-oMY-yi7Q_xg@mail.gmail.com>
References: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
	<147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>
	<AANLkTim11pqzSF2=k_7a3gX=+rOp-PWoaVxd6uNN9ucT@mail.gmail.com>
	<AANLkTinRmMD2Jhn7Cg4W9+WDg2xcPi-f-oMY-yi7Q_xg@mail.gmail.com>
Message-ID: <AANLkTik3HLHbgDUNRUsQzwGgiXO+5Anxciw2knjmvECb@mail.gmail.com>

In the meantime, you can fix it by replacing the body of
vtkSMUtilities::SaveImageOnProcessZero with:

  return SaveImage(image, filename, writerName);

Pat

On Thu, Aug 19, 2010 at 5:22 PM, pat marion <pat.marion at kitware.com> wrote:

> I think it may have been buggy ever since the mpi broadcast was added, but
> a month and a half ago Utkarsh added a debugging call to Barrier to expose
> to help expose these issues.  I'll fix.
>
> Pat
>
>
> On Thu, Aug 19, 2010 at 5:12 PM, pat marion <pat.marion at kitware.com>wrote:
>
>> I can repeat this.  Believe it or not, WriteImage does an mpi broadcast.
>> In the 3.8 release and some time afterward it worked fine, but it doesn't
>> seem to work now.
>>
>> Pat
>>
>>
>> On Thu, Aug 19, 2010 at 5:09 PM, Eric E. Monson <emonson at cs.duke.edu>wrote:
>>
>>> Hey Jean,
>>>
>>> I am getting the same behavior on my Mac OS X 10.6 compiled with OpenMPI
>>> (but no OSMesa). I can run scripts like yours from the ParaView Python shell
>>> when connected to a four-process pvserver just fine, and it works from the
>>> same build of pvbatch run in serial (without mpirun), but when I try to run
>>> pvbatch with
>>>
>>> mpirun -np 4 ./pvbatch coloredSphere.0.py
>>>
>>> it hangs after writing the first image and giving me this output:
>>>
>>> vtkSphereSource : [ ...........]
>>> vtkSphereSource(3) : [ ...........]
>>> vtkSphereSource(1) : [ ...........]
>>> vtkSphereSource(2) : [ ...........]
>>> vtkPVGeometryFilter : [ ...........]
>>> vtkPVGeometryFilter(1) : [ ...........]
>>> vtkPainterPolyDataMapper : [ ...........]
>>> vtkPainterPolyDataMapper : [ ...........]
>>> Process id: 2 >> ERROR: In
>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>> line 1869
>>> vtkIceTRenderManager (0x10b104a90): Failed to read window information
>>>
>>> Process id: 3 >> ERROR: In
>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>> line 1869
>>> vtkIceTRenderManager (0x10be0ec40): Failed to read window information
>>>
>>> Process id: 1 >> ERROR: In
>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>> line 1869
>>> vtkIceTRenderManager (0x10b604a10): Failed to read window information
>>>
>>>
>>> Even a simple example like this hangs in the same way:
>>>
>>> from paraview.simple import *
>>>
>>> view = CreateRenderView()
>>>
>>> sphere = Sphere()
>>> Show()
>>> Render()
>>>
>>> WriteImage("sphere.0.png")
>>> WriteImage("sphere.1.png")
>>>
>>> Sorry I don't have any solution, but hopefully this will help someone who
>>> knows more figure it out. :)
>>> -Eric
>>>
>>> ------------------------------------------------------
>>> Eric E Monson
>>> Duke Visualization Technology Group
>>>
>>>
>>> On Aug 19, 2010, at 3:49 PM, Favre Jean wrote:
>>>
>>> >
>>> > i am having difficulty with pvbatch - compiled with Mesa 7.6 - running
>>> in parallel and hanging after the first WriteImage in my python scripts.
>>> >
>>> > I have tested several compilations on different clusters, several MPI
>>> (mvapich and openmpi) and still cannot make this work.  It writes the first
>>> image and then deadlocks or dies somewhere.
>>> >
>>> > I have no error messages to give me a clue. The pvserver from the same
>>> compilation works fine when connected to a client.
>>> >
>>> > This would be a test line:
>>> >
>>> > mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch
>>> coloredSphere.0.py
>>> >
>>> > are there problems with my syntax, or something I overlooked in this
>>> simple example?
>>> >
>>> > thanks for any tip.
>>> >
>>> > -----------------
>>> > Jean M. Favre
>>> > Swiss National Supercomputing Center
>>> >
>>> > <coloredSphere.0.py>_______________________________________________
>>> > Powered by www.kitware.com
>>> >
>>> > Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>> >
>>> > Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>> >
>>> > Follow this link to subscribe/unsubscribe:
>>> > http://www.paraview.org/mailman/listinfo/paraview
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/9b6ceeb4/attachment.htm>

From pat.marion at kitware.com  Thu Aug 19 17:47:10 2010
From: pat.marion at kitware.com (pat marion)
Date: Thu, 19 Aug 2010 17:47:10 -0400
Subject: [Paraview] pvbatch hanging in parallel after WriteImage?
In-Reply-To: <AANLkTik3HLHbgDUNRUsQzwGgiXO+5Anxciw2knjmvECb@mail.gmail.com>
References: <AB48A31C4EC97E498F4235B7CEF74A194D3179D7B1@MBX00.d.ethz.ch>
	<147E7001-9617-49C0-8E1F-C2613F012B11@cs.duke.edu>
	<AANLkTim11pqzSF2=k_7a3gX=+rOp-PWoaVxd6uNN9ucT@mail.gmail.com>
	<AANLkTinRmMD2Jhn7Cg4W9+WDg2xcPi-f-oMY-yi7Q_xg@mail.gmail.com>
	<AANLkTik3HLHbgDUNRUsQzwGgiXO+5Anxciw2knjmvECb@mail.gmail.com>
Message-ID: <AANLkTimTcYBfHyN5SEco8W1zG=WjsYF0uzqG_5vmvk3-@mail.gmail.com>

Attached is a patch that fixes the problem.  I'm cc'ing Ken because he is
the one who originally introduced the mpi broadcast in commit e9096f4 (then
I moved the routine to vtkSMUtilities in commit 514322c)  I want to make
sure this new patch continues to work for his use case.

Pat

On Thu, Aug 19, 2010 at 5:24 PM, pat marion <pat.marion at kitware.com> wrote:

> In the meantime, you can fix it by replacing the body of
> vtkSMUtilities::SaveImageOnProcessZero with:
>
>   return SaveImage(image, filename, writerName);
>
> Pat
>
>
> On Thu, Aug 19, 2010 at 5:22 PM, pat marion <pat.marion at kitware.com>wrote:
>
>> I think it may have been buggy ever since the mpi broadcast was added, but
>> a month and a half ago Utkarsh added a debugging call to Barrier to expose
>> to help expose these issues.  I'll fix.
>>
>> Pat
>>
>>
>> On Thu, Aug 19, 2010 at 5:12 PM, pat marion <pat.marion at kitware.com>wrote:
>>
>>> I can repeat this.  Believe it or not, WriteImage does an mpi broadcast.
>>> In the 3.8 release and some time afterward it worked fine, but it doesn't
>>> seem to work now.
>>>
>>> Pat
>>>
>>>
>>> On Thu, Aug 19, 2010 at 5:09 PM, Eric E. Monson <emonson at cs.duke.edu>wrote:
>>>
>>>> Hey Jean,
>>>>
>>>> I am getting the same behavior on my Mac OS X 10.6 compiled with OpenMPI
>>>> (but no OSMesa). I can run scripts like yours from the ParaView Python shell
>>>> when connected to a four-process pvserver just fine, and it works from the
>>>> same build of pvbatch run in serial (without mpirun), but when I try to run
>>>> pvbatch with
>>>>
>>>> mpirun -np 4 ./pvbatch coloredSphere.0.py
>>>>
>>>> it hangs after writing the first image and giving me this output:
>>>>
>>>> vtkSphereSource : [ ...........]
>>>> vtkSphereSource(3) : [ ...........]
>>>> vtkSphereSource(1) : [ ...........]
>>>> vtkSphereSource(2) : [ ...........]
>>>> vtkPVGeometryFilter : [ ...........]
>>>> vtkPVGeometryFilter(1) : [ ...........]
>>>> vtkPainterPolyDataMapper : [ ...........]
>>>> vtkPainterPolyDataMapper : [ ...........]
>>>> Process id: 2 >> ERROR: In
>>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>>> line 1869
>>>> vtkIceTRenderManager (0x10b104a90): Failed to read window information
>>>>
>>>> Process id: 3 >> ERROR: In
>>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>>> line 1869
>>>> vtkIceTRenderManager (0x10be0ec40): Failed to read window information
>>>>
>>>> Process id: 1 >> ERROR: In
>>>> /Users/emonson/Programming/ParaView_git/ParaView/VTK/Parallel/vtkParallelRenderManager.cxx,
>>>> line 1869
>>>> vtkIceTRenderManager (0x10b604a10): Failed to read window information
>>>>
>>>>
>>>> Even a simple example like this hangs in the same way:
>>>>
>>>> from paraview.simple import *
>>>>
>>>> view = CreateRenderView()
>>>>
>>>> sphere = Sphere()
>>>> Show()
>>>> Render()
>>>>
>>>> WriteImage("sphere.0.png")
>>>> WriteImage("sphere.1.png")
>>>>
>>>> Sorry I don't have any solution, but hopefully this will help someone
>>>> who knows more figure it out. :)
>>>> -Eric
>>>>
>>>> ------------------------------------------------------
>>>> Eric E Monson
>>>> Duke Visualization Technology Group
>>>>
>>>>
>>>> On Aug 19, 2010, at 3:49 PM, Favre Jean wrote:
>>>>
>>>> >
>>>> > i am having difficulty with pvbatch - compiled with Mesa 7.6 - running
>>>> in parallel and hanging after the first WriteImage in my python scripts.
>>>> >
>>>> > I have tested several compilations on different clusters, several MPI
>>>> (mvapich and openmpi) and still cannot make this work.  It writes the first
>>>> image and then deadlocks or dies somewhere.
>>>> >
>>>> > I have no error messages to give me a clue. The pvserver from the same
>>>> compilation works fine when connected to a client.
>>>> >
>>>> > This would be a test line:
>>>> >
>>>> > mpirun -np 12 --use-offscreen-rendering -display :0.0 pvbatch
>>>> coloredSphere.0.py
>>>> >
>>>> > are there problems with my syntax, or something I overlooked in this
>>>> simple example?
>>>> >
>>>> > thanks for any tip.
>>>> >
>>>> > -----------------
>>>> > Jean M. Favre
>>>> > Swiss National Supercomputing Center
>>>> >
>>>> > <coloredSphere.0.py>_______________________________________________
>>>> > Powered by www.kitware.com
>>>> >
>>>> > Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>> >
>>>> > Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>> >
>>>> > Follow this link to subscribe/unsubscribe:
>>>> > http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/5bb041af/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: write_image_fix.diff
Type: text/x-patch
Size: 857 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/5bb041af/attachment.bin>

From rakesh.hammond at googlemail.com  Thu Aug 19 18:47:49 2010
From: rakesh.hammond at googlemail.com (Rakesh Hammond)
Date: Thu, 19 Aug 2010 23:47:49 +0100
Subject: [Paraview] Fwd: saving screen shot as a PNG image,
	Paraview-3.8.0
In-Reply-To: <AANLkTik29Rq7KsajjhWGcrZuk2Hcs9HOLD4t4TL0PvB0@mail.gmail.com>
References: <AANLkTi=_fVefzTAOU97v0CwEP_x-ev90AJR7NB9=CNtr@mail.gmail.com>
	<AANLkTi=XmRD5HsakKdchO09MdbuUEdqFPmAJ3ONTCi4n@mail.gmail.com>
	<AANLkTimS2SHQ13RfRume-ZW5-EhxuXc0anfiFRaCn_-B@mail.gmail.com>
	<AANLkTim5vzeYueVbp1DvY3bN3oEfiXw13eq9Zh=d4tYr@mail.gmail.com>
	<AANLkTik29Rq7KsajjhWGcrZuk2Hcs9HOLD4t4TL0PvB0@mail.gmail.com>
Message-ID: <AANLkTin+xLkThMewd2NGfE4GEPbWye0+JuF=gx+1wbFY@mail.gmail.com>

I thought I will share my findings on this bug.

It appears to affect 64 bit platforms only when saving in PNG format.

I have managed to track down the bug to Intel compiler (works ok with gcc).
If any of you come across this bug, you need
Intel compiler 11.1 (patch 72) for it to work.

However if you compile in Debug mode, Paraview-3.8 is not affected with
Intel 11.1 and patch 59 (or 69 for that matter).

Hope this helps,

Regards,

On 13 August 2010 19:41, Dave Partyka <dave.partyka at kitware.com> wrote:

> Hi Rakesh,
>
> You mentioned CVS. I just want to double check are you really still using
> CVS ParaView? or are you on the git release branch? Or using the source
> tarball from the webpage?
>
>
> On Fri, Aug 13, 2010 at 2:26 PM, Rakesh Hammond <
> rakesh.hammond at googlemail.com> wrote:
>
>>
>>
>> ---------- Forwarded message ----------
>> From: Rakesh Hammond <rakesh.hammond at googlemail.com>
>> Date: 13 August 2010 19:26
>> Subject: Re: [Paraview] saving screen shot as a PNG image, Paraview-3.8.0
>> To: pat marion <pat.marion at kitware.com>
>>
>>
>> Hi Pat,
>>
>> Thanks for your suggestion - but didn't help, PV-3.8 still crashed.
>>
>> I am able to save the screen shot using other formats (jpg, bmp etc).
>>
>> I looked into it a little bit further and I think this is where its seg
>> faulting
>> (I am on 3.8 release branch, not the latest CVS)
>>
>> in vtkPNGWriter.cxx
>>
>> line 278 - the following for loop
>>
>>  for (ui = 0; ui < height; ui++)
>>     {
>>     row_pointers[height - ui - 1] = (png_byte *)outPtr;
>>     outPtr = (unsigned char *)outPtr + rowInc;
>>     }
>>
>> However, if I put a print statement inside the for loop(Hello world for
>> example), PV doesn't crash.  This may be due to a memory leak some where
>> else.
>>
>> Can some one please comment on what sort of modifications I should make to
>> the above code?
>>
>> I think this may be a nasty bug to recreate - has any one else encountered
>> this problem?
>>
>> This is what I tried to do
>>
>> start PV
>> Load some data
>> File->SaveScreenShot->
>> Now choose the .PNG format and my PV-3.8 crashes
>>
>> Regards,
>>
>>
>> On 12 August 2010 19:26, pat marion <pat.marion at kitware.com> wrote:
>>
>>> Hi Rakesh,
>>>
>>> In Edit -> Settings -> Render View there is an option "Use Offscreen
>>> Rendering for Screenshots."  On some systems, this option will cause a crash
>>> when enabled.
>>>
>>> Pat
>>>
>>> On Thu, Aug 12, 2010 at 1:42 PM, Rakesh Hammond <
>>> rakesh.hammond at googlemail.com> wrote:
>>>
>>>>  Hi
>>>>
>>>> I have a .pvti file which I can visualize in Paraview-3.8.0.
>>>>
>>>> I would like to save a slice from my data set and able to display the
>>>> results correctly.
>>>> However, when I select SaveScreen option with PNG format, it seg faults.
>>>>
>>>> I am able to get this to work correctly on 3.6.2 without seg faulting.
>>>>
>>>> I am on SuSe-10.2.
>>>>
>>>> Do I need to turn on the USE_SYSTEM_PNG flag in CMake and re-compile?
>>>> I haven't done this for 3.6.2 and works OK.
>>>>
>>>> Has any one else come across this problem before?
>>>>
>>>> Any pointers would be greatly appreciated.
>>>>
>>>> Regards,
>>>>
>>>> Rakesh
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/04ba9cb3/attachment-0001.htm>

From wascott at sandia.gov  Thu Aug 19 20:28:33 2010
From: wascott at sandia.gov (Scott, W Alan)
Date: Thu, 19 Aug 2010 18:28:33 -0600
Subject: [Paraview] nan
Message-ID: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>

Is there a way to convert nan's to zeros in ParaView?  I have a user that is trying to use the integrate data filter, and it is having troubles with NANs.

Thanks,

Alan



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/7305eda9/attachment.htm>

From kmorel at sandia.gov  Thu Aug 19 23:24:01 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Thu, 19 Aug 2010 21:24:01 -0600
Subject: [Paraview] nan
In-Reply-To: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
Message-ID: <C8935171.5848%kmorel@sandia.gov>

This might not be the best solution, but you can use the threshold filter to remove NANs.  A NAN will always fall outside the threshold range.

-Ken


On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:

Is there a way to convert nan's to zeros in ParaView?  I have a user that is trying to use the integrate data filter, and it is having troubles with NANs.

Thanks,

Alan




-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100819/6efd8dda/attachment.htm>

From lester_anderson1963 at hotmail.com  Fri Aug 20 05:55:53 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Fri, 20 Aug 2010 10:55:53 +0100
Subject: [Paraview] Plate boundaries VTK or Paraview format
Message-ID: <SNT108-W2205B89791F76DA38C6EE38A9F0@phx.gbl>


Hello

Is there a pre-built Paraview or VTK format file for Plate Boundaries (geophysics)? I need to correlate seismic tomography
models with the existing plate boundaries for illustrative purposes. 

I found the coastline and political data in the Example Paraview data, and that worked fine.

Thanks

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/b81d648e/attachment.htm>

From dave.demarle at kitware.com  Fri Aug 20 09:26:05 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Fri, 20 Aug 2010 09:26:05 -0400
Subject: [Paraview] nan
In-Reply-To: <C8935171.5848%kmorel@sandia.gov>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
Message-ID: <AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>

You might write a python filter that iterates over all floating point arrays and
replaces nan's with 0.

According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
The most py version robust way to check for nan is:

def isNaN(num):
    return num != num

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> This might not be the best solution, but you can use the threshold filter to
> remove NANs. ?A NAN will always fall outside the threshold range.
>
> -Ken
>
>
> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>
> Is there a way to convert nan?s to zeros in ParaView? ?I have a user that is
> trying to use the integrate data filter, and it is having troubles with
> NANs.
>
> Thanks,
>
> Alan
>
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From dave.demarle at kitware.com  Fri Aug 20 09:34:31 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Fri, 20 Aug 2010 09:34:31 -0400
Subject: [Paraview] nan
In-Reply-To: <AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
Message-ID: <AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>

That said, the same trick may work in the standard calculator filter
with the expression:

if(val=val, val, 0.0)

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
<dave.demarle at kitware.com> wrote:
> You might write a python filter that iterates over all floating point arrays and
> replaces nan's with 0.
>
> According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> The most py version robust way to check for nan is:
>
> def isNaN(num):
> ? ?return num != num
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
>> This might not be the best solution, but you can use the threshold filter to
>> remove NANs. ?A NAN will always fall outside the threshold range.
>>
>> -Ken
>>
>>
>> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>>
>> Is there a way to convert nan?s to zeros in ParaView? ?I have a user that is
>> trying to use the integrate data filter, and it is having troubles with
>> NANs.
>>
>> Thanks,
>>
>> Alan
>>
>>
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>

From nataliehapp at hotmail.com  Fri Aug 20 09:55:00 2010
From: nataliehapp at hotmail.com (Natalie Happenhofer)
Date: Fri, 20 Aug 2010 15:55:00 +0200
Subject: [Paraview] problems creating a Rectilinear Grid
Message-ID: <SNT123-W53F9E724505605DF08DF49BC9F0@phx.gbl>


Hi!

I am writing a filter which should calculate the horizontal average of a given dataset and display it as a function of depth. In my case, the x-coordinate specifies the radius and therefore the depth. 

 I chose the output to be a rectilinear grid and tried to set it like this:

vtkInformation* outInfo = outputVector -> GetInformationObject(0);
 vtkRectilinearGrid* output = vtkRectilinearGrid::SafeDownCast(outInfo -> Get(vtkDataObject::DATA_OBJECT()));

//calculating the horizontal average

output -> SetDimensions(dims[0],1,1);
output -> SetXCoordinates(xCoord);
output -> SetYCoordinates(yCoord);
output -> SetZCoordinates(zCoord);

output -> GetPointData() -> AddArray(horizontal);
output -> Squeeze();

dims[0] is the dimension in x-direction I get from the input, xCoord, yCoord and zCoord are of the type vtkFloatArray and contain the coordinates in the according direction. I compared their number of tuples to  the dimensions I specified - they agree. 

Lamentably, I get a segmentation fault setting the dimensions in the output array. Did I forget to specify something? Does specifying the dimensions and the Coordinates not suffice to determine the Rectilinear Grid?

Once the Array is set, I would like to call the PlotData -filter or something that creates a cartesian grid and draws my function. How do I do that?

Thanks a lot and have a nice weekend,
Natalie

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/8cd897c9/attachment.htm>

From aur.marsan at gmail.com  Fri Aug 20 10:00:51 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Fri, 20 Aug 2010 16:00:51 +0200
Subject: [Paraview] nan
In-Reply-To: <AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
Message-ID: <AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>

Hi,

If you're using python, and if you can use the numpy library, you can use
the function numpy.nan_to_num too.
http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num

Regards,

Aur?lien

2010/8/20 David E DeMarle <dave.demarle at kitware.com>

> That said, the same trick may work in the standard calculator filter
> with the expression:
>
> if(val=val, val, 0.0)
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
> <dave.demarle at kitware.com> wrote:
> > You might write a python filter that iterates over all floating point
> arrays and
> > replaces nan's with 0.
> >
> > According to
> http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> > The most py version robust way to check for nan is:
> >
> > def isNaN(num):
> >    return num != num
> >
> > David E DeMarle
> > Kitware, Inc.
> > R&D Engineer
> > 28 Corporate Drive
> > Clifton Park, NY 12065-8662
> > Phone: 518-371-3971 x109
> >
> >
> >
> > On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov>
> wrote:
> >> This might not be the best solution, but you can use the threshold
> filter to
> >> remove NANs.  A NAN will always fall outside the threshold range.
> >>
> >> -Ken
> >>
> >>
> >> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
> >>
> >> Is there a way to convert nan?s to zeros in ParaView?  I have a user
> that is
> >> trying to use the integrate data filter, and it is having troubles with
> >> NANs.
> >>
> >> Thanks,
> >>
> >> Alan
> >>
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> >> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> >> http://paraview.org/Wiki/ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://www.paraview.org/mailman/listinfo/paraview
> >>
> >>
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/92cc4e3f/attachment-0001.htm>

From aur.marsan at gmail.com  Fri Aug 20 10:11:57 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Fri, 20 Aug 2010 16:11:57 +0200
Subject: [Paraview] nan
In-Reply-To: <AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
Message-ID: <AANLkTin_Ra+2QmEZRtxdkxXvA1E-QcEfiB6We-S1zLzr@mail.gmail.com>

You would have to use the numpy_support.vtk_to_numpy and
numpy_support.numpy_to_vtk functions.

You can find this module in the directory
ParaView-3.8.0-Linux-x86_64/lib/paraview-3.8/paraview

Then, you might write something like (for a StructuredGrid)
array = numpy_support.vtk_to_numpy(Data.GetPointData().GetArray(1))
array = numpy.nan_to_num(array)
ArrayWithoutNan = numpy_support.numpy_to_vtk(array)
ArrayWithoutNan.SetName(TheNameYouWant)
Data.GetPointData().AddArray(ArrayWithoutNan)

Maybe there are some mistakes, but here is the way I would do this, in a
programmable filter.

Le 20 ao?t 2010 16:00, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :

> Hi,
>
> If you're using python, and if you can use the numpy library, you can use
> the function numpy.nan_to_num too.
>
> http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num
>
> Regards,
>
> Aur?lien
>
> 2010/8/20 David E DeMarle <dave.demarle at kitware.com>
>
> That said, the same trick may work in the standard calculator filter
>> with the expression:
>>
>> if(val=val, val, 0.0)
>>
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>>
>>
>>
>> On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
>> <dave.demarle at kitware.com> wrote:
>> > You might write a python filter that iterates over all floating point
>> arrays and
>> > replaces nan's with 0.
>> >
>> > According to
>> http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
>> > The most py version robust way to check for nan is:
>> >
>> > def isNaN(num):
>> >    return num != num
>> >
>> > David E DeMarle
>> > Kitware, Inc.
>> > R&D Engineer
>> > 28 Corporate Drive
>> > Clifton Park, NY 12065-8662
>> > Phone: 518-371-3971 x109
>> >
>> >
>> >
>> > On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov>
>> wrote:
>> >> This might not be the best solution, but you can use the threshold
>> filter to
>> >> remove NANs.  A NAN will always fall outside the threshold range.
>> >>
>> >> -Ken
>> >>
>> >>
>> >> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>> >>
>> >> Is there a way to convert nan?s to zeros in ParaView?  I have a user
>> that is
>> >> trying to use the integrate data filter, and it is having troubles with
>> >> NANs.
>> >>
>> >> Thanks,
>> >>
>> >> Alan
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> _______________________________________________
>> >> Powered by www.kitware.com
>> >>
>> >> Visit other Kitware open-source projects at
>> >> http://www.kitware.com/opensource/opensource.html
>> >>
>> >> Please keep messages on-topic and check the ParaView Wiki at:
>> >> http://paraview.org/Wiki/ParaView
>> >>
>> >> Follow this link to subscribe/unsubscribe:
>> >> http://www.paraview.org/mailman/listinfo/paraview
>> >>
>> >>
>> >
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/7d30d0fd/attachment.htm>

From reuterma at ornl.gov  Fri Aug 20 11:11:41 2010
From: reuterma at ornl.gov (Reuter, Michael A.)
Date: Fri, 20 Aug 2010 11:11:41 -0400
Subject: [Paraview] New HDF5 based reader
In-Reply-To: <AANLkTindO_fQw1pZC4SJxi1Gtdyejcyp9AjYxWzsjK+w@mail.gmail.com>
References: <1F6AE093DC01A443ADA3A484BEB2CAB55D80A20F@EXCHMB.ornl.gov>
	<AANLkTi=Rf8bpT1s_H4-POBfG5p0Zfe+Y23cW_0KZwhap@mail.gmail.com>
	<1F6AE093DC01A443ADA3A484BEB2CAB55E9FE2DB@EXCHMB.ornl.gov>
	<AANLkTindO_fQw1pZC4SJxi1Gtdyejcyp9AjYxWzsjK+w@mail.gmail.com>
Message-ID: <1F6AE093DC01A443ADA3A484BEB2CAB5632A98FD@EXCHMB.ornl.gov>

Thanks for the fix. My reader can now open the NeXus file, so I can continue to make it display the data. Thanks for all the help.

Michael

From: Dave Partyka [mailto:dave.partyka at kitware.com]
Sent: Tuesday, August 10, 2010 15:09
To: Reuter, Michael A.
Cc: Utkarsh Ayachit; paraview at paraview.org
Subject: Re: [Paraview] New HDF5 based reader

Hi Michael,

This compile error should be fixed now. You should update Paraview to the latest version and also do a 'git submodule update' to update Xdmf.

Commit

1ea84e6b53e6290f28993f64a844ca8fadbfbae8

Include <string.h> for XdmfSetStringMacro

    We need this header for strcmp in the macro implementation.  This error
    went unnoticed previously because places that used XdmfSetStringMacro
    happened to include <string.h> for another reason.

On Tue, Aug 10, 2010 at 1:21 PM, Reuter, Michael A. <reuterma at ornl.gov<mailto:reuterma at ornl.gov>> wrote:
Hi Utkarsh,

       Thanks for the pointer on the cmake option as I somehow missed that one. However,
using the PARAVIEW_USE_SYSTEM_HDF5 flag, cmake pointed at the system HDF5 information and a clean build, the following compile time error occurs:

Scanning dependencies of target Xdmf
[ 47%] Building CXX object Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o
In file included from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:28,
                from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h: In member function 'XdmfInt32 XdmfDataDesc::SetHeavyDataSetName(const char*)':
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strcmp' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strlen' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfDataDesc.h:202: error: 'strcpy' was not declared in this scope
In file included from /home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.cxx:25:
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h: In member function 'void XdmfArray::SetDataFromChars(char*)':
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:398: error: 'strlen' was not declared in this scope
/home/2zr/src/ParaView-3.8.0/Utilities/Xdmf2/libsrc/XdmfArray.h:399: error: 'strcpy' was not declared in this scope
make[2]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/XdmfArray.cxx.o] Error 1
make[1]: *** [Utilities/Xdmf2/libsrc/CMakeFiles/Xdmf.dir/all] Error 2
make: *** [all] Error 2

I did a little poking at the source code and it looks like the correct headers for the above functions are being included, but the compiler doesn't think so.

Michael

-----Original Message-----
From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com<mailto:utkarsh.ayachit at kitware.com>]
Sent: Monday, August 09, 2010 13:24
To: Reuter, Michael A.
Cc: paraview at paraview.org<mailto:paraview at paraview.org>
Subject: Re: [Paraview] New HDF5 based reader

Hmm, looks like your plugin is linking against a system installed
HDF5. Did you change the ParaView to use the same? Otherwise ParaView
brings in its own version of HDF5 and the two can't work together. To
ensure that ParaView and your plugin uses the same HDF5, set the cmake
variable PARAVIEW_USE_SYSTEM_HDF5 to ON and then point CMake to the
installed hdf5.

Utkarsh

On Mon, Aug 9, 2010 at 11:59 AM, Reuter, Michael A. <reuterma at ornl.gov<mailto:reuterma at ornl.gov>> wrote:
> Hi,
>
>
>
>                 I have been working at trying to get a NeXus
> (www.nexusformat.org<http://www.nexusformat.org>) file read into ParaView. The NeXus format is HDF5
> based and this seems to be the source of the current problem that I'm
> encountering.  When I try to open a NeXus file via this call:
>
>
>
> NeXus::File *fh = new NeXus::File(filename, NXACC_READ);
>
>
>
> I get the backtrace that's attached to this email. The lowest level frame is
> given here:
>
>
>
> Program received signal SIGSEGV, Segmentation fault.
>
> 0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> (gdb) bt
>
> #0  0x00007fffd7a3da8b in H5FL_reg_malloc () from /usr/lib/libhdf5.so.6
>
> .
>
>
>
> At first, this looked like an issue with the system HDF5 libraries, but I
> can put the above line into a standalone program, link it against the same
> libraries and I can open a file without any errors. I have searched the list
> archive for any enlightenment, but I didn't find this particular problem. Is
> there anything special about using HDF5 libraries in ParaView plugins that I
> missed in the documentation? I am running on Ubuntu 10.04 using the provided
> HDF5 libraries and I have compiled and linked the NeXus libraries against
> the same HDF5 libraries.
>
>
>
> I know about Xdmf and have tried that with success, but I do not want to go
> down the two file route, so I'd really like to get this reader working. I
> can provide more detailed information (like plugin source code, sample file
> etc.) to anyone who can help, but I don't want to spam the entire list with
> it right off the bat.
>
>
>
> Thanks,
>
> Michael
>
> -------------------------------------------
>
> Michael Reuter
>
> Scientific Data Analysis Group
>
> Neutron Scattering Science Division
>
> Oak Ridge National Laboratory
>
>
>
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com<http://www.kitware.com>
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
_______________________________________________
Powered by www.kitware.com<http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/809cef9d/attachment-0001.htm>

From emonson at cs.duke.edu  Fri Aug 20 11:25:52 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Fri, 20 Aug 2010 11:25:52 -0400
Subject: [Paraview] nan
In-Reply-To: <AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
Message-ID: <F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>

If you can use numpy, and you're using a recent-enough version of ParaView, then you can also use the super-spiffy-numpy-hidden-behind-the-scenes programmable filter API to replace all of the attribute arrays with zero'd versions:

pdi = self.GetInputDataObject(0,0)
pdo = self.GetOutputDataObject(0)
pdo.CopyStructure(pdi)

for att_name in inputs[0].PointData.keys():
	naninc = inputs[0].PointData[att_name]
	zerod = numpy.nan_to_num(naninc)
	output.PointData.append(zerod, att_name)

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:

> Hi, 
> 
> If you're using python, and if you can use the numpy library, you can use the function numpy.nan_to_num too. 
> http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num
> 
> Regards, 
> 
> Aur?lien
> 
> 2010/8/20 David E DeMarle <dave.demarle at kitware.com>
> That said, the same trick may work in the standard calculator filter
> with the expression:
> 
> if(val=val, val, 0.0)
> 
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
> 
> 
> 
> On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
> <dave.demarle at kitware.com> wrote:
> > You might write a python filter that iterates over all floating point arrays and
> > replaces nan's with 0.
> >
> > According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> > The most py version robust way to check for nan is:
> >
> > def isNaN(num):
> >    return num != num
> >
> > David E DeMarle
> > Kitware, Inc.
> > R&D Engineer
> > 28 Corporate Drive
> > Clifton Park, NY 12065-8662
> > Phone: 518-371-3971 x109
> >
> >
> >
> > On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> >> This might not be the best solution, but you can use the threshold filter to
> >> remove NANs.  A NAN will always fall outside the threshold range.
> >>
> >> -Ken
> >>
> >>
> >> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
> >>
> >> Is there a way to convert nan?s to zeros in ParaView?  I have a user that is
> >> trying to use the integrate data filter, and it is having troubles with
> >> NANs.
> >>
> >> Thanks,
> >>
> >> Alan
> >>
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> >> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> >> http://paraview.org/Wiki/ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://www.paraview.org/mailman/listinfo/paraview
> >>
> >>
> >
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/1dfa84dc/attachment.htm>

From r.ramsharan at gmail.com  Fri Aug 20 11:37:21 2010
From: r.ramsharan at gmail.com (Ramsharan)
Date: Fri, 20 Aug 2010 08:37:21 -0700
Subject: [Paraview] Debugging vtp file
Message-ID: <AANLkTi=YNeUbYPaZPn73gGp1o+Gs_Y5EmcbeMhpE9USb@mail.gmail.com>

I have a simple vtp file to draw a 2D triangle.
################################################
<?xml version="1.0" encoding="utf-8"?>
<VTKFile type="PolyData" version="0.1" byte_order="LittleEndian">
        <PolyData>
                <Piece NumberOfPoints="3" NumberOfPolys="1">

<Points>
                                <DataArray type="Float32"
NumberOfComponents="2"
format="ascii">
0.0 0.0
1.0 0.0
0.0 1.0
                                </DataArray>
                        </Points>
                        <Polys>
                                <DataArray type="Int32" Name="connectivity"
format="ascii">
                                        0 1 2
                                </DataArray>
                                <DataArray type="Int32" Name="offsets"
format="ascii">
                                         3
                                </DataArray>
                        </Polys>

                </Piece>
        </PolyData>
</VTKFile>
#######################
When I load it with paraview, I get the following message:
"vtkPoints: Number of components is different... can't set data".

If however, I change NumberOfComponents to  3 and append a 0 at the end of
each point's coordinates,
it works fine.
Anything I am missing?

Thanks, Ram.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/62f8fb79/attachment.htm>

From utkarsh.ayachit at kitware.com  Fri Aug 20 11:48:51 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Fri, 20 Aug 2010 11:48:51 -0400
Subject: [Paraview] Debugging vtp file
In-Reply-To: <AANLkTi=YNeUbYPaZPn73gGp1o+Gs_Y5EmcbeMhpE9USb@mail.gmail.com>
References: <AANLkTi=YNeUbYPaZPn73gGp1o+Gs_Y5EmcbeMhpE9USb@mail.gmail.com>
Message-ID: <AANLkTinn-SmZY2Kf5ZC9A0O7WLc3eiwP=pQu9z9=0nsf@mail.gmail.com>

Yes, point coordinates in poly-data always need to be 3 components,
hence the error.

Utkarsh

On Fri, Aug 20, 2010 at 11:37 AM, Ramsharan <r.ramsharan at gmail.com> wrote:
> I have a simple vtp file to draw a 2D triangle.
> ################################################
> <?xml version="1.0" encoding="utf-8"?>
> <VTKFile type="PolyData" version="0.1" byte_order="LittleEndian">
> ?? ? ? ?<PolyData>
> ?? ? ? ? ? ? ? ?<Piece NumberOfPoints="3" NumberOfPolys="1">
> <Points>
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?<DataArray type="Float32"
> NumberOfComponents="2"
> format="ascii">
> 0.0 0.0
> 1.0 0.0
> 0.0 1.0
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?</DataArray>
> ?? ? ? ? ? ? ? ? ? ? ? ?</Points>
> ?? ? ? ? ? ? ? ? ? ? ? ?<Polys>
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?<DataArray type="Int32" Name="connectivity"
> format="ascii">
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?0 1 2
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?</DataArray>
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?<DataArray type="Int32" Name="offsets"
> format="ascii">
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 3
> ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?</DataArray>
> ?? ? ? ? ? ? ? ? ? ? ? ?</Polys>
> ?? ? ? ? ? ? ? ?</Piece>
> ?? ? ? ?</PolyData>
> </VTKFile>
> #######################
> When I load it with paraview, I get the following message:
> "vtkPoints: Number of components is different... can't set data".
> If however, I change NumberOfComponents to ?3 and append a 0 at the end of
> each point's coordinates,
> it works fine.
> Anything I am missing?
> Thanks, Ram.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From wascott at sandia.gov  Fri Aug 20 13:12:41 2010
From: wascott at sandia.gov (Scott, W Alan)
Date: Fri, 20 Aug 2010 11:12:41 -0600
Subject: [Paraview] nan
In-Reply-To: <F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
Message-ID: <56F66A9F02F8DD40B540440CEE290BEB8F979934C4@ES03SNLNT.srn.sandia.gov>

Thanks all!  I believe we have found numerous solutions.

Alan

From: Eric E. Monson [mailto:emonson at cs.duke.edu]
Sent: Friday, August 20, 2010 9:26 AM
To: Scott, W Alan
Cc: David E DeMarle; Aur?lien Marsan; paraview at paraview.org list
Subject: Re: [Paraview] nan

If you can use numpy, and you're using a recent-enough version of ParaView, then you can also use the super-spiffy-numpy-hidden-behind-the-scenes programmable filter API to replace all of the attribute arrays with zero'd versions:

pdi = self.GetInputDataObject(0,0)
pdo = self.GetOutputDataObject(0)
pdo.CopyStructure(pdi)

for att_name in inputs[0].PointData.keys():
            naninc = inputs[0].PointData[att_name]
            zerod = numpy.nan_to_num(naninc)
            output.PointData.append(zerod, att_name)

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:


Hi,

If you're using python, and if you can use the numpy library, you can use the function numpy.nan_to_num too.
http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num

Regards,

Aur?lien
2010/8/20 David E DeMarle <dave.demarle at kitware.com<mailto:dave.demarle at kitware.com>>
That said, the same trick may work in the standard calculator filter
with the expression:

if(val=val, val, 0.0)

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109


On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
<dave.demarle at kitware.com<mailto:dave.demarle at kitware.com>> wrote:
> You might write a python filter that iterates over all floating point arrays and
> replaces nan's with 0.
>
> According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> The most py version robust way to check for nan is:
>
> def isNaN(num):
>    return num != num
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov<mailto:kmorel at sandia.gov>> wrote:
>> This might not be the best solution, but you can use the threshold filter to
>> remove NANs.  A NAN will always fall outside the threshold range.
>>
>> -Ken
>>
>>
>> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov<mailto:wascott at sandia.gov>> wrote:
>>
>> Is there a way to convert nan's to zeros in ParaView?  I have a user that is
>> trying to use the integrate data filter, and it is having troubles with
>> NANs.
>>
>> Thanks,
>>
>> Alan
>>
>>
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com<http://www.kitware.com/>
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
_______________________________________________
Powered by www.kitware.com<http://www.kitware.com/>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

_______________________________________________
Powered by www.kitware.com<http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/2c361d83/attachment.htm>

From rick.angelini at us.army.mil  Fri Aug 20 14:01:21 2010
From: rick.angelini at us.army.mil (Rick Angelini)
Date: Fri, 20 Aug 2010 14:01:21 -0400
Subject: [Paraview] 3.8.0 build fails on qhelpgenerator command
In-Reply-To: <4C4DB920.40304@us.army.mil>
References: <4C4DB920.40304@us.army.mil>
Message-ID: <4C6EC2F1.3060102@us.army.mil>

We're also seeing the same problem with QT 4.6.3, but only on our Altix 
system when building 3.8.0 and 3.9.0 ..... it's a QT failure from the 
QSqlQuery.     The build does complete if I rerun the make, but it does 
not generate the documentation.

Linking CXX shared library ../../bin/libNIfTIWriter.so
[100%] Built target NIfTIWriter
Scanning dependencies of target GenerateParaViewQHP
[100%] Generating paraview.qhp
[100%] Built target GenerateParaViewQHP
Scanning dependencies of target ParaViewOnlineHelp
[100%] Compiling Qt help project paraview.qhp
Building up file structure...
QSqlQuery::value: not positioned on a valid record
Cannot register namespace paraview.org!
make[5]: *** [Documentation/paraview.qch] Error 255
make[4]: *** [Documentation/CMakeFiles/ParaViewOnlineHelp.dir/all] Error 2



Rick Angelini wrote:
> I am having problems building 3.8.0 on a SGI Altix system running SLES 
> 10.       The problem lies in qt-4.5.2/bin/qhelpgenerator:
>
> cd 
> /usr/people/cse/CSE/build_visualization_weekly/CMakeExternals/Build/paraview-3.8.0/Documentation 
> && /mnt/lustre/usrcta/CSE.072210/Release/qt-4.5.2/bin/qhelpgenerator  
> /usr/people/cse/CSE/build_visualization_weekly/CMakeExternals/Build/paraview-3.8.0/Documentation/paraview.qhp 
> -o 
> /usr/people/cse/CSE/build_visualization_weekly/CMakeExternals/Build/paraview-3.8.0/Documentation/paraview.qch 
>
> Building up file structure...
> QSqlQuery::value: not positioned on a valid record
> Cannot register namespace paraview.org!
>
>
>
> Sometimes, if I immediately re-run the make command, I am able to get 
> past this error and build completes.
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From andy.bauer at kitware.com  Fri Aug 20 14:19:54 2010
From: andy.bauer at kitware.com (Andy Bauer)
Date: Fri, 20 Aug 2010 14:19:54 -0400
Subject: [Paraview] CoProcessing
In-Reply-To: <AANLkTingSP-Zf_Y55-r3pg=F3WBDceXZdKo99kYQXCNj@mail.gmail.com>
References: <AANLkTinnBCwV62j=CB9XaV3TOEatR3pai-OxgkcQ0E1E@mail.gmail.com>
	<AANLkTimr38YQrLhpgi3vXAN+5QMh6b1zB8h3_Lsyot-P@mail.gmail.com>
	<AANLkTindSiKSv1WcsjircfLGG0G7iD2VUxFng7u7Paks@mail.gmail.com>
	<AANLkTimzmJ_2e2cutia9JObpjE4sU4NC1jJrbv+ev4Vh@mail.gmail.com>
	<AANLkTimxUv66Y33T-zhgrAYN1G-AwDB4HARM5_eRUhNJ@mail.gmail.com>
	<AANLkTikc3msDRK8FB+TugPH3fTuH9oi3u_kCvYhiBUKL@mail.gmail.com>
	<AANLkTim_pf3dvsnvcxhjgHPg0sR8-xON78s8r1euNzQ_@mail.gmail.com>
	<AANLkTimPSc4GE6tkkSAvcRoVt20btJ3tCa9r-XHWuUHW@mail.gmail.com>
	<AANLkTikUDfjyPUrG+Hh1G2F-Fs74yAc546Ct-6R84y9a@mail.gmail.com>
	<AANLkTi=rrCwq=MX=TyH6Gc---2N0T94p8+727ZCOR5js@mail.gmail.com>
	<AANLkTi==sxZ1CrhBh1Nw7qjh-OD_xrDFijLYdLmORP=P@mail.gmail.com>
	<AANLkTi=PjGrToBtpY0frpX+OUeFzKzwbM95U_+G_K=R5@mail.gmail.com>
	<AANLkTineLeXA9KB8RMBpNd3XcrZASOV85USMyD6AcWJQ@mail.gmail.com>
	<AANLkTik7NrCDh19rB3Q4orzRyKK46rSSpMcRkP-=rJVb@mail.gmail.com>
	<AANLkTikN4sy=s-2bP09_a3MEBUkrNaHiKhn4U=vrdWhZ@mail.gmail.com>
	<AANLkTi=NkpKDJ7odNvxBqbkL397_MJi=0+cE3nmSStZM@mail.gmail.com>
	<AANLkTi=eKYKUXEypwMZxvaMPNveeqQDkxbVezri6DK4O@mail.gmail.com>
	<AANLkTins8pCayJtJcxrh-Tx+P4iUST1+8AwQKEKj47We@mail.gmail.com>
	<AANLkTik6Dsoo1H5mOHmORhCQvTaDJD9BNrfsYKC1X59R@mail.gmail.com>
	<AANLkTikTcKktX1dyjsrMube6U=zv2AbqYdYkj=4GrFfE@mail.gmail.com>
	<AANLkTi=FT4xVgHW=ns_KEx2H80S1UyObytzSQFE3qTXK@mail.gmail.com>
	<AANLkTimddgg-zbzNSaPHrym4n3dGGEFcd=48jPx=Gw_1@mail.gmail.com>
	<AANLkTi=kTxLzgi9u_a7vfj8buMFZxtbfhOnSEUfhyyjV@mail.gmail.com>
	<AANLkTimakT87SOkY1rq6GbdfBmTWbPyruvxYGRWpx4FR@mail.gmail.com>
	<AANLkTimQUSo5tm5gB4HD82EBEqb9WYn_Nb9wO5c3Ay3Z@mail.gmail.com>
	<AANLkTim7C5x1tfsfbCkYNCOyM4tMjDM-6w8X9G-kLyt-@mail.gmail.com>
	<AANLkTingSP-Zf_Y55-r3pg=F3WBDceXZdKo99kYQXCNj@mail.gmail.com>
Message-ID: <AANLkTi=9kToiDU8RYQ4RQQRgyj58qhcZixzvfSYqzd=k@mail.gmail.com>

Here's how I got the coprocessing library to work with offscreen rendering:
1) build paraview server with qt client turned off
2) use osmesa -- replacing opengl lib and dir locations with proper osmesa
ones
3) set use offscreen rendering (I left VTK_USE_X on since I have problems
when I set it to off)
4) in your coprocessing python script add in:
import paraview.servermanager as sm
options = sm.vtkPVOptions()
options.SetUseOffscreenRendering(1)

There may be a better way to do this but this at least worked for me.

Andy

On Thu, Aug 19, 2010 at 11:39 AM, Andy Bauer <andy.bauer at kitware.com> wrote:

>
>
> On Thu, Aug 19, 2010 at 11:23 AM, Jacques Papper <jacques.papper at gmail.com
> > wrote:
>
>> Hi Andy,
>>
>> 1 : Here are he files
>>
>
> Somehow Utkarsh's change to servermanager.py didn't make it into your build
> servermanager.py.  The change is:
> @@ -796,6 +796,10 @@ class ArraySelectionProperty(VectorProperty):
>          elif len(values) == 2:
>              if isinstance(values[0], str):
>                  val = str(ASSOCIATIONS[values[0]])
> +            else:
> +                # In case user didn't specify valid association,
> +                # just pick POINTS.
> +                val = str(ASSOCIATIONS['POINTS'])
>
>              self.SMProperty.SetElement(3,  str(val))
>              self.SMProperty.SetElement(4, values[1])
>          else:
>
> Try rebuilding and if you don't see those changes in your build
> servermanager.py file, do a clean build.
>
>
>
>> 2 : Thanks ! I do need this to work, so I can run on a cluster without any
>> graphics card. I haven't tried the patch Adriano sent earlier yet.
>>
>> 3 : How do you want me to set this up for you ? If you are using the
>> Phasta code then if you just replace the Hex input by Poly input then you
>> should get the same problem ?
>>
>
> Do something similar to the example I put up on the coprocessing wiki.  Use
> the multiblock reader to load the grid and let me know how many processes
> you use when you see the problem.
>
>
>
>>
>> Thanks again,
>> Jacques
>>
>> 2010/8/17 Andy Bauer <andy.bauer at kitware.com>
>>
>> For 1:  Can you send me your
>>> Utilities/VTKPythonWrapping/paraview/servermanager.py in the PV source as
>>> well as the
>>> Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py file in
>>> your PV build?
>>>
>>> For 2: I'll take a look at that since I have to do the same thing on a
>>> remote machine I'll be working on.
>>>
>>> For 3: No idea why.  If you can set up a simple problem I can take a look
>>> at it.
>>>
>>> Andy
>>>
>>>
>>> On Tue, Aug 17, 2010 at 10:06 AM, Jacques Papper <
>>> jacques.papper at gmail.com> wrote:
>>>
>>>> Hi All,
>>>>
>>>> Although I've got the coprocessing to work somehow, I still have a
>>>> couple of problems :
>>>>
>>>> -> I have pulled from git yesterday.
>>>>
>>>> 1. None inside the python scripts generated by the plugin throws up some
>>>> issues :
>>>>
>>>> Traceback (most recent call last):
>>>>   File "<string>", line 2, in <module>
>>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py", line
>>>> 138, in DoCoProcessing
>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 207, in __setattr__
>>>>     setter(self, value)
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 2367, in setProperty
>>>>     return self.GetPropertyValue(propName)
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 256, in SetPropertyWithName
>>>>     def SetPropertyWithName(self, pname, arg):
>>>>   File
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>> line 799, in SetData
>>>>     if len(values) == 1:
>>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>>
>>>>
>>>> 2. When Compiling with MESA, and switching offscreen rendering ON I get
>>>> problems at runtime when coprocessing (I have no problems saving screenshots
>>>> directly from within paraview) :
>>>>
>>>>
>>>> --- Some of my CMAKE settings :
>>>> //Path to a file.
>>>> OPENGL_INCLUDE_DIR:PATH=/usr/include
>>>>
>>>> //Path to a library.
>>>> OPENGL_gl_LIBRARY:FILEPATH=/usr/lib64/libGL.so
>>>>
>>>> //Path to a library.
>>>> OPENGL_glu_LIBRARY:FILEPATH=/usr/lib64/libGLU.so
>>>>
>>>> //Path to a file.
>>>> OPENGL_xmesa_INCLUDE_DIR:PATH=/usr/include
>>>>
>>>> //Path to a file.
>>>> OSMESA_INCLUDE_DIR:PATH=/usr/include
>>>>
>>>> //Path to a library.
>>>> OSMESA_LIBRARY:FILEPATH=/usr/lib64/libOSMesa.so
>>>>
>>>> ----- RunTime error message ----
>>>>
>>>>
>>>> #0  Foam::error::printStack(Foam::Ostream&) in
>>>> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
>>>> #1  Foam::sigSegv::sigSegvHandler(int) in
>>>> "/users/boreas01/jacques/FOAMpro-1.6-dev/FOAM-dev/lib/linux64GccDPOpt/libFOAM.so"
>>>> #2  ?? in "/lib64/libc.so.6"
>>>> #3  __rawmemchr in "/lib64/libc.so.6"
>>>> #4  ?? in "/lib64/libc.so.6"
>>>> #5  vsscanf in "/lib64/libc.so.6"
>>>> #6  _IO_sscanf in "/lib64/libc.so.6"
>>>> #7  vtkOpenGLExtensionManager::ReadOpenGLExtensions() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #8  vtkOpenGLExtensionManager::Update() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #9  vtkOpenGLExtensionManager::ExtensionSupported(char const*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #10  vtkOpenGLRenderWindow::OpenGLInit() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #11  vtkXOpenGLRenderWindow::Start() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #12  vtkRenderWindow::DoStereoRender() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #13  vtkRenderWindow::DoFDRender() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #14  vtkRenderWindow::DoAARender() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #15  vtkRenderWindow::Render() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #16  vtkXOpenGLRenderWindow::Render() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRendering.so.pv3.9"
>>>> #17  vtkXOpenGLRenderWindowCommand(vtkClientServerInterpreter*,
>>>> vtkObjectBase*, char const*, vtkClientServerStream const&,
>>>> vtkClientServerStream&) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkRenderingCS.so"
>>>> #18
>>>> vtkClientServerInterpreter::ProcessCommandInvoke(vtkClientServerStream
>>>> const&, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>>> #19  vtkClientServerInterpreter::ProcessOneMessage(vtkClientServerStream
>>>> const&, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>>> #20  vtkClientServerInterpreter::ProcessStream(vtkClientServerStream
>>>> const&) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkClientServer.so"
>>>> #21  vtkSelfConnection::ProcessStreamLocally(vtkClientServerStream&) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #22
>>>> vtkMPISelfConnection::SendStreamToDataServerRoot(vtkClientServerStream&) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #23  vtkProcessModuleConnection::SendStream(unsigned int,
>>>> vtkClientServerStream&) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #24  vtkProcessModuleConnectionManager::SendStream(long long, unsigned
>>>> int, vtkClientServerStream&, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #25  vtkProcessModule::SendStream(long long, unsigned int,
>>>> vtkClientServerStream&, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>> #26  vtkSMRenderViewProxy::PerformRender() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #27  vtkSMViewProxy::StillRender() in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #28  vtkSMRenderViewProxy::CaptureWindow(int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #29  vtkSMRenderViewProxy::WriteImage(char const*, char const*, int) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>> #30  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>> #31  vtkPythonUtil::CallOverloadedMethod(PyMethodDef*, _object*,
>>>> _object*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPythonCore.so.pv3.9"
>>>> #32  PyObject_Call in "/usr/lib64/libpython2.6.so.1.0"
>>>> #33  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #34  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #35  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #36  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #37  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #38  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #39  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>> #40  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>> #41  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>> #42  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>> #43  PyRun_SimpleStringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>> #44  vtkPVPythonInterpretor::RunSimpleString(char const*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>> #45  vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>> #46  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>
>>>>
>>>> When compiling without MESA and OFFSCREEN then it works fine but I get
>>>> an annoying window that pops up all the time...
>>>>
>>>> 3. I am able to use the Parallel Multi Block Data Set Writer, on a very
>>>> simple hex mesh. But when I use it on a more complex mesh (including
>>>> POLYHEDRA cells) I get the following error :
>>>>
>>>> When opening the file in paraview :
>>>>
>>>>   ERROR: In
>>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLParser.cxx, line 483
>>>>
>>>> vtkXMLDataParser (0x18aa700): Error parsing XML in stream at line 1,
>>>> column 7, byte index 7: not well-formed (invalid token)
>>>>
>>>>  ERROR: In
>>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/IO/vtkXMLReader.cxx, line 362
>>>>
>>>> vtkXMLUnstructuredGridReader (0x18cbbc0): Error parsing input file.
>>>> ReadXMLInformation aborting.
>>>>
>>>>  ERROR: In
>>>> /users/boreas01/jacques/PARAVIEW/ParaView/VTK/Filtering/vtkExecutive.cxx,
>>>> line 756
>>>>
>>>> vtkStreamingDemandDrivenPipeline (0xdadf60): Algorithm
>>>> vtkXMLUnstructuredGridReader(0x18cbbc0) returned failure for request:
>>>> vtkInformation (0x127b170)
>>>>
>>>> Debug: Off
>>>>
>>>> Modified Time: 80976
>>>>
>>>> Reference Count: 1
>>>>
>>>> Registered Events: (none)
>>>>
>>>> Request: REQUEST_INFORMATION
>>>>
>>>> ALGORITHM_AFTER_FORWARD: 1
>>>>
>>>> FORWARD_DIRECTION: 0
>>>>
>>>>
>>>>
>>>> When running the coprocessor  I do not get any error message. And I am
>>>> still able to ouput png screenshots (when not using OFFSCREEN)... Is there
>>>> an incompatibility between the writers and the polyhedra cell type ? Or is
>>>> it possible that somewhere I am not filling in the cells / points properly ?
>>>>
>>>>
>>>> Best,
>>>> Jacques
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>>>
>>>>> cc'ing the list.
>>>>>
>>>>> Pat
>>>>>
>>>>>
>>>>> ---------- Forwarded message ----------
>>>>> From: Jacques Papper <jacques.papper at gmail.com>
>>>>> Date: Mon, Aug 16, 2010 at 1:55 PM
>>>>> Subject: Re: [Paraview] CoProcessing
>>>>> To: pat marion <pat.marion at kitware.com>
>>>>>
>>>>>
>>>>> Once again... My mistake .. I'm not used to submodules !
>>>>>
>>>>> 2010/8/16 Jacques Papper <jacques.papper at gmail.com>
>>>>>
>>>>> Hi, I just pulled my git..
>>>>>>
>>>>>> CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>>>>>>   Cannot find source file "vtkParsePreprocess.c".  Tried extensions .c
>>>>>> .C
>>>>>>   .c++ .cc .cpp .cxx .m .M .mm .h .hh .h++ .hm .hpp .hxx .in .txx
>>>>>>
>>>>>> I tried to configure and generate cmake but I get the same error when
>>>>>> generating...
>>>>>>
>>>>>> Should I start from a clean cmake cache ?
>>>>>>
>>>>>> Jacques
>>>>>>
>>>>>> 2010/8/16 pat marion <pat.marion at kitware.com>
>>>>>>
>>>>>> If you can't upgrade your paraview version you could try hand applying
>>>>>>> the patch to /users/boreas01/jacques/
>>>>>>>
>>>>>>>>
>>>>>>>> PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py
>>>>>>>
>>>>>>>
>>>>>>> The patch:
>>>>>>>
>>>>>>>
>>>>>>> http://paraview.org/gitweb?p=ParaView.git;a=commitdiff;h=23027770320168c3f7877c6e4150d5ca834f3b9b
>>>>>>>
>>>>>>> Pat
>>>>>>>
>>>>>>>
>>>>>>> On Mon, Aug 16, 2010 at 11:01 AM, Jacques Papper <
>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> I'm sorry I was just rerunning to reproduce the error, and did not
>>>>>>>> realize I missed changing my input back to input.foam instead of toto.foam
>>>>>>>> ....
>>>>>>>>
>>>>>>>> Here is the actual error message :
>>>>>>>>
>>>>>>>> Traceback (most recent call last):
>>>>>>>>   File "<string>", line 2, in <module>
>>>>>>>>   File "/users/boreas01/jacques/TESTING/A6_saloon_50k/pvCopro.py",
>>>>>>>> line 138, in DoCoProcessing
>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>   File
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>>> line 207, in __setattr__
>>>>>>>>     setter(self, value)
>>>>>>>>   File
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>>> line 2367, in setProperty
>>>>>>>>     return self.SetPropertyWithName(propName, value)
>>>>>>>>   File
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>>> line 256, in SetPropertyWithName
>>>>>>>>     prop.SetData(arg)
>>>>>>>>   File
>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>>>>>>> line 799, in SetData
>>>>>>>>     self.SMProperty.SetElement(3,  str(val))
>>>>>>>> UnboundLocalError: local variable 'val' referenced before assignment
>>>>>>>>
>>>>>>>>
>>>>>>>> Jacques
>>>>>>>>
>>>>>>>> 2010/8/16 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>
>>>>>>>> The other thing is that there was a problem when outputting images
>>>>>>>>> from coprocessing.  Try updating to commit 2302777 to see if that's it.
>>>>>>>>>
>>>>>>>>> Andy
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> On Mon, Aug 16, 2010 at 9:07 AM, pat marion <
>>>>>>>>> pat.marion at kitware.com> wrote:
>>>>>>>>>
>>>>>>>>>> Hi Jacques,
>>>>>>>>>>
>>>>>>>>>> That error message seems to be unrelated to the lines containing
>>>>>>>>>> 'None' that you copied in a previous email.  It looks to me like your code
>>>>>>>>>> that calls the coprocessor is not inserting the vtk data set under the name
>>>>>>>>>> 'test.foam'.  In the calling code you need something like:
>>>>>>>>>>
>>>>>>>>>> dataDesc->AddInput("test.foam")
>>>>>>>>>>
>>>>>>>>>> dataDesc->GetInputDescriptionByName("test.foam")->SetGrid(dataObject);
>>>>>>>>>>
>>>>>>>>>> Pat
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> On Mon, Aug 16, 2010 at 8:35 AM, Jacques Papper <
>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>
>>>>>>>>>>> Hi Pat,
>>>>>>>>>>>
>>>>>>>>>>> This is what shows up for me :
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>>>>> AttributeError: 'NoneType' object has no attribute 'AllFieldsOff'
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Inside the Python script :
>>>>>>>>>>>
>>>>>>>>>>> def RequestDataDescription(datadescription):
>>>>>>>>>>>     "Callback to populate the request for current timestep"
>>>>>>>>>>>     timestep = datadescription.GetTimeStep()
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>>     input_name = 'test.foam'
>>>>>>>>>>>     if (timestep % 0.0004 == 0) :
>>>>>>>>>>>
>>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOn()
>>>>>>>>>>>
>>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOn()
>>>>>>>>>>>     else:
>>>>>>>>>>>
>>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).AllFieldsOff()
>>>>>>>>>>>
>>>>>>>>>>> datadescription.GetInputDescriptionByName(input_name).GenerateMeshOff()
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Best,
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> Jacques
>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>> 2010/8/13 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>
>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>
>>>>>>>>>>>> My python trace files have similar lines, and I am able to run
>>>>>>>>>>>> them without error.  I've only just tested with latest git master, not 3.8.
>>>>>>>>>>>> Can you copy the specific error message you're getting so I can take a look?
>>>>>>>>>>>>
>>>>>>>>>>>> Pat
>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>> On Fri, Aug 13, 2010 at 6:20 PM, Jacques Papper <
>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>
>>>>>>>>>>>>>    Sorry I meant None... not Null :
>>>>>>>>>>>>>
>>>>>>>>>>>>> For example :
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>     DataRepresentation1.SelectOrientationVectors = [None, '']
>>>>>>>>>>>>>     DataRepresentation1.SelectedMapperIndex = 'Projected tetra'
>>>>>>>>>>>>>     DataRepresentation1.CubeAxesTickLocation = 'Inside'
>>>>>>>>>>>>>     DataRepresentation1.CubeAxesXAxisMinorTickVisibility = 1
>>>>>>>>>>>>>     DataRepresentation1.CubeAxesYAxisVisibility = 1
>>>>>>>>>>>>>     DataRepresentation1.SelectionPointLabelFontFamily = 'Arial'
>>>>>>>>>>>>>     DataRepresentation1.Source.ShaftResolution = 6
>>>>>>>>>>>>>     DataRepresentation1.CubeAxesFlyMode = 'Closest Triad'
>>>>>>>>>>>>>     DataRepresentation1.SelectScaleArray = [None, '']
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>> 2010/8/13 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> On Fri, Aug 13, 2010 at 3:39 AM, Jacques Papper <
>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> I found the problem... I was inserting PointData instead of
>>>>>>>>>>>>>>> CellData :) ,,,
>>>>>>>>>>>>>>> Anyway it seems to be starting to work now.. 2 things though
>>>>>>>>>>>>>>> :
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> -> Whenever I try to run directly a python script exported
>>>>>>>>>>>>>>> from paraview (Through the Coprocessing export state) it won't run until I
>>>>>>>>>>>>>>> remove all references to LIC and all lines containing Null...
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Now that you mention it, I didn't put in anything special for
>>>>>>>>>>>>>> plugins.  Setting the plugins to auto-load may work but my guess is that it
>>>>>>>>>>>>>> won't.  I'll look into the plugin thing and the best way to do it in the
>>>>>>>>>>>>>> script generator.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> What do you mean by Null?  I don't know what that is so you'll
>>>>>>>>>>>>>> have to explain it to me.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> For the LIC, is it because the python script doesn't
>>>>>>>>>>>>>>> automatically load the LIC plugin ?
>>>>>>>>>>>>>>> For the Null, do you have this problem as well ?
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> -> Is the Live Source Data code already available in git ?
>>>>>>>>>>>>>>> I'd love to test it out even if it is not robust yet.
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>> We don't yet have permission to release the Live Source Data
>>>>>>>>>>>>>> code yet but I think it should be available in the next couple of months.
>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>> 2010/8/12 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> You probably want to add the field data to the specific
>>>>>>>>>>>>>>>> grids in the multiblock data set and not just the block itself.  As an
>>>>>>>>>>>>>>>> example:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> create multiblock
>>>>>>>>>>>>>>>> for each grid:
>>>>>>>>>>>>>>>>   create grid points and cells
>>>>>>>>>>>>>>>>   add point and cell data to grid
>>>>>>>>>>>>>>>>   add grid to block
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Note that in parallel for coprocessing that the block must
>>>>>>>>>>>>>>>> have the same structure on each process but whether a leaf node is empty or
>>>>>>>>>>>>>>>> not can change.  For example:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> proc 0 mutliblock:
>>>>>>>>>>>>>>>>   block 0 -> unstructured grid
>>>>>>>>>>>>>>>>   block 1 -> uniform grid
>>>>>>>>>>>>>>>>   block 2 -> NULL
>>>>>>>>>>>>>>>> proc 1 multiblock:
>>>>>>>>>>>>>>>>   block 0 -> NULL
>>>>>>>>>>>>>>>>   block 1 -> NULL
>>>>>>>>>>>>>>>>   block 2 -> unstructured grid
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> I'm not sure of all of the details but what I do is that I
>>>>>>>>>>>>>>>> set a block to only be non-NULL on a single process.
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> Hope this helps,
>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>> On Thu, Aug 12, 2010 at 2:38 PM, Jacques Papper <
>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> I am making some more progress on this. Everything was
>>>>>>>>>>>>>>>>> working until I tried adding field data... I now get an explosion :
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> #2  ?? in "/lib64/libc.so.6"
>>>>>>>>>>>>>>>>> #3  vtkDataArrayTemplate<double>::ComputeScalarRange(int)
>>>>>>>>>>>>>>>>> in "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>>>>> #4  vtkDataArray::ComputeRange(int) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCommon.so.pv3.9"
>>>>>>>>>>>>>>>>> #5  vtkPVArrayInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #6
>>>>>>>>>>>>>>>>> vtkPVDataSetAttributesInformation::CopyFromDataSetAttributes(vtkDataSetAttributes*)
>>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #7  vtkPVDataInformation::CopyFromDataSet(vtkDataSet*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #8  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #9
>>>>>>>>>>>>>>>>> vtkPVCompositeDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #10
>>>>>>>>>>>>>>>>> vtkPVDataInformation::CopyFromCompositeDataSet(vtkCompositeDataSet*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #11  vtkPVDataInformation::CopyFromObject(vtkObject*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #12  vtkSelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #13
>>>>>>>>>>>>>>>>> vtkSynchronousMPISelfConnection::GatherInformation(unsigned int,
>>>>>>>>>>>>>>>>> vtkPVInformation*, vtkClientServerID) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerCommon.so"
>>>>>>>>>>>>>>>>> #14  vtkSMOutputPort::GatherDataInformation() in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #15  vtkSMOutputPort::GetDataInformation() in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #16  vtkSMDataTypeDomain::IsInDomain(vtkSMSourceProxy*,
>>>>>>>>>>>>>>>>> int) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #17  vtkSMDataTypeDomain::IsInDomain(vtkSMProperty*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #18  vtkSMProperty::IsInDomains() in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #19
>>>>>>>>>>>>>>>>> vtkSMRenderViewProxy::CreateDefaultRepresentation(vtkSMProxy*, int) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVServerManager.so"
>>>>>>>>>>>>>>>>> #20  ?? at vtkSMRenderViewProxyPython.cxx:0
>>>>>>>>>>>>>>>>> #21  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #22  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #23  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #24  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #25  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #26  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #27  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #28  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #29  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #30  PyEval_EvalFrameEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #31  PyEval_EvalCodeEx in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #32  PyEval_EvalCode in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #33  ?? in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #34  PyRun_StringFlags in "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #35  PyRun_SimpleStringFlags in
>>>>>>>>>>>>>>>>> "/usr/lib64/libpython2.6.so.1.0"
>>>>>>>>>>>>>>>>> #36  vtkPVPythonInterpretor::RunSimpleString(char const*)
>>>>>>>>>>>>>>>>> in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkPVPythonInterpretor.so"
>>>>>>>>>>>>>>>>> #37
>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>>>>> #38  vtkCPProcessor::CoProcess(vtkCPDataDescription*) in
>>>>>>>>>>>>>>>>> "/users/boreas01/jacques/PARAVIEW/ParaView-bin/bin/libvtkCoProcessor.so"
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Any ideas where this can be coming from ?
>>>>>>>>>>>>>>>>> When I do not add the field data it just complains about
>>>>>>>>>>>>>>>>> missing fields so I know that the code is not completely wrong...
>>>>>>>>>>>>>>>>> I am adding the data to the first block of my
>>>>>>>>>>>>>>>>> multiblockdataset... Is that a problem ?
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Thanks !
>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> 2010/8/12 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>> Hi Andy, Pat,
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> I have the skeleton of the coprocessing working (for the
>>>>>>>>>>>>>>>>>> moment I just tried by populating the point field - no cells, no data).
>>>>>>>>>>>>>>>>>> I am trying to figure out the most efficient way of
>>>>>>>>>>>>>>>>>> transferring my data structure to VTK with minimal copying and looping...
>>>>>>>>>>>>>>>>>> I would like to use the vtkUnstructuredGrid::SetCells()
>>>>>>>>>>>>>>>>>> method, which means I probably need to use the vtkCellArray::SetCells()
>>>>>>>>>>>>>>>>>> method, and therefore the vtkIdType::SetArray() method...
>>>>>>>>>>>>>>>>>> The problem is I am not sure what the format of the array
>>>>>>>>>>>>>>>>>> should be ?
>>>>>>>>>>>>>>>>>> I am dealing with unstructured polyhedra cells (most of
>>>>>>>>>>>>>>>>>> which are known types like hex prism etc..).
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Of course, I could also use the InsertNextCell() methods,
>>>>>>>>>>>>>>>>>> but I was wondering if there wasn't a more efficient way...
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> 2010/8/9 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> I put an example on the wiki based on Pat's example for
>>>>>>>>>>>>>>>>>>> running a coprocessing.  It's at:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> http://paraview.org/Wiki/Coprocessing_example#Python_Scripts
>>>>>>>>>>>>>>>>>>> Let me know if you have any problems with it so that I
>>>>>>>>>>>>>>>>>>> can fix any errors that I have.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Also, I just made changes so that the coprocessing
>>>>>>>>>>>>>>>>>>> library gets installed properly.
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> Thanks,
>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 7:21 PM, Jacques Papper <
>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Thanks Pat,
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> I am trying to compile my first attempt.
>>>>>>>>>>>>>>>>>>>> Although I do find the headers I need, I am having some
>>>>>>>>>>>>>>>>>>>> trouble identifying which libraries I need to link to.
>>>>>>>>>>>>>>>>>>>> For example, I assume that I should be linking to
>>>>>>>>>>>>>>>>>>>> libvtkCoProcessor.so ... Although I find this library in the compilation
>>>>>>>>>>>>>>>>>>>> folder (under bin), I do not find it in the make installed version under
>>>>>>>>>>>>>>>>>>>> lib...
>>>>>>>>>>>>>>>>>>>> Is this normal ?
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Best,
>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> 2010/8/4 pat marion <pat.marion at kitware.com>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>> Below is a simple cxx program I have used for testing.
>>>>>>>>>>>>>>>>>>>>> It creates one sphere per process, positions the sphere as a function of the
>>>>>>>>>>>>>>>>>>>>> process id, and the spheres grow/shrink over time.
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> Pat
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> #include "vtkCPProcessor.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkCPPythonScriptPipeline.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkMultiProcessController.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkXMLUnstructuredGridReader.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkUnstructuredGrid.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkCPDataDescription.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkCPInputDataDescription.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkSmartPointer.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkPolyData.h"
>>>>>>>>>>>>>>>>>>>>> #include "vtkSphereSource.h"
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> #include <stdio.h>
>>>>>>>>>>>>>>>>>>>>> #include <string>
>>>>>>>>>>>>>>>>>>>>> #include <sstream>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> static unsigned int procId;
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> void myprint(const std::string& str)
>>>>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>>>>   printf("driver (%u): %s\n", procId, str.c_str());
>>>>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> class DataGenerator {
>>>>>>>>>>>>>>>>>>>>> public:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   DataGenerator()
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>     this->Sphere =
>>>>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkSphereSource>::New();
>>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetThetaResolution(30);
>>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetPhiResolution(30);
>>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetCenter(procId*4.0, 0, 0);
>>>>>>>>>>>>>>>>>>>>>     this->Index = 0;
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkPolyData> GetNext()
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>     double radius = fabs(sin(0.1 * this->Index));
>>>>>>>>>>>>>>>>>>>>>     this->Index++;
>>>>>>>>>>>>>>>>>>>>>     this->Sphere->SetRadius(1.0 + radius);
>>>>>>>>>>>>>>>>>>>>>     this->Sphere->Update();
>>>>>>>>>>>>>>>>>>>>>     vtkSmartPointer<vtkPolyData> ret =
>>>>>>>>>>>>>>>>>>>>> vtkSmartPointer<vtkPolyData>::New();
>>>>>>>>>>>>>>>>>>>>>     ret->DeepCopy(this->Sphere->GetOutput());
>>>>>>>>>>>>>>>>>>>>>     return ret;
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> protected:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   int Index;
>>>>>>>>>>>>>>>>>>>>>   vtkSmartPointer<vtkSphereSource> Sphere;
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> };
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> int main(int argc, char* argv[])
>>>>>>>>>>>>>>>>>>>>> {
>>>>>>>>>>>>>>>>>>>>>   if (argc < 3)
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>     printf("Usage: %s <cp python file> <number of
>>>>>>>>>>>>>>>>>>>>> steps>\n", argv[0]);
>>>>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   std::string cpPythonFile = argv[1];
>>>>>>>>>>>>>>>>>>>>>   int nSteps = atoi(argv[2]);
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   myprint("starting coprocessor");
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   vtkCPProcessor* processor = vtkCPProcessor::New();
>>>>>>>>>>>>>>>>>>>>>   processor->Initialize();
>>>>>>>>>>>>>>>>>>>>>   vtkCPPythonScriptPipeline* pipeline =
>>>>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New();
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   // mpi was initialized when we called
>>>>>>>>>>>>>>>>>>>>> vtkCPPythonScriptPipeline::New()
>>>>>>>>>>>>>>>>>>>>>   procId =
>>>>>>>>>>>>>>>>>>>>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   // read the coprocessing python file
>>>>>>>>>>>>>>>>>>>>>   myprint("loading pipeline python file: " +
>>>>>>>>>>>>>>>>>>>>> cpPythonFile);
>>>>>>>>>>>>>>>>>>>>>   int success =
>>>>>>>>>>>>>>>>>>>>> pipeline->Initialize(cpPythonFile.c_str());
>>>>>>>>>>>>>>>>>>>>>   if (!success)
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>     myprint("aborting");
>>>>>>>>>>>>>>>>>>>>>     return 1;
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   processor->AddPipeline(pipeline);
>>>>>>>>>>>>>>>>>>>>>   pipeline->Delete();
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   if (nSteps == 0)
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>     return 0;
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   // create a data source
>>>>>>>>>>>>>>>>>>>>>   DataGenerator generator;
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   // do coprocessing
>>>>>>>>>>>>>>>>>>>>>   double tStart = 0.0;
>>>>>>>>>>>>>>>>>>>>>   double tEnd = 1.0;
>>>>>>>>>>>>>>>>>>>>>   double stepSize = (tEnd - tStart)/nSteps;
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   vtkCPDataDescription* dataDesc =
>>>>>>>>>>>>>>>>>>>>> vtkCPDataDescription::New();
>>>>>>>>>>>>>>>>>>>>>   dataDesc->AddInput("input");
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   for (int i = 0; i < nSteps; ++i)
>>>>>>>>>>>>>>>>>>>>>     {
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>     double currentTime = tStart + stepSize*i;
>>>>>>>>>>>>>>>>>>>>>     std::stringstream timeStr;
>>>>>>>>>>>>>>>>>>>>>     timeStr << "time(" << i << ", " << currentTime <<
>>>>>>>>>>>>>>>>>>>>> ")";
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>     dataDesc->SetTimeData(currentTime, i);
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>     myprint("call RequestDataDescription, " +
>>>>>>>>>>>>>>>>>>>>> timeStr.str());
>>>>>>>>>>>>>>>>>>>>>     int do_coprocessing =
>>>>>>>>>>>>>>>>>>>>> processor->RequestDataDescription(dataDesc);
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>     if (do_coprocessing)
>>>>>>>>>>>>>>>>>>>>>       {
>>>>>>>>>>>>>>>>>>>>>       myprint("calling CoProcess, " + timeStr.str());
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>       vtkSmartPointer<vtkDataObject> dataObject =
>>>>>>>>>>>>>>>>>>>>>         generator.GetNext();
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> dataDesc->GetInputDescriptionByName("input")->SetGrid(dataObject);
>>>>>>>>>>>>>>>>>>>>>       processor->CoProcess(dataDesc);
>>>>>>>>>>>>>>>>>>>>>       }
>>>>>>>>>>>>>>>>>>>>>     }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   myprint("finalizing");
>>>>>>>>>>>>>>>>>>>>>   dataDesc->Delete();
>>>>>>>>>>>>>>>>>>>>>   processor->Finalize();
>>>>>>>>>>>>>>>>>>>>>   processor->Delete();
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>   return 0;
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> }
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 12:14 PM, Andy Bauer <
>>>>>>>>>>>>>>>>>>>>> andy.bauer at kitware.com> wrote:
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> There is a polyhedra cell type in VTK now --
>>>>>>>>>>>>>>>>>>>>>> http://www.vtk.org/doc/nightly/html/classvtkPolyhedron.html
>>>>>>>>>>>>>>>>>>>>>> As far as I know it works with all of the proper
>>>>>>>>>>>>>>>>>>>>>> filters but since I haven't tried it yet I won't promise that.  The good
>>>>>>>>>>>>>>>>>>>>>> news is that Will Schroeder had a high interest in it and probably worked on
>>>>>>>>>>>>>>>>>>>>>> some of it so I'd assume that it's working quite well right now.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> As for Phasta, it does run in parallel (as props to
>>>>>>>>>>>>>>>>>>>>>> their developers it was a finalist for the 2009 Gordon Bell prize).  The
>>>>>>>>>>>>>>>>>>>>>> grid is already partitioned and each process runs the adaptor and creates an
>>>>>>>>>>>>>>>>>>>>>> unstructured grid from its portion of the partitioned mesh.  Thus, there
>>>>>>>>>>>>>>>>>>>>>> isn't any need for mpi calls in the adaptor code.  If you had ghost cell
>>>>>>>>>>>>>>>>>>>>>> information in your partitioned mesh and wanted to get fancy you should be
>>>>>>>>>>>>>>>>>>>>>> able to add that to your partitioned grid to make some of the filters faster
>>>>>>>>>>>>>>>>>>>>>> but I haven't tried that.
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 11:58 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Thanks a lot Andy, Takuya,
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> I'm using the PhastaAdaptor, and the
>>>>>>>>>>>>>>>>>>>>>>> FortranAdaptorAPI as a guide for the moment.
>>>>>>>>>>>>>>>>>>>>>>> I know there were talks of getting POLYHEDRAL cell
>>>>>>>>>>>>>>>>>>>>>>> support in VTK. Do you know if this is there yet?
>>>>>>>>>>>>>>>>>>>>>>> My dataset is multiregion unstructured polyhedral
>>>>>>>>>>>>>>>>>>>>>>> mesh domain decomposed amongst each processor.
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Is the Phasta code parallelized ? If so, I do not see
>>>>>>>>>>>>>>>>>>>>>>> any MPI statements in the adaptor code ?
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Andy Bauer <andy.bauer at kitware.com>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>> Hi Jacques,
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> What type of data set do you have?  Even though the
>>>>>>>>>>>>>>>>>>>>>>>> PHASTA adaptor (
>>>>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/Adaptors/FortranAdaptors/PhastaAdaptor) is for fortran
>>>>>>>>>>>>>>>>>>>>>>>> code it may give you an idea.  Also stepping through the example in
>>>>>>>>>>>>>>>>>>>>>>>> ParaView/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptCoProcessingExample.cxx
>>>>>>>>>>>>>>>>>>>>>>>> may help as well.
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> I'll spend some time this week putting up a skeleton
>>>>>>>>>>>>>>>>>>>>>>>> of a simulation code on the coprocessing wiki that should hopefully be
>>>>>>>>>>>>>>>>>>>>>>>> easier to follow.  I'll let you know when it's done.
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> Andy
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>> On Wed, Aug 4, 2010 at 8:02 AM, Jacques Papper <
>>>>>>>>>>>>>>>>>>>>>>>> jacques.papper at gmail.com> wrote:
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>  Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Sorry for my last post, I figured out that I had
>>>>>>>>>>>>>>>>>>>>>>>>> wrongly set my PYTHONPATH..
>>>>>>>>>>>>>>>>>>>>>>>>> All the tests work ok now. Still interested in
>>>>>>>>>>>>>>>>>>>>>>>>> CoProcessing adaptors examples though :)
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Thanks
>>>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> 2010/8/4 Jacques Papper <jacques.papper at gmail.com>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> Hi All,
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> I'm starting to look into the ParaView
>>>>>>>>>>>>>>>>>>>>>>>>>> CoProcessing libraries.
>>>>>>>>>>>>>>>>>>>>>>>>>> I just pulled from git today, and compiled it all
>>>>>>>>>>>>>>>>>>>>>>>>>> up following the guidelines in :
>>>>>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/Wiki/CoProcessing
>>>>>>>>>>>>>>>>>>>>>>>>>> I didn't find :
>>>>>>>>>>>>>>>>>>>>>>>>>> *BUILD_PYTHON_COPROCESSING_ADAPTOR
>>>>>>>>>>>>>>>>>>>>>>>>>> *but instead :
>>>>>>>>>>>>>>>>>>>>>>>>>> PARAVIEW_BUILD_PLUGIN_CoProcessingScriptGenerator
>>>>>>>>>>>>>>>>>>>>>>>>>> anyway the compilation went through without any
>>>>>>>>>>>>>>>>>>>>>>>>>> issues.
>>>>>>>>>>>>>>>>>>>>>>>>>> I then tried :
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> ctest -R CoProcessing
>>>>>>>>>>>>>>>>>>>>>>>>>> Test project
>>>>>>>>>>>>>>>>>>>>>>>>>> /users/boreas01/jacques/PARAVIEW/ParaView-bin
>>>>>>>>>>>>>>>>>>>>>>>>>>     Start 491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>>>>> 1/3 Test #491: CoProcessingTestPythonScript
>>>>>>>>>>>>>>>>>>>>>>>>>> ...........   Passed    0.45 sec
>>>>>>>>>>>>>>>>>>>>>>>>>>     Start 492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>>> 2/3 Test #492: CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>>> .......***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>>>>     Start 493:
>>>>>>>>>>>>>>>>>>>>>>>>>> CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>>>>> 3/3 Test #493:
>>>>>>>>>>>>>>>>>>>>>>>>>> CoProcessingPythonScriptPressurePlot ...***Failed    0.09 sec
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> 33% tests passed, 2 tests failed out of 3
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> Total Test time (real) =   0.68 sec
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> The following tests FAILED:
>>>>>>>>>>>>>>>>>>>>>>>>>>         492 - CoProcessingPythonScriptGridPlot
>>>>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>>>>>         493 - CoProcessingPythonScriptPressurePlot
>>>>>>>>>>>>>>>>>>>>>>>>>> (Failed)
>>>>>>>>>>>>>>>>>>>>>>>>>> Errors while running CTest
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> Is this a problem in my current installation or on
>>>>>>>>>>>>>>>>>>>>>>>>>> the master branch ?
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> Finally, I would like to start writing an adaptor
>>>>>>>>>>>>>>>>>>>>>>>>>> to a C++ parallelised code. Can you tell me what is the closest code I can
>>>>>>>>>>>>>>>>>>>>>>>>>> inspire myself from ?
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> Thank you,
>>>>>>>>>>>>>>>>>>>>>>>>>> Jacques
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>> PS sorry mixed up the subjects..
>>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the
>>>>>>>>>>>>>>>>>>>>>>>>> ParaView Wiki at:
>>>>>>>>>>>>>>>>>>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>>>>>>>>>>> Powered by www.kitware.com
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>>>>>>>>>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Please keep messages on-topic and check the ParaView
>>>>>>>>>>>>>>>>>>>>>> Wiki at: http://paraview.org/Wiki/ParaView
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>>>>>>>>>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>>
>>>>>>>>>>>>>>
>>>>>>>>>>>>>
>>>>>>>>>>>>
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/da7ae066/attachment-0001.htm>

From wascott at sandia.gov  Fri Aug 20 15:12:48 2010
From: wascott at sandia.gov (Scott, W Alan)
Date: Fri, 20 Aug 2010 13:12:48 -0600
Subject: [Paraview] nan
In-Reply-To: <30625_1282324423_o7KH8rRk031439_56F66A9F02F8DD40B540440CEE290BEB8F979934C4@ES03SNLNT.srn.sandia.gov>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
	<30625_1282324423_o7KH8rRk031439_56F66A9F02F8DD40B540440CEE290BEB8F979934C4@ES03SNLNT.srn.sandia.gov>
Message-ID: <56F66A9F02F8DD40B540440CEE290BEB8F97993514@ES03SNLNT.srn.sandia.gov>

Question - shouldn't the calculator be able to handle this?  When you have "Replace invalid results" checked, shouldn't that change NANs to 0's?

Is this a bug - and should I write up a bug report?

Thanks,

Alan

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Scott, W Alan
Sent: Friday, August 20, 2010 11:13 AM
To: 'Eric E. Monson'
Cc: 'paraview at paraview.org list'
Subject: Re: [Paraview] nan

Thanks all!  I believe we have found numerous solutions.

Alan

From: Eric E. Monson [mailto:emonson at cs.duke.edu]
Sent: Friday, August 20, 2010 9:26 AM
To: Scott, W Alan
Cc: David E DeMarle; Aur?lien Marsan; paraview at paraview.org list
Subject: Re: [Paraview] nan

If you can use numpy, and you're using a recent-enough version of ParaView, then you can also use the super-spiffy-numpy-hidden-behind-the-scenes programmable filter API to replace all of the attribute arrays with zero'd versions:

pdi = self.GetInputDataObject(0,0)
pdo = self.GetOutputDataObject(0)
pdo.CopyStructure(pdi)

for att_name in inputs[0].PointData.keys():
            naninc = inputs[0].PointData[att_name]
            zerod = numpy.nan_to_num(naninc)
            output.PointData.append(zerod, att_name)

Talk to you later,
-Eric

------------------------------------------------------
Eric E Monson
Duke Visualization Technology Group


On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:

Hi,

If you're using python, and if you can use the numpy library, you can use the function numpy.nan_to_num too.
http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num

Regards,

Aur?lien
2010/8/20 David E DeMarle <dave.demarle at kitware.com<mailto:dave.demarle at kitware.com>>
That said, the same trick may work in the standard calculator filter
with the expression:

if(val=val, val, 0.0)

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109

On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
<dave.demarle at kitware.com<mailto:dave.demarle at kitware.com>> wrote:
> You might write a python filter that iterates over all floating point arrays and
> replaces nan's with 0.
>
> According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> The most py version robust way to check for nan is:
>
> def isNaN(num):
>    return num != num
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov<mailto:kmorel at sandia.gov>> wrote:
>> This might not be the best solution, but you can use the threshold filter to
>> remove NANs.  A NAN will always fall outside the threshold range.
>>
>> -Ken
>>
>>
>> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov<mailto:wascott at sandia.gov>> wrote:
>>
>> Is there a way to convert nan's to zeros in ParaView?  I have a user that is
>> trying to use the integrate data filter, and it is having troubles with
>> NANs.
>>
>> Thanks,
>>
>> Alan
>>
>>
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com<http://www.kitware.com/>
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
_______________________________________________
Powered by www.kitware.com<http://www.kitware.com/>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

_______________________________________________
Powered by www.kitware.com<http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/fa4201f1/attachment.htm>

From kmorel at sandia.gov  Fri Aug 20 15:25:18 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Fri, 20 Aug 2010 13:25:18 -0600
Subject: [Paraview] nan
In-Reply-To: <56F66A9F02F8DD40B540440CEE290BEB8F97993514@ES03SNLNT.srn.sandia.gov>
Message-ID: <C89432BE.1914E%kmorel@sandia.gov>

I would agree that this is a bug.  The "Replace invalid results" was added because the calculator would spout out a bunch of errors when you have an expression that, for example, took the log of a negative number for some of the elements.  This was before we considered NANs and just wanted some sane fallback.  It makes sense that this option should apply to any result that is a non-finite number (of which NAN qualifies).  There are lots of use cases (yours included) where it is convenient to represent "invalid" entries with some placeholder number.  That said, when this option is not checked it also makes sense to output the correct non-finite number (NAN, +/-INF) as appropriate rather than report an error.

-Ken


On 8/20/10 1:12 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:

Question - shouldn't the calculator be able to handle this?  When you have "Replace invalid results" checked, shouldn't that change NANs to 0's?

Is this a bug - and should I write up a bug report?

Thanks,

Alan


From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Scott, W Alan
Sent: Friday, August 20, 2010 11:13 AM
To: 'Eric E. Monson'
Cc: 'paraview at paraview.org list'
Subject: Re: [Paraview] nan

Thanks all!  I believe we have found numerous solutions.

Alan


From: Eric E. Monson [mailto:emonson at cs.duke.edu]
Sent: Friday, August 20, 2010 9:26 AM
To: Scott, W Alan
Cc: David E DeMarle; Aur?lien Marsan; paraview at paraview.org list
Subject: Re: [Paraview] nan

If you can use numpy, and you're using a recent-enough version of ParaView, then you can also use the super-spiffy-numpy-hidden-behind-the-scenes programmable filter API to replace all of the attribute arrays with zero'd versions:



pdi = self.GetInputDataObject(0,0)

pdo = self.GetOutputDataObject(0)

pdo.CopyStructure(pdi)



for att_name in inputs[0].PointData.keys():

          naninc = inputs[0].PointData[att_name]

          zerod = numpy.nan_to_num(naninc)

          output.PointData.append(zerod, att_name)



Talk to you later,

-Eric



------------------------------------------------------

Eric E Monson

Duke Visualization Technology Group




On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:

Hi,

If you're using python, and if you can use the numpy library, you can use the function numpy.nan_to_num too.
http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num

Regards,

Aur?lien

2010/8/20 David E DeMarle <dave.demarle at kitware.com>
That said, the same trick may work in the standard calculator filter
with the expression:

if(val=val, val, 0.0)


David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109

On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
<dave.demarle at kitware.com> wrote:
> You might write a python filter that iterates over all floating point arrays and
> replaces nan's with 0.
>
> According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
> The most py version robust way to check for nan is:
>
> def isNaN(num):
>    return num != num
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
>> This might not be the best solution, but you can use the threshold filter to
>> remove NANs.  A NAN will always fall outside the threshold range.
>>
>> -Ken
>>
>>
>> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>>
>> Is there a way to convert nan's to zeros in ParaView?  I have a user that is
>> trying to use the integrate data filter, and it is having troubles with
>> NANs.
>>
>> Thanks,
>>
>> Alan
>>
>>
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com <http://www.kitware.com/>
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com/>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

_______________________________________________
Powered by www.kitware.com <http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100820/6128ec46/attachment-0001.htm>

From jdorff at phy.duke.edu  Fri Aug 20 16:57:22 2010
From: jdorff at phy.duke.edu (Jimmy Dorff)
Date: Fri, 20 Aug 2010 16:57:22 -0400
Subject: [Paraview] Quadro FX 4800
Message-ID: <4C6EEC32.9010309@phy.duke.edu>

Hi Folks,

I've previously had problems getting paraview working with hardware 
rendering on our Dell precisions. Yesterday I discovered something 
interesting.

On Fedora 13 system,
kernel 2.6.33.6-147.2.4
nvidia driver 195.36.31 (rpmfusion)

Paraview works perfectly with a GeForce 9600 GT and a GeForce 7600 GT. 
However, the same system with a Quadro FX 4800 fails.

The FX 4800 failure was a core dump in 3.6.2 and it the process locks up 
under 3.8.

Anyone have any thoughts ?

Thanks,
Jimmy Dorff

From paul.mcintosh at internetscooter.com  Fri Aug 20 22:15:05 2010
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Sat, 21 Aug 2010 12:15:05 +1000
Subject: [Paraview] Quadro FX 4800
In-Reply-To: <4C6EEC32.9010309@phy.duke.edu>
References: <4C6EEC32.9010309@phy.duke.edu>
Message-ID: <5DDF733C7BF54474B7A4BFAA74E28E79@notebook>

Jimmy,

Try the newer drivers - the current one is at about 256.xx

Cheers,

Paul 

-----Original Message-----
From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Jimmy Dorff
Sent: Saturday, 21 August 2010 6:57 AM
To: paraview
Subject: [Paraview] Quadro FX 4800

Hi Folks,

I've previously had problems getting paraview working with hardware
rendering on our Dell precisions. Yesterday I discovered something
interesting.

On Fedora 13 system,
kernel 2.6.33.6-147.2.4
nvidia driver 195.36.31 (rpmfusion)

Paraview works perfectly with a GeForce 9600 GT and a GeForce 7600 GT. 
However, the same system with a Quadro FX 4800 fails.

The FX 4800 failure was a core dump in 3.6.2 and it the process locks up
under 3.8.

Anyone have any thoughts ?

Thanks,
Jimmy Dorff
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview


From daviddoria at gmail.com  Sat Aug 21 15:31:34 2010
From: daviddoria at gmail.com (David Doria)
Date: Sat, 21 Aug 2010 15:31:34 -0400
Subject: [Paraview] vtkParsePreprocess.c missing
Message-ID: <AANLkTinbLb=RmfaVAtzfXaBswWzETiqyP-mvdWpOajpM@mail.gmail.com>

I am getting this error when configuring the git source

 CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
   Cannot find source file "vtkParsePreprocess.c".

Is this file actually missing? Or have I done something wrong with git?

Thanks,

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100821/73fce1bc/attachment.htm>

From pat.marion at kitware.com  Sat Aug 21 16:14:11 2010
From: pat.marion at kitware.com (pat marion)
Date: Sat, 21 Aug 2010 16:14:11 -0400
Subject: [Paraview] vtkParsePreprocess.c missing
In-Reply-To: <AANLkTinbLb=RmfaVAtzfXaBswWzETiqyP-mvdWpOajpM@mail.gmail.com>
References: <AANLkTinbLb=RmfaVAtzfXaBswWzETiqyP-mvdWpOajpM@mail.gmail.com>
Message-ID: <AANLkTikor4o9kpSc1BMJk2sQtZX3EYvPzqPpTWK4dP8n@mail.gmail.com>

Did you try git submodule update?  (Might need 'git submodule init' first)

Pat

On Sat, Aug 21, 2010 at 3:31 PM, David Doria <daviddoria at gmail.com> wrote:

> I am getting this error when configuring the git source
>
>  CMake Error in Utilities/VTKClientServer/Wrapping/CMakeLists.txt:
>    Cannot find source file "vtkParsePreprocess.c".
>
> Is this file actually missing? Or have I done something wrong with git?
>
> Thanks,
>
> David
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100821/1ed71908/attachment.htm>

From daviddoria at gmail.com  Sat Aug 21 22:47:34 2010
From: daviddoria at gmail.com (David Doria)
Date: Sat, 21 Aug 2010 22:47:34 -0400
Subject: [Paraview] vtkParsePreprocess.c missing
In-Reply-To: <AANLkTikor4o9kpSc1BMJk2sQtZX3EYvPzqPpTWK4dP8n@mail.gmail.com>
References: <AANLkTinbLb=RmfaVAtzfXaBswWzETiqyP-mvdWpOajpM@mail.gmail.com>
	<AANLkTikor4o9kpSc1BMJk2sQtZX3EYvPzqPpTWK4dP8n@mail.gmail.com>
Message-ID: <AANLkTinpH0GeBZOv=LsOku+4Eey1JYaRBjmh=4SvomVs@mail.gmail.com>

On Sat, Aug 21, 2010 at 4:14 PM, pat marion <pat.marion at kitware.com> wrote:

> Did you try git submodule update?  (Might need 'git submodule init' first)
>
> Pat
>
>
Thanks Pat, 'git submodule update' did the trick. I added a section to the
wiki page:

http://www.paraview.org/Wiki/ParaView/Git#Typical_Users_Workflow

While it is nice to have all of the details, I think this should help people
who just want to stay current with ParaView but don't care about learning
git (and have no intention of editing/contributing code). Let me know if it
seems reasonable (and correct!).
 <http://www.paraview.org/Wiki/ParaView/Git#Typical_Users_Workflow>
Thanks,

David
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100821/4f203060/attachment.htm>

From marcus.hanwell at kitware.com  Sat Aug 21 23:18:25 2010
From: marcus.hanwell at kitware.com (Marcus D. Hanwell)
Date: Sat, 21 Aug 2010 23:18:25 -0400
Subject: [Paraview] vtkParsePreprocess.c missing
In-Reply-To: <AANLkTinpH0GeBZOv=LsOku+4Eey1JYaRBjmh=4SvomVs@mail.gmail.com>
References: <AANLkTinbLb=RmfaVAtzfXaBswWzETiqyP-mvdWpOajpM@mail.gmail.com>
	<AANLkTikor4o9kpSc1BMJk2sQtZX3EYvPzqPpTWK4dP8n@mail.gmail.com>
	<AANLkTinpH0GeBZOv=LsOku+4Eey1JYaRBjmh=4SvomVs@mail.gmail.com>
Message-ID: <AANLkTi=E5bdV5+P7mMV30DkeRm6RjSEL4uG+WS-NKucq@mail.gmail.com>

On Sat, Aug 21, 2010 at 10:47 PM, David Doria <daviddoria at gmail.com> wrote:

> On Sat, Aug 21, 2010 at 4:14 PM, pat marion <pat.marion at kitware.com>wrote:
>
>> Did you try git submodule update?  (Might need 'git submodule init' first)
>>
>> Pat
>>
>>
> Thanks Pat, 'git submodule update' did the trick. I added a section to the
> wiki page:
>
> http://www.paraview.org/Wiki/ParaView/Git#Typical_Users_Workflow
>
> While it is nice to have all of the details, I think this should help
> people who just want to stay current with ParaView but don't care about
> learning git (and have no intention of editing/contributing code). Let me
> know if it seems reasonable (and correct!).
>

There was a lot more than was needed, so I updated it. Basically, the
initial clone creates the ParaView directory, initializes and then updates
the submodule. So only one command is required for initial checkout. To
update, you must first pull, and then update the submodules (the pull is
what may push the submodule forward).

I hope that makes things clearer. I agree that we need to provide very
brief, minimal instructions for people that just want to get up and running
as quickly as possible.

Thanks,

Marcus
--
Marcus D. Hanwell, Ph.D.
R&D Engineer, Kitware Inc.
(518) 881-4937
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100821/3bb00dc2/attachment.htm>

From aur.marsan at gmail.com  Mon Aug 23 03:38:15 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 23 Aug 2010 09:38:15 +0200
Subject: [Paraview] nan
In-Reply-To: <F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
Message-ID: <AANLkTikEXRdupnrYB=Vb1eYsdHcHyPHWw0mwtUsQwog8@mail.gmail.com>

Hello Eric,

In the solution you propose, what is the inputs[0] for ?
Is there a connection between the line :

> pdi = self.GetInputDataObject(0,0)
>
and inputs[0] ?

Or does inputs[0] picks on something else ?

Thanks,

Aur?lien
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/5b40d857/attachment.htm>

From aur.marsan at gmail.com  Mon Aug 23 08:44:24 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 23 Aug 2010 14:44:24 +0200
Subject: [Paraview] nan
In-Reply-To: <F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
Message-ID: <AANLkTiktOu4LH6QEHqLjoPB3ms_6WZrHWtRSVxCuRaL0@mail.gmail.com>

Hello Eric,

I'm very interested in what you call
"super-spiffy-numpy-hidden-behind-the-scenes".
That would shorten most of my scripts !

But do you know if it can handle with MultiBlockDataSet ?...

I would have like to do inputs[0].GetBlock(1).PointData[att_name]
But it doesn't seem to work...

Thanks,

Aur?lien

2010/8/20 Eric E. Monson <emonson at cs.duke.edu>

> If you can use numpy, and you're using a recent-enough version of ParaView,
> then you can also use the super-spiffy-numpy-hidden-behind-the-scenes
> programmable filter API to replace all of the attribute arrays with zero'd
> versions:
>
> pdi = self.GetInputDataObject(0,0)
> pdo = self.GetOutputDataObject(0)
> pdo.CopyStructure(pdi)
>
>
> for att_name in inputs[0].PointData.keys():
>  naninc = inputs[0].PointData[att_name]
> zerod = numpy.nan_to_num(naninc)
>  output.PointData.append(zerod, att_name)
>
> Talk to you later,
> -Eric
>
>  ------------------------------------------------------
> Eric E Monson
> Duke Visualization Technology Group
>
>
> On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:
>
> Hi,
>
> If you're using python, and if you can use the numpy library, you can use
> the function numpy.nan_to_num too.
>
> http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num
>
> Regards,
>
> Aur?lien
>
> 2010/8/20 David E DeMarle <dave.demarle at kitware.com>
>
>> That said, the same trick may work in the standard calculator filter
>> with the expression:
>>
>> if(val=val, val, 0.0)
>>
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>>
>>
>>
>> On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
>> <dave.demarle at kitware.com> wrote:
>> > You might write a python filter that iterates over all floating point
>> arrays and
>> > replaces nan's with 0.
>> >
>> > According to
>> http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
>> > The most py version robust way to check for nan is:
>> >
>> > def isNaN(num):
>> >    return num != num
>> >
>> > David E DeMarle
>> > Kitware, Inc.
>> > R&D Engineer
>> > 28 Corporate Drive
>> > Clifton Park, NY 12065-8662
>> > Phone: 518-371-3971 x109
>> >
>> >
>> >
>> > On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov>
>> wrote:
>> >> This might not be the best solution, but you can use the threshold
>> filter to
>> >> remove NANs.  A NAN will always fall outside the threshold range.
>> >>
>> >> -Ken
>> >>
>> >>
>> >> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>> >>
>> >> Is there a way to convert nan?s to zeros in ParaView?  I have a user
>> that is
>> >> trying to use the integrate data filter, and it is having troubles with
>> >> NANs.
>> >>
>> >> Thanks,
>> >>
>> >> Alan
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> _______________________________________________
>> >> Powered by www.kitware.com
>> >>
>> >> Visit other Kitware open-source projects at
>> >> http://www.kitware.com/opensource/opensource.html
>> >>
>> >> Please keep messages on-topic and check the ParaView Wiki at:
>> >> http://paraview.org/Wiki/ParaView
>> >>
>> >> Follow this link to subscribe/unsubscribe:
>> >> http://www.paraview.org/mailman/listinfo/paraview
>> >>
>> >>
>> >
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/20ad85a3/attachment.htm>

From xunlei at renci.org  Mon Aug 23 09:20:04 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 09:20:04 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
Message-ID: <4C727584.5050505@renci.org>



   Hi,
I just built ParaView git under Windows7 64bit + MSVC2008. When I
launched paraview.exe (in both Debug and Release modes), I encountered

"paraview.exe has stopped working
A problem caused the progrma to stop working correctly. windows will
close the program and notify you if a solution is available.
      Debug   Close Program"

The git build is the only ParaView instance on my computer and its path
is registered with the OS. Did I miss any steps after the build? Thanks
a lot.

Best,
x

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/ff4b0dd5/attachment.htm>

From utkarsh.ayachit at kitware.com  Mon Aug 23 09:27:33 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 23 Aug 2010 09:27:33 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <4C727584.5050505@renci.org>
References: <4C727584.5050505@renci.org>
Message-ID: <AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>

Can you attach a debugger and see where/why it's segfaulting?

Thanks
Utkarsh

On Mon, Aug 23, 2010 at 9:20 AM, Dr. X <xunlei at renci.org> wrote:
>   Hi,
> I just built ParaView git under Windows7 64bit + MSVC2008. When I
> launched paraview.exe (in both Debug and Release modes), I encountered
>
> "paraview.exe has stopped working
> A problem caused the progrma to stop working correctly. windows will
> close the program and notify you if a solution is available.
>      Debug   Close Program"
>
> The git build is the only ParaView instance on my computer and its path
> is registered with the OS. Did I miss any steps after the build? Thanks
> a lot.
>
> Best,
> x
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From emonson at cs.duke.edu  Mon Aug 23 09:27:35 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 23 Aug 2010 09:27:35 -0400
Subject: [Paraview] nan
In-Reply-To: <AANLkTiktOu4LH6QEHqLjoPB3ms_6WZrHWtRSVxCuRaL0@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
	<AANLkTiktOu4LH6QEHqLjoPB3ms_6WZrHWtRSVxCuRaL0@mail.gmail.com>
Message-ID: <C615AE8B-4825-4F93-BD14-FF7615C70A42@cs.duke.edu>

Hey Aur?lien,

Most of what I know about this new interface is from a couple of examples that Berk posted a while back (he may have written the interface...?), and from looking at the python module dataset_adapter.py in ParaView/Utilities/VTKPythonWrapping/paraview/vtk. I don't understand it all, but it basically seems to make it easier to go back and forth between VTK data sets (and data arrays) and numpy arrays. In the same directory, algorithms.py uses this data_adapter module, and data_adapter uses numpy_support, plus creates new classes which bundle together the VTK and numpy objects, and make them easy (and pythonic) to access.

I have never used it, but it looks like there is some support built in for multi-block data sets -- there are CompositeDataSet and CompositeDataIterator classes defined towards the end of dataset_adapter.py. It looks like there isn't the type of GetBlock() support you were expecting, but instead you can iterate through the blocks:

for block in inputs[0]:
  print block.Points

I haven't done that much with it, but it really seems to be a handy way to use numpy in the programmable filters!

Talk to you later,
-Eric


On Aug 23, 2010, at 8:44 AM, Aur?lien Marsan wrote:

> Hello Eric, 
> 
> I'm very interested in what you call "super-spiffy-numpy-hidden-behind-the-scenes". 
> That would shorten most of my scripts ! 
> 
> But do you know if it can handle with MultiBlockDataSet ?... 
> 
> I would have like to do inputs[0].GetBlock(1).PointData[att_name]
> But it doesn't seem to work... 
> 
> Thanks, 
> 
> Aur?lien 
> 
> 2010/8/20 Eric E. Monson <emonson at cs.duke.edu>
> If you can use numpy, and you're using a recent-enough version of ParaView, then you can also use the super-spiffy-numpy-hidden-behind-the-scenes programmable filter API to replace all of the attribute arrays with zero'd versions:
> 
> pdi = self.GetInputDataObject(0,0)
> pdo = self.GetOutputDataObject(0)
> pdo.CopyStructure(pdi)
> 
> for att_name in inputs[0].PointData.keys():
> 	naninc = inputs[0].PointData[att_name]
> 	zerod = numpy.nan_to_num(naninc)
> 	output.PointData.append(zerod, att_name)
> 
> Talk to you later,
> -Eric
> 
> ------------------------------------------------------
> Eric E Monson
> Duke Visualization Technology Group
> 
> 
> On Aug 20, 2010, at 10:00 AM, Aur?lien Marsan wrote:
> 
>> Hi, 
>> 
>> If you're using python, and if you can use the numpy library, you can use the function numpy.nan_to_num too. 
>> http://docs.scipy.org/doc/numpy/reference/generated/numpy.nan_to_num.html#numpy.nan_to_num
>> 
>> Regards, 
>> 
>> Aur?lien
>> 
>> 2010/8/20 David E DeMarle <dave.demarle at kitware.com>
>> That said, the same trick may work in the standard calculator filter
>> with the expression:
>> 
>> if(val=val, val, 0.0)
>> 
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>> 
>> 
>> 
>> On Fri, Aug 20, 2010 at 9:26 AM, David E DeMarle
>> <dave.demarle at kitware.com> wrote:
>> > You might write a python filter that iterates over all floating point arrays and
>> > replaces nan's with 0.
>> >
>> > According to http://stackoverflow.com/questions/944700/how-to-check-for-nan-in-python
>> > The most py version robust way to check for nan is:
>> >
>> > def isNaN(num):
>> >    return num != num
>> >
>> > David E DeMarle
>> > Kitware, Inc.
>> > R&D Engineer
>> > 28 Corporate Drive
>> > Clifton Park, NY 12065-8662
>> > Phone: 518-371-3971 x109
>> >
>> >
>> >
>> > On Thu, Aug 19, 2010 at 11:24 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
>> >> This might not be the best solution, but you can use the threshold filter to
>> >> remove NANs.  A NAN will always fall outside the threshold range.
>> >>
>> >> -Ken
>> >>
>> >>
>> >> On 8/19/10 6:28 PM, "Scott, W Alan" <wascott at sandia.gov> wrote:
>> >>
>> >> Is there a way to convert nan?s to zeros in ParaView?  I have a user that is
>> >> trying to use the integrate data filter, and it is having troubles with
>> >> NANs.
>> >>
>> >> Thanks,
>> >>
>> >> Alan
>> >>
>> >>
>> >>
>> >>
>> >>
>> >> _______________________________________________
>> >> Powered by www.kitware.com
>> >>
>> >> Visit other Kitware open-source projects at
>> >> http://www.kitware.com/opensource/opensource.html
>> >>
>> >> Please keep messages on-topic and check the ParaView Wiki at:
>> >> http://paraview.org/Wiki/ParaView
>> >>
>> >> Follow this link to subscribe/unsubscribe:
>> >> http://www.paraview.org/mailman/listinfo/paraview
>> >>
>> >>
>> >
>> _______________________________________________
>> Powered by www.kitware.com
>> 
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>> 
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>> 
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>> 
>> _______________________________________________
>> Powered by www.kitware.com
>> 
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>> 
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>> 
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
> 
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/e25a8a31/attachment-0001.htm>

From dave.partyka at kitware.com  Mon Aug 23 09:30:05 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 23 Aug 2010 09:30:05 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
Message-ID: <AANLkTi=oF+VfZE5fK14LuXuVq78L3wSPaH5fJ3sj9Tge@mail.gmail.com>

You definitely have Qt in your path?

On Mon, Aug 23, 2010 at 9:27 AM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Can you attach a debugger and see where/why it's segfaulting?
>
> Thanks
> Utkarsh
>
> On Mon, Aug 23, 2010 at 9:20 AM, Dr. X <xunlei at renci.org> wrote:
> >   Hi,
> > I just built ParaView git under Windows7 64bit + MSVC2008. When I
> > launched paraview.exe (in both Debug and Release modes), I encountered
> >
> > "paraview.exe has stopped working
> > A problem caused the progrma to stop working correctly. windows will
> > close the program and notify you if a solution is available.
> >      Debug   Close Program"
> >
> > The git build is the only ParaView instance on my computer and its path
> > is registered with the OS. Did I miss any steps after the build? Thanks
> > a lot.
> >
> > Best,
> > x
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/a022adcb/attachment.htm>

From emonson at cs.duke.edu  Mon Aug 23 09:46:41 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 23 Aug 2010 09:46:41 -0400
Subject: [Paraview] nan
In-Reply-To: <AANLkTikEXRdupnrYB=Vb1eYsdHcHyPHWw0mwtUsQwog8@mail.gmail.com>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
	<AANLkTikEXRdupnrYB=Vb1eYsdHcHyPHWw0mwtUsQwog8@mail.gmail.com>
Message-ID: <329DC3C3-299E-475D-AC75-85D8264CA4F2@cs.duke.edu>

Hey Aur?lien,

(Someone with more detailed knowledge can correct me if I'm wrong...) pdi and inputs[0] refer to the same input to the programmable filter, but pdi is the VTK object and inputs[0] is a more Python-friendly wrapper for the VTK object which makes access to the object properties more pythonic, and allows easy creation of numpy arrays behind the scenes for shorter code. Maybe there is a way to prove that they refer to the same object, but I don't know offhand how to do that. :)

I end up using both methods for object access depending on what I'm doing. If I'm doing more "pure VTK" manipulations then I use pdi, but if I'm doing calculations (and sometimes assignments) with the attribute and point arrays, then I like using the new API with numpy.

Talk to you later,
-Eric


On Aug 23, 2010, at 3:38 AM, Aur?lien Marsan wrote:

> Hello Eric, 
> 
> In the solution you propose, what is the inputs[0] for ?
> Is there a connection between the line : 
> pdi = self.GetInputDataObject(0,0)
> and inputs[0] ? 
> 
> Or does inputs[0] picks on something else ? 
> 
> Thanks,
> 
> Aur?lien

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/47c9c2f6/attachment.htm>

From emonson at cs.duke.edu  Mon Aug 23 10:05:10 2010
From: emonson at cs.duke.edu (Eric E. Monson)
Date: Mon, 23 Aug 2010 10:05:10 -0400
Subject: [Paraview] nan
In-Reply-To: <329DC3C3-299E-475D-AC75-85D8264CA4F2@cs.duke.edu>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
	<AANLkTikEXRdupnrYB=Vb1eYsdHcHyPHWw0mwtUsQwog8@mail.gmail.com>
	<329DC3C3-299E-475D-AC75-85D8264CA4F2@cs.duke.edu>
Message-ID: <8D1D2D1E-66D7-41C6-92D7-8602FFC48653@cs.duke.edu>

Okay, found how you can see that they're the same object "under the covers":

pdi = self.GetInputDataObject(0,0)
print pdi
print inputs[0].VTKObject

-Eric


On Aug 23, 2010, at 9:46 AM, Eric E. Monson wrote:

> Hey Aur?lien,
> 
> (Someone with more detailed knowledge can correct me if I'm wrong...) pdi and inputs[0] refer to the same input to the programmable filter, but pdi is the VTK object and inputs[0] is a more Python-friendly wrapper for the VTK object which makes access to the object properties more pythonic, and allows easy creation of numpy arrays behind the scenes for shorter code. Maybe there is a way to prove that they refer to the same object, but I don't know offhand how to do that. :)
> 
> I end up using both methods for object access depending on what I'm doing. If I'm doing more "pure VTK" manipulations then I use pdi, but if I'm doing calculations (and sometimes assignments) with the attribute and point arrays, then I like using the new API with numpy.
> 
> Talk to you later,
> -Eric
> 
> 
> On Aug 23, 2010, at 3:38 AM, Aur?lien Marsan wrote:
> 
>> Hello Eric, 
>> 
>> In the solution you propose, what is the inputs[0] for ?
>> Is there a connection between the line : 
>> pdi = self.GetInputDataObject(0,0)
>> and inputs[0] ? 
>> 
>> Or does inputs[0] picks on something else ? 
>> 
>> Thanks,
>> 
>> Aur?lien
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/10fce6bf/attachment.htm>

From xunlei at renci.org  Mon Aug 23 10:41:48 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 10:41:48 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
Message-ID: <4C7288AC.3050603@renci.org>

  Thanks, Utkarsh.
I ran the debug version of paraview in MSVC and had this error:
"application error
The application was unable to start correctly (0xc000007b). click OK to 
close the application."
Any idea?
Best,
x

On 8/23/2010 9:27 AM, Utkarsh Ayachit wrote:
> Can you attach a debugger and see where/why it's segfaulting?
>
> Thanks
> Utkarsh
>
> On Mon, Aug 23, 2010 at 9:20 AM, Dr. X<xunlei at renci.org>  wrote:
>>    Hi,
>> I just built ParaView git under Windows7 64bit + MSVC2008. When I
>> launched paraview.exe (in both Debug and Release modes), I encountered
>>
>> "paraview.exe has stopped working
>> A problem caused the progrma to stop working correctly. windows will
>> close the program and notify you if a solution is available.
>>       Debug   Close Program"
>>
>> The git build is the only ParaView instance on my computer and its path
>> is registered with the OS. Did I miss any steps after the build? Thanks
>> a lot.
>>
>> Best,
>> x
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>


From drescherjm at gmail.com  Mon Aug 23 10:46:05 2010
From: drescherjm at gmail.com (John Drescher)
Date: Mon, 23 Aug 2010 10:46:05 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <4C7288AC.3050603@renci.org>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
Message-ID: <AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>

> I ran the debug version of paraview in MSVC and had this error:
> "application error
> The application was unable to start correctly (0xc000007b). click OK to
> close the application."
> Any idea?
> Best,
> x

It crashed. Did you try debugging? Did you verify your Qt was in your path?

John

From xunlei at renci.org  Mon Aug 23 10:50:54 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 10:50:54 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
References: <4C727584.5050505@renci.org>	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
Message-ID: <4C728ACE.4010403@renci.org>

  Hi John,
Thanks.
I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my 
path.
Other possibilities?
x
On 8/23/2010 10:46 AM, John Drescher wrote:
>> I ran the debug version of paraview in MSVC and had this error:
>> "application error
>> The application was unable to start correctly (0xc000007b). click OK to
>> close the application."
>> Any idea?
>> Best,
>> x
> It crashed. Did you try debugging? Did you verify your Qt was in your path?
>
> John


From drescherjm at gmail.com  Mon Aug 23 10:53:39 2010
From: drescherjm at gmail.com (John Drescher)
Date: Mon, 23 Aug 2010 10:53:39 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <4C728ACE.4010403@renci.org>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
Message-ID: <AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>

On Mon, Aug 23, 2010 at 10:50 AM, Dr. X <xunlei at renci.org> wrote:
> ?Hi John,
> Thanks.
> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my
> path.
> Other possibilities?
> x

In C:\Qt\bin

Does QtCored4.dll exist as well as QtCore4.dll

John

From drescherjm at gmail.com  Mon Aug 23 11:00:24 2010
From: drescherjm at gmail.com (John Drescher)
Date: Mon, 23 Aug 2010 11:00:24 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
Message-ID: <AANLkTimiLKXoExmVRnfoAUzCXBoxeQ64kWQoh2Jhy=YV@mail.gmail.com>

> Was Qt compiled from the Visual Studio 2008 x64 command prompt, rather
> than the Visual Studio 2008 command prompt?
>
Good point. Also, I also believe if you compile Qt using the IDE you
get 32 bit Qt only even if you configured it from a VS 2008 x64
command prompt. At least I vaguely remember having this issue.

John

From dave.partyka at kitware.com  Mon Aug 23 10:53:53 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 23 Aug 2010 10:53:53 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
Message-ID: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>

Hi All,

Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In addition
to the traditional C library we have also brought in the C++ version of the
library (hdf5_cpp). The high level versions of the library are also
available (hdf5_hl & hdf5_hl_cpp). This should provide ParaView developers a
number of avenues to use the latest HDF5 in their readers/writes.

The HDF5 group has has started using CMake as a build system for HDF5. Using
the new build system John Biddiscombe and Brad King were able to create a
slimmed down version of HDF5 that just builds the core libraries and easily
integrates into ParaView. Many thanks to them for their efforts!

See here for the release notes for HDF5 1.8.x.

http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html

 As always, we value feedback from the community. Feel free to report any
issues. In the mean time I will be monitoring the dashboards.

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/65b07cef/attachment.htm>

From robert.maynard at kitware.com  Mon Aug 23 10:56:08 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Mon, 23 Aug 2010 10:56:08 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
Message-ID: <AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>

Was Qt compiled from the Visual Studio 2008 x64 command prompt, rather
than the Visual Studio 2008 command prompt?

On Mon, Aug 23, 2010 at 10:53 AM, John Drescher <drescherjm at gmail.com> wrote:
> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X <xunlei at renci.org> wrote:
>> ?Hi John,
>> Thanks.
>> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my
>> path.
>> Other possibilities?
>> x
>
> In C:\Qt\bin
>
> Does QtCored4.dll exist as well as QtCore4.dll
>
> John
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



-- 
Robert Maynard

From xunlei at renci.org  Mon Aug 23 11:07:41 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 11:07:41 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
References: <4C727584.5050505@renci.org>	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>	<4C7288AC.3050603@renci.org>	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
Message-ID: <4C728EBD.7080607@renci.org>

  Yes, John. They(Qt dlls) are all there.
=====
xunlei at himalaya /cygdrive/C/Qt/bin
$ ls *.dll
Qt3Support4.dll             QtHelp4.dll          QtSvg4.dll
Qt3Supportd4.dll            QtHelpd4.dll         QtSvgd4.dll
QtAssistantClient4.dll      QtMultimedia4.dll    QtTest4.dll
QtAssistantClientd4.dll     QtMultimediad4.dll   QtTestd4.dll
QtCLucene4.dll              QtNetwork4.dll       QtWebKit4.dll
QtCLucened4.dll             QtNetworkd4.dll      QtWebKitd4.dll
QtCore4.dll                 QtOpenGL4.dll        QtXml4.dll
QtCored4.dll                QtOpenGLd4.dll       QtXmlPatterns4.dll
QtDesigner4.dll             QtScript4.dll        QtXmlPatternsd4.dll
QtDesignerComponents4.dll   QtScriptTools4.dll   QtXmld4.dll
QtDesignerComponentsd4.dll  QtScriptToolsd4.dll  phonon4.dll
QtDesignerd4.dll            QtScriptd4.dll       phonond4.dll
QtGui4.dll                  QtSql4.dll
QtGuid4.dll                 QtSqld4.dll
=====
On 8/23/2010 10:53 AM, John Drescher wrote:
> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org>  wrote:
>>   Hi John,
>> Thanks.
>> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my
>> path.
>> Other possibilities?
>> x
> In C:\Qt\bin
>
> Does QtCored4.dll exist as well as QtCore4.dll
>
> John


From xunlei at renci.org  Mon Aug 23 11:08:44 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 11:08:44 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
Message-ID: <4C728EFC.60100@renci.org>

  Hi Robert,
I am pretty sure it was built through x64 command prompt. How can I 
verify my memory?
Best,
x
On 8/23/2010 10:56 AM, Robert Maynard wrote:
> Was Qt compiled from the Visual Studio 2008 x64 command prompt, rather
> than the Visual Studio 2008 command prompt?
>
> On Mon, Aug 23, 2010 at 10:53 AM, John Drescher<drescherjm at gmail.com>  wrote:
>> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org>  wrote:
>>>   Hi John,
>>> Thanks.
>>> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my
>>> path.
>>> Other possibilities?
>>> x
>> In C:\Qt\bin
>>
>> Does QtCored4.dll exist as well as QtCore4.dll
>>
>> John
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
>


From aur.marsan at gmail.com  Mon Aug 23 11:46:20 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 23 Aug 2010 17:46:20 +0200
Subject: [Paraview] nan
In-Reply-To: <8D1D2D1E-66D7-41C6-92D7-8602FFC48653@cs.duke.edu>
References: <56F66A9F02F8DD40B540440CEE290BEB8F979933DD@ES03SNLNT.srn.sandia.gov>
	<C8935171.5848%kmorel@sandia.gov>
	<AANLkTik+z+=eGBjJOGj=zg3H6NNMh2vYw=t_CMgbrOZ5@mail.gmail.com>
	<AANLkTi=JZxWhUkdLXCsKTMOrLe34YS_-0Y3TMmtjUi+i@mail.gmail.com>
	<AANLkTintKBFiALEVVvf=_s=FQ_8HiciwrR+K2hKMoJ1f@mail.gmail.com>
	<F8692281-4CA9-4F46-990A-5CC8E0A4B090@cs.duke.edu>
	<AANLkTikEXRdupnrYB=Vb1eYsdHcHyPHWw0mwtUsQwog8@mail.gmail.com>
	<329DC3C3-299E-475D-AC75-85D8264CA4F2@cs.duke.edu>
	<8D1D2D1E-66D7-41C6-92D7-8602FFC48653@cs.duke.edu>
Message-ID: <AANLkTikbxvt_C-tj98+ER6kCmS9MPG+bYiNfjB=mq9B4@mail.gmail.com>

Hi Eric,

You are right :
for block in inputs[0]:
  print block.Points
iterates over the Points of the Blocks of the MultiBlockDataSet.

And input[0].VTKObject and pdi are the same object.

Really a great way to can work with numpy !
Many thanks !

--
Aur?lien
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/b3b0ed07/attachment.htm>

From dave.partyka at kitware.com  Mon Aug 23 12:06:32 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 23 Aug 2010 12:06:32 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <4C728EFC.60100@renci.org>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
	<4C728EFC.60100@renci.org>
Message-ID: <AANLkTim-+MkJ7jdMrrKM7nMxPYPJWrD3zpm-aTqr0cZ6@mail.gmail.com>

There might be a better way but what I do is to launch qtdemo.exe and then
open Task Manager and look for the process. If it has a * after it's name,
it's 32 bit. No star is 64bit.

On Mon, Aug 23, 2010 at 11:08 AM, Dr. X <xunlei at renci.org> wrote:

>  Hi Robert,
> I am pretty sure it was built through x64 command prompt. How can I verify
> my memory?
> Best,
> x
>
> On 8/23/2010 10:56 AM, Robert Maynard wrote:
>
>> Was Qt compiled from the Visual Studio 2008 x64 command prompt, rather
>> than the Visual Studio 2008 command prompt?
>>
>> On Mon, Aug 23, 2010 at 10:53 AM, John Drescher<drescherjm at gmail.com>
>>  wrote:
>>
>>> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org>  wrote:
>>>
>>>>  Hi John,
>>>> Thanks.
>>>> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is in my
>>>> path.
>>>> Other possibilities?
>>>> x
>>>>
>>> In C:\Qt\bin
>>>
>>> Does QtCored4.dll exist as well as QtCore4.dll
>>>
>>> John
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/6fbf084f/attachment.htm>

From xunlei at renci.org  Mon Aug 23 12:07:34 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 12:07:34 -0400
Subject: [Paraview] error in reading netCDF file
In-Reply-To: <C8858B05.18BFF%kmorel@sandia.gov>
References: <C8858B05.18BFF%kmorel@sandia.gov>
Message-ID: <4C729CC6.1000100@renci.org>

  Hi,
I have trouble reading in a netCDF file which has been attached. The 
file structure seems being loaded ok. After you hit "apply", you would 
get below error:

ERROR: In ..\..\..\src\Servers\Filters\vtkTexturePainter.cxx, line 286

vtkTexturePainter (00000000093E83C0): Incorrect dimensionality.


Any suggestions? Thanks a lot.

Best,
xunlei



-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/988e630a/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: demo_example5_trace.nc
Type: application/octet-stream
Size: 44136 bytes
Desc: demo_example5_trace.nc
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/988e630a/attachment-0001.obj>

From xunlei at renci.org  Mon Aug 23 12:09:43 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 12:09:43 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <AANLkTim-+MkJ7jdMrrKM7nMxPYPJWrD3zpm-aTqr0cZ6@mail.gmail.com>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
	<4C728EFC.60100@renci.org>
	<AANLkTim-+MkJ7jdMrrKM7nMxPYPJWrD3zpm-aTqr0cZ6@mail.gmail.com>
Message-ID: <4C729D47.6060408@renci.org>

  Hi Dave,
Thanks a lot for the trick. My qtdemo.exe is a 64bit app. (no star).
Best,
x
On 8/23/2010 12:06 PM, Dave Partyka wrote:
> There might be a better way but what I do is to launch qtdemo.exe and 
> then open Task Manager and look for the process. If it has a * after 
> it's name, it's 32 bit. No star is 64bit.
>
> On Mon, Aug 23, 2010 at 11:08 AM, Dr. X <xunlei at renci.org 
> <mailto:xunlei at renci.org>> wrote:
>
>      Hi Robert,
>     I am pretty sure it was built through x64 command prompt. How can
>     I verify my memory?
>     Best,
>     x
>
>     On 8/23/2010 10:56 AM, Robert Maynard wrote:
>
>         Was Qt compiled from the Visual Studio 2008 x64 command
>         prompt, rather
>         than the Visual Studio 2008 command prompt?
>
>         On Mon, Aug 23, 2010 at 10:53 AM, John
>         Drescher<drescherjm at gmail.com <mailto:drescherjm at gmail.com>>
>          wrote:
>
>             On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org
>             <mailto:xunlei at renci.org>>  wrote:
>
>                  Hi John,
>                 Thanks.
>                 I can run any Qt demo app. on that machine. And yes,
>                 C:\Qt\bin is in my
>                 path.
>                 Other possibilities?
>                 x
>
>             In C:\Qt\bin
>
>             Does QtCored4.dll exist as well as QtCore4.dll
>
>             John
>             _______________________________________________
>             Powered by www.kitware.com <http://www.kitware.com>
>
>             Visit other Kitware open-source projects at
>             http://www.kitware.com/opensource/opensource.html
>
>             Please keep messages on-topic and check the ParaView Wiki
>             at: http://paraview.org/Wiki/ParaView
>
>             Follow this link to subscribe/unsubscribe:
>             http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
>     _______________________________________________
>     Powered by www.kitware.com <http://www.kitware.com>
>
>     Visit other Kitware open-source projects at
>     http://www.kitware.com/opensource/opensource.html
>
>     Please keep messages on-topic and check the ParaView Wiki at:
>     http://paraview.org/Wiki/ParaView
>
>     Follow this link to subscribe/unsubscribe:
>     http://www.paraview.org/mailman/listinfo/paraview
>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/efaaacc5/attachment.htm>

From mike.jackson at bluequartz.net  Mon Aug 23 12:33:49 2010
From: mike.jackson at bluequartz.net (Michael Jackson)
Date: Mon, 23 Aug 2010 12:33:49 -0400
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <4C729D47.6060408@renci.org>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
	<4C728EFC.60100@renci.org>
	<AANLkTim-+MkJ7jdMrrKM7nMxPYPJWrD3zpm-aTqr0cZ6@mail.gmail.com>
	<4C729D47.6060408@renci.org>
Message-ID: <230167C2-CA21-4291-96A5-E6DB7FF999EF@bluequartz.net>

Besides if he has a 64 bit Qt and tries to compile a 32 bit paraview  
then the compile will fail at the link stage. So that fact that he can  
actually start the paraview process indicates that he has matching  
compiles of Qt and ParaView.

  What was the original error? Can you simply start paraview in a  
debugger and see where it aborts? That is the quickest way to tell  
what is going on.
___________________________________________________________
Mike Jackson                      www.bluequartz.net
Principal Software Engineer       mike.jackson at bluequartz.net
BlueQuartz Software               Dayton, Ohio



On Aug 23, 2010, at 12:09 PM, Dr. X wrote:

> Hi Dave,
> Thanks a lot for the trick. My qtdemo.exe is a 64bit app. (no star).
> Best,
> x
> On 8/23/2010 12:06 PM, Dave Partyka wrote:
>>
>> There might be a better way but what I do is to launch qtdemo.exe  
>> and then open Task Manager and look for the process. If it has a *  
>> after it's name, it's 32 bit. No star is 64bit.
>>
>> On Mon, Aug 23, 2010 at 11:08 AM, Dr. X <xunlei at renci.org> wrote:
>>  Hi Robert,
>> I am pretty sure it was built through x64 command prompt. How can I  
>> verify my memory?
>> Best,
>> x
>>
>> On 8/23/2010 10:56 AM, Robert Maynard wrote:
>> Was Qt compiled from the Visual Studio 2008 x64 command prompt,  
>> rather
>> than the Visual Studio 2008 command prompt?
>>
>> On Mon, Aug 23, 2010 at 10:53 AM, John  
>> Drescher<drescherjm at gmail.com>  wrote:
>> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org>  wrote:
>>  Hi John,
>> Thanks.
>> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is  
>> in my
>> path.
>> Other possibilities?
>> x
>> In C:\Qt\bin
>>
>> Does QtCored4.dll exist as well as QtCore4.dll
>>
>> John
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From kmorel at sandia.gov  Mon Aug 23 12:43:39 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon, 23 Aug 2010 10:43:39 -0600
Subject: [Paraview] error in reading netCDF file
In-Reply-To: <4C729CC6.1000100@renci.org>
Message-ID: <C898015B.19212%kmorel@sandia.gov>

Hmm.  I'm pretty sure I've run into this before and I thought I submitted a bug.  I must not have though because I couldn't find it.  At any rate, I just raised a new one:

http://www.paraview.org/Bug/view.php?id=11161

At any rate, try running your data through the "Plot Data" filter.  That will put the data in an X-Y line plot, which I think is the best way to view your data.  I also submitted a feature request to make this the default behavior:

http://www.paraview.org/Bug/view.php?id=11162

Hope that helps.

-Ken


On 8/23/10 10:07 AM, "Dr. X" <xunlei at renci.org> wrote:

  Hi,
 I have trouble reading in a netCDF file which has been attached. The file structure seems being loaded ok. After you hit "apply", you would get below error:

 ERROR: In ..\..\..\src\Servers\Filters\vtkTexturePainter.cxx, line 286

vtkTexturePainter (00000000093E83C0): Incorrect dimensionality.




 Any suggestions? Thanks a lot.


Best,
 xunlei






   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/bb99a12d/attachment.htm>

From xunlei at renci.org  Mon Aug 23 13:17:40 2010
From: xunlei at renci.org (Dr. X)
Date: Mon, 23 Aug 2010 13:17:40 -0400
Subject: [Paraview] error in reading netCDF file
In-Reply-To: <C898015B.19212%kmorel@sandia.gov>
References: <C898015B.19212%kmorel@sandia.gov>
Message-ID: <4C72AD34.9050306@renci.org>

  Thanks a lot, Ken.
It (Plot Data) works great at this moment.

Best,
x
On 8/23/2010 12:43 PM, Moreland, Kenneth wrote:
> Hmm.  I'm pretty sure I've run into this before and I thought I 
> submitted a bug.  I must not have though because I couldn't find it. 
>  At any rate, I just raised a new one:
>
>     http://www.paraview.org/Bug/view.php?id=11161
>
>
> At any rate, try running your data through the "Plot Data" filter. 
>  That will put the data in an X-Y line plot, which I think is the best 
> way to view your data.  I also submitted a feature request to make 
> this the default behavior:
>
>     http://www.paraview.org/Bug/view.php?id=11162
>
>
> Hope that helps.
>
> -Ken
>
>
> On 8/23/10 10:07 AM, "Dr. X" <xunlei at renci.org> wrote:
>
>       Hi,
>      I have trouble reading in a netCDF file which has been attached.
>     The file structure seems being loaded ok. After you hit "apply",
>     you would get below error:
>
>     ERROR: In ..\..\..\src\Servers\Filters\vtkTexturePainter.cxx, line
>     286
>
>     vtkTexturePainter (00000000093E83C0): Incorrect dimensionality.
>
>
>
>
>      Any suggestions? Thanks a lot.
>
>
>     Best,
>      xunlei
>
>
>
>
>
>
>    ****      Kenneth Moreland
>     ***      Sandia National Laboratories
> ***********
> *** *** ***  email: kmorel at sandia.gov
> **  ***  **  phone: (505) 844-8919
>     ***      web: http://www.cs.unm.edu/~kmorel 
> <http://www.cs.unm.edu/%7Ekmorel>
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/6c64f20a/attachment-0001.htm>

From hobbsk at ohiou.edu  Mon Aug 23 13:12:36 2010
From: hobbsk at ohiou.edu (Kevin H. Hobbs)
Date: Mon, 23 Aug 2010 13:12:36 -0400
Subject: [Paraview] Dashboard build changes
Message-ID: <4C72AC04.5000200@ohiou.edu>

Due to changes in the way Mesa is built since 7.8.2 Mesa's OSMesa and
software GL libraries cannot be linked in the same application.

My dashboard builds were failing because of this change.

So instead of submitting a single MesaDevel build all of my machines are
now submitting three separate builds :

MesaDevel_Xlib using mesa's software GL only

MesaDevel_OSMesa using mesa's OSMesa only

MesaDevel_MGL using mesa's software GL and mangled OSMesa

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 253 bytes
Desc: OpenPGP digital signature
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100823/5d869b29/attachment.pgp>

From jfavre at cscs.ch  Tue Aug 24 06:55:39 2010
From: jfavre at cscs.ch (Favre  Jean)
Date: Tue, 24 Aug 2010 12:55:39 +0200
Subject: [Paraview] XYPlotView issues
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D322C2E8F@MBX00.d.ethz.ch>

Hello

I am seeing a couple of difficulties in using the XYPlotView in python and pvbatch, using ParaView head (3.9)

How does one specify the size of the image saved?

By default, I get a 300x300 pixels image and that is not good enough, since the legend takes over much of the space.
I did not find the equivalent of "ViewSize", e.g.

GetRenderView().ViewSize = [1024, 1024]

Another issue is that ALL my data variables are plotted, regardless of my explicit setting of 

DataRepresentation3.SeriesVisibility = [  stuff deleted ]

A third issue is that I could not make the macro AnimateReader() work. It gave me the following error:

  File "/apps/eiger/src/ParaViewBuildMesa/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py", line 2278, in AnimateReader
    raise RuntimeError, "Saving of animation failed!"

I got around this by writing my own animation loop:

for idx, t in enumerate(reader.TimestepValues):
  XYChartView1.ViewTime = t
  XYChartView1.StillRender()
  XYChartView1.WriteImage("/scratch/eiger/jfavre/chart1." + str(idx) + ".png", "vtkPNGWriter", 1)

and that worked fine, although at resolution 300x300. So, perhaps the vtkSMAnimationSceneImageWriter needs to be checked...?

any hints will be appreciated.

-----------------
Jean M. Favre
Swiss National Supercomputing Center

From biddisco at cscs.ch  Tue Aug 24 09:03:47 2010
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Tue, 24 Aug 2010 15:03:47 +0200
Subject: [Paraview] ParaView fails to run under Windows7 + MSVC2008
In-Reply-To: <230167C2-CA21-4291-96A5-E6DB7FF999EF@bluequartz.net>
References: <4C727584.5050505@renci.org>
	<AANLkTi=moDvi4X7Um+Fv1Xqt-f6=0kRs1OgDZAXJRTnU@mail.gmail.com>
	<4C7288AC.3050603@renci.org>
	<AANLkTintSLvx1ZU5O8_AKEoWiaQ4rwJ5d=hwaci=-3RX@mail.gmail.com>
	<4C728ACE.4010403@renci.org>
	<AANLkTi=uEUyOrVBAsLQ24r1Eo=_Ts07pw_yTzFv8u6qq@mail.gmail.com>
	<AANLkTi=ko2-k8S0cjONsgc37DTy7spKFAah2WNWaxcAm@mail.gmail.com>
	<4C728EFC.60100@renci.org>
	<AANLkTim-+MkJ7jdMrrKM7nMxPYPJWrD3zpm-aTqr0cZ6@mail.gmail.com>
	<4C729D47.6060408@renci.org>
	<230167C2-CA21-4291-96A5-E6DB7FF999EF@bluequartz.net>
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D322B4B72@MBX00.d.ethz.ch>

Just in case it's of any interest.

I have just installed windows 7 x64 on a fresh PC and also visual studio 2010. I couldn't find x64 binaries for Qt so I compiled Qt 4.7 beta from source (had a couple of errors which I managed to get around somehow), then compiled paraview git from a few days ago and I now have a working paraview. Seems to run fine.

I realize this doesn't help, but visual studio 2008 isn't any different - and Qt binaries for x64 builds are available from http://code.google.com/p/qt-msvc-installer/downloads/list which I used on XP x64 without problems.

JB



> -----Original Message-----
> From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
> On Behalf Of Michael Jackson
> Sent: 23 August 2010 18:34
> To: Dr.X
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] ParaView fails to run under Windows7 + MSVC2008
> 
> Besides if he has a 64 bit Qt and tries to compile a 32 bit paraview
> then the compile will fail at the link stage. So that fact that he can
> actually start the paraview process indicates that he has matching
> compiles of Qt and ParaView.
> 
>   What was the original error? Can you simply start paraview in a
> debugger and see where it aborts? That is the quickest way to tell
> what is going on.
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
> Principal Software Engineer       mike.jackson at bluequartz.net
> BlueQuartz Software               Dayton, Ohio
> 
> 
> 
> On Aug 23, 2010, at 12:09 PM, Dr. X wrote:
> 
> > Hi Dave,
> > Thanks a lot for the trick. My qtdemo.exe is a 64bit app. (no star).
> > Best,
> > x
> > On 8/23/2010 12:06 PM, Dave Partyka wrote:
> >>
> >> There might be a better way but what I do is to launch qtdemo.exe
> >> and then open Task Manager and look for the process. If it has a *
> >> after it's name, it's 32 bit. No star is 64bit.
> >>
> >> On Mon, Aug 23, 2010 at 11:08 AM, Dr. X <xunlei at renci.org> wrote:
> >>  Hi Robert,
> >> I am pretty sure it was built through x64 command prompt. How can I
> >> verify my memory?
> >> Best,
> >> x
> >>
> >> On 8/23/2010 10:56 AM, Robert Maynard wrote:
> >> Was Qt compiled from the Visual Studio 2008 x64 command prompt,
> >> rather
> >> than the Visual Studio 2008 command prompt?
> >>
> >> On Mon, Aug 23, 2010 at 10:53 AM, John
> >> Drescher<drescherjm at gmail.com>  wrote:
> >> On Mon, Aug 23, 2010 at 10:50 AM, Dr. X<xunlei at renci.org>  wrote:
> >>  Hi John,
> >> Thanks.
> >> I can run any Qt demo app. on that machine. And yes, C:\Qt\bin is
> >> in my
> >> path.
> >> Other possibilities?
> >> x
> >> In C:\Qt\bin
> >>
> >> Does QtCored4.dll exist as well as QtCore4.dll
> >>
> >> John
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://www.paraview.org/mailman/listinfo/paraview
> >>
> >>
> >>
> >>
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://www.paraview.org/mailman/listinfo/paraview
> >>
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> 
> _______________________________________________
> Powered by www.kitware.com
> 
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
> 
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
> 
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From mike.jackson at bluequartz.net  Tue Aug 24 14:50:50 2010
From: mike.jackson at bluequartz.net (Michael Jackson)
Date: Tue, 24 Aug 2010 14:50:50 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
Message-ID: <8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>

So can I back that back off to hdf5 version 1.6.9? There are SERIOUS  
issues with HDF5 version 1.8 being built as a universal binary on OS  
X. One arch will work just fine, the other will give runtime errors.  
So for instance if someone is going to build both ppc and i386  
binaries depending which one they list first the other will not work.  
I can demonstrate this with the latest HDF5 1.8.5 sources.

___________________________________________________________
Mike Jackson                      www.bluequartz.net


On Aug 23, 2010, at 10:53 AM, Dave Partyka wrote:

> Hi All,
>
> Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In  
> addition to the traditional C library we have also brought in the C+ 
> + version of the library (hdf5_cpp). The high level versions of the  
> library are also available (hdf5_hl & hdf5_hl_cpp). This should  
> provide ParaView developers a number of avenues to use the latest  
> HDF5 in their readers/writes.
>
> The HDF5 group has has started using CMake as a build system for  
> HDF5. Using the new build system John Biddiscombe and Brad King were  
> able to create a slimmed down version of HDF5 that just builds the  
> core libraries and easily integrates into ParaView. Many thanks to  
> them for their efforts!
>
> See here for the release notes for HDF5 1.8.x.
>
> http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html
>
>  As always, we value feedback from the community. Feel free to  
> report any issues. In the mean time I will be monitoring the  
> dashboards.
>
> Thanks!
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


From biddisco at cscs.ch  Tue Aug 24 15:47:35 2010
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Tue, 24 Aug 2010 21:47:35 +0200
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
	<8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
Message-ID: <AB48A31C4EC97E498F4235B7CEF74A194D322B4B78@MBX00.d.ethz.ch>

> > The HDF5 group has has started using CMake as a build system for
> > HDF5. 

I'd just like to say a big 'Thanks' to Mike Jackson too, because if he hadn't put a lot of effort into starting the whole project off, then it wouldn't have happened at all.

JB


From lester_anderson1963 at hotmail.com  Wed Aug 25 05:02:38 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Wed, 25 Aug 2010 10:02:38 +0100
Subject: [Paraview] Getting plate boundary data into Paraview
Message-ID: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>


Hello

Further to an earlier post on plate boundary data, I have the data in a variety of formats including Shapefile, GMT data, and simple XY data.

Is there an easy way to get the line (or polygon) data into Paraview?

I have copied a small sample into here to show the basic format that GMT reads, each discrete line section starts with the > plus a textual description:

> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA          
 -58.9415   10.5593
 -59.1817   10.5598
 -59.4918   10.5899
 -59.8086   10.6593
 -60.1954   10.7256
 -60.4489   10.7065
 -60.8159   10.6678
 -61.0594   10.6486
 -61.4631   10.6068
 -61.8535   10.5682
 -62.2972   10.5395
 -62.8876   10.4915
 -63.7494   10.4103
> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA          
 -77.5807    0.4294
 -77.8448    0.1430
 -77.9752   -0.0068
 -78.2026   -0.3332
 -78.4367   -0.6463
 -78.7342   -0.9592
 -79.0453   -1.3955
 -79.2994   -1.6951
 -79.4901   -1.9814
 -79.6407   -2.2444
 -79.7878   -2.4208
 -79.8400   -2.5000
 -79.9182   -2.5805
 -80.0386   -2.7369
 -80.1589   -2.8732
 -81.9900   -4.8900
> 2014 SE CAYMAN TROUGH TRANSFORM FAULT                  
 -78.4356   18.4315
 -78.3248   18.4569
 -78.1413   18.4710
 -78.0147   18.4664
 -77.9386   18.4565

I would hope that transforming this sort of XY data into something Paraview can load should be easy, but need some advice.

Thanks

Lester
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/7abc5ce8/attachment.htm>

From paul.m.edwards at gmail.com  Wed Aug 25 06:46:00 2010
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Wed, 25 Aug 2010 11:46:00 +0100
Subject: [Paraview] Manta site
Message-ID: <AANLkTik1ZzZNBLYtoOp0LU0uwWxb2ubtjKLL9pcEYut=@mail.gmail.com>

Hi,

I've been trying to try out Manta but the site has been down for a while.
 Is there a mirror site where I can download the source?  Or, could it be
put in the git repository for paraview?

Regards,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/6d37f109/attachment.htm>

From dave.demarle at kitware.com  Wed Aug 25 08:08:40 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Wed, 25 Aug 2010 08:08:40 -0400
Subject: [Paraview] Manta site
In-Reply-To: <AANLkTik1ZzZNBLYtoOp0LU0uwWxb2ubtjKLL9pcEYut=@mail.gmail.com>
References: <AANLkTik1ZzZNBLYtoOp0LU0uwWxb2ubtjKLL9pcEYut=@mail.gmail.com>
Message-ID: <AANLkTimC0AxCpLAF3Q_0ZBN=-hpz4dN6X3NeZXTfrrc4@mail.gmail.com>

Hmmm,

svn checkout https://gforge.sci.utah.edu/svn/Manta/trunk Manta
worked for me this morning, and
http://mantawiki.sci.utah.edu/manta/index.php/Main_Page
seems to work fine, so whatever the problem was it seems to be solved.

You raise a good point though. I'm not aware of any mirrors. Perhaps
someone on the Manta mailing list will know if there are any. If not
perhaps they can post a link to a tar of the source on their wiki?

Including Manta into the VTK/ParaView source is a longer term goal of
mine but before then we need an OK from the Utah folks and
additionally the current Manta related bugs listed in the ParaView bug
tracker need to be fixed.

Note if you run into problems with the latest Manta, try r2439. It
worked very well at that point and I've seen but not yet investigated
a few problems that appear with more recent versions of Manta.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Wed, Aug 25, 2010 at 6:46 AM, Paul Edwards <paul.m.edwards at gmail.com> wrote:
> Hi,
> I've been trying to try out Manta but the site has been down for a while.
> ?Is there a mirror site where I can download the source? ?Or, could it be
> put in the git repository for paraview?
> Regards,
> Paul
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From paul.m.edwards at gmail.com  Wed Aug 25 08:35:48 2010
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Wed, 25 Aug 2010 13:35:48 +0100
Subject: [Paraview] Manta site
In-Reply-To: <AANLkTimC0AxCpLAF3Q_0ZBN=-hpz4dN6X3NeZXTfrrc4@mail.gmail.com>
References: <AANLkTik1ZzZNBLYtoOp0LU0uwWxb2ubtjKLL9pcEYut=@mail.gmail.com>
	<AANLkTimC0AxCpLAF3Q_0ZBN=-hpz4dN6X3NeZXTfrrc4@mail.gmail.com>
Message-ID: <AANLkTi==i0EGq4X_v45XopM+SLTxpOGpj9fYwuddn_UP@mail.gmail.com>

The site is up (and probably has been the whole time).  The problem I had is
that the google DNS servers would not resolve the hostname - when I switched
back to my ISP DNS server everything is fine.  How strange!

Thanks,
Paul

Ok the site is up, but if you use google DNS servers it will not resolve the
hostname

On 25 August 2010 13:08, David E DeMarle <dave.demarle at kitware.com> wrote:

> Hmmm,
>
> svn checkout https://gforge.sci.utah.edu/svn/Manta/trunk Manta
> worked for me this morning, and
> http://mantawiki.sci.utah.edu/manta/index.php/Main_Page
> seems to work fine, so whatever the problem was it seems to be solved.
>
> You raise a good point though. I'm not aware of any mirrors. Perhaps
> someone on the Manta mailing list will know if there are any. If not
> perhaps they can post a link to a tar of the source on their wiki?
>
> Including Manta into the VTK/ParaView source is a longer term goal of
> mine but before then we need an OK from the Utah folks and
> additionally the current Manta related bugs listed in the ParaView bug
> tracker need to be fixed.
>
> Note if you run into problems with the latest Manta, try r2439. It
> worked very well at that point and I've seen but not yet investigated
> a few problems that appear with more recent versions of Manta.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Wed, Aug 25, 2010 at 6:46 AM, Paul Edwards <paul.m.edwards at gmail.com>
> wrote:
> > Hi,
> > I've been trying to try out Manta but the site has been down for a while.
> >  Is there a mirror site where I can download the source?  Or, could it be
> > put in the git repository for paraview?
> > Regards,
> > Paul
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/99206856/attachment.htm>

From dave.partyka at kitware.com  Wed Aug 25 09:58:43 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Wed, 25 Aug 2010 09:58:43 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
	<8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
Message-ID: <AANLkTikvFGj=CZ=mwedPEqxjniC8=cKOXr+ELg_EBzwk@mail.gmail.com>

Hey Mike, I just did a universal build now. What specifically were you doing
to get the runtime errors?

On Tue, Aug 24, 2010 at 2:50 PM, Michael Jackson <
mike.jackson at bluequartz.net> wrote:

> So can I back that back off to hdf5 version 1.6.9? There are SERIOUS issues
> with HDF5 version 1.8 being built as a universal binary on OS X. One arch
> will work just fine, the other will give runtime errors. So for instance if
> someone is going to build both ppc and i386 binaries depending which one
> they list first the other will not work. I can demonstrate this with the
> latest HDF5 1.8.5 sources.
>
>
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
>
>
> On Aug 23, 2010, at 10:53 AM, Dave Partyka wrote:
>
>  Hi All,
>>
>> Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In addition
>> to the traditional C library we have also brought in the C++ version of the
>> library (hdf5_cpp). The high level versions of the library are also
>> available (hdf5_hl & hdf5_hl_cpp). This should provide ParaView developers a
>> number of avenues to use the latest HDF5 in their readers/writes.
>>
>> The HDF5 group has has started using CMake as a build system for HDF5.
>> Using the new build system John Biddiscombe and Brad King were able to
>> create a slimmed down version of HDF5 that just builds the core libraries
>> and easily integrates into ParaView. Many thanks to them for their efforts!
>>
>> See here for the release notes for HDF5 1.8.x.
>>
>> http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html
>>
>>  As always, we value feedback from the community. Feel free to report any
>> issues. In the mean time I will be monitoring the dashboards.
>>
>> Thanks!
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/6068cdfb/attachment-0001.htm>

From mike.jackson at bluequartz.net  Wed Aug 25 10:06:16 2010
From: mike.jackson at bluequartz.net (Michael Jackson)
Date: Wed, 25 Aug 2010 10:06:16 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <AANLkTikvFGj=CZ=mwedPEqxjniC8=cKOXr+ELg_EBzwk@mail.gmail.com>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
	<8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
	<AANLkTikvFGj=CZ=mwedPEqxjniC8=cKOXr+ELg_EBzwk@mail.gmail.com>
Message-ID: <93C0F37E-6F37-4922-883F-38D8C13A90B0@bluequartz.net>

    So the basics would be if you build HDF5 with "i386;x86_64" as the  
archs to build then use the "arch -arch [i386|x86_64] SomeProgram/That/ 
Creates/HDF5/Files" and you should crash out pretty quickly when it is  
trying to initialize the HDF5 library. If you build the HDF5 project  
and one of the example hdf5 programs like "h5_group" the error will  
happen. It is very repeatable. There is a long private discussion  
going on currently with the HDF5 developers to try and figure out a  
way forward.
    I just committed some CMake code to the HDF5 SVN Cmake branch to  
basically throw a CMake FATAL_ERROR if more than 1 OS X arch is  
detected during the CMake process.
___________________________________________________________
Mike Jackson                      www.bluequartz.net
Principal Software Engineer       mike.jackson at bluequartz.net
BlueQuartz Software               Dayton, Ohio



On Aug 25, 2010, at 9:58 AM, Dave Partyka wrote:

> Hey Mike, I just did a universal build now. What specifically were  
> you doing to get the runtime errors?
>
> On Tue, Aug 24, 2010 at 2:50 PM, Michael Jackson <mike.jackson at bluequartz.net 
> > wrote:
> So can I back that back off to hdf5 version 1.6.9? There are SERIOUS  
> issues with HDF5 version 1.8 being built as a universal binary on OS  
> X. One arch will work just fine, the other will give runtime errors.  
> So for instance if someone is going to build both ppc and i386  
> binaries depending which one they list first the other will not  
> work. I can demonstrate this with the latest HDF5 1.8.5 sources.
>
>
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
>
>
> On Aug 23, 2010, at 10:53 AM, Dave Partyka wrote:
>
> Hi All,
>
> Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In  
> addition to the traditional C library we have also brought in the C+ 
> + version of the library (hdf5_cpp). The high level versions of the  
> library are also available (hdf5_hl & hdf5_hl_cpp). This should  
> provide ParaView developers a number of avenues to use the latest  
> HDF5 in their readers/writes.
>
> The HDF5 group has has started using CMake as a build system for  
> HDF5. Using the new build system John Biddiscombe and Brad King were  
> able to create a slimmed down version of HDF5 that just builds the  
> core libraries and easily integrates into ParaView. Many thanks to  
> them for their efforts!
>
> See here for the release notes for HDF5 1.8.x.
>
> http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html
>
>  As always, we value feedback from the community. Feel free to  
> report any issues. In the mean time I will be monitoring the  
> dashboards.
>
> Thanks!
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


From hng.email at gmail.com  Wed Aug 25 10:04:55 2010
From: hng.email at gmail.com (Hom Nath Gharti)
Date: Wed, 25 Aug 2010 16:04:55 +0200
Subject: [Paraview] Split view of parallel domains
Message-ID: <AANLkTim2K=C1A4yG6U5Z0N5qLeG4ky8bW628iuou4RZ3@mail.gmail.com>

Dear all,

I have a parallel data file. I want to visualize each domain slightly
split from each other so that I can identify each domain without
coloring. Do we have some option for this in ParaView?

thanks,
Hom Nath

From samuelkey at bresnan.net  Wed Aug 25 10:32:38 2010
From: samuelkey at bresnan.net (Samuel Key)
Date: Wed, 25 Aug 2010 08:32:38 -0600
Subject: [Paraview] Split view of parallel domains
In-Reply-To: <AANLkTim2K=C1A4yG6U5Z0N5qLeG4ky8bW628iuou4RZ3@mail.gmail.com>
References: <AANLkTim2K=C1A4yG6U5Z0N5qLeG4ky8bW628iuou4RZ3@mail.gmail.com>
Message-ID: <4C752986.2020807@bresnan.net>

  Hom,

If you only have a few (2,3,4) parallel domains, maybe you can load them 
individually, and use the Transform filter to translate each of the 
domains 2, 3, and 4 away from the first domain?

Sam

On 8/25/2010 8:04 AM, Hom Nath Gharti wrote:
> Dear all,
>
> I have a parallel data file. I want to visualize each domain slightly
> split from each other so that I can identify each domain without
> coloring. Do we have some option for this in ParaView?
>
> thanks,
> Hom Nath
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From dave.partyka at kitware.com  Wed Aug 25 10:36:07 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Wed, 25 Aug 2010 10:36:07 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <93C0F37E-6F37-4922-883F-38D8C13A90B0@bluequartz.net>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
	<8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
	<AANLkTikvFGj=CZ=mwedPEqxjniC8=cKOXr+ELg_EBzwk@mail.gmail.com>
	<93C0F37E-6F37-4922-883F-38D8C13A90B0@bluequartz.net>
Message-ID: <AANLkTin50+2WqCw8KQ83LGhGjt8tq_jrUSJU1EXei0Gn@mail.gmail.com>

Ahh, I don't think I was ever able to build 32bit+64bit universal because of
hdf5 build errors even with version 1.6. I thought you meant you were
building ppc;i386 and that was crashing. Testing out a ppc;i386 binary right
now seems to work fine.

There are new CMake feature in CheckTypeSize that "should" let you build
32bit+64bit binaries. It will produce #ifdef <arch> #else pragmas in your
configured header to define both sets of type sizes. I am guessing you guys
are now using that in svn HDF5?

On Wed, Aug 25, 2010 at 10:06 AM, Michael Jackson <
mike.jackson at bluequartz.net> wrote:

>   So the basics would be if you build HDF5 with "i386;x86_64" as the archs
> to build then use the "arch -arch [i386|x86_64]
> SomeProgram/That/Creates/HDF5/Files" and you should crash out pretty quickly
> when it is trying to initialize the HDF5 library. If you build the HDF5
> project and one of the example hdf5 programs like "h5_group" the error will
> happen. It is very repeatable. There is a long private discussion going on
> currently with the HDF5 developers to try and figure out a way forward.
>   I just committed some CMake code to the HDF5 SVN Cmake branch to
> basically throw a CMake FATAL_ERROR if more than 1 OS X arch is detected
> during the CMake process.
>
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
> Principal Software Engineer       mike.jackson at bluequartz.net
> BlueQuartz Software               Dayton, Ohio
>
>
>
>
> On Aug 25, 2010, at 9:58 AM, Dave Partyka wrote:
>
>  Hey Mike, I just did a universal build now. What specifically were you
>> doing to get the runtime errors?
>>
>> On Tue, Aug 24, 2010 at 2:50 PM, Michael Jackson <
>> mike.jackson at bluequartz.net> wrote:
>> So can I back that back off to hdf5 version 1.6.9? There are SERIOUS
>> issues with HDF5 version 1.8 being built as a universal binary on OS X. One
>> arch will work just fine, the other will give runtime errors. So for
>> instance if someone is going to build both ppc and i386 binaries depending
>> which one they list first the other will not work. I can demonstrate this
>> with the latest HDF5 1.8.5 sources.
>>
>>
>> ___________________________________________________________
>> Mike Jackson                      www.bluequartz.net
>>
>>
>> On Aug 23, 2010, at 10:53 AM, Dave Partyka wrote:
>>
>> Hi All,
>>
>> Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In addition
>> to the traditional C library we have also brought in the C++ version of the
>> library (hdf5_cpp). The high level versions of the library are also
>> available (hdf5_hl & hdf5_hl_cpp). This should provide ParaView developers a
>> number of avenues to use the latest HDF5 in their readers/writes.
>>
>> The HDF5 group has has started using CMake as a build system for HDF5.
>> Using the new build system John Biddiscombe and Brad King were able to
>> create a slimmed down version of HDF5 that just builds the core libraries
>> and easily integrates into ParaView. Many thanks to them for their efforts!
>>
>> See here for the release notes for HDF5 1.8.x.
>>
>> http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html
>>
>>  As always, we value feedback from the community. Feel free to report any
>> issues. In the mean time I will be monitoring the dashboards.
>>
>> Thanks!
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/4de3b724/attachment.htm>

From mike.jackson at bluequartz.net  Wed Aug 25 10:46:28 2010
From: mike.jackson at bluequartz.net (Michael Jackson)
Date: Wed, 25 Aug 2010 10:46:28 -0400
Subject: [Paraview] Paraview's HDF5 upgraded to 1.8.5
In-Reply-To: <AANLkTin50+2WqCw8KQ83LGhGjt8tq_jrUSJU1EXei0Gn@mail.gmail.com>
References: <AANLkTim=A9-Fb7OAweA_WDs8BmcZWw4JEjbrqO5-X9H2@mail.gmail.com>
	<8F1710C4-38FA-4C20-96DC-143592DC403B@bluequartz.net>
	<AANLkTikvFGj=CZ=mwedPEqxjniC8=cKOXr+ELg_EBzwk@mail.gmail.com>
	<93C0F37E-6F37-4922-883F-38D8C13A90B0@bluequartz.net>
	<AANLkTin50+2WqCw8KQ83LGhGjt8tq_jrUSJU1EXei0Gn@mail.gmail.com>
Message-ID: <592F27E9-3AF3-4396-BB6C-3A90D99BBA9A@bluequartz.net>

   I tested an i386/x86_64/ppc and the i386 worked (if listed first)  
and the x86_64 and the ppc binaries will fail to initialize the library.

  In discussing this issue with the HDF5 folks there are deeper issues  
than just #ifdef APPLE && SIZEOF_LONG == 8 type of stuff.

    The HDF5 1.6.x series was in even worse shape for universal  
binaries than the 1.8 is. I wouldn't trust it with my HDF5 data if it  
was built as a universal binary**.

    The newer CMake features for universal binary and are currently  
NOT being used for various reasons I am sure.

The root of the issue is the generation of the "H5init.c" file which  
is based on a single arch on OS X BUT will give different results for  
each arch. After that file is produced it is then compiled into the  
library. So without the proper modifications to how that file is  
generated and run you are setting up for very subtle failures with  
HDF5 when building on OS X with multiple archs.

This all applies to HDF5 Version 1.8 as that is the only Official HDF5  
release to "support" cmake.

** IF you build HDF5 with each arch in its own build tree then use  
"lipo" to combine them all into a universal binary then that _should_  
theoretically work. No one has actually tried to prove it yet.
___________________________________________________________
Mike Jackson                      www.bluequartz.net
Principal Software Engineer       mike.jackson at bluequartz.net
BlueQuartz Software               Dayton, Ohio



On Aug 25, 2010, at 10:36 AM, Dave Partyka wrote:

> Ahh, I don't think I was ever able to build 32bit+64bit universal  
> because of hdf5 build errors even with version 1.6. I thought you  
> meant you were building ppc;i386 and that was crashing. Testing out  
> a ppc;i386 binary right now seems to work fine.
>
> There are new CMake feature in CheckTypeSize that "should" let you  
> build 32bit+64bit binaries. It will produce #ifdef <arch> #else  
> pragmas in your configured header to define both sets of type sizes.  
> I am guessing you guys are now using that in svn HDF5?
>
> On Wed, Aug 25, 2010 at 10:06 AM, Michael Jackson <mike.jackson at bluequartz.net 
> > wrote:
>   So the basics would be if you build HDF5 with "i386;x86_64" as the  
> archs to build then use the "arch -arch [i386|x86_64] SomeProgram/ 
> That/Creates/HDF5/Files" and you should crash out pretty quickly  
> when it is trying to initialize the HDF5 library. If you build the  
> HDF5 project and one of the example hdf5 programs like "h5_group"  
> the error will happen. It is very repeatable. There is a long  
> private discussion going on currently with the HDF5 developers to  
> try and figure out a way forward.
>   I just committed some CMake code to the HDF5 SVN Cmake branch to  
> basically throw a CMake FATAL_ERROR if more than 1 OS X arch is  
> detected during the CMake process.
>
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
> Principal Software Engineer       mike.jackson at bluequartz.net
> BlueQuartz Software               Dayton, Ohio
>
>
>
>
> On Aug 25, 2010, at 9:58 AM, Dave Partyka wrote:
>
> Hey Mike, I just did a universal build now. What specifically were  
> you doing to get the runtime errors?
>
> On Tue, Aug 24, 2010 at 2:50 PM, Michael Jackson <mike.jackson at bluequartz.net 
> > wrote:
> So can I back that back off to hdf5 version 1.6.9? There are SERIOUS  
> issues with HDF5 version 1.8 being built as a universal binary on OS  
> X. One arch will work just fine, the other will give runtime errors.  
> So for instance if someone is going to build both ppc and i386  
> binaries depending which one they list first the other will not  
> work. I can demonstrate this with the latest HDF5 1.8.5 sources.
>
>
> ___________________________________________________________
> Mike Jackson                      www.bluequartz.net
>
>
> On Aug 23, 2010, at 10:53 AM, Dave Partyka wrote:
>
> Hi All,
>
> Late last week we updated ParaView's hdf5 from 1.6.2 to 1.8.5. In  
> addition to the traditional C library we have also brought in the C+ 
> + version of the library (hdf5_cpp). The high level versions of the  
> library are also available (hdf5_hl & hdf5_hl_cpp). This should  
> provide ParaView developers a number of avenues to use the latest  
> HDF5 in their readers/writes.
>
> The HDF5 group has has started using CMake as a build system for  
> HDF5. Using the new build system John Biddiscombe and Brad King were  
> able to create a slimmed down version of HDF5 that just builds the  
> core libraries and easily integrates into ParaView. Many thanks to  
> them for their efforts!
>
> See here for the release notes for HDF5 1.8.x.
>
> http://www.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html
>
>  As always, we value feedback from the community. Feel free to  
> report any issues. In the mean time I will be monitoring the  
> dashboards.
>
> Thanks!
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>


From paul.m.edwards at gmail.com  Wed Aug 25 11:04:39 2010
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Wed, 25 Aug 2010 16:04:39 +0100
Subject: [Paraview] manta question
Message-ID: <AANLkTikMFCJnRU9DbmOdWJN1mqyBqPwvu-bykoZBejfC@mail.gmail.com>

Hi,

Have I compiled Manta incorrectly as I have a separate window coming up when
I use the MantaView?  Also, where is the best place for documentation on it?
  I couldn't find anything on the wiki....

Thanks,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100825/97f7d3f6/attachment.htm>

From dave.demarle at kitware.com  Wed Aug 25 11:17:04 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Wed, 25 Aug 2010 11:17:04 -0400
Subject: [Paraview] manta question
In-Reply-To: <AANLkTikMFCJnRU9DbmOdWJN1mqyBqPwvu-bykoZBejfC@mail.gmail.com>
References: <AANLkTikMFCJnRU9DbmOdWJN1mqyBqPwvu-bykoZBejfC@mail.gmail.com>
Message-ID: <AANLkTim61nuNGx6XQGhwfB83SNUVjU2-w-OXgK00i0LC@mail.gmail.com>

Yep that is to be expected.

ParaView needs a GL renderer for the annotation layer (manta doesn't
do text for example), but the vtkMantaRenderer can not (so far) share
a vtkRenderWindow with a GLRenderer. For this reason we have to do the
manta rendering on the server and deliver the pixels to the client.
Until we upgrade vtkManta's architecture, you can only work around the
problem by doing things like setting up the server do pure offscreen
rendering.

The few docs that exist are all online. See the Manta web page, the code and
http://www.kitware.com/products/html/RenderedRealismAtNearlyRealTimeRates.html
for example.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Wed, Aug 25, 2010 at 11:04 AM, Paul Edwards <paul.m.edwards at gmail.com> wrote:
> Hi,
> Have I compiled Manta incorrectly as I have a separate window coming up when
> I use the MantaView? ?Also, where is the best place for documentation on it?
> ? I couldn't find anything on the wiki....
> Thanks,
> Paul
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From hng.email at gmail.com  Wed Aug 25 13:15:42 2010
From: hng.email at gmail.com (Hom Nath Gharti)
Date: Wed, 25 Aug 2010 19:15:42 +0200
Subject: [Paraview] Split view of parallel domains
In-Reply-To: <4C752986.2020807@bresnan.net>
References: <AANLkTim2K=C1A4yG6U5Z0N5qLeG4ky8bW628iuou4RZ3@mail.gmail.com>
	<4C752986.2020807@bresnan.net>
Message-ID: <AANLkTik68uxoEYrHMfp29f1qeSf1F+xgSQPGWkEm1u02@mail.gmail.com>

Thank you. actually I have 32,  sometimes even more! Even if I want to
color them, it takes some time!

Thanks,
Hom Nath

On Wed, Aug 25, 2010 at 4:32 PM, Samuel Key <samuelkey at bresnan.net> wrote:
> ?Hom,
>
> If you only have a few (2,3,4) parallel domains, maybe you can load them
> individually, and use the Transform filter to translate each of the domains
> 2, 3, and 4 away from the first domain?
>
> Sam
>
> On 8/25/2010 8:04 AM, Hom Nath Gharti wrote:
>>
>> Dear all,
>>
>> I have a parallel data file. I want to visualize each domain slightly
>> split from each other so that I can identify each domain without
>> coloring. Do we have some option for this in ParaView?
>>
>> thanks,
>> Hom Nath
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>

From felipe.bordeu at ec-nantes.fr  Wed Aug 25 16:17:53 2010
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Wed, 25 Aug 2010 22:17:53 +0200
Subject: [Paraview] StreamingParaView with a raw file
References: <00789859-2305-435A-8653-7A8477034223@gmail.com>
Message-ID: <60E57FE6-F69F-4507-8F1E-B3A1DD5B70F4@ec-nantes.fr>


Hi,

I build the git version of paraview, and I am testing the  
StreamingParaView with a raw file.

First, I get the error :

ERROR: In ParaView/Applications/StreamingParaView/Plugin/ 
vtkRawStridedReader.cxx, line 883
vtkRawStridedReader (0x34ff4c0): Whole extent requested, streaming is  
not working.

and also I can't change the Data Scalar Type on the reader.

In Paraview I can read and visualize the data (a 256*256*256*unsigned  
char raw file)

-- 
Felipe

From dave.demarle at kitware.com  Wed Aug 25 16:58:55 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Wed, 25 Aug 2010 16:58:55 -0400
Subject: [Paraview] StreamingParaView with a raw file
In-Reply-To: <60E57FE6-F69F-4507-8F1E-B3A1DD5B70F4@ec-nantes.fr>
References: <00789859-2305-435A-8653-7A8477034223@gmail.com>
	<60E57FE6-F69F-4507-8F1E-B3A1DD5B70F4@ec-nantes.fr>
Message-ID: <AANLkTimzMGYM3JYzv8JynCEd7CsBPp87eB8a-3jo2Ey=@mail.gmail.com>

Close the view and make a StreamingView in it's place.
That should fix the WholeExtent message.

The streaming raw reader only supports float. Making the data type
variable is not hard to do, but we never got to it in in the
prototype.

We are currently in the process of rebuilding the streaming paraview
apps to make them more robust and more efficient. I will be sure to
address the type limitation as part of that.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Wed, Aug 25, 2010 at 4:17 PM, Felipe Bordeu
<felipe.bordeu at ec-nantes.fr> wrote:
>
> Hi,
>
> I build the git version of paraview, and I am testing the StreamingParaView
> with a raw file.
>
> First, I get the error :
>
> ERROR: In
> ParaView/Applications/StreamingParaView/Plugin/vtkRawStridedReader.cxx, line
> 883
> vtkRawStridedReader (0x34ff4c0): Whole extent requested, streaming is not
> working.
>
> and also I can't change the Data Scalar Type on the reader.
>
> In Paraview I can read and visualize the data (a 256*256*256*unsigned char
> raw file)
>
> --
> Felipe
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From jdorff at phy.duke.edu  Wed Aug 25 17:10:56 2010
From: jdorff at phy.duke.edu (Jimmy Dorff)
Date: Wed, 25 Aug 2010 17:10:56 -0400
Subject: [Paraview] Quadro FX 4800
In-Reply-To: <5DDF733C7BF54474B7A4BFAA74E28E79@notebook>
References: <4C6EEC32.9010309@phy.duke.edu>
	<5DDF733C7BF54474B7A4BFAA74E28E79@notebook>
Message-ID: <4C7586E0.5010703@phy.duke.edu>

Paul McIntosh wrote:
> Jimmy,
> 
> Try the newer drivers - the current one is at about 256.xx
> 

Thanks, the FX 4800 is working with the 256.44 driver.

rpms built via http://forums.fedoraforum.org/showthread.php?t=237118

Cheers,
Jimmy

From c.willing at uq.edu.au  Thu Aug 26 02:50:38 2010
From: c.willing at uq.edu.au (Christoph Willing)
Date: Thu, 26 Aug 2010 16:50:38 +1000
Subject: [Paraview] Inconsistent client view in tiled-display mode
Message-ID: <380E8F79-E4AC-440E-B633-78E22D3F50BC@uq.edu.au>

When running in tiled display mode, the view at the client is  
sometimes missing part of the geometry.

The effect appears to differ according to the number of tiles in play.  
As an example just to demonstrate the effect:
- with a 4x4 tiling, a simple cylinder with no capping starts losing  
bits of the cylinder when resolution setting is at 17. With a 4x5  
tiling, distortion starts when resolution is 61. I have snapshots to  
show the effect at:
     http://www.vislab.uq.edu.au/research/paraview/missingbits.html

Of course it starts looking pretty bad with a real, more complicated,  
visualisation.

Just to reiterate, this effect is just in the client viewer. The  
rendering on the tiled display itself is perfect.

Is this a known phenomenon?


chris

(I'm running 3.8.0 built from tarball at paraview website).


Christoph Willing                       +61 7 3365 8316
QCIF Access Grid Manager
University of Queensland


From aur.marsan at gmail.com  Thu Aug 26 04:28:58 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Thu, 26 Aug 2010 10:28:58 +0200
Subject: [Paraview] GPU & SurfaceLIC
Message-ID: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>

Hello,

Really, I can not understand what makes the plugin surfaceLIC work or not.
And it's a pity, because that's exactly what I need....... !

Could we try to list as many graphic cards as possible, in order to try to
understand where the problem comes from ?

My system :

> Linux x86_64

[Quadro FX 3450/4000 SDI] - 256MB
>
Driver 195.36.24
>

When I use surfaceLIC, Paraview freezes. It seems that the calculation
works, but very slowly....
I had tried a newer driver, but this had not solve the problem.

A colleagues' system :

> Linux x86_64
>
Two graphic cards : Quadro FX 1700 - 512MB
> VBIOS Version 60.84.75.00.14
>

It works without any problem.
--------------> Does the size of the memory of the graphics card could be
the explanation ?

Thanks for any help, or advice.
Aur?lien.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/37c47a4e/attachment.htm>

From stephane.ploix at edf.fr  Thu Aug 26 05:36:54 2010
From: stephane.ploix at edf.fr (Stephane PLOIX)
Date: Thu, 26 Aug 2010 11:36:54 +0200
Subject: [Paraview] reading list of images
Message-ID: <OF6E79704E.4BAD8197-ONC125778B.00344AE4-C125778B.00344F14@notes.edfgdf.fr>

Hi,

I have a list of images, named img_XX.png, XX going from 01 to 25.
When I open it with paraview, it correctly opens the root named img_..png 
to open the list of image as a time serie, but only show the first image 
of the serie.
In the Information tab, no time is shwon, and paraview crashes when I 
change the time mode from "sequence" to "snap to time step".

Question : is the png reader supposed to work with image lists?

Best,
Stephane


  
 
Stephane PLOIX
Pilote Op?rationnel - Visualisation scientifique
EDF - R&D
SINETICS
1, Av du G?n?ral de Gaulle
92140 Clamart
 
stephane.ploix at edf.fr
T?l. : +33 (0) 1 47 65 51 10
  
Un geste simple pour l'environnement, n'imprimez ce message que si vous en 
avez l'utilit?.



Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont ?tablis ? l'intention exclusive des destinataires et les informations qui y figurent sont strictement confidentielles. Toute utilisation de ce Message non conforme ? sa destination, toute diffusion ou toute publication totale ou partielle, est interdite sauf autorisation expresse.

Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir imm?diatement l'exp?diteur par retour du message.

Il est impossible de garantir que les communications par messagerie ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute erreur ou virus.
____________________________________________________

This message and any attachments (the 'Message') are intended solely for the addressees. The information contained in this Message is confidential. Any use of information contained in this Message not in accord with its purpose, any dissemination or disclosure, either whole or partial, is prohibited except formal approval.

If you are not the addressee, you may not copy, forward, disclose or use any part of it. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return message.

E-mail communication cannot be guaranteed to be timely secure, error or virus-free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/9f216bd2/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/9f216bd2/attachment-0002.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/9f216bd2/attachment-0003.gif>

From dave.demarle at kitware.com  Thu Aug 26 07:13:17 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Thu, 26 Aug 2010 07:13:17 -0400
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <380E8F79-E4AC-440E-B633-78E22D3F50BC@uq.edu.au>
References: <380E8F79-E4AC-440E-B633-78E22D3F50BC@uq.edu.au>
Message-ID: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>

This is probably intended behavior. What is the setting of the "Client
Collect" slider on the "Options"||"Preferences"->"Render
View"->"Server"->"Tile Display Parameters" tab of the Options panel?
Unless its checkbox is unchecked, ParaView either decimates the
geometry before sending it to the client or if larger than the
threshold, sends only bounding boxes. The reasoning being that if the
rendered geometry is big enough to require a tiled display to show, a
single GPU on the client is unlikely to be able to handle it a full
resolution.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au> wrote:
> When running in tiled display mode, the view at the client is sometimes
> missing part of the geometry.
>
> The effect appears to differ according to the number of tiles in play. As an
> example just to demonstrate the effect:
> - with a 4x4 tiling, a simple cylinder with no capping starts losing bits of
> the cylinder when resolution setting is at 17. With a 4x5 tiling, distortion
> starts when resolution is 61. I have snapshots to show the effect at:
> ? ?http://www.vislab.uq.edu.au/research/paraview/missingbits.html
>
> Of course it starts looking pretty bad with a real, more complicated,
> visualisation.
>
> Just to reiterate, this effect is just in the client viewer. The rendering
> on the tiled display itself is perfect.
>
> Is this a known phenomenon?
>
>
> chris
>
> (I'm running 3.8.0 built from tarball at paraview website).
>
>
> Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
> QCIF Access Grid Manager
> University of Queensland
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From utkarsh.ayachit at kitware.com  Thu Aug 26 07:27:58 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 26 Aug 2010 07:27:58 -0400
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
References: <380E8F79-E4AC-440E-B633-78E22D3F50BC@uq.edu.au>
	<AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
Message-ID: <AANLkTim+bN7fYeV0VArcGzkhzxJ=3vjryO3UqqPxeauA@mail.gmail.com>

That expected behavior. In tile-display mode, the renderings on the
client are not meant to be accurate, but merely a guide to controlling
the actual visualization on the tile-display. As Dave said, the
geometry delivered to the client is a simplified version of the
original at best and hence the holes.

Utkarsh

On Thu, Aug 26, 2010 at 7:13 AM, David E DeMarle
<dave.demarle at kitware.com> wrote:
> This is probably intended behavior. What is the setting of the "Client
> Collect" slider on the "Options"||"Preferences"->"Render
> View"->"Server"->"Tile Display Parameters" tab of the Options panel?
> Unless its checkbox is unchecked, ParaView either decimates the
> geometry before sending it to the client or if larger than the
> threshold, sends only bounding boxes. The reasoning being that if the
> rendered geometry is big enough to require a tiled display to show, a
> single GPU on the client is unlikely to be able to handle it a full
> resolution.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au> wrote:
>> When running in tiled display mode, the view at the client is sometimes
>> missing part of the geometry.
>>
>> The effect appears to differ according to the number of tiles in play. As an
>> example just to demonstrate the effect:
>> - with a 4x4 tiling, a simple cylinder with no capping starts losing bits of
>> the cylinder when resolution setting is at 17. With a 4x5 tiling, distortion
>> starts when resolution is 61. I have snapshots to show the effect at:
>> ? ?http://www.vislab.uq.edu.au/research/paraview/missingbits.html
>>
>> Of course it starts looking pretty bad with a real, more complicated,
>> visualisation.
>>
>> Just to reiterate, this effect is just in the client viewer. The rendering
>> on the tiled display itself is perfect.
>>
>> Is this a known phenomenon?
>>
>>
>> chris
>>
>> (I'm running 3.8.0 built from tarball at paraview website).
>>
>>
>> Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
>> QCIF Access Grid Manager
>> University of Queensland
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From stephane.ploix at edf.fr  Thu Aug 26 07:50:53 2010
From: stephane.ploix at edf.fr (Stephane PLOIX)
Date: Thu, 26 Aug 2010 13:50:53 +0200
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
Message-ID: <OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>

Hi,

Since this thread is started, I would like to point out that saying that 
display walls are only used if the data size is large is not true for 
everybody.

We have several use cases where having a correct rendering on the client 
would be helpfull : 
* display walls can be used for team meetings : the space is then used to 
have several people view the same thing, not always very big in terms of 
number of cells. In this case, it is very usefull to have the possibility 
to pick/select some part of an object, and it is very diffcult to do so 
with a decimated view.
* we also use some tools like virtualGL that enable image-based 
collaboration by streaming the image of the client to a remote viewer : 
for instance if someone was not able to join the meeting and still want to 
participate and share the same view on his desktop. Sending a view of a 
decimated object is not very helpfull...

I would vote for having the possibility to have a full-resolution view on 
the client, comments?

Best,
Stephane



  
 
Stephane PLOIX
Pilote Op?rationnel - Visualisation scientifique
EDF - R&D
SINETICS
1, Av du G?n?ral de Gaulle
92140 Clamart
 
stephane.ploix at edf.fr
T?l. : +33 (0) 1 47 65 51 10
  
Un geste simple pour l'environnement, n'imprimez ce message que si vous en 
avez l'utilit?.




dave.demarle at kitware.com 
Envoy? par : paraview-bounces at paraview.org
26/08/2010 13:14

A
c.willing at uq.edu.au
cc
paraview at paraview.org
Objet
Re: [Paraview] Inconsistent client view in tiled-display mode






This is probably intended behavior. What is the setting of the "Client
Collect" slider on the "Options"||"Preferences"->"Render
View"->"Server"->"Tile Display Parameters" tab of the Options panel?
Unless its checkbox is unchecked, ParaView either decimates the
geometry before sending it to the client or if larger than the
threshold, sends only bounding boxes. The reasoning being that if the
rendered geometry is big enough to require a tiled display to show, a
single GPU on the client is unlikely to be able to handle it a full
resolution.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au> 
wrote:
> When running in tiled display mode, the view at the client is sometimes
> missing part of the geometry.
>
> The effect appears to differ according to the number of tiles in play. 
As an
> example just to demonstrate the effect:
> - with a 4x4 tiling, a simple cylinder with no capping starts losing 
bits of
> the cylinder when resolution setting is at 17. With a 4x5 tiling, 
distortion
> starts when resolution is 61. I have snapshots to show the effect at:
>    http://www.vislab.uq.edu.au/research/paraview/missingbits.html
>
> Of course it starts looking pretty bad with a real, more complicated,
> visualisation.
>
> Just to reiterate, this effect is just in the client viewer. The 
rendering
> on the tiled display itself is perfect.
>
> Is this a known phenomenon?
>
>
> chris
>
> (I'm running 3.8.0 built from tarball at paraview website).
>
>
> Christoph Willing                       +61 7 3365 8316
> QCIF Access Grid Manager
> University of Queensland
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at 
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: 
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont ?tablis ? l'intention exclusive des destinataires et les informations qui y figurent sont strictement confidentielles. Toute utilisation de ce Message non conforme ? sa destination, toute diffusion ou toute publication totale ou partielle, est interdite sauf autorisation expresse.

Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir imm?diatement l'exp?diteur par retour du message.

Il est impossible de garantir que les communications par messagerie ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute erreur ou virus.
____________________________________________________

This message and any attachments (the 'Message') are intended solely for the addressees. The information contained in this Message is confidential. Any use of information contained in this Message not in accord with its purpose, any dissemination or disclosure, either whole or partial, is prohibited except formal approval.

If you are not the addressee, you may not copy, forward, disclose or use any part of it. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return message.

E-mail communication cannot be guaranteed to be timely secure, error or virus-free.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/51d520a6/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/51d520a6/attachment.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/51d520a6/attachment-0001.gif>

From dave.demarle at kitware.com  Thu Aug 26 07:55:08 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Thu, 26 Aug 2010 07:55:08 -0400
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>
References: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
	<OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>
Message-ID: <AANLkTim_YL15nDaoJqc6n8kZKaMc-t-Qf7A7wrfEJP6s@mail.gmail.com>

Un-check the checkbox to the left and the client should get the full res
geometry too.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109


On Thu, Aug 26, 2010 at 7:50 AM, Stephane PLOIX <stephane.ploix at edf.fr>wrote:

>
> Hi,
>
> Since this thread is started, I would like to point out that saying that
> display walls are only used if the data size is large is not true for
> everybody.
>
> We have several use cases where having a correct rendering on the client
> would be helpfull :
> * display walls can be used for team meetings : the space is then used to
> have several people view the same thing, not always very big in terms of
> number of cells. In this case, it is very usefull to have the possibility to
> pick/select some part of an object, and it is very diffcult to do so with a
> decimated view.
> * we also use some tools like virtualGL that enable image-based
> collaboration by streaming the image of the client to a remote viewer : for
> instance if someone was not able to join the meeting and still want to
> participate and share the same view on his desktop. Sending a view of a
> decimated object is not very helpfull...
>
> I would vote for having the possibility to have a full-resolution view on
> the client, comments?
>
> Best,
> Stephane
>
>
>       *Stephane PLOIX**
> Pilote Op?rationnel - Visualisation scientifique*
> EDF - R&D
> SINETICS
> 1, Av du G?n?ral de Gaulle
> 92140 Clamart
>
> *stephane.ploix at edf.fr*
> T?l. : +33 (0) 1 47 65 51 10   Un geste simple pour l'environnement,
> n'imprimez ce message que si vous en avez l'utilit?.
>
>
>
>  *dave.demarle at kitware.com*
> Envoy? par : paraview-bounces at paraview.org
>
> 26/08/2010 13:14
>   A
> c.willing at uq.edu.au
>  cc
> paraview at paraview.org
> Objet
> Re: [Paraview] Inconsistent client view in tiled-display mode
>
>
>
>
> This is probably intended behavior. What is the setting of the "Client
> Collect" slider on the "Options"||"Preferences"->"Render
> View"->"Server"->"Tile Display Parameters" tab of the Options panel?
> Unless its checkbox is unchecked, ParaView either decimates the
> geometry before sending it to the client or if larger than the
> threshold, sends only bounding boxes. The reasoning being that if the
> rendered geometry is big enough to require a tiled display to show, a
> single GPU on the client is unlikely to be able to handle it a full
> resolution.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au>
> wrote:
> > When running in tiled display mode, the view at the client is sometimes
> > missing part of the geometry.
> >
> > The effect appears to differ according to the number of tiles in play. As
> an
> > example just to demonstrate the effect:
> > - with a 4x4 tiling, a simple cylinder with no capping starts losing bits
> of
> > the cylinder when resolution setting is at 17. With a 4x5 tiling,
> distortion
> > starts when resolution is 61. I have snapshots to show the effect at:
> >    http://www.vislab.uq.edu.au/research/paraview/missingbits.html
> >
> > Of course it starts looking pretty bad with a real, more complicated,
> > visualisation.
> >
> > Just to reiterate, this effect is just in the client viewer. The
> rendering
> > on the tiled display itself is perfect.
> >
> > Is this a known phenomenon?
> >
> >
> > chris
> >
> > (I'm running 3.8.0 built from tarball at paraview website).
> >
> >
> > Christoph Willing                       +61 7 3365 8316
> > QCIF Access Grid Manager
> > University of Queensland
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
> Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont ?tablis ? l'intention exclusive des destinataires et les informations qui y figurent sont strictement confidentielles. Toute utilisation de ce Message non conforme ? sa destination, toute diffusion ou toute publication totale ou partielle, est interdite sauf autorisation expresse.
>
> Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir imm?diatement l'exp?diteur par retour du message.
>
> Il est impossible de garantir que les communications par messagerie ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute erreur ou virus.
> ____________________________________________________
>
> This message and any attachments (the 'Message') are intended solely for the addressees. The information contained in this Message is confidential. Any use of information contained in this Message not in accord with its purpose, any dissemination or disclosure, either whole or partial, is prohibited except formal approval.
>
> If you are not the addressee, you may not copy, forward, disclose or use any part of it. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return message.
>
> E-mail communication cannot be guaranteed to be timely secure, error or virus-free.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/106275a4/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/106275a4/attachment-0002.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/106275a4/attachment-0003.gif>

From dave.partyka at kitware.com  Thu Aug 26 08:05:18 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Thu, 26 Aug 2010 08:05:18 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
Message-ID: <AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>

Quadro FX 3450 cards are in the Geforce 6 Family (it uses a NV42GL processor).
I am pretty sure you need a newer card for surfaceLIC to work.

2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>

> Hello,
>
> Really, I can not understand what makes the plugin surfaceLIC work or not.
> And it's a pity, because that's exactly what I need....... !
>
> Could we try to list as many graphic cards as possible, in order to try to
> understand where the problem comes from ?
>
> My system :
>
>> Linux x86_64
>
> [Quadro FX 3450/4000 SDI] - 256MB
>>
> Driver 195.36.24
>>
>
> When I use surfaceLIC, Paraview freezes. It seems that the calculation
> works, but very slowly....
> I had tried a newer driver, but this had not solve the problem.
>
> A colleagues' system :
>
>> Linux x86_64
>>
> Two graphic cards : Quadro FX 1700 - 512MB
>> VBIOS Version 60.84.75.00.14
>>
>
> It works without any problem.
> --------------> Does the size of the memory of the graphics card could be
> the explanation ?
>
> Thanks for any help, or advice.
> Aur?lien.
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/e8edbd91/attachment.htm>

From paul.m.edwards at gmail.com  Thu Aug 26 08:32:11 2010
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Thu, 26 Aug 2010 13:32:11 +0100
Subject: [Paraview] reading list of images
In-Reply-To: <AANLkTi=9QJXuJRfDvcJCwEqwau45Fmc5=SD6fSApJJze@mail.gmail.com>
References: <OF6E79704E.4BAD8197-ONC125778B.00344AE4-C125778B.00344F14@notes.edfgdf.fr>
	<AANLkTi=9QJXuJRfDvcJCwEqwau45Fmc5=SD6fSApJJze@mail.gmail.com>
Message-ID: <AANLkTinqX3hUYvJDg99gjostHQUP=hksbzcUVFQtjBXm@mail.gmail.com>

I just had a quick look (in
ParaView/Servers/ServerManager/Resources/readers.xml) and there isn't
a FileSeriesReaderProxy for PNGReader.   For information on doing this see
here - http://paraview.org/Wiki/Animating_legacy_VTK_file_series

<http://paraview.org/Wiki/Animating_legacy_VTK_file_series>Regards,
Paul

2010/8/26 Stephane PLOIX <stephane.ploix at edf.fr>

>
> Hi,
>
> I have a list of images, named img_XX.png, XX going from 01 to 25.
> When I open it with paraview, it correctly opens the root named img_..png
> to open the list of image as a time serie, but only show the first image of
> the serie.
> In the Information tab, no time is shwon, and paraview crashes when I
> change the time mode from "sequence" to "snap to time step".
>
> Question : is the png reader supposed to work with image lists?
>
> Best,
> Stephane
>
>       *Stephane PLOIX**
> Pilote Op?rationnel - Visualisation scientifique*
> EDF - R&D
> SINETICS
> 1, Av du G?n?ral de Gaulle
> 92140 Clamart
>
> *stephane.ploix at edf.fr*
> T?l. : +33 (0) 1 47 65 51 10   Un geste simple pour l'environnement,
> n'imprimez ce message que si vous en avez l'utilit?.
>
> Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont ?tablis ? l'intention exclusive des destinataires et les informations qui y figurent sont strictement confidentielles. Toute utilisation de ce Message non conforme ? sa destination, toute diffusion ou toute publication totale ou partielle, est interdite sauf autorisation expresse.
>
> Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir imm?diatement l'exp?diteur par retour du message.
>
> Il est impossible de garantir que les communications par messagerie ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute erreur ou virus.
> ____________________________________________________
>
> This message and any attachments (the 'Message') are intended solely for the addressees. The information contained in this Message is confidential. Any use of information contained in this Message not in accord with its purpose, any dissemination or disclosure, either whole or partial, is prohibited except formal approval.
>
> If you are not the addressee, you may not copy, forward, disclose or use any part of it. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return message.
>
> E-mail communication cannot be guaranteed to be timely secure, error or virus-free.
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/423295d6/attachment.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/423295d6/attachment.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/423295d6/attachment-0001.gif>

From aur.marsan at gmail.com  Thu Aug 26 08:54:33 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Thu, 26 Aug 2010 14:54:33 +0200
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
Message-ID: <AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>

Thanks for this review, that helps me understand a little better.

Searching more informations about the processor of the graphic card, I found
these details :

Quadro 3450, that didn't work with surface LIC -->
http://www.gpureview.com/nvidia-nv41-chip-71.html
Quadro FX 1700, that works -->
http://www.gpureview.com/nvidia-g84-chip-138.html

Which of there features is important, in order surfaceLIC to work ?
DirectX Compliance ?  PS
Version<http://www.gpureview.com/pixel-shader-version-article-390.html>and/or
VS Version ?


Le 26 ao?t 2010 14:05, Dave Partyka <dave.partyka at kitware.com> a ?crit :

> Quadro FX 3450 cards are in the Geforce 6 Family (it uses a NV42GL processor).
> I am pretty sure you need a newer card for surfaceLIC to work.
>
> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>
>>  Hello,
>>
>> Really, I can not understand what makes the plugin surfaceLIC work or not.
>> And it's a pity, because that's exactly what I need....... !
>>
>> Could we try to list as many graphic cards as possible, in order to try to
>> understand where the problem comes from ?
>>
>> My system :
>>
>>> Linux x86_64
>>
>> [Quadro FX 3450/4000 SDI] - 256MB
>>>
>> Driver 195.36.24
>>>
>>
>> When I use surfaceLIC, Paraview freezes. It seems that the calculation
>> works, but very slowly....
>> I had tried a newer driver, but this had not solve the problem.
>>
>> A colleagues' system :
>>
>>> Linux x86_64
>>>
>> Two graphic cards : Quadro FX 1700 - 512MB
>>> VBIOS Version 60.84.75.00.14
>>>
>>
>> It works without any problem.
>> --------------> Does the size of the memory of the graphics card could be
>> the explanation ?
>>
>> Thanks for any help, or advice.
>> Aur?lien.
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/7e5d5923/attachment-0001.htm>

From dave.partyka at kitware.com  Thu Aug 26 08:58:59 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Thu, 26 Aug 2010 08:58:59 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
Message-ID: <AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>

I don't know the specific GL features it requires but I think the best
guideline is it should work with any card newer than a GeForce 6. The Quadro
FX 1700 is in the GeForce 8 family and thus should work.

2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>

> Thanks for this review, that helps me understand a little better.
>
> Searching more informations about the processor of the graphic card, I
> found these details :
>
> Quadro 3450, that didn't work with surface LIC -->
> http://www.gpureview.com/nvidia-nv41-chip-71.html
> Quadro FX 1700, that works -->
> http://www.gpureview.com/nvidia-g84-chip-138.html
>
> Which of there features is important, in order surfaceLIC to work ?
> DirectX Compliance ?  PS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>and/or VS Version ?
>
>
> Le 26 ao?t 2010 14:05, Dave Partyka <dave.partyka at kitware.com> a ?crit :
>
> Quadro FX 3450 cards are in the Geforce 6 Family (it uses a NV42GL processor).
>> I am pretty sure you need a newer card for surfaceLIC to work.
>>
>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>
>>>  Hello,
>>>
>>> Really, I can not understand what makes the plugin surfaceLIC work or
>>> not.
>>> And it's a pity, because that's exactly what I need....... !
>>>
>>> Could we try to list as many graphic cards as possible, in order to try
>>> to understand where the problem comes from ?
>>>
>>> My system :
>>>
>>>> Linux x86_64
>>>
>>> [Quadro FX 3450/4000 SDI] - 256MB
>>>>
>>> Driver 195.36.24
>>>>
>>>
>>> When I use surfaceLIC, Paraview freezes. It seems that the calculation
>>> works, but very slowly....
>>> I had tried a newer driver, but this had not solve the problem.
>>>
>>> A colleagues' system :
>>>
>>>> Linux x86_64
>>>>
>>> Two graphic cards : Quadro FX 1700 - 512MB
>>>> VBIOS Version 60.84.75.00.14
>>>>
>>>
>>> It works without any problem.
>>> --------------> Does the size of the memory of the graphics card could be
>>> the explanation ?
>>>
>>> Thanks for any help, or advice.
>>> Aur?lien.
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/4cebed6a/attachment.htm>

From agagliardi at ara.co.uk  Thu Aug 26 09:06:47 2010
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Thu, 26 Aug 2010 14:06:47 +0100
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com><AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com><AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
Message-ID: <326FF16D00E4418FBECD74B944C2F584@win.ara>

If you are interested, I've also had Surface LIC working on my ATI HD 4850
at home. It didn't work on my X1900XT. It would be nice if there was a list
of cards that support the feature.
 
===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 
 

  _____  

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Dave Partyka
Sent: 26 August 2010 13:59
To: Aur?lien Marsan
Cc: Paraview
Subject: Re: [Paraview] GPU & SurfaceLIC


I don't know the specific GL features it requires but I think the best
guideline is it should work with any card newer than a GeForce 6. The Quadro
FX 1700 is in the GeForce 8 family and thus should work.


2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>


Thanks for this review, that helps me understand a little better.

Searching more informations about the processor of the graphic card, I found
these details :  

Quadro 3450, that didn't work with surface LIC -->
http://www.gpureview.com/nvidia-nv41-chip-71.html
Quadro FX 1700, that works -->
http://www.gpureview.com/nvidia-g84-chip-138.html

Which of there features is important, in order surfaceLIC to work ?
DirectX Compliance ?  PS Version
<http://www.gpureview.com/pixel-shader-version-article-390.html>  and/or VS
Version ?



Le 26 ao?t 2010 14:05, Dave Partyka <dave.partyka at kitware.com> a ?crit : 


Quadro FX 3450 cards are in the Geforce 6 Family (it uses a NV42GL
processor). I am pretty sure you need a newer card for surfaceLIC to work.


2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>


Hello, 

Really, I can not understand what makes the plugin surfaceLIC work or not.
And it's a pity, because that's exactly what I need....... !

Could we try to list as many graphic cards as possible, in order to try to
understand where the problem comes from ?

My system : 


Linux x86_64 

[Quadro FX 3450/4000 SDI] - 256MB


Driver 195.36.24 


 
When I use surfaceLIC, Paraview freezes. It seems that the calculation
works, but very slowly....
I had tried a newer driver, but this had not solve the problem. 

A colleagues' system : 


Linux x86_64


Two graphic cards : Quadro FX 1700 - 512MB
VBIOS Version 60.84.75.00.14



It works without any problem. 
--------------> Does the size of the memory of the graphics card could be
the explanation ?

Thanks for any help, or advice. 
Aur?lien.


_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview







**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/42ff168e/attachment.htm>

From aur.marsan at gmail.com  Thu Aug 26 09:22:10 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Thu, 26 Aug 2010 15:22:10 +0200
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <326FF16D00E4418FBECD74B944C2F584@win.ara>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
Message-ID: <AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>

Ok then, if we summarize things like this :

Don't work :

   - Quadro FX 3450
   DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
   : 9.0c OpenGL
Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
   :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
   :3.0/3.0
   - ATI X1900 XT
   DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
   : 9.0c OpenGL
Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
   :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
   :3.0/3.0

Work

   - ATI Radeon HD 4850
   DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
   : 10.1 OpenGL
Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
   :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
   :4.1/4.1
   - Quadro FX 1700
   DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
   : 10.0 OpenGL
Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
   :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
   :4.0/4.0

Maybe we could say that (for nvidia, ATI & other manufacturers), that
DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
say AND) OpenGL >= 2.0.
PS/VS Version seem to be used for calculate the DirectX Compliance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/88410616/attachment-0001.htm>

From stephane.ploix at edf.fr  Thu Aug 26 10:19:23 2010
From: stephane.ploix at edf.fr (Stephane PLOIX)
Date: Thu, 26 Aug 2010 16:19:23 +0200
Subject: [Paraview] reading list of images
In-Reply-To: <AANLkTinqX3hUYvJDg99gjostHQUP=hksbzcUVFQtjBXm@mail.gmail.com>
Message-ID: <OF641B95B6.D545958F-ONC125778B.004E33DB-C125778B.004EB029@notes.edfgdf.fr>

Ok, thanks for the pointer.

Here is the patch to modify the PNG reader to a file series reader in 
paraview.



Best,
Stephane


  
 
Stephane PLOIX
Pilote Op?rationnel - Visualisation scientifique
EDF - R&D
SINETICS
1, Av du G?n?ral de Gaulle
92140 Clamart
 
stephane.ploix at edf.fr
T?l. : +33 (0) 1 47 65 51 10
  
Un geste simple pour l'environnement, n'imprimez ce message que si vous en 
avez l'utilit?.




paul.m.edwards at gmail.com 
Envoy? par : paraview-bounces at paraview.org
26/08/2010 14:32

A
paraview at paraview.org
cc

Objet
Re: [Paraview] reading list of images






I just had a quick look (in 
ParaView/Servers/ServerManager/Resources/readers.xml) and there isn't 
a FileSeriesReaderProxy for PNGReader.   For information on doing this see 
here - http://paraview.org/Wiki/Animating_legacy_VTK_file_series

Regards,
Paul

2010/8/26 Stephane PLOIX <stephane.ploix at edf.fr>

Hi, 

I have a list of images, named img_XX.png, XX going from 01 to 25. 
When I open it with paraview, it correctly opens the root named img_..png 
to open the list of image as a time serie, but only show the first image 
of the serie. 
In the Information tab, no time is shwon, and paraview crashes when I 
change the time mode from "sequence" to "snap to time step". 

Question : is the png reader supposed to work with image lists?

Best, 
Stephane

  
  
Stephane PLOIX
Pilote Op?rationnel - Visualisation scientifique
EDF - R&D
SINETICS
1, Av du G?n?ral de Gaulle
92140 Clamart

stephane.ploix at edf.fr 
T?l. : +33 (0) 1 47 65 51 10 
  
Un geste simple pour l'environnement, n'imprimez ce message que si vous en 
avez l'utilit?.

Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont 
?tablis ? l'intention exclusive des destinataires et les informations qui 
y figurent sont strictement confidentielles. Toute utilisation de ce 
Message non conforme ? sa destination, toute diffusion ou toute 
publication totale ou partielle, est interdite sauf autorisation expresse.

Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de 
le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou 
partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de 
votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace 
sur quelque support que ce soit. Nous vous remercions ?galement d'en 
avertir imm?diatement l'exp?diteur par retour du message.

Il est impossible de garantir que les communications par messagerie 
?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute 
erreur ou virus.
____________________________________________________

This message and any attachments (the 'Message') are intended solely for 
the addressees. The information contained in this Message is confidential. 
Any use of information contained in this Message not in accord with its 
purpose, any dissemination or disclosure, either whole or partial, is 
prohibited except formal approval.

If you are not the addressee, you may not copy, forward, disclose or use 
any part of it. If you have received this message in error, please delete 
it and all copies from your system and notify the sender immediately by 
return message.

E-mail communication cannot be guaranteed to be timely secure, error or 
virus-free.


_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at 
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: 
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview


_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at 
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: 
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0004.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0005.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1816 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0006.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 1151 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0007.gif>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-ENH-Change-the-PNG-reader-to-a-file-series-reader.patch
Type: application/octet-stream
Size: 5330 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/20d81e46/attachment-0001.obj>
-------------- next part --------------



Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont ?tablis ? l'intention exclusive des destinataires et les informations qui y figurent sont strictement confidentielles. Toute utilisation de ce Message non conforme ? sa destination, toute diffusion ou toute publication totale ou partielle, est interdite sauf autorisation expresse.

Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir imm?diatement l'exp?diteur par retour du message.

Il est impossible de garantir que les communications par messagerie ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute erreur ou virus.
____________________________________________________

This message and any attachments (the 'Message') are intended solely for the addressees. The information contained in this Message is confidential. Any use of information contained in this Message not in accord with its purpose, any dissemination or disclosure, either whole or partial, is prohibited except formal approval.

If you are not the addressee, you may not copy, forward, disclose or use any part of it. If you have received this message in error, please delete it and all copies from your system and notify the sender immediately by return message.

E-mail communication cannot be guaranteed to be timely secure, error or virus-free.

From aur.marsan at gmail.com  Thu Aug 26 10:57:25 2010
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Thu, 26 Aug 2010 16:57:25 +0200
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
Message-ID: <AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>

I have just installed a GeForce 8400 GS on my computer.
SurfaceLIC is working perfectly. The good news of the day !!!

Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :

> Ok then, if we summarize things like this :
>
> Don't work :
>
>    - Quadro FX 3450
>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>    :3.0/3.0
>    - ATI X1900 XT
>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>    :3.0/3.0
>
> Work
>
>    - ATI Radeon HD 4850
>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>    :4.1/4.1
>    - Quadro FX 1700
>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>    :4.0/4.0
>
> Maybe we could say that (for nvidia, ATI & other manufacturers), that
> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
> say AND) OpenGL >= 2.0.
> PS/VS Version seem to be used for calculate the DirectX Compliance.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/4131a594/attachment.htm>

From dave.partyka at kitware.com  Thu Aug 26 11:05:24 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Thu, 26 Aug 2010 11:05:24 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
Message-ID: <AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>

Glad to hear!

2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>

> I have just installed a GeForce 8400 GS on my computer.
> SurfaceLIC is working perfectly. The good news of the day !!!
>
> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>
> Ok then, if we summarize things like this :
>>
>> Don't work :
>>
>>    - Quadro FX 3450
>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>    :3.0/3.0
>>    - ATI X1900 XT
>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>    :3.0/3.0
>>
>> Work
>>
>>    - ATI Radeon HD 4850
>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>    :4.1/4.1
>>    - Quadro FX 1700
>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>    :4.0/4.0
>>
>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>> say AND) OpenGL >= 2.0.
>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/40496951/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Thu Aug 26 11:21:55 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Thu, 26 Aug 2010 10:21:55 -0500
Subject: [Paraview] interface for Paraview help?
Message-ID: <E6DD16D1-A698-49EB-9730-FC8796A57086@sjc.ox.ac.uk>

I was wondering if the KitWare guys had considered a stackoverflow.com  
type of interface for Paraview help? The mailing list is great for  
some things, but doesn't work as well for those repeated 'how does  
this feature work' type of questions.

This type of forum appears to work pretty well for general software  
development and computer issues (superuser.com) so it might help  
augment the ParaView wiki, which is already home to more long form  
articles.

Just an idea.

From themiwi at gmail.com  Thu Aug 26 11:31:03 2010
From: themiwi at gmail.com (Michael Wild)
Date: Thu, 26 Aug 2010 17:31:03 +0200
Subject: [Paraview] interface for Paraview help?
In-Reply-To: <E6DD16D1-A698-49EB-9730-FC8796A57086@sjc.ox.ac.uk>
References: <E6DD16D1-A698-49EB-9730-FC8796A57086@sjc.ox.ac.uk>
Message-ID: <248EAFC3-DC5B-4726-A193-9AE11D0EE6D7@gmail.com>


On 26. Aug, 2010, at 17:21 , Dan Lussier wrote:

> I was wondering if the KitWare guys had considered a stackoverflow.com type of interface for Paraview help? The mailing list is great for some things, but doesn't work as well for those repeated 'how does this feature work' type of questions.
> 
> This type of forum appears to work pretty well for general software development and computer issues (superuser.com) so it might help augment the ParaView wiki, which is already home to more long form articles.
> 
> Just an idea.

I don't agree with that. Although perhaps a bit more searchable/discoverable and certainly more fancy-looking, it doesn't prevent from people asking the same questions over and over again. The only solution to these kind of questions is to finally write real in-application docs. The current help is just unusable...

Michael


From aashish.chaudhary at kitware.com  Thu Aug 26 12:09:40 2010
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 26 Aug 2010 12:09:40 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
Message-ID: <AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>

Would be nice if we can document what version of (PS and VS) or extensions
used by the SurfaceLIC (on Wiki? Source? Release Notes?)

I am happy to assist someone for this task.

Thanks,


2010/8/26 Dave Partyka <dave.partyka at kitware.com>

> Glad to hear!
>
> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>
>> I have just installed a GeForce 8400 GS on my computer.
>> SurfaceLIC is working perfectly. The good news of the day !!!
>>
>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>>
>> Ok then, if we summarize things like this :
>>>
>>> Don't work :
>>>
>>>    - Quadro FX 3450
>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>    :3.0/3.0
>>>    - ATI X1900 XT
>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>    :3.0/3.0
>>>
>>> Work
>>>
>>>    - ATI Radeon HD 4850
>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>    :4.1/4.1
>>>    - Quadro FX 1700
>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>    :4.0/4.0
>>>
>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>> say AND) OpenGL >= 2.0.
>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/053c2953/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Thu Aug 26 12:12:20 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Thu, 26 Aug 2010 11:12:20 -0500
Subject: [Paraview] interface for Paraview help?
In-Reply-To: <248EAFC3-DC5B-4726-A193-9AE11D0EE6D7@gmail.com>
References: <E6DD16D1-A698-49EB-9730-FC8796A57086@sjc.ox.ac.uk>
	<248EAFC3-DC5B-4726-A193-9AE11D0EE6D7@gmail.com>
Message-ID: <BFB87096-299E-4966-8C63-624AD92B9778@sjc.ox.ac.uk>

You're right on all counts.  The current help is tough to use and a  
system like stackoverflow doesn't prevent people from asking the same  
question over and over again.

However - it is much more searchable, and also tries to discourage  
repeated posting by suggesting similar questions as you write up a  
given question.  It also helps in threading the discussion and allows  
more experienced users to curate the result so that the question and  
answer banter has a better chance of remaining useful beyond the  
original context.

In application docs would definitely be huge, but they won't make  
questions from users go away.

On 26-Aug-10, at 10:31 AM, Michael Wild wrote:

>
> On 26. Aug, 2010, at 17:21 , Dan Lussier wrote:
>
>> I was wondering if the KitWare guys had considered a  
>> stackoverflow.com type of interface for Paraview help? The mailing  
>> list is great for some things, but doesn't work as well for those  
>> repeated 'how does this feature work' type of questions.
>>
>> This type of forum appears to work pretty well for general software  
>> development and computer issues (superuser.com) so it might help  
>> augment the ParaView wiki, which is already home to more long form  
>> articles.
>>
>> Just an idea.
>
> I don't agree with that. Although perhaps a bit more searchable/ 
> discoverable and certainly more fancy-looking, it doesn't prevent  
> from people asking the same questions over and over again. The only  
> solution to these kind of questions is to finally write real in- 
> application docs. The current help is just unusable...
>
> Michael
>


From utkarsh.ayachit at kitware.com  Thu Aug 26 12:14:38 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 26 Aug 2010 12:14:38 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
	<AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
Message-ID: <AANLkTim+QVMdQxo+zjJaXca=73yKJMnaWNvEYOi0q_Rh@mail.gmail.com>

Wiki would be the best place.

Utkarsh

On Thu, Aug 26, 2010 at 12:09 PM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> Would be nice if we can document what version of (PS and VS) or extensions
> used by the SurfaceLIC (on Wiki? Source? Release Notes?)
>
> I am happy to assist someone for this task.
>
> Thanks,
>
>
> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>
> Glad to hear!
>>
>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>
>>>  I have just installed a GeForce 8400 GS on my computer.
>>> SurfaceLIC is working perfectly. The good news of the day !!!
>>>
>>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>>>
>>> Ok then, if we summarize things like this :
>>>>
>>>> Don't work :
>>>>
>>>>    - Quadro FX 3450
>>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :3.0/3.0
>>>>    - ATI X1900 XT
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :3.0/3.0
>>>>
>>>> Work
>>>>
>>>>    - ATI Radeon HD 4850
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :4.1/4.1
>>>>    - Quadro FX 1700
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :4.0/4.0
>>>>
>>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>>> say AND) OpenGL >= 2.0.
>>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>>
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
>
> --
> | Aashish Chaudhary
> | R&D Engineer
> | Kitware Inc.
> | www.kitware.com
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/3db3792c/attachment-0001.htm>

From dave.partyka at kitware.com  Thu Aug 26 12:21:47 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Thu, 26 Aug 2010 12:21:47 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
	<AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
Message-ID: <AANLkTimZyMZnVKXO3osfaQ9OikTckhLqLrcpEp_oJ6LZ@mail.gmail.com>

Francois says it requires openGL 2.1 plus floating point texture extension
(GL_ARB_texture_float) at a minimum.  Determining if the hardware supports
GL_ARB_texture_float probably can't be determined easily from product
documentation. You're best bet it is to focus on cards that support OpenGL
3.0 and/or Direct X 10.

2010/8/26 Aashish Chaudhary <aashish.chaudhary at kitware.com>

> Would be nice if we can document what version of (PS and VS) or extensions
> used by the SurfaceLIC (on Wiki? Source? Release Notes?)
>
> I am happy to assist someone for this task.
>
> Thanks,
>
>
> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>
> Glad to hear!
>>
>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>
>>>  I have just installed a GeForce 8400 GS on my computer.
>>> SurfaceLIC is working perfectly. The good news of the day !!!
>>>
>>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>>>
>>> Ok then, if we summarize things like this :
>>>>
>>>> Don't work :
>>>>
>>>>    - Quadro FX 3450
>>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :3.0/3.0
>>>>    - ATI X1900 XT
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :3.0/3.0
>>>>
>>>> Work
>>>>
>>>>    - ATI Radeon HD 4850
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :4.1/4.1
>>>>    - Quadro FX 1700
>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>    :4.0/4.0
>>>>
>>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>>> say AND) OpenGL >= 2.0.
>>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>>
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
>
> --
> | Aashish Chaudhary
> | R&D Engineer
> | Kitware Inc.
> | www.kitware.com
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/008c378c/attachment.htm>

From aashish.chaudhary at kitware.com  Thu Aug 26 12:22:03 2010
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 26 Aug 2010 12:22:03 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTim+QVMdQxo+zjJaXca=73yKJMnaWNvEYOi0q_Rh@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
	<AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
	<AANLkTim+QVMdQxo+zjJaXca=73yKJMnaWNvEYOi0q_Rh@mail.gmail.com>
Message-ID: <AANLkTiksOSp-OC4=ua00he2orZzc0NFMwGniSxRg5nMV@mail.gmail.com>

Sounds good. I will work with Dave on this.

Thanks,
Aashish


On Thu, Aug 26, 2010 at 12:14 PM, Utkarsh Ayachit <
utkarsh.ayachit at kitware.com> wrote:

> Wiki would be the best place.
>
> Utkarsh
>
>
> On Thu, Aug 26, 2010 at 12:09 PM, Aashish Chaudhary <
> aashish.chaudhary at kitware.com> wrote:
>
>> Would be nice if we can document what version of (PS and VS) or extensions
>> used by the SurfaceLIC (on Wiki? Source? Release Notes?)
>>
>> I am happy to assist someone for this task.
>>
>> Thanks,
>>
>>
>> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>>
>> Glad to hear!
>>>
>>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>>
>>>>  I have just installed a GeForce 8400 GS on my computer.
>>>> SurfaceLIC is working perfectly. The good news of the day !!!
>>>>
>>>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>>>>
>>>> Ok then, if we summarize things like this :
>>>>>
>>>>> Don't work :
>>>>>
>>>>>    - Quadro FX 3450
>>>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :3.0/3.0
>>>>>    - ATI X1900 XT
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :3.0/3.0
>>>>>
>>>>> Work
>>>>>
>>>>>    - ATI Radeon HD 4850
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :4.1/4.1
>>>>>    - Quadro FX 1700
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :4.0/4.0
>>>>>
>>>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>>>> say AND) OpenGL >= 2.0.
>>>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>>
>> --
>> | Aashish Chaudhary
>> | R&D Engineer
>> | Kitware Inc.
>> | www.kitware.com
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>


-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/f7921f06/attachment.htm>

From aashish.chaudhary at kitware.com  Thu Aug 26 12:32:48 2010
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Thu, 26 Aug 2010 12:32:48 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTimZyMZnVKXO3osfaQ9OikTckhLqLrcpEp_oJ6LZ@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
	<AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
	<AANLkTimZyMZnVKXO3osfaQ9OikTckhLqLrcpEp_oJ6LZ@mail.gmail.com>
Message-ID: <AANLkTi=9RTx3Xo9+PWgn_7kyO=rb3qrcMhMX9ZKFUSBD@mail.gmail.com>

This is good to know.

On linux we can find this extensions via glxinfo not sure about windows or
mac. May be we can put a line on the wiki on how to query GL extensions?  I
remember some tool on windows wglinfo. GLEW might have a test app that can
query the extension may be?



2010/8/26 Dave Partyka <dave.partyka at kitware.com>

> Francois says it requires openGL 2.1 plus floating point texture extension
> (GL_ARB_texture_float) at a minimum.  Determining if the hardware supports
> GL_ARB_texture_float probably can't be determined easily from product
> documentation. You're best bet it is to focus on cards that support OpenGL
> 3.0 and/or Direct X 10.
>
> 2010/8/26 Aashish Chaudhary <aashish.chaudhary at kitware.com>
>
> Would be nice if we can document what version of (PS and VS) or extensions
>> used by the SurfaceLIC (on Wiki? Source? Release Notes?)
>>
>> I am happy to assist someone for this task.
>>
>> Thanks,
>>
>>
>> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>>
>> Glad to hear!
>>>
>>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>>
>>>>  I have just installed a GeForce 8400 GS on my computer.
>>>> SurfaceLIC is working perfectly. The good news of the day !!!
>>>>
>>>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :
>>>>
>>>> Ok then, if we summarize things like this :
>>>>>
>>>>> Don't work :
>>>>>
>>>>>    - Quadro FX 3450
>>>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :3.0/3.0
>>>>>    - ATI X1900 XT
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :3.0/3.0
>>>>>
>>>>> Work
>>>>>
>>>>>    - ATI Radeon HD 4850
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :4.1/4.1
>>>>>    - Quadro FX 1700
>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>    :4.0/4.0
>>>>>
>>>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>>>> say AND) OpenGL >= 2.0.
>>>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>>
>> --
>> | Aashish Chaudhary
>> | R&D Engineer
>> | Kitware Inc.
>> | www.kitware.com
>>
>
>


-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/602cbc99/attachment-0001.htm>

From francois.bertel at kitware.com  Thu Aug 26 12:52:20 2010
From: francois.bertel at kitware.com (Francois Bertel)
Date: Thu, 26 Aug 2010 12:52:20 -0400
Subject: [Paraview] GPU & SurfaceLIC
In-Reply-To: <AANLkTi=9RTx3Xo9+PWgn_7kyO=rb3qrcMhMX9ZKFUSBD@mail.gmail.com>
References: <AANLkTi=MmpJ-58d8XoV6NBikm6_V8z+RvMjS=u_aU7Lc@mail.gmail.com>
	<AANLkTi=9i2hQ4DMm3aG4GbuUMTiikpp8xy5Y98c9oD=r@mail.gmail.com>
	<AANLkTikPRRG_UJkAxO9At+TgWrw8dhUKiMuZ9vAzF3mF@mail.gmail.com>
	<AANLkTimGkTF5Ogg78zhZWdrURy6wU16nVbjK5kVrY+DT@mail.gmail.com>
	<326FF16D00E4418FBECD74B944C2F584@win.ara>
	<AANLkTimyE7sg5YF8tF+xSDOVHN-6sO-OOYzTYUVMp=gJ@mail.gmail.com>
	<AANLkTim+W33HGeLyi=G63bM00MsE0dMPBmRWPsuvB0yw@mail.gmail.com>
	<AANLkTinac-VMw4XCXaC-H4m7jon9_5fc4urOapLht0cZ@mail.gmail.com>
	<AANLkTi=UiBnRDYOiSO2LuDUa8oM4CqpH5SZ25_e+jVQD@mail.gmail.com>
	<AANLkTimZyMZnVKXO3osfaQ9OikTckhLqLrcpEp_oJ6LZ@mail.gmail.com>
	<AANLkTi=9RTx3Xo9+PWgn_7kyO=rb3qrcMhMX9ZKFUSBD@mail.gmail.com>
Message-ID: <AANLkTinKx0f2_+twtpT1bjgcd1gdX4vDRjh+AWgDVnf4@mail.gmail.com>

The information was already there in the VTKEdge FAQ:

http://vtkedge.org/Wiki/VTKEdge:FAQ#Run_time

I'll try to move the VTKEdge FAQ contents to the VTK wiki.


On Thu, Aug 26, 2010 at 12:32 PM, Aashish Chaudhary <
aashish.chaudhary at kitware.com> wrote:

> This is good to know.
>
> On linux we can find this extensions via glxinfo not sure about windows or
> mac. May be we can put a line on the wiki on how to query GL extensions?  I
> remember some tool on windows wglinfo. GLEW might have a test app that can
> query the extension may be?
>
>
>
> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>
>> Francois says it requires openGL 2.1 plus floating point texture extension
>> (GL_ARB_texture_float) at a minimum.  Determining if the hardware supports
>> GL_ARB_texture_float probably can't be determined easily from product
>> documentation. You're best bet it is to focus on cards that support OpenGL
>> 3.0 and/or Direct X 10.
>>
>> 2010/8/26 Aashish Chaudhary <aashish.chaudhary at kitware.com>
>>
>>  Would be nice if we can document what version of (PS and VS) or
>>> extensions used by the SurfaceLIC (on Wiki? Source? Release Notes?)
>>>
>>> I am happy to assist someone for this task.
>>>
>>> Thanks,
>>>
>>>
>>> 2010/8/26 Dave Partyka <dave.partyka at kitware.com>
>>>
>>> Glad to hear!
>>>>
>>>> 2010/8/26 Aur?lien Marsan <aur.marsan at gmail.com>
>>>>
>>>>>  I have just installed a GeForce 8400 GS on my computer.
>>>>> SurfaceLIC is working perfectly. The good news of the day !!!
>>>>>
>>>>> Le 26 ao?t 2010 15:22, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit
>>>>> :
>>>>>
>>>>> Ok then, if we summarize things like this :
>>>>>>
>>>>>> Don't work :
>>>>>>
>>>>>>    - Quadro FX 3450
>>>>>>     DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>>    :3.0/3.0
>>>>>>    - ATI X1900 XT
>>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>>    : 9.0c OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>>    :2.0 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>>    :3.0/3.0
>>>>>>
>>>>>> Work
>>>>>>
>>>>>>    - ATI Radeon HD 4850
>>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>>    : 10.1 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>>    :4.1/4.1
>>>>>>    - Quadro FX 1700
>>>>>>    DirectX Compliance<http://www.gpureview.com/directx-compliance-article-386.html>
>>>>>>    : 10.0 OpenGL Compliance<http://www.gpureview.com/opengl-compliance-article-389.html>
>>>>>>    :2.1 PS/VS Version<http://www.gpureview.com/pixel-shader-version-article-390.html>
>>>>>>    :4.0/4.0
>>>>>>
>>>>>> Maybe we could say that (for nvidia, ATI & other manufacturers), that
>>>>>> DirectX Compliance must be >= 10.0 and (maybe OR, but in doubt... we should
>>>>>> say AND) OpenGL >= 2.0.
>>>>>> PS/VS Version seem to be used for calculate the DirectX Compliance.
>>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>>
>>> --
>>> | Aashish Chaudhary
>>> | R&D Engineer
>>> | Kitware Inc.
>>> | www.kitware.com
>>>
>>
>>
>
>
> --
> | Aashish Chaudhary
> | R&D Engineer
> | Kitware Inc.
> | www.kitware.com
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>


-- 
Fran?ois Bertel, PhD  | Kitware Inc. Suite 204
1 (518) 371 3971 x113 | 28 Corporate Drive
                      | Clifton Park NY 12065, USA
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100826/455644f7/attachment.htm>

From berk.geveci at kitware.com  Thu Aug 26 12:53:37 2010
From: berk.geveci at kitware.com (Berk Geveci)
Date: Thu, 26 Aug 2010 12:53:37 -0400
Subject: [Paraview] interface for Paraview help?
In-Reply-To: <248EAFC3-DC5B-4726-A193-9AE11D0EE6D7@gmail.com>
References: <E6DD16D1-A698-49EB-9730-FC8796A57086@sjc.ox.ac.uk>
	<248EAFC3-DC5B-4726-A193-9AE11D0EE6D7@gmail.com>
Message-ID: <AANLkTi=Ws6E=1n_hi2OVCSnJBp8DdwCYmn07f-y4xFuL@mail.gmail.com>

We started working on a user's guide. We are writing it as part of the
Wiki and we will use the Wiki book functionality to generate PDF from
it. Once we make some progress, we will ask for the help of the
community. I know that it is not the same thing as stackoverflow but
it should address the documentation gap.

-berk

On Thu, Aug 26, 2010 at 11:31 AM, Michael Wild <themiwi at gmail.com> wrote:
>
> On 26. Aug, 2010, at 17:21 , Dan Lussier wrote:
>
>> I was wondering if the KitWare guys had considered a stackoverflow.com type of interface for Paraview help? The mailing list is great for some things, but doesn't work as well for those repeated 'how does this feature work' type of questions.
>>
>> This type of forum appears to work pretty well for general software development and computer issues (superuser.com) so it might help augment the ParaView wiki, which is already home to more long form articles.
>>
>> Just an idea.
>
> I don't agree with that. Although perhaps a bit more searchable/discoverable and certainly more fancy-looking, it doesn't prevent from people asking the same questions over and over again. The only solution to these kind of questions is to finally write real in-application docs. The current help is just unusable...
>
> Michael
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From jsg3 at psu.edu  Thu Aug 26 12:47:44 2010
From: jsg3 at psu.edu (Jack)
Date: Thu, 26 Aug 2010 12:47:44 -0400
Subject: [Paraview] multi core machines
Message-ID: <4C769AB0.9020205@psu.edu>

When using a multi core machine with say 12 cores can paraview take 
advantage of this in standalone mode or can I run in server and client  
mode
to make the most of the machine? -Thanks Jack

From dave.demarle at kitware.com  Thu Aug 26 14:39:20 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Thu, 26 Aug 2010 14:39:20 -0400
Subject: [Paraview] multi core machines
In-Reply-To: <4C769AB0.9020205@psu.edu>
References: <4C769AB0.9020205@psu.edu>
Message-ID: <AANLkTimeeCpFLehrO=2b_0ZYpCdrJAOi1Dk7L-tJfxgb@mail.gmail.com>

It won't take advantage of it at all in serial mode, so you have to
start a parallel server to take advantage of the extra CPUs.

See this email for Burlen's excellent description of what kind and how
to maximize the scaling you can get out of that configuration.

http://markmail.org/thread/26k43xt7gbfou56e

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Thu, Aug 26, 2010 at 12:47 PM, Jack <jsg3 at psu.edu> wrote:
> When using a multi core machine with say 12 cores can paraview take
> advantage of this in standalone mode or can I run in server and client ?mode
> to make the most of the machine? -Thanks Jack
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From c.willing at uq.edu.au  Thu Aug 26 19:40:46 2010
From: c.willing at uq.edu.au (Christoph Willing)
Date: Fri, 27 Aug 2010 09:40:46 +1000
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <AANLkTim_YL15nDaoJqc6n8kZKaMc-t-Qf7A7wrfEJP6s@mail.gmail.com>
References: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
	<OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>
	<AANLkTim_YL15nDaoJqc6n8kZKaMc-t-Qf7A7wrfEJP6s@mail.gmail.com>
Message-ID: <29F262BC-BFF6-45F7-8A30-343C139E98C7@uq.edu.au>

David,

Maybe there are some version related differences involved here - I  
found a Client Collect checkbox & slider in Edit->Settings->Render  
View->Server->Tiled Display Parameters. However unchecking it and then  
changing some object parameter to force a re-render makes no  
difference to the client view here.

I appreciate the logic behind decimating the client view but, as  
Stephane already mentioned, there are use cases where its not helpful.  
We have a similar use requirement to Stephane - needing to stream a  
lower res version. It would be great if the Client Collect checkbox  
would work as you suggest. Should I try a different version? I'm  
currently on a Linux build from the 3.8.0 source tarball.


chris



On 26/08/2010, at 9:55 PM, David E DeMarle wrote:

> Un-check the checkbox to the left and the client should get the full  
> res geometry too.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
> On Thu, Aug 26, 2010 at 7:50 AM, Stephane PLOIX  
> <stephane.ploix at edf.fr> wrote:
>
> Hi,
>
> Since this thread is started, I would like to point out that saying  
> that display walls are only used if the data size is large is not  
> true for everybody.
>
> We have several use cases where having a correct rendering on the  
> client would be helpfull :
> * display walls can be used for team meetings : the space is then  
> used to have several people view the same thing, not always very big  
> in terms of number of cells. In this case, it is very usefull to  
> have the possibility to pick/select some part of an object, and it  
> is very diffcult to do so with a decimated view.
> * we also use some tools like virtualGL that enable image-based  
> collaboration by streaming the image of the client to a remote  
> viewer : for instance if someone was not able to join the meeting  
> and still want to participate and share the same view on his  
> desktop. Sending a view of a decimated object is not very helpfull...
>
> I would vote for having the possibility to have a full-resolution  
> view on the client, comments?
>
> Best,
> Stephane
>
>
>  <ATT00001.gif>
>
> Stephane PLOIX
> Pilote Op?rationnel - Visualisation scientifique
> EDF - R&D
> SINETICS
> 1, Av du G?n?ral de Gaulle
> 92140 Clamart
>
> stephane.ploix at edf.fr
> T?l. : +33 (0) 1 47 65 51 10
>  <ATT00002.gif>
> Un geste simple pour l'environnement, n'imprimez ce message que si  
> vous en avez l'utilit?.
>
>
>
>
> dave.demarle at kitware.com
> Envoy? par : paraview-bounces at paraview.org
> 26/08/2010 13:14
>
> A
> c.willing at uq.edu.au
> cc
> paraview at paraview.org
> Objet
> Re: [Paraview] Inconsistent client view in tiled-display mode
>
>
>
>
>
> This is probably intended behavior. What is the setting of the "Client
> Collect" slider on the "Options"||"Preferences"->"Render
> View"->"Server"->"Tile Display Parameters" tab of the Options panel?
> Unless its checkbox is unchecked, ParaView either decimates the
> geometry before sending it to the client or if larger than the
> threshold, sends only bounding boxes. The reasoning being that if the
> rendered geometry is big enough to require a tiled display to show, a
> single GPU on the client is unlikely to be able to handle it a full
> resolution.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
>
>
> On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au 
> > wrote:
> > When running in tiled display mode, the view at the client is  
> sometimes
> > missing part of the geometry.
> >
> > The effect appears to differ according to the number of tiles in  
> play. As an
> > example just to demonstrate the effect:
> > - with a 4x4 tiling, a simple cylinder with no capping starts  
> losing bits of
> > the cylinder when resolution setting is at 17. With a 4x5 tiling,  
> distortion
> > starts when resolution is 61. I have snapshots to show the effect  
> at:
> >    http://www.vislab.uq.edu.au/research/paraview/missingbits.html
> >
> > Of course it starts looking pretty bad with a real, more  
> complicated,
> > visualisation.
> >
> > Just to reiterate, this effect is just in the client viewer. The  
> rendering
> > on the tiled display itself is perfect.
> >
> > Is this a known phenomenon?
> >
> >
> > chris
> >
> > (I'm running 3.8.0 built from tarball at paraview website).
> >
> >
> > Christoph Willing                       +61 7 3365 8316
> > QCIF Access Grid Manager
> > University of Queensland
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
> Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont  
> ?tablis ? l'intention exclusive des destinataires et les  
> informations qui y figurent sont strictement confidentielles. Toute  
> utilisation de ce Message non conforme ? sa destination, toute  
> diffusion ou toute publication totale ou partielle, est interdite  
> sauf autorisation expresse.
>
> Si vous n'?tes pas le destinataire de ce Message, il vous est  
> interdit de le copier, de le faire suivre, de le divulguer ou d'en  
> utiliser tout ou partie. Si vous avez re?u ce Message par erreur,  
> merci de le supprimer de votre syst?me, ainsi que toutes ses copies,  
> et de n'en garder aucune trace sur quelque support que ce soit. Nous  
> vous remercions ?galement d'en avertir imm?diatement l'exp?diteur  
> par retour du message.
>
> Il est impossible de garantir que les communications par messagerie  
> ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de  
> toute erreur ou virus.
> ____________________________________________________
>
> This message and any attachments (the 'Message') are intended solely  
> for the addressees. The information contained in this Message is  
> confidential. Any use of information contained in this Message not  
> in accord with its purpose, any dissemination or disclosure, either  
> whole or partial, is prohibited except formal approval.
>
> If you are not the addressee, you may not copy, forward, disclose or  
> use any part of it. If you have received this message in error,  
> please delete it and all copies from your system and notify the  
> sender immediately by return message.
>
> E-mail communication cannot be guaranteed to be timely secure, error  
> or virus-free.
>

Christoph Willing                       +61 7 3365 8316
QCIF Access Grid Manager
University of Queensland


From dave.demarle at kitware.com  Fri Aug 27 09:11:38 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Fri, 27 Aug 2010 09:11:38 -0400
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <29F262BC-BFF6-45F7-8A30-343C139E98C7@uq.edu.au>
References: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
	<OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>
	<AANLkTim_YL15nDaoJqc6n8kZKaMc-t-Qf7A7wrfEJP6s@mail.gmail.com>
	<29F262BC-BFF6-45F7-8A30-343C139E98C7@uq.edu.au>
Message-ID: <AANLkTinQy--1SC__W9gj+CsscZ_DW8rz-UpM++7iJSXV@mail.gmail.com>

Then it is a bug, either in the code or the book where it says what
that checkbox should do.
Please file a bug on the bug tracker and we will fix it, making sure
we can support that mode.

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109

On Thu, Aug 26, 2010 at 7:40 PM, Christoph Willing <c.willing at uq.edu.au> wrote:
> David,
>
> Maybe there are some version related differences involved here - I found a
> Client Collect checkbox & slider in Edit->Settings->Render
> View->Server->Tiled Display Parameters. However unchecking it and then
> changing some object parameter to force a re-render makes no difference to
> the client view here.
>
> I appreciate the logic behind decimating the client view but, as Stephane
> already mentioned, there are use cases where its not helpful. We have a
> similar use requirement to Stephane - needing to stream a lower res version.
> It would be great if the Client Collect checkbox would work as you suggest.
> Should I try a different version? I'm currently on a Linux build from the
> 3.8.0 source tarball.
>
>
> chris
>
>
>
> On 26/08/2010, at 9:55 PM, David E DeMarle wrote:
>
>> Un-check the checkbox to the left and the client should get the full res
>> geometry too.
>>
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>>
>>
>> On Thu, Aug 26, 2010 at 7:50 AM, Stephane PLOIX <stephane.ploix at edf.fr>
>> wrote:
>>
>> Hi,
>>
>> Since this thread is started, I would like to point out that saying that
>> display walls are only used if the data size is large is not true for
>> everybody.
>>
>> We have several use cases where having a correct rendering on the client
>> would be helpfull :
>> * display walls can be used for team meetings : the space is then used to
>> have several people view the same thing, not always very big in terms of
>> number of cells. In this case, it is very usefull to have the possibility to
>> pick/select some part of an object, and it is very diffcult to do so with a
>> decimated view.
>> * we also use some tools like virtualGL that enable image-based
>> collaboration by streaming the image of the client to a remote viewer : for
>> instance if someone was not able to join the meeting and still want to
>> participate and share the same view on his desktop. Sending a view of a
>> decimated object is not very helpfull...
>>
>> I would vote for having the possibility to have a full-resolution view on
>> the client, comments?
>>
>> Best,
>> Stephane
>>
>>
>> ?<ATT00001.gif>
>>
>> Stephane PLOIX
>> Pilote Op?rationnel - Visualisation scientifique
>> EDF - R&D
>> SINETICS
>> 1, Av du G?n?ral de Gaulle
>> 92140 Clamart
>>
>> stephane.ploix at edf.fr
>> T?l. : +33 (0) 1 47 65 51 10
>> ?<ATT00002.gif>
>> Un geste simple pour l'environnement, n'imprimez ce message que si vous en
>> avez l'utilit?.
>>
>>
>>
>>
>> dave.demarle at kitware.com
>> Envoy? par : paraview-bounces at paraview.org
>> 26/08/2010 13:14
>>
>> A
>> c.willing at uq.edu.au
>> cc
>> paraview at paraview.org
>> Objet
>> Re: [Paraview] Inconsistent client view in tiled-display mode
>>
>>
>>
>>
>>
>> This is probably intended behavior. What is the setting of the "Client
>> Collect" slider on the "Options"||"Preferences"->"Render
>> View"->"Server"->"Tile Display Parameters" tab of the Options panel?
>> Unless its checkbox is unchecked, ParaView either decimates the
>> geometry before sending it to the client or if larger than the
>> threshold, sends only bounding boxes. The reasoning being that if the
>> rendered geometry is big enough to require a tiled display to show, a
>> single GPU on the client is unlikely to be able to handle it a full
>> resolution.
>>
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>>
>>
>>
>> On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au>
>> wrote:
>> > When running in tiled display mode, the view at the client is sometimes
>> > missing part of the geometry.
>> >
>> > The effect appears to differ according to the number of tiles in play.
>> > As an
>> > example just to demonstrate the effect:
>> > - with a 4x4 tiling, a simple cylinder with no capping starts losing
>> > bits of
>> > the cylinder when resolution setting is at 17. With a 4x5 tiling,
>> > distortion
>> > starts when resolution is 61. I have snapshots to show the effect at:
>> > ? ?http://www.vislab.uq.edu.au/research/paraview/missingbits.html
>> >
>> > Of course it starts looking pretty bad with a real, more complicated,
>> > visualisation.
>> >
>> > Just to reiterate, this effect is just in the client viewer. The
>> > rendering
>> > on the tiled display itself is perfect.
>> >
>> > Is this a known phenomenon?
>> >
>> >
>> > chris
>> >
>> > (I'm running 3.8.0 built from tarball at paraview website).
>> >
>> >
>> > Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
>> > QCIF Access Grid Manager
>> > University of Queensland
>> >
>> > _______________________________________________
>> > Powered by www.kitware.com
>> >
>> > Visit other Kitware open-source projects at
>> > http://www.kitware.com/opensource/opensource.html
>> >
>> > Please keep messages on-topic and check the ParaView Wiki at:
>> > http://paraview.org/Wiki/ParaView
>> >
>> > Follow this link to subscribe/unsubscribe:
>> > http://www.paraview.org/mailman/listinfo/paraview
>> >
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>> Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont
>> ?tablis ? l'intention exclusive des destinataires et les informations qui y
>> figurent sont strictement confidentielles. Toute utilisation de ce Message
>> non conforme ? sa destination, toute diffusion ou toute publication totale
>> ou partielle, est interdite sauf autorisation expresse.
>>
>> Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de
>> le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou
>> partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de
>> votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace
>> sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir
>> imm?diatement l'exp?diteur par retour du message.
>>
>> Il est impossible de garantir que les communications par messagerie
>> ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute
>> erreur ou virus.
>> ____________________________________________________
>>
>> This message and any attachments (the 'Message') are intended solely for
>> the addressees. The information contained in this Message is confidential.
>> Any use of information contained in this Message not in accord with its
>> purpose, any dissemination or disclosure, either whole or partial, is
>> prohibited except formal approval.
>>
>> If you are not the addressee, you may not copy, forward, disclose or use
>> any part of it. If you have received this message in error, please delete it
>> and all copies from your system and notify the sender immediately by return
>> message.
>>
>> E-mail communication cannot be guaranteed to be timely secure, error or
>> virus-free.
>>
>
> Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
> QCIF Access Grid Manager
> University of Queensland
>
>

From utkarsh.ayachit at kitware.com  Fri Aug 27 09:14:07 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Fri, 27 Aug 2010 09:14:07 -0400
Subject: [Paraview] Inconsistent client view in tiled-display mode
In-Reply-To: <AANLkTinQy--1SC__W9gj+CsscZ_DW8rz-UpM++7iJSXV@mail.gmail.com>
References: <AANLkTimamvHEPgdc2uSmr7QPhSBz98gp17vL-gTM+a3j@mail.gmail.com>
	<OF9E64BACF.69E08DEB-ONC125778B.003E1725-C125778B.0040938F@notes.edfgdf.fr>
	<AANLkTim_YL15nDaoJqc6n8kZKaMc-t-Qf7A7wrfEJP6s@mail.gmail.com>
	<29F262BC-BFF6-45F7-8A30-343C139E98C7@uq.edu.au>
	<AANLkTinQy--1SC__W9gj+CsscZ_DW8rz-UpM++7iJSXV@mail.gmail.com>
Message-ID: <AANLkTikX5mMnN6u_8_RDV4Bsi1sW-grdM=SfHzDP3OQP@mail.gmail.com>

It's definitely a bug in the book. In tile-display mode, I am pretty
certain that there's no way currently in the implementation to get
non-LOD data to the client. However, that being said, I don't object
to adding a new setting option or maybe using the existing "checkbox"
to enable fetching non-LOD data to the client.

Utkarsh



On Fri, Aug 27, 2010 at 9:11 AM, David E DeMarle
<dave.demarle at kitware.com> wrote:
> Then it is a bug, either in the code or the book where it says what
> that checkbox should do.
> Please file a bug on the bug tracker and we will fix it, making sure
> we can support that mode.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
>
> On Thu, Aug 26, 2010 at 7:40 PM, Christoph Willing <c.willing at uq.edu.au> wrote:
>> David,
>>
>> Maybe there are some version related differences involved here - I found a
>> Client Collect checkbox & slider in Edit->Settings->Render
>> View->Server->Tiled Display Parameters. However unchecking it and then
>> changing some object parameter to force a re-render makes no difference to
>> the client view here.
>>
>> I appreciate the logic behind decimating the client view but, as Stephane
>> already mentioned, there are use cases where its not helpful. We have a
>> similar use requirement to Stephane - needing to stream a lower res version.
>> It would be great if the Client Collect checkbox would work as you suggest.
>> Should I try a different version? I'm currently on a Linux build from the
>> 3.8.0 source tarball.
>>
>>
>> chris
>>
>>
>>
>> On 26/08/2010, at 9:55 PM, David E DeMarle wrote:
>>
>>> Un-check the checkbox to the left and the client should get the full res
>>> geometry too.
>>>
>>> David E DeMarle
>>> Kitware, Inc.
>>> R&D Engineer
>>> 28 Corporate Drive
>>> Clifton Park, NY 12065-8662
>>> Phone: 518-371-3971 x109
>>>
>>>
>>> On Thu, Aug 26, 2010 at 7:50 AM, Stephane PLOIX <stephane.ploix at edf.fr>
>>> wrote:
>>>
>>> Hi,
>>>
>>> Since this thread is started, I would like to point out that saying that
>>> display walls are only used if the data size is large is not true for
>>> everybody.
>>>
>>> We have several use cases where having a correct rendering on the client
>>> would be helpfull :
>>> * display walls can be used for team meetings : the space is then used to
>>> have several people view the same thing, not always very big in terms of
>>> number of cells. In this case, it is very usefull to have the possibility to
>>> pick/select some part of an object, and it is very diffcult to do so with a
>>> decimated view.
>>> * we also use some tools like virtualGL that enable image-based
>>> collaboration by streaming the image of the client to a remote viewer : for
>>> instance if someone was not able to join the meeting and still want to
>>> participate and share the same view on his desktop. Sending a view of a
>>> decimated object is not very helpfull...
>>>
>>> I would vote for having the possibility to have a full-resolution view on
>>> the client, comments?
>>>
>>> Best,
>>> Stephane
>>>
>>>
>>> ?<ATT00001.gif>
>>>
>>> Stephane PLOIX
>>> Pilote Op?rationnel - Visualisation scientifique
>>> EDF - R&D
>>> SINETICS
>>> 1, Av du G?n?ral de Gaulle
>>> 92140 Clamart
>>>
>>> stephane.ploix at edf.fr
>>> T?l. : +33 (0) 1 47 65 51 10
>>> ?<ATT00002.gif>
>>> Un geste simple pour l'environnement, n'imprimez ce message que si vous en
>>> avez l'utilit?.
>>>
>>>
>>>
>>>
>>> dave.demarle at kitware.com
>>> Envoy? par : paraview-bounces at paraview.org
>>> 26/08/2010 13:14
>>>
>>> A
>>> c.willing at uq.edu.au
>>> cc
>>> paraview at paraview.org
>>> Objet
>>> Re: [Paraview] Inconsistent client view in tiled-display mode
>>>
>>>
>>>
>>>
>>>
>>> This is probably intended behavior. What is the setting of the "Client
>>> Collect" slider on the "Options"||"Preferences"->"Render
>>> View"->"Server"->"Tile Display Parameters" tab of the Options panel?
>>> Unless its checkbox is unchecked, ParaView either decimates the
>>> geometry before sending it to the client or if larger than the
>>> threshold, sends only bounding boxes. The reasoning being that if the
>>> rendered geometry is big enough to require a tiled display to show, a
>>> single GPU on the client is unlikely to be able to handle it a full
>>> resolution.
>>>
>>> David E DeMarle
>>> Kitware, Inc.
>>> R&D Engineer
>>> 28 Corporate Drive
>>> Clifton Park, NY 12065-8662
>>> Phone: 518-371-3971 x109
>>>
>>>
>>>
>>> On Thu, Aug 26, 2010 at 2:50 AM, Christoph Willing <c.willing at uq.edu.au>
>>> wrote:
>>> > When running in tiled display mode, the view at the client is sometimes
>>> > missing part of the geometry.
>>> >
>>> > The effect appears to differ according to the number of tiles in play.
>>> > As an
>>> > example just to demonstrate the effect:
>>> > - with a 4x4 tiling, a simple cylinder with no capping starts losing
>>> > bits of
>>> > the cylinder when resolution setting is at 17. With a 4x5 tiling,
>>> > distortion
>>> > starts when resolution is 61. I have snapshots to show the effect at:
>>> > ? ?http://www.vislab.uq.edu.au/research/paraview/missingbits.html
>>> >
>>> > Of course it starts looking pretty bad with a real, more complicated,
>>> > visualisation.
>>> >
>>> > Just to reiterate, this effect is just in the client viewer. The
>>> > rendering
>>> > on the tiled display itself is perfect.
>>> >
>>> > Is this a known phenomenon?
>>> >
>>> >
>>> > chris
>>> >
>>> > (I'm running 3.8.0 built from tarball at paraview website).
>>> >
>>> >
>>> > Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
>>> > QCIF Access Grid Manager
>>> > University of Queensland
>>> >
>>> > _______________________________________________
>>> > Powered by www.kitware.com
>>> >
>>> > Visit other Kitware open-source projects at
>>> > http://www.kitware.com/opensource/opensource.html
>>> >
>>> > Please keep messages on-topic and check the ParaView Wiki at:
>>> > http://paraview.org/Wiki/ParaView
>>> >
>>> > Follow this link to subscribe/unsubscribe:
>>> > http://www.paraview.org/mailman/listinfo/paraview
>>> >
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>> Ce message et toutes les pi?ces jointes (ci-apr?s le 'Message') sont
>>> ?tablis ? l'intention exclusive des destinataires et les informations qui y
>>> figurent sont strictement confidentielles. Toute utilisation de ce Message
>>> non conforme ? sa destination, toute diffusion ou toute publication totale
>>> ou partielle, est interdite sauf autorisation expresse.
>>>
>>> Si vous n'?tes pas le destinataire de ce Message, il vous est interdit de
>>> le copier, de le faire suivre, de le divulguer ou d'en utiliser tout ou
>>> partie. Si vous avez re?u ce Message par erreur, merci de le supprimer de
>>> votre syst?me, ainsi que toutes ses copies, et de n'en garder aucune trace
>>> sur quelque support que ce soit. Nous vous remercions ?galement d'en avertir
>>> imm?diatement l'exp?diteur par retour du message.
>>>
>>> Il est impossible de garantir que les communications par messagerie
>>> ?lectronique arrivent en temps utile, sont s?curis?es ou d?nu?es de toute
>>> erreur ou virus.
>>> ____________________________________________________
>>>
>>> This message and any attachments (the 'Message') are intended solely for
>>> the addressees. The information contained in this Message is confidential.
>>> Any use of information contained in this Message not in accord with its
>>> purpose, any dissemination or disclosure, either whole or partial, is
>>> prohibited except formal approval.
>>>
>>> If you are not the addressee, you may not copy, forward, disclose or use
>>> any part of it. If you have received this message in error, please delete it
>>> and all copies from your system and notify the sender immediately by return
>>> message.
>>>
>>> E-mail communication cannot be guaranteed to be timely secure, error or
>>> virus-free.
>>>
>>
>> Christoph Willing ? ? ? ? ? ? ? ? ? ? ? +61 7 3365 8316
>> QCIF Access Grid Manager
>> University of Queensland
>>
>>
>

From goodrone at gmail.com  Fri Aug 27 14:27:05 2010
From: goodrone at gmail.com (=?UTF-8?B?0JDQvdC00YDQtdC5INCi0YDQsNGH0LXQvdC60L4=?=)
Date: Fri, 27 Aug 2010 22:27:05 +0400
Subject: [Paraview] Determine ParaView installation directory in Windows
Message-ID: <AANLkTi=VKtfRSuF10hK=Rk53U6YBJ6kO9-xqix62QLhj@mail.gmail.com>

Hello,

In my application I'd like to have a "View in ParaView" button. Is
there a reliable way to determine path to ParaView in Windows? Should
I use registry, search it manually in Program Files or anywhere else?

Thank you!
Andrew

From robert.maynard at kitware.com  Fri Aug 27 15:18:32 2010
From: robert.maynard at kitware.com (Robert Maynard)
Date: Fri, 27 Aug 2010 15:18:32 -0400
Subject: [Paraview] Determine ParaView installation directory in Windows
In-Reply-To: <AANLkTi=VKtfRSuF10hK=Rk53U6YBJ6kO9-xqix62QLhj@mail.gmail.com>
References: <AANLkTi=VKtfRSuF10hK=Rk53U6YBJ6kO9-xqix62QLhj@mail.gmail.com>
Message-ID: <AANLkTinHNErRSZv-7YpQsZ0rG6yd=4=jii_EiEDgg59_@mail.gmail.com>

Hello,

You have to go through the registry to find the correct path to the ParaView
installation. You will also have to consider
multiple installations of ParaView.

   - HKEY_CURRENT_USER\SOFTWARE\Wow6432Node\Kitware Inc.\ParaView 3.8.X
   (64bit machines single user install)
   - HKEY_CURRENT_USER\SOFTWARE\Kitware Inc.\ParaView 3.8.X (32bit machines
   single user install)
   - HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Kitware Inc.\ParaView 3.8.X
   (64bit machines all users)
   - HKEY_LOCAL_MACHINE\SOFTWARE\Kitware Inc.\ParaView 3.8.X (32bit machines
   all users)


2010/8/27 ?????? ???????? <goodrone at gmail.com>

> Hello,
>
> In my application I'd like to have a "View in ParaView" button. Is
> there a reliable way to determine path to ParaView in Windows? Should
> I use registry, search it manually in Program Files or anywhere else?
>
> Thank you!
> Andrew
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



-- 
Robert Maynard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100827/51bfc50a/attachment.htm>

From felipe.bordeu at ec-nantes.fr  Mon Aug 30 08:21:15 2010
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Mon, 30 Aug 2010 14:21:15 +0200
Subject: [Paraview] Xdmf based custom reader
Message-ID: <4C7BA23B.5070008@ec-nantes.fr>

Hello,

I am writing a reader based in the xdmf format. Actually mi data is 
store in the xdmf format, but the solution must be reconstructed before 
been displayed.

A use the vtkXdmfDocument to read the data, then inside the vtkMyReader 
class I going to reconstruct the solution.

But the vtkXdmfHeavyData class needs a vtkXdmfReader in the constructor. 
(the pointer to the reader is used only for errors and warnings).

vtkErrorWithObjectMacro(this->Reader, ...
vtkWarningWithObjectMacro(this->Reader, ...

Can I change the pointer class inside the vtkXdmfHeavyData class from  
"vtkXdmfReader* Reader;" to "vtkAlgorithm* Reader;" ??????


-- 

Felipe


From utkarsh.ayachit at kitware.com  Mon Aug 30 09:13:19 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 30 Aug 2010 09:13:19 -0400
Subject: [Paraview] Xdmf based custom reader
In-Reply-To: <4C7BA23B.5070008@ec-nantes.fr>
References: <4C7BA23B.5070008@ec-nantes.fr>
Message-ID: <AANLkTikcYbQiPmZc1rE=GDnO-3h9JdzeprRyRxos89h3@mail.gmail.com>

Sure, that sounds reasonable.

Utkarsh

On Mon, Aug 30, 2010 at 8:21 AM, Felipe Bordeu
<felipe.bordeu at ec-nantes.fr> wrote:
> Hello,
>
> I am writing a reader based in the xdmf format. Actually mi data is store in
> the xdmf format, but the solution must be reconstructed before been
> displayed.
>
> A use the vtkXdmfDocument to read the data, then inside the vtkMyReader
> class I going to reconstruct the solution.
>
> But the vtkXdmfHeavyData class needs a vtkXdmfReader in the constructor.
> (the pointer to the reader is used only for errors and warnings).
>
> vtkErrorWithObjectMacro(this->Reader, ...
> vtkWarningWithObjectMacro(this->Reader, ...
>
> Can I change the pointer class inside the vtkXdmfHeavyData class from
> ?"vtkXdmfReader* Reader;" to "vtkAlgorithm* Reader;" ??????
>
>
> --
>
> Felipe
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From oshima at eng.niigata-u.ac.jp  Mon Aug 30 10:17:34 2010
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Mon, 30 Aug 2010 23:17:34 +0900
	=?iso-2022-jp?B?KBskQkVsNX4bKEIgKBskQkk4PWA7fhsoQikp?=
Subject: [Paraview] List of tested compilers?
Message-ID: <20100830.231734.186984994.oshima@eng.niigata-u.ac.jp>

Hi,

Is there a comprehensive list of compilers of the VTK and ParaView
dashboard platforms? In particular, which is the oldest version of GCC
that should be supported by VTK and ParaView? I skimmed through the
dashboards and found the Linux kernel version of each platform but
the compiler version is always unavailable.

My intention of the question is that it would be useful for a
(potential) contributor to have such a list so that he/she can test
the code with the compilers before submitting it.

Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From laurent.vanboquestal at gmail.com  Mon Aug 30 10:28:20 2010
From: laurent.vanboquestal at gmail.com (Laurent Vanboquestal)
Date: Mon, 30 Aug 2010 16:28:20 +0200
Subject: [Paraview] some tables cannot be located using paraview.simple
	python api
Message-ID: <AANLkTinY6WcZ80e_xxTOAyOE5iuYeenWPnbSNNNMnFF6@mail.gmail.com>

Hi all,

I got some problems with the generated python code using paraview 3.8
(Python Trace State).

Using paraview GUI, I can load my pvsm file and when selecting "Glyph2" in
the pipeline browser, I
can set values like 'Solid Color', 'cellNormal', 'Velocity_Bis', ...

However, when executing the generated code using pvpython, I got this error:

vtkPVDReader : [ ...........]
vtkPVArrayCalculator : [ ...........]
vtkPVArrayCalculator : [ ...........]
vtkWarpVector : [ ...........]
vtkPVClipDataSet : [ ...........]
vtkPVArrowSource : [ ...........]
vtkPVGlyphFilter : [ ...........]
Traceback (most recent call last):
  File "p5.py", line 365, in <module>
    DataRepresentation13.ColorArrayName = 'Velocity_bis'
  File
"/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
line 204, in __setattr__
  File
"/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
line 2361, in setProperty
  File
"/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
line 253, in SetPropertyWithName
  File
"/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
line 681, in SetData
ValueError: Could not locate array Velocity_bis in the input.

Any idea? Or advice to tackle this issue?

Best Regards,

Laurent
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/9fe0b9d9/attachment.htm>

From pat.marion at kitware.com  Mon Aug 30 11:59:02 2010
From: pat.marion at kitware.com (pat marion)
Date: Mon, 30 Aug 2010 11:59:02 -0400
Subject: [Paraview] some tables cannot be located using paraview.simple
 python api
In-Reply-To: <AANLkTinY6WcZ80e_xxTOAyOE5iuYeenWPnbSNNNMnFF6@mail.gmail.com>
References: <AANLkTinY6WcZ80e_xxTOAyOE5iuYeenWPnbSNNNMnFF6@mail.gmail.com>
Message-ID: <AANLkTinHAA9Uuxu8XXFwL4b9L8bEd=5BHEhXKSd6M64x@mail.gmail.com>

How are you generating the python trace?  Is it recorded using the
start/stop trace buttons, or using the trace state button?  Is it possible
to attach the python trace script and/or the dataset?

Pat

On Mon, Aug 30, 2010 at 10:28 AM, Laurent Vanboquestal <
laurent.vanboquestal at gmail.com> wrote:

> Hi all,
>
> I got some problems with the generated python code using paraview 3.8
> (Python Trace State).
>
> Using paraview GUI, I can load my pvsm file and when selecting "Glyph2" in
> the pipeline browser, I
> can set values like 'Solid Color', 'cellNormal', 'Velocity_Bis', ...
>
> However, when executing the generated code using pvpython, I got this
> error:
>
> vtkPVDReader : [ ...........]
> vtkPVArrayCalculator : [ ...........]
> vtkPVArrayCalculator : [ ...........]
> vtkWarpVector : [ ...........]
> vtkPVClipDataSet : [ ...........]
> vtkPVArrowSource : [ ...........]
> vtkPVGlyphFilter : [ ...........]
> Traceback (most recent call last):
>   File "p5.py", line 365, in <module>
>     DataRepresentation13.ColorArrayName = 'Velocity_bis'
>   File
> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
> line 204, in __setattr__
>   File
> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
> line 2361, in setProperty
>   File
> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
> line 253, in SetPropertyWithName
>   File
> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
> line 681, in SetData
> ValueError: Could not locate array Velocity_bis in the input.
>
> Any idea? Or advice to tackle this issue?
>
> Best Regards,
>
> Laurent
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/1eb48b20/attachment.htm>

From dave.partyka at kitware.com  Mon Aug 30 13:07:44 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 30 Aug 2010 13:07:44 -0400
Subject: [Paraview] List of tested compilers?
In-Reply-To: <20100830.231734.186984994.oshima@eng.niigata-u.ac.jp>
References: <20100830.231734.186984994.oshima@eng.niigata-u.ac.jp>
Message-ID: <AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>

I have some of this information on an internal Kitware wiki. It's not
complete but should give you an idea.

krondor gcc-3.3
midworld gcc-3.3
dashmacmini1 gcc-4.0.1
dashmacmini2 gcc-4.0.1
dashmacmini3 gcc-4.0.1
dashmacmini4 gcc
beleriand
dashsun1 Sun C 5.6
destiny aCC
dash1win98 VS
trinsic ?
hythloth gcc 4.3.3
valhalla ?
dash1vista32 VS8
dash1win64 VS71 VS8 VS9
dash2win64 VS9
morva VS8
dagobah
faraway gcc-4.1.3
dash1 VS71
dash2 VS70
dash3 VS6 VS9
dash4 bcc-5.8
dash5 gcc-3.3.2
dash6 gcc-3.3.2
dash8 gcc-2.96
dash11 VS71
dash12 VS9 VS10
dash13 VS6
dash14 mingw cygwin
dash15
dash16 gcc-4.3.2
dash17 gcc-4.0.3
dash18
dash19 bcc-5.5 VS8
dash20 VS
dash21 gcc-4.3.2
dash22 cygwin mingw watcom VS71 VS8 VS9
dash23
amber1 gcc-4.1
amber2 gcc-4.1
amber3 gcc-4.1
amber4 gcc-4.1
amber5 gcc-4.1
amber6 gcc-4.1
amber7 gcc-4.1
amber8 gcc-4.1
amber9 VS9

2010/8/30 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>

> Hi,
>
> Is there a comprehensive list of compilers of the VTK and ParaView
> dashboard platforms? In particular, which is the oldest version of GCC
> that should be supported by VTK and ParaView? I skimmed through the
> dashboards and found the Linux kernel version of each platform but
> the compiler version is always unavailable.
>
> My intention of the question is that it would be useful for a
> (potential) contributor to have such a list so that he/she can test
> the code with the compilers before submitting it.
>
> Takuya
>
> Takuya OSHIMA, Ph.D.
> Faculty of Engineering, Niigata University
> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/1e3797d0/attachment.htm>

From kmorel at sandia.gov  Mon Aug 30 14:43:52 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon, 30 Aug 2010 12:43:52 -0600
Subject: [Paraview] List of tested compilers?
In-Reply-To: <AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>
Message-ID: <C8A15808.194CB%kmorel@sandia.gov>

Does it make sense to submit a CMake feature request to post the compiler version (assuming one can be determined)?

-Ken


On 8/30/10 11:07 AM, "Dave Partyka" <dave.partyka at kitware.com> wrote:

I have some of this information on an internal Kitware wiki. It's not complete but should give you an idea.

krondor gcc-3.3
midworld gcc-3.3
dashmacmini1 gcc-4.0.1
dashmacmini2 gcc-4.0.1
dashmacmini3 gcc-4.0.1
dashmacmini4 gcc
beleriand
dashsun1 Sun C 5.6
destiny aCC
dash1win98 VS
trinsic  ?
hythloth gcc 4.3.3
valhalla  ?
dash1vista32 VS8
dash1win64 VS71 VS8 VS9
dash2win64 VS9
morva VS8
dagobah
faraway gcc-4.1.3
dash1 VS71
dash2 VS70
dash3 VS6 VS9
dash4 bcc-5.8
dash5 gcc-3.3.2
dash6 gcc-3.3.2
dash8 gcc-2.96
dash11 VS71
dash12 VS9 VS10
dash13 VS6
dash14 mingw cygwin
dash15
dash16 gcc-4.3.2
dash17 gcc-4.0.3
dash18
dash19 bcc-5.5 VS8
dash20 VS
dash21 gcc-4.3.2
dash22 cygwin mingw watcom VS71 VS8 VS9
dash23
amber1 gcc-4.1
amber2 gcc-4.1
amber3 gcc-4.1
amber4 gcc-4.1
amber5 gcc-4.1
amber6 gcc-4.1
amber7 gcc-4.1
amber8 gcc-4.1
amber9 VS9

2010/8/30 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
Hi,

Is there a comprehensive list of compilers of the VTK and ParaView
dashboard platforms? In particular, which is the oldest version of GCC
that should be supported by VTK and ParaView? I skimmed through the
dashboards and found the Linux kernel version of each platform but
the compiler version is always unavailable.

My intention of the question is that it would be useful for a
(potential) contributor to have such a list so that he/she can test
the code with the compilers before submitting it.

Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com>

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/cc874695/attachment.htm>

From dave.partyka at kitware.com  Mon Aug 30 14:50:33 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Mon, 30 Aug 2010 14:50:33 -0400
Subject: [Paraview] List of tested compilers?
In-Reply-To: <C8A15808.194CB%kmorel@sandia.gov>
References: <AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>
	<C8A15808.194CB%kmorel@sandia.gov>
Message-ID: <AANLkTikZBeba-+oD0uBTCbjSR9tT-iQy3PRXZWSOF0x0@mail.gmail.com>

CDash is supposed to list it in it's site summary but it doesn't work very
reliably.

http://www.cdash.org/CDash/buildSummary.php?buildid=707389

*Site Name: *amber4.kitware<http://www.cdash.org/CDash/viewSite.php?siteid=1771>
*Build Name: *Debian4-x64-gcc
*Stamp: *20100830-0100-Nightly (related
builds<http://www.cdash.org/CDash/index.php?project=VTK&display=project&filtercount=3&showfilters=1&filtercombine=and&field1=buildname/string&compare1=61&value1=Debian4-x64-gcc&field2=site/string&compare2=61&value2=amber4.kitware&field3=buildstamp/string&compare3=61&value3=20100830-0100-Nightly&collapse=0>
)
*Time: *2010-08-29T21:08:24 EDT
*Type: *Nightly

*OS Name: *Linux
*OS Platform: *x86_64
*OS Release: *2.6.18-6-amd64
*OS Version: *#1 SMP Sat Feb 20 23:34:55 UTC 2010
*Compiler Version: *unknown


On Mon, Aug 30, 2010 at 2:43 PM, Moreland, Kenneth <kmorel at sandia.gov>wrote:

>  Does it make sense to submit a CMake feature request to post the compiler
> version (assuming one can be determined)?
>
> -Ken
>
>
>
> On 8/30/10 11:07 AM, "Dave Partyka" <dave.partyka at kitware.com> wrote:
>
> I have some of this information on an internal Kitware wiki. It's not
> complete but should give you an idea.
>
> krondor gcc-3.3
> midworld gcc-3.3
> dashmacmini1 gcc-4.0.1
> dashmacmini2 gcc-4.0.1
> dashmacmini3 gcc-4.0.1
> dashmacmini4 gcc
> beleriand
> dashsun1 Sun C 5.6
> destiny aCC
> dash1win98 VS
> trinsic  ?
> hythloth gcc 4.3.3
> valhalla  ?
> dash1vista32 VS8
> dash1win64 VS71 VS8 VS9
> dash2win64 VS9
> morva VS8
> dagobah
> faraway gcc-4.1.3
> dash1 VS71
> dash2 VS70
> dash3 VS6 VS9
> dash4 bcc-5.8
> dash5 gcc-3.3.2
> dash6 gcc-3.3.2
> dash8 gcc-2.96
> dash11 VS71
> dash12 VS9 VS10
> dash13 VS6
> dash14 mingw cygwin
> dash15
> dash16 gcc-4.3.2
> dash17 gcc-4.0.3
> dash18
> dash19 bcc-5.5 VS8
> dash20 VS
> dash21 gcc-4.3.2
> dash22 cygwin mingw watcom VS71 VS8 VS9
> dash23
> amber1 gcc-4.1
> amber2 gcc-4.1
> amber3 gcc-4.1
> amber4 gcc-4.1
> amber5 gcc-4.1
> amber6 gcc-4.1
> amber7 gcc-4.1
> amber8 gcc-4.1
> amber9 VS9
>
> 2010/8/30 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
>
> Hi,
>
> Is there a comprehensive list of compilers of the VTK and ParaView
> dashboard platforms? In particular, which is the oldest version of GCC
> that should be supported by VTK and ParaView? I skimmed through the
> dashboards and found the Linux kernel version of each platform but
> the compiler version is always unavailable.
>
> My intention of the question is that it would be useful for a
> (potential) contributor to have such a list so that he/she can test
> the code with the compilers before submitting it.
>
> Takuya
>
> Takuya OSHIMA, Ph.D.
> Faculty of Engineering, Niigata University
> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
> _______________________________________________
> Powered by www.kitware.com <http://www.kitware.com>
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
>
>    ****      Kenneth Moreland
>     ***      Sandia National Laboratories
> ***********
> *** *** ***  email: kmorel at sandia.gov
> **  ***  **  phone: (505) 844-8919
>     ***      web:   http://www.cs.unm.edu/~kmorel
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/22102f7f/attachment-0001.htm>

From dagarshali at gmail.com  Mon Aug 30 15:53:49 2010
From: dagarshali at gmail.com (Vishwa)
Date: Mon, 30 Aug 2010 14:53:49 -0500
Subject: [Paraview] Reading Vtk files into say Matlab
Message-ID: <AANLkTimLmEyfA-5pz5yxVGu_wYkKuVN_YevpMxrJ85cB@mail.gmail.com>

Hi,
When running a simulation, I ended up saving slices of the data as a .vtk
file. I now have to do some analysis of the data and I am having a tough
time to find a matlab reader. Could anybody here in this forum suggest an
idea as to how to do it.. I could also use a convertion of vtk data to
another format which can be read by matlab.

Hope to hear soon.

Thanks a bunch in advance
Vishwa
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/8de1a616/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Mon Aug 30 16:00:35 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Mon, 30 Aug 2010 15:00:35 -0500
Subject: [Paraview] difference between types of mesh
Message-ID: <C1DA9587-A892-43C1-A5FB-69C9D5A6DBC6@sjc.ox.ac.uk>

I was wondering what is the difference between a Polygonal mesh
(vtkPolyData) and Unstructured mesh (vtkUnstructredGrid)?

I have seen both come up in Paraview examples for seemingly similar
data (i.e. unstructured points for example).

Is there a significant difference in their capabilities? Is there a
big advantage using one versus another in terms of memory allocation
or ability to be processed by different filters?

Thanks.

From francois.bertel at kitware.com  Mon Aug 30 16:03:53 2010
From: francois.bertel at kitware.com (Francois Bertel)
Date: Mon, 30 Aug 2010 16:03:53 -0400
Subject: [Paraview] difference between types of mesh
In-Reply-To: <C1DA9587-A892-43C1-A5FB-69C9D5A6DBC6@sjc.ox.ac.uk>
References: <C1DA9587-A892-43C1-A5FB-69C9D5A6DBC6@sjc.ox.ac.uk>
Message-ID: <AANLkTi=PWyTMP5gkK2PpThrNv99GhFcv6KYXSAr013NG@mail.gmail.com>

Hi Dan,

vtkPolyData can deal with 0-D, 1-D, 2-D linear cells.

vtkUnstructureGrid can deal with all the types of cells that
vtkPolyData support+ 3-D linear cells and 1-D, 2-D,3-D non-linear
cells.

vtkPolyData is more compact and efficient for 0-D,1-D,2-D linear cells
than vtkUnstructureGrid.


On Mon, Aug 30, 2010 at 4:00 PM, Dan Lussier <dan.lussier at sjc.ox.ac.uk> wrote:
> I was wondering what is the difference between a Polygonal mesh
> (vtkPolyData) and Unstructured mesh (vtkUnstructredGrid)?
>
> I have seen both come up in Paraview examples for seemingly similar
> data (i.e. unstructured points for example).
>
> Is there a significant difference in their capabilities? Is there a
> big advantage using one versus another in terms of memory allocation
> or ability to be processed by different filters?
>
> Thanks.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



-- 
Fran?ois Bertel, PhD? | Kitware Inc. Suite 204
1 (518) 371 3971 x113 | 28 Corporate Drive
? ? ? ? ? ? ? ? ? ? ? | Clifton Park NY 12065, USA

From sean at rogue-research.com  Mon Aug 30 16:58:42 2010
From: sean at rogue-research.com (Sean McBride)
Date: Mon, 30 Aug 2010 16:58:42 -0400
Subject: [Paraview] [vtk-developers]  List of tested compilers?
In-Reply-To: <C8A15808.194CB%kmorel@sandia.gov>
References: <AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>
	<C8A15808.194CB%kmorel@sandia.gov>
Message-ID: <20100830205842.902432013@mail.rogue-research.com>

On Mon, 30 Aug 2010 12:43:52 -0600, Moreland, Kenneth said:

>Does it make sense to submit a CMake feature request to post the
>compiler version (assuming one can be determined)?

It's been there for almost 2 years already:
<http://public.kitware.com/Bug/view.php?id=7867>

-- 
____________________________________________________________
Sean McBride, B. Eng                 sean at rogue-research.com
Rogue Research                        www.rogue-research.com 
Mac Software Developer              Montr?al, Qu?bec, Canada



From dan.lussier at sjc.ox.ac.uk  Mon Aug 30 17:23:23 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Mon, 30 Aug 2010 16:23:23 -0500
Subject: [Paraview] reading in serial then distributing to parallel
Message-ID: <AANLkTikGuAPE43QS9cb9TK4BjXNiQ_urmE8DNmF9Rng9@mail.gmail.com>

I am trying to start using Paraview in parallel for the first time and
have run into some trouble reading my data in when running in
parallel.

I am using XDMF and have unstructured data, which I have gathered from
the mailing list (thanks!) cannot be read in parallel without
restructuring the XML to use hyperslabs.

In scanning a set of slides from an online tutorial I saw the
following method suggested if you have a reader that isn't parallel:

? Only one node reads
? Whole data set must fit in one process? memory
? If you must, the D3 filter in Paraview will partition and
distribute

How would I go about getting the data read in by just one process and
then distributing it to other processors after read is complete?

Sorry if this question is a bit off the wall but I'm open to suggestions.

From kmorel at sandia.gov  Mon Aug 30 17:38:34 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Mon, 30 Aug 2010 15:38:34 -0600
Subject: [Paraview] reading in serial then distributing to parallel
In-Reply-To: <AANLkTikGuAPE43QS9cb9TK4BjXNiQ_urmE8DNmF9Rng9@mail.gmail.com>
Message-ID: <C8A180FA.194FE%kmorel@sandia.gov>

I think you've answered your own question.  Read the data into ParaView.  Run the D3 filter on it.  The output of the D3 filter will be distributed amongst the processes.

-Ken


On 8/30/10 3:23 PM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:

I am trying to start using Paraview in parallel for the first time and
have run into some trouble reading my data in when running in
parallel.

I am using XDMF and have unstructured data, which I have gathered from
the mailing list (thanks!) cannot be read in parallel without
restructuring the XML to use hyperslabs.

In scanning a set of slides from an online tutorial I saw the
following method suggested if you have a reader that isn't parallel:

* Only one node reads
* Whole data set must fit in one process' memory
* If you must, the D3 filter in Paraview will partition and
distribute

How would I go about getting the data read in by just one process and
then distributing it to other processors after read is complete?

Sorry if this question is a bit off the wall but I'm open to suggestions.
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/5f085032/attachment.htm>

From dave.demarle at kitware.com  Mon Aug 30 18:55:45 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Mon, 30 Aug 2010 18:55:45 -0400
Subject: [Paraview] Getting plate boundary data into Paraview
In-Reply-To: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>
References: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>
Message-ID: <AANLkTiktnWuuhS9Lg6BZZWQeZbNokBfWc6ueezQRJUfi@mail.gmail.com>

Pop this into a python programmable source and it should import your data.

import os
import string

def insertNextCell():
  nextpoly = vtk.vtkPolyLine()
  nextpoly.GetPointIds().DeepCopy(segments)
  cells.InsertNextCell(nextpoly)

filename = os.path.normcase("/location/of/your/data.txt")
f = open(filename)

pdo = self.GetPolyDataOutput()

pts = vtk.vtkPoints()

#an array for the fault information
segmentNames = vtk.vtkStringArray()
segmentNames.SetName("Fault Information")
segmentNames.SetNumberOfComponents(1)

cells = vtk.vtkCellArray()
segments = vtk.vtkIdList()

#traverse file
for line in f:
  if line.startswith(">"):
    #when you find a new fault
    #save the one you just finished
    if segments.GetNumberOfIds() != 0:
      insertNextCell()
      segments = vtk.vtkIdList()
    segmentNames.InsertNextValue(line)
  else:
    #otherwise just keep remembering coordinates
    x,y = [float(n) for n in line.strip().split()[:2]]
    id = pts.InsertNextPoint(x,y,0)
    segments.InsertNextId(id)
f.close()

if segments.GetNumberOfIds()>0:
  #don't forget the last fault in progress
  insertNextCell()

pdo.SetPoints(pts)
pdo.SetStrips(cells)
pdo.GetCellData().AddArray(segmentNames)


David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Wed, Aug 25, 2010 at 5:02 AM, Lester Anderson
<lester_anderson1963 at hotmail.com> wrote:
>> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> ?-58.9415?? 10.5593
> ?-59.1817?? 10.5598
> ?-59.4918?? 10.5899
> ?-59.8086?? 10.6593
> ?-60.1954?? 10.7256
> ?-60.4489?? 10.7065
> ?-60.8159?? 10.6678
> ?-61.0594?? 10.6486
> ?-61.4631?? 10.6068
> ?-61.8535?? 10.5682
> ?-62.2972?? 10.5395
> ?-62.8876?? 10.4915
> ?-63.7494?? 10.4103
>> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> ?-77.5807??? 0.4294
> ?-77.8448??? 0.1430
> ?-77.9752?? -0.0068
> ?-78.2026?? -0.3332
> ?-78.4367?? -0.6463
> ?-78.7342?? -0.9592
> ?-79.0453?? -1.3955
> ?-79.2994?? -1.6951
> ?-79.4901?? -1.9814
> ?-79.6407?? -2.2444
> ?-79.7878?? -2.4208
> ?-79.8400?? -2.5000
> ?-79.9182?? -2.5805
> ?-80.0386?? -2.7369
> ?-80.1589?? -2.8732
> ?-81.9900?? -4.8900
>> 2014 SE CAYMAN TROUGH TRANSFORM FAULT
> ?-78.4356?? 18.4315
> ?-78.3248?? 18.4569
> ?-78.1413?? 18.4710
> ?-78.0147?? 18.4664
> ?-77.9386?? 18.4565

From madhura.np at gmail.com  Mon Aug 30 20:19:51 2010
From: madhura.np at gmail.com (Madhura Phadke)
Date: Mon, 30 Aug 2010 20:19:51 -0400
Subject: [Paraview] Error when running script to animate a transform
Message-ID: <AANLkTim7y+8nm7AfChN16tP8cg40w1jTcAzKcOyKfbpq@mail.gmail.com>

I am writing a script that applies a transform over the active object and
animates its translation over time.
A snippet of the relevant lines [the python script is at
http://www.wikiupload.com/NEU3a9P3 ->Download button.   ] :
-------------------------------------
t=Transform()
scene = servermanager.animation.AnimationScene()
scene.ViewModules = [GetActiveView()]
cue = servermanager.animation.KeyFrameAnimationCue()
cue.AnimatedProxy = t.Transform
cue.AnimatedPropertyName = "Scale"
cue.AnimatedElement=2
scene.Cues = [cue]
.
.
.
cue.KeyFrames = [keyf0, keyf1]

scene.Play()
--------------------------------------

When I use "Scale" for AnimatedPropertyName
the script works fine. However, I get an error "ERROR: In
..\..\..\src\Servers\ServerManager\vtkSMRampKeyFrameProxy.cxx, line 52
vtkSMRampKeyFrameProxy
(0C1076F0): Cue does not have domain or property set!" on using "Translate"
or "Rotate".
I don't know what I'm setting wrong. In case anyone has got this working,
please let me know.

Thanks,
--Madhura
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100830/b8b5191e/attachment-0001.htm>

From oshima at eng.niigata-u.ac.jp  Mon Aug 30 21:00:34 2010
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Tue, 31 Aug 2010 10:00:34 +0900 (JST)
Subject: [Paraview] List of tested compilers?
In-Reply-To: <AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>
References: <20100830.231734.186984994.oshima@eng.niigata-u.ac.jp>
	<AANLkTinxDzvcmZDXzZdKc1GOm4+zckkqEx-RuV5D+oGd@mail.gmail.com>
Message-ID: <20100831.100034.102769930.oshima@eng.niigata-u.ac.jp>

Thanks! Just as a comment there are old gcc-2.96 (dash8) and gcc-3.3.2
(dash5/6) listed but as far as I can see from the dashboards they are
not used for VTK/ParaView.

Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Dave Partyka <dave.partyka at kitware.com>
Subject: Re: [Paraview] List of tested compilers?
Date: Mon, 30 Aug 2010 13:07:44 -0400

> I have some of this information on an internal Kitware wiki. It's not
> complete but should give you an idea.
> 
> krondor gcc-3.3
> midworld gcc-3.3
> dashmacmini1 gcc-4.0.1
> dashmacmini2 gcc-4.0.1
> dashmacmini3 gcc-4.0.1
> dashmacmini4 gcc
> beleriand
> dashsun1 Sun C 5.6
> destiny aCC
> dash1win98 VS
> trinsic ?
> hythloth gcc 4.3.3
> valhalla ?
> dash1vista32 VS8
> dash1win64 VS71 VS8 VS9
> dash2win64 VS9
> morva VS8
> dagobah
> faraway gcc-4.1.3
> dash1 VS71
> dash2 VS70
> dash3 VS6 VS9
> dash4 bcc-5.8
> dash5 gcc-3.3.2
> dash6 gcc-3.3.2
> dash8 gcc-2.96
> dash11 VS71
> dash12 VS9 VS10
> dash13 VS6
> dash14 mingw cygwin
> dash15
> dash16 gcc-4.3.2
> dash17 gcc-4.0.3
> dash18
> dash19 bcc-5.5 VS8
> dash20 VS
> dash21 gcc-4.3.2
> dash22 cygwin mingw watcom VS71 VS8 VS9
> dash23
> amber1 gcc-4.1
> amber2 gcc-4.1
> amber3 gcc-4.1
> amber4 gcc-4.1
> amber5 gcc-4.1
> amber6 gcc-4.1
> amber7 gcc-4.1
> amber8 gcc-4.1
> amber9 VS9
> 
> 2010/8/30 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
> 
>> Hi,
>>
>> Is there a comprehensive list of compilers of the VTK and ParaView
>> dashboard platforms? In particular, which is the oldest version of GCC
>> that should be supported by VTK and ParaView? I skimmed through the
>> dashboards and found the Linux kernel version of each platform but
>> the compiler version is always unavailable.
>>
>> My intention of the question is that it would be useful for a
>> (potential) contributor to have such a list so that he/she can test
>> the code with the compilers before submitting it.
>>
>> Takuya
>>
>> Takuya OSHIMA, Ph.D.
>> Faculty of Engineering, Niigata University
>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>

From laurent.vanboquestal at gmail.com  Tue Aug 31 03:18:38 2010
From: laurent.vanboquestal at gmail.com (Laurent Vanboquestal)
Date: Tue, 31 Aug 2010 09:18:38 +0200
Subject: [Paraview] some tables cannot be located using paraview.simple
 python api
In-Reply-To: <AANLkTinHAA9Uuxu8XXFwL4b9L8bEd=5BHEhXKSd6M64x@mail.gmail.com>
References: <AANLkTinY6WcZ80e_xxTOAyOE5iuYeenWPnbSNNNMnFF6@mail.gmail.com>
	<AANLkTinHAA9Uuxu8XXFwL4b9L8bEd=5BHEhXKSd6M64x@mail.gmail.com>
Message-ID: <AANLkTimUTWMUrvOwtdMGT+f8BLsiYMiKKbmOwFRzOQEg@mail.gmail.com>

Hello Pat,

It has been generated using the "trace state button" .... The generated code
is huge (about 900 lines of python code),

Regards,

Laurent

On Mon, Aug 30, 2010 at 5:59 PM, pat marion <pat.marion at kitware.com> wrote:

> How are you generating the python trace?  Is it recorded using the
> start/stop trace buttons, or using the trace state button?  Is it possible
> to attach the python trace script and/or the dataset?
>
> Pat
>
> On Mon, Aug 30, 2010 at 10:28 AM, Laurent Vanboquestal <
> laurent.vanboquestal at gmail.com> wrote:
>
>> Hi all,
>>
>> I got some problems with the generated python code using paraview 3.8
>> (Python Trace State).
>>
>> Using paraview GUI, I can load my pvsm file and when selecting "Glyph2" in
>> the pipeline browser, I
>> can set values like 'Solid Color', 'cellNormal', 'Velocity_Bis', ...
>>
>> However, when executing the generated code using pvpython, I got this
>> error:
>>
>> vtkPVDReader : [ ...........]
>> vtkPVArrayCalculator : [ ...........]
>> vtkPVArrayCalculator : [ ...........]
>> vtkWarpVector : [ ...........]
>> vtkPVClipDataSet : [ ...........]
>> vtkPVArrowSource : [ ...........]
>> vtkPVGlyphFilter : [ ...........]
>> Traceback (most recent call last):
>>   File "p5.py", line 365, in <module>
>>     DataRepresentation13.ColorArrayName = 'Velocity_bis'
>>   File
>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>> line 204, in __setattr__
>>   File
>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>> line 2361, in setProperty
>>   File
>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>> line 253, in SetPropertyWithName
>>   File
>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>> line 681, in SetData
>> ValueError: Could not locate array Velocity_bis in the input.
>>
>> Any idea? Or advice to tackle this issue?
>>
>> Best Regards,
>>
>> Laurent
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/4fc88d0d/attachment.htm>

From felipe.bordeu at ec-nantes.fr  Tue Aug 31 03:36:12 2010
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Tue, 31 Aug 2010 09:36:12 +0200
Subject: [Paraview] Reader methods question
Message-ID: <4C7CB0EC.9050103@ec-nantes.fr>

Hello,

I am a little confuse about all the methods in a reader (filter).
I writing a new reader (I already read all the wiki pages) that can 
generate Un/Structured grids depending on the file.

But I am not sure about what to put in each method.

ProcessRequest(...
RequestDataObject(...
RequestData(...
RequestUpdateExtent(...
RequestInformation(...
FillOutputPortInformation(..

I know RequesInformation(.. is for the type of output and the extend(in 
the case is structured).
and I Know RequestData(... if for the generated data.

Thanks for the help.

-- 

Felipe


From lester_anderson1963 at hotmail.com  Tue Aug 31 06:19:32 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Tue, 31 Aug 2010 11:19:32 +0100
Subject: [Paraview] Getting plate boundary data into Paraview
In-Reply-To: <AANLkTiktnWuuhS9Lg6BZZWQeZbNokBfWc6ueezQRJUfi@mail.gmail.com>
References: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>,
	<AANLkTiktnWuuhS9Lg6BZZWQeZbNokBfWc6ueezQRJUfi@mail.gmail.com>
Message-ID: <SNT108-W16925CE968867ABE8F340D8A8A0@phx.gbl>


Hi Dave

Thanks for the info.

I added a programmable source and it worked fine to import the data, but it only gave me points and not joined to give line data?

Cheers

Lester

> From: dave.demarle at kitware.com
> Date: Mon, 30 Aug 2010 18:55:45 -0400
> Subject: Re: [Paraview] Getting plate boundary data into Paraview
> To: lester_anderson1963 at hotmail.com
> CC: paraview at paraview.org
> 
> Pop this into a python programmable source and it should import your data.
> 
> import os
> import string
> 
> def insertNextCell():
>   nextpoly = vtk.vtkPolyLine()
>   nextpoly.GetPointIds().DeepCopy(segments)
>   cells.InsertNextCell(nextpoly)
> 
> filename = os.path.normcase("/location/of/your/data.txt")
> f = open(filename)
> 
> pdo = self.GetPolyDataOutput()
> 
> pts = vtk.vtkPoints()
> 
> #an array for the fault information
> segmentNames = vtk.vtkStringArray()
> segmentNames.SetName("Fault Information")
> segmentNames.SetNumberOfComponents(1)
> 
> cells = vtk.vtkCellArray()
> segments = vtk.vtkIdList()
> 
> #traverse file
> for line in f:
>   if line.startswith(">"):
>     #when you find a new fault
>     #save the one you just finished
>     if segments.GetNumberOfIds() != 0:
>       insertNextCell()
>       segments = vtk.vtkIdList()
>     segmentNames.InsertNextValue(line)
>   else:
>     #otherwise just keep remembering coordinates
>     x,y = [float(n) for n in line.strip().split()[:2]]
>     id = pts.InsertNextPoint(x,y,0)
>     segments.InsertNextId(id)
> f.close()
> 
> if segments.GetNumberOfIds()>0:
>   #don't forget the last fault in progress
>   insertNextCell()
> 
> pdo.SetPoints(pts)
> pdo.SetStrips(cells)
> pdo.GetCellData().AddArray(segmentNames)
> 
> 
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
> 
> 
> 
> On Wed, Aug 25, 2010 at 5:02 AM, Lester Anderson
> <lester_anderson1963 at hotmail.com> wrote:
> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> >  -58.9415   10.5593
> >  -59.1817   10.5598
> >  -59.4918   10.5899
> >  -59.8086   10.6593
> >  -60.1954   10.7256
> >  -60.4489   10.7065
> >  -60.8159   10.6678
> >  -61.0594   10.6486
> >  -61.4631   10.6068
> >  -61.8535   10.5682
> >  -62.2972   10.5395
> >  -62.8876   10.4915
> >  -63.7494   10.4103
> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> >  -77.5807    0.4294
> >  -77.8448    0.1430
> >  -77.9752   -0.0068
> >  -78.2026   -0.3332
> >  -78.4367   -0.6463
> >  -78.7342   -0.9592
> >  -79.0453   -1.3955
> >  -79.2994   -1.6951
> >  -79.4901   -1.9814
> >  -79.6407   -2.2444
> >  -79.7878   -2.4208
> >  -79.8400   -2.5000
> >  -79.9182   -2.5805
> >  -80.0386   -2.7369
> >  -80.1589   -2.8732
> >  -81.9900   -4.8900
> >> 2014 SE CAYMAN TROUGH TRANSFORM FAULT
> >  -78.4356   18.4315
> >  -78.3248   18.4569
> >  -78.1413   18.4710
> >  -78.0147   18.4664
> >  -77.9386   18.4565
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/f72f652a/attachment.htm>

From dave.demarle at kitware.com  Tue Aug 31 09:13:18 2010
From: dave.demarle at kitware.com (David E DeMarle)
Date: Tue, 31 Aug 2010 09:13:18 -0400
Subject: [Paraview] Getting plate boundary data into Paraview
In-Reply-To: <SNT108-W16925CE968867ABE8F340D8A8A0@phx.gbl>
References: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>
	<AANLkTiktnWuuhS9Lg6BZZWQeZbNokBfWc6ueezQRJUfi@mail.gmail.com>
	<SNT108-W16925CE968867ABE8F340D8A8A0@phx.gbl>
Message-ID: <AANLkTinFdzrTnQ4oQAyxFnz1=TdUoBBYSDPcV_waedXw@mail.gmail.com>

Change

pdo.SetStrips(cells)
to
pdo.SetLines(cells)

David E DeMarle
Kitware, Inc.
R&D Engineer
28 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-371-3971 x109



On Tue, Aug 31, 2010 at 6:19 AM, Lester Anderson
<lester_anderson1963 at hotmail.com> wrote:
> Hi Dave
>
> Thanks for the info.
>
> I added a programmable source and it worked fine to import the data, but it
> only gave me points and not joined to give line data?
>
> Cheers
>
> Lester
>
>> From: dave.demarle at kitware.com
>> Date: Mon, 30 Aug 2010 18:55:45 -0400
>> Subject: Re: [Paraview] Getting plate boundary data into Paraview
>> To: lester_anderson1963 at hotmail.com
>> CC: paraview at paraview.org
>>
>> Pop this into a python programmable source and it should import your data.
>>
>> import os
>> import string
>>
>> def insertNextCell():
>> nextpoly = vtk.vtkPolyLine()
>> nextpoly.GetPointIds().DeepCopy(segments)
>> cells.InsertNextCell(nextpoly)
>>
>> filename = os.path.normcase("/location/of/your/data.txt")
>> f = open(filename)
>>
>> pdo = self.GetPolyDataOutput()
>>
>> pts = vtk.vtkPoints()
>>
>> #an array for the fault information
>> segmentNames = vtk.vtkStringArray()
>> segmentNames.SetName("Fault Information")
>> segmentNames.SetNumberOfComponents(1)
>>
>> cells = vtk.vtkCellArray()
>> segments = vtk.vtkIdList()
>>
>> #traverse file
>> for line in f:
>> if line.startswith(">"):
>> #when you find a new fault
>> #save the one you just finished
>> if segments.GetNumberOfIds() != 0:
>> insertNextCell()
>> segments = vtk.vtkIdList()
>> segmentNames.InsertNextValue(line)
>> else:
>> #otherwise just keep remembering coordinates
>> x,y = [float(n) for n in line.strip().split()[:2]]
>> id = pts.InsertNextPoint(x,y,0)
>> segments.InsertNextId(id)
>> f.close()
>>
>> if segments.GetNumberOfIds()>0:
>> #don't forget the last fault in progress
>> insertNextCell()
>>
>> pdo.SetPoints(pts)
>> pdo.SetStrips(cells)
>> pdo.GetCellData().AddArray(segmentNames)
>>
>>
>> David E DeMarle
>> Kitware, Inc.
>> R&D Engineer
>> 28 Corporate Drive
>> Clifton Park, NY 12065-8662
>> Phone: 518-371-3971 x109
>>
>>
>>
>> On Wed, Aug 25, 2010 at 5:02 AM, Lester Anderson
>> <lester_anderson1963 at hotmail.com> wrote:
>> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
>> > ?-58.9415?? 10.5593
>> > ?-59.1817?? 10.5598
>> > ?-59.4918?? 10.5899
>> > ?-59.8086?? 10.6593
>> > ?-60.1954?? 10.7256
>> > ?-60.4489?? 10.7065
>> > ?-60.8159?? 10.6678
>> > ?-61.0594?? 10.6486
>> > ?-61.4631?? 10.6068
>> > ?-61.8535?? 10.5682
>> > ?-62.2972?? 10.5395
>> > ?-62.8876?? 10.4915
>> > ?-63.7494?? 10.4103
>> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
>> > ?-77.5807??? 0.4294
>> > ?-77.8448??? 0.1430
>> > ?-77.9752?? -0.0068
>> > ?-78.2026?? -0.3332
>> > ?-78.4367?? -0.6463
>> > ?-78.7342?? -0.9592
>> > ?-79.0453?? -1.3955
>> > ?-79.2994?? -1.6951
>> > ?-79.4901?? -1.9814
>> > ?-79.6407?? -2.2444
>> > ?-79.7878?? -2.4208
>> > ?-79.8400?? -2.5000
>> > ?-79.9182?? -2.5805
>> > ?-80.0386?? -2.7369
>> > ?-80.1589?? -2.8732
>> > ?-81.9900?? -4.8900
>> >> 2014 SE CAYMAN TROUGH TRANSFORM FAULT
>> > ?-78.4356?? 18.4315
>> > ?-78.3248?? 18.4569
>> > ?-78.1413?? 18.4710
>> > ?-78.0147?? 18.4664
>> > ?-77.9386?? 18.4565
>

From lester_anderson1963 at hotmail.com  Tue Aug 31 09:53:25 2010
From: lester_anderson1963 at hotmail.com (Lester Anderson)
Date: Tue, 31 Aug 2010 14:53:25 +0100
Subject: [Paraview] Getting plate boundary data into Paraview
In-Reply-To: <AANLkTinFdzrTnQ4oQAyxFnz1=TdUoBBYSDPcV_waedXw@mail.gmail.com>
References: <SNT108-W55CF01CE7667C3AAB5FBAA8A840@phx.gbl>
	<AANLkTiktnWuuhS9Lg6BZZWQeZbNokBfWc6ueezQRJUfi@mail.gmail.com>,
	<SNT108-W16925CE968867ABE8F340D8A8A0@phx.gbl>,
	<AANLkTinFdzrTnQ4oQAyxFnz1=TdUoBBYSDPcV_waedXw@mail.gmail.com>
Message-ID: <SNT108-W27B311B3E82A9906AA904B8A8A0@phx.gbl>


Cheers Dave that worked perfectly :)

Lester

> From: dave.demarle at kitware.com
> Date: Tue, 31 Aug 2010 09:13:18 -0400
> Subject: Re: [Paraview] Getting plate boundary data into Paraview
> To: lester_anderson1963 at hotmail.com
> CC: paraview at paraview.org
> 
> Change
> 
> pdo.SetStrips(cells)
> to
> pdo.SetLines(cells)
> 
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 28 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-371-3971 x109
> 
> 
> 
> On Tue, Aug 31, 2010 at 6:19 AM, Lester Anderson
> <lester_anderson1963 at hotmail.com> wrote:
> > Hi Dave
> >
> > Thanks for the info.
> >
> > I added a programmable source and it worked fine to import the data, but it
> > only gave me points and not joined to give line data?
> >
> > Cheers
> >
> > Lester
> >
> >> From: dave.demarle at kitware.com
> >> Date: Mon, 30 Aug 2010 18:55:45 -0400
> >> Subject: Re: [Paraview] Getting plate boundary data into Paraview
> >> To: lester_anderson1963 at hotmail.com
> >> CC: paraview at paraview.org
> >>
> >> Pop this into a python programmable source and it should import your data.
> >>
> >> import os
> >> import string
> >>
> >> def insertNextCell():
> >> nextpoly = vtk.vtkPolyLine()
> >> nextpoly.GetPointIds().DeepCopy(segments)
> >> cells.InsertNextCell(nextpoly)
> >>
> >> filename = os.path.normcase("/location/of/your/data.txt")
> >> f = open(filename)
> >>
> >> pdo = self.GetPolyDataOutput()
> >>
> >> pts = vtk.vtkPoints()
> >>
> >> #an array for the fault information
> >> segmentNames = vtk.vtkStringArray()
> >> segmentNames.SetName("Fault Information")
> >> segmentNames.SetNumberOfComponents(1)
> >>
> >> cells = vtk.vtkCellArray()
> >> segments = vtk.vtkIdList()
> >>
> >> #traverse file
> >> for line in f:
> >> if line.startswith(">"):
> >> #when you find a new fault
> >> #save the one you just finished
> >> if segments.GetNumberOfIds() != 0:
> >> insertNextCell()
> >> segments = vtk.vtkIdList()
> >> segmentNames.InsertNextValue(line)
> >> else:
> >> #otherwise just keep remembering coordinates
> >> x,y = [float(n) for n in line.strip().split()[:2]]
> >> id = pts.InsertNextPoint(x,y,0)
> >> segments.InsertNextId(id)
> >> f.close()
> >>
> >> if segments.GetNumberOfIds()>0:
> >> #don't forget the last fault in progress
> >> insertNextCell()
> >>
> >> pdo.SetPoints(pts)
> >> pdo.SetStrips(cells)
> >> pdo.GetCellData().AddArray(segmentNames)
> >>
> >>
> >> David E DeMarle
> >> Kitware, Inc.
> >> R&D Engineer
> >> 28 Corporate Drive
> >> Clifton Park, NY 12065-8662
> >> Phone: 518-371-3971 x109
> >>
> >>
> >>
> >> On Wed, Aug 25, 2010 at 5:02 AM, Lester Anderson
> >> <lester_anderson1963 at hotmail.com> wrote:
> >> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> >> >  -58.9415   10.5593
> >> >  -59.1817   10.5598
> >> >  -59.4918   10.5899
> >> >  -59.8086   10.6593
> >> >  -60.1954   10.7256
> >> >  -60.4489   10.7065
> >> >  -60.8159   10.6678
> >> >  -61.0594   10.6486
> >> >  -61.4631   10.6068
> >> >  -61.8535   10.5682
> >> >  -62.2972   10.5395
> >> >  -62.8876   10.4915
> >> >  -63.7494   10.4103
> >> >> 2014 BOCONO TRANSFORM FAULT, N. SOUTH AMERICA
> >> >  -77.5807    0.4294
> >> >  -77.8448    0.1430
> >> >  -77.9752   -0.0068
> >> >  -78.2026   -0.3332
> >> >  -78.4367   -0.6463
> >> >  -78.7342   -0.9592
> >> >  -79.0453   -1.3955
> >> >  -79.2994   -1.6951
> >> >  -79.4901   -1.9814
> >> >  -79.6407   -2.2444
> >> >  -79.7878   -2.4208
> >> >  -79.8400   -2.5000
> >> >  -79.9182   -2.5805
> >> >  -80.0386   -2.7369
> >> >  -80.1589   -2.8732
> >> >  -81.9900   -4.8900
> >> >> 2014 SE CAYMAN TROUGH TRANSFORM FAULT
> >> >  -78.4356   18.4315
> >> >  -78.3248   18.4569
> >> >  -78.1413   18.4710
> >> >  -78.0147   18.4664
> >> >  -77.9386   18.4565
> >
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/cff2e31f/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Tue Aug 31 10:10:32 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Tue, 31 Aug 2010 09:10:32 -0500
Subject: [Paraview] reading in serial then distributing to parallel
In-Reply-To: <C8A180FA.194FE%kmorel@sandia.gov>
References: <AANLkTikGuAPE43QS9cb9TK4BjXNiQ_urmE8DNmF9Rng9@mail.gmail.com>
	<C8A180FA.194FE%kmorel@sandia.gov>
Message-ID: <AANLkTi=Vgp5xWzn_FLOSMs_wM6-stvLL11CYXaAWpCH9@mail.gmail.com>

Ok - thanks.  Good to know I'm on the right track.

So to confirm:

- I have a GUI running and 2 pvserver processes running on a single workstation.
- I am able to connect to the servers
- I try to open the file as I would normally do on the GUI.
- I then run the D3 filter.

How is this approach going to prevent the pvserver processes from
getting involved in the reading?

For reference my data is XDMF Polyvertex (i.e. unstructured) grid.

Dan

On Mon, Aug 30, 2010 at 4:38 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> I think you?ve answered your own question. ?Read the data into ParaView.
> ?Run the D3 filter on it. ?The output of the D3 filter will be distributed
> amongst the processes.
>
> -Ken
>
>
> On 8/30/10 3:23 PM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:
>
> I am trying to start using Paraview in parallel for the first time and
> have run into some trouble reading my data in when running in
> parallel.
>
> I am using XDMF and have unstructured data, which I have gathered from
> the mailing list (thanks!) cannot be read in parallel without
> restructuring the XML to use hyperslabs.
>
> In scanning a set of slides from an online tutorial I saw the
> following method suggested if you have a reader that isn't parallel:
>
> ? Only one node reads
> ? Whole data set must fit in one process? memory
> ? If you must, the D3 filter in Paraview will partition and
> distribute
>
> How would I go about getting the data read in by just one process and
> then distributing it to other processors after read is complete?
>
> Sorry if this question is a bit off the wall but I'm open to suggestions.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
> ???**** ?????Kenneth Moreland
> ????*** ?????Sandia National Laboratories
> ***********
> *** *** *** ?email: kmorel at sandia.gov
> ** ?*** ?** ?phone: (505) 844-8919
> ????*** ?????web: ??http://www.cs.unm.edu/~kmorel
>
>

From utkarsh.ayachit at kitware.com  Tue Aug 31 10:16:17 2010
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 31 Aug 2010 10:16:17 -0400
Subject: [Paraview] Error when running script to animate a transform
In-Reply-To: <AANLkTim7y+8nm7AfChN16tP8cg40w1jTcAzKcOyKfbpq@mail.gmail.com>
References: <AANLkTim7y+8nm7AfChN16tP8cg40w1jTcAzKcOyKfbpq@mail.gmail.com>
Message-ID: <AANLkTinAtN7X2h7U_re1ihDZcNn6dLEsq=QT0xJdHP1N@mail.gmail.com>

What version of ParaView are you using?
With 3.8.1 or git-master, you can use the following to create/obtain
the animation cue:

cue = GetAnimationTrack("Scale", 2, t.Transform)

Utkarsh

On Mon, Aug 30, 2010 at 8:19 PM, Madhura Phadke <madhura.np at gmail.com> wrote:
> I am writing a script that applies a transform over the active object and
> animates its translation over time.
> A snippet of the relevant lines [the python script is
> at?http://www.wikiupload.com/NEU3a9P3?->Download button.? ?] :
> -------------------------------------
> t=Transform()
> scene = servermanager.animation.AnimationScene()
> scene.ViewModules = [GetActiveView()]
> cue = servermanager.animation.KeyFrameAnimationCue()
> cue.AnimatedProxy = t.Transform
> cue.AnimatedPropertyName = "Scale"
> cue.AnimatedElement=2
> scene.Cues = [cue]
> .
> .
> .
> cue.KeyFrames = [keyf0, keyf1]
>
> scene.Play()
> --------------------------------------
> When I use "Scale" for?AnimatedPropertyName
> the script works fine. However, I get an error "ERROR: In
> ..\..\..\src\Servers\ServerManager\vtkSMRampKeyFrameProxy.cxx, line
> 52?vtkSMRampKeyFrameProxy (0C1076F0): Cue does not have domain or property
> set!"?on using "Translate" or "Rotate".
> I don't know what I'm setting wrong. In case anyone has got this working,
> please let me know.
> Thanks,
> --Madhura
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From paul.m.edwards at gmail.com  Tue Aug 31 10:42:55 2010
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Tue, 31 Aug 2010 15:42:55 +0100
Subject: [Paraview] Advice on graphics cards
Message-ID: <AANLkTimE6Anesnk_sE_0Z+3v0XVuvoPpwyH90Wc2wkHL@mail.gmail.com>

Hi,

Can anyone recommend a graphics cards to use for a linux cluster running
ParaView?  And, does anyone know how a GeForce card compares to a Quadro of
a similar spec?

Thanks in advance,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/40e2b746/attachment.htm>

From pat.marion at kitware.com  Tue Aug 31 10:25:15 2010
From: pat.marion at kitware.com (pat marion)
Date: Tue, 31 Aug 2010 10:25:15 -0400
Subject: [Paraview] some tables cannot be located using paraview.simple
 python api
In-Reply-To: <AANLkTimUTWMUrvOwtdMGT+f8BLsiYMiKKbmOwFRzOQEg@mail.gmail.com>
References: <AANLkTinY6WcZ80e_xxTOAyOE5iuYeenWPnbSNNNMnFF6@mail.gmail.com>
	<AANLkTinHAA9Uuxu8XXFwL4b9L8bEd=5BHEhXKSd6M64x@mail.gmail.com>
	<AANLkTimUTWMUrvOwtdMGT+f8BLsiYMiKKbmOwFRzOQEg@mail.gmail.com>
Message-ID: <AANLkTimA4rD9dDBdTBzWr+dhw+hK5-jzX8gA-hrWVTsi@mail.gmail.com>

Laurent sent me the data off list.  I took a look at it and determined the
problem is something that has already been corrected since the 3.8 release.
Here is the problem and how to fix it for those users with v3.8:

clip = Clip(...)
...code constructs representations and sets display properties...
clip.ClipType.Origin = [...]
clip.ClipType.Normal = [...]

What is happening is the clip filter is constructed, some properties are set
in the constructor, but the properties defining the clip plane are not set
until the end of the python script.  It is fixed by just moving the code to
just after the constructor:

clip = Clip(...)
clip.ClipType.Origin = [...]
clip.ClipType.Normal = [...]
...code constructs representations and sets display properties...

This issue will occur for the clip, cut, glyph, and possibly other filters.
It was fixed on April 30 with git commit d9119f6be4b10 and exists in the
release branch as well.

Pat


On Tue, Aug 31, 2010 at 3:18 AM, Laurent Vanboquestal <
laurent.vanboquestal at gmail.com> wrote:

> Hello Pat,
>
> It has been generated using the "trace state button" .... The generated
> code is huge (about 900 lines of python code),
>
> Regards,
>
> Laurent
>
>
> On Mon, Aug 30, 2010 at 5:59 PM, pat marion <pat.marion at kitware.com>wrote:
>
>> How are you generating the python trace?  Is it recorded using the
>> start/stop trace buttons, or using the trace state button?  Is it possible
>> to attach the python trace script and/or the dataset?
>>
>> Pat
>>
>> On Mon, Aug 30, 2010 at 10:28 AM, Laurent Vanboquestal <
>> laurent.vanboquestal at gmail.com> wrote:
>>
>>>  Hi all,
>>>
>>> I got some problems with the generated python code using paraview 3.8
>>> (Python Trace State).
>>>
>>> Using paraview GUI, I can load my pvsm file and when selecting "Glyph2"
>>> in the pipeline browser, I
>>> can set values like 'Solid Color', 'cellNormal', 'Velocity_Bis', ...
>>>
>>> However, when executing the generated code using pvpython, I got this
>>> error:
>>>
>>> vtkPVDReader : [ ...........]
>>> vtkPVArrayCalculator : [ ...........]
>>> vtkPVArrayCalculator : [ ...........]
>>> vtkWarpVector : [ ...........]
>>> vtkPVClipDataSet : [ ...........]
>>> vtkPVArrowSource : [ ...........]
>>> vtkPVGlyphFilter : [ ...........]
>>> Traceback (most recent call last):
>>>   File "p5.py", line 365, in <module>
>>>     DataRepresentation13.ColorArrayName = 'Velocity_bis'
>>>   File
>>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>>> line 204, in __setattr__
>>>   File
>>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>>> line 2361, in setProperty
>>>   File
>>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>>> line 253, in SetPropertyWithName
>>>   File
>>> "/home/kitware/Dashboard/MyTests/ParaView-3-8/ParaView-3.8/ParaViewBin/Utilities/VTKPythonWrapping/paraview/servermanager.py",
>>> line 681, in SetData
>>> ValueError: Could not locate array Velocity_bis in the input.
>>>
>>> Any idea? Or advice to tackle this issue?
>>>
>>> Best Regards,
>>>
>>> Laurent
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/ee2a29bf/attachment-0001.htm>

From kmorel at sandia.gov  Tue Aug 31 10:55:43 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 31 Aug 2010 08:55:43 -0600
Subject: [Paraview] reading in serial then distributing to parallel
In-Reply-To: <AANLkTi=Vgp5xWzn_FLOSMs_wM6-stvLL11CYXaAWpCH9@mail.gmail.com>
Message-ID: <C8A2740F.19556%kmorel@sandia.gov>

This will not prevent pvserver from getting involved in the reading.  pvserver always reads in the data.  That's just the way ParaView works.

If the reader is smart (and I believe the XDMF reader is), then it will read the partition on process 0 of pvserver, and process 1 will simply generate an empty data set.

BTW, a two process pvserver is not very big.  Going parallel involves overhead with data management and communication.  Thus for some operations you are not going to see a 2X speed improvement.

-Ken


On 8/31/10 8:10 AM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:

Ok - thanks.  Good to know I'm on the right track.

So to confirm:

- I have a GUI running and 2 pvserver processes running on a single workstation.
- I am able to connect to the servers
- I try to open the file as I would normally do on the GUI.
- I then run the D3 filter.

How is this approach going to prevent the pvserver processes from
getting involved in the reading?

For reference my data is XDMF Polyvertex (i.e. unstructured) grid.

Dan

On Mon, Aug 30, 2010 at 4:38 PM, Moreland, Kenneth <kmorel at sandia.gov> wrote:
> I think you've answered your own question.  Read the data into ParaView.
>  Run the D3 filter on it.  The output of the D3 filter will be distributed
> amongst the processes.
>
> -Ken
>
>
> On 8/30/10 3:23 PM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:
>
> I am trying to start using Paraview in parallel for the first time and
> have run into some trouble reading my data in when running in
> parallel.
>
> I am using XDMF and have unstructured data, which I have gathered from
> the mailing list (thanks!) cannot be read in parallel without
> restructuring the XML to use hyperslabs.
>
> In scanning a set of slides from an online tutorial I saw the
> following method suggested if you have a reader that isn't parallel:
>
> * Only one node reads
> * Whole data set must fit in one process' memory
> * If you must, the D3 filter in Paraview will partition and
> distribute
>
> How would I go about getting the data read in by just one process and
> then distributing it to other processors after read is complete?
>
> Sorry if this question is a bit off the wall but I'm open to suggestions.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>
>    ****      Kenneth Moreland
>     ***      Sandia National Laboratories
> ***********
> *** *** ***  email: kmorel at sandia.gov
> **  ***  **  phone: (505) 844-8919
>     ***      web:   http://www.cs.unm.edu/~kmorel
>
>




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/1df79acf/attachment.htm>

From kmorel at sandia.gov  Tue Aug 31 11:29:27 2010
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 31 Aug 2010 09:29:27 -0600
Subject: [Paraview] Reader methods question
In-Reply-To: <4C7CB0EC.9050103@ec-nantes.fr>
Message-ID: <C8A27BF7.1955E%kmorel@sandia.gov>

FillOutputPortInformation:

This adds one or more data types to an info object to announce what type of data this reader/filter will generate.  I always felt this was of limited use as the data type very often changes depending on the input, and I'm pretty sure ParaView ignores it altogether.  At any rate, just subclass from something like vtkDataObjectAlgorithm that provides an implementation for you.


RequestDataObject:

This method is called to create the data object that is placed in the output of the filter.  The method should check to see if the current output exists and is of the correct type.  If not, it should allocate a new object and connect it to the output.  Your implementation should look something like this.

int vtkMyReader::RequestDataObject(vtkInformation *,
                                   vtkInformationVector **,
                                   vtkInformationVector **otuputVector)
{
  // Figure out what the output type should be.

  vtkInformation *outInfo = outputVector->GetInformationObject(0);
  vtkDataObject *output = vtkDataObject::GetData(outInfo);

  if (/*output type is vtkStructuredGrid*/)
    {
    if (!output || !output->IsA("vtkStructuredGrid"))
      {
      output = vtkStructuredGrid::New();
      output->SetPipelineInformation(outInfo);
      output->Delete();   // Not really deleted.
      }
    }
  else if (/*output type is vtkUnstructuredGrid*/)
    {
    if (!output || !output->IsA("vtkUnstructuredGrid"))
      {
      output = vtkUnstructuredGrid::New();
      output->SetPipelineInformation(outInfo);
      output->Delete();   // Not really deleted.
      }
    }
  else
    {
    vtkErrorMacro("Internal error: bad input type?");
    return 0;
    }

  return 1;
}


RequestInformation:

Fill output information objects with meta information about the data.  If loading structured data, then set vtkStreamingDemandDrivenPipeline::WHOLE_EXTENT().  If unstructured data, then set vtkStreamingDemandDrivenPipeline::MAXIMUM_NUMBER_OF_PIECES() (set to -1 if you can load any number of pieces).

If your reader supports time data, then you should also set vtkStreamingDemandDrivenPipeline::TIME_STEPS() and vtkStreamingDemandDrivenPipeline::TIME_RANGE().


RequestUpdateExtent:

The update extent pass moves up the pipeline.  It gives filters a chance to adjust the extent requested (for example, by adding a ghost level).  Since your reader is at the top of the pipeline, you can ignore this.  You don't need to provide an implementation.


RequestData:

Basically what you said.  Load the data and put it into the output object (that was previously created with vtkRequestDataObject).  Pay attention to the values of the vtkStreamingDemandDrivenPipeline::UPDATE_* keys in the output information object.

-Ken


On 8/31/10 1:36 AM, "Felipe Bordeu" <felipe.bordeu at ec-nantes.fr> wrote:

Hello,

I am a little confuse about all the methods in a reader (filter).
I writing a new reader (I already read all the wiki pages) that can
generate Un/Structured grids depending on the file.

But I am not sure about what to put in each method.

ProcessRequest(...
RequestDataObject(...
RequestData(...
RequestUpdateExtent(...
RequestInformation(...
FillOutputPortInformation(..

I know RequesInformation(.. is for the type of output and the extend(in
the case is structured).
and I Know RequestData(... if for the generated data.

Thanks for the help.

--

Felipe

_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




   ****      Kenneth Moreland
    ***      Sandia National Laboratories
***********
*** *** ***  email: kmorel at sandia.gov
**  ***  **  phone: (505) 844-8919
    ***      web:   http://www.cs.unm.edu/~kmorel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/f9e362aa/attachment.htm>

From dan.lussier at sjc.ox.ac.uk  Tue Aug 31 12:06:42 2010
From: dan.lussier at sjc.ox.ac.uk (Dan Lussier)
Date: Tue, 31 Aug 2010 11:06:42 -0500
Subject: [Paraview] reading in serial then distributing to parallel
In-Reply-To: <C8A2740F.19556%kmorel@sandia.gov>
References: <C8A2740F.19556%kmorel@sandia.gov>
Message-ID: <A15254FB-C238-437E-8BF9-D59E5F837BA9@sjc.ox.ac.uk>

Ok - that clears it up. I will give that a try.

I understand what you're saying wrt the small size of my parallel PV  
setup. I am on a single workstation trying to use the fact I have many  
cores to speed things up a bit.  It was suggested in a previous  
question to the (from burlen.loring at gmail.com on Aug 16,  [Paraview]  
running in parallel on OS X) list that I'd want to stick with just 2  
or 4 CPUs to minimize contention for disk and GPU rendering time.

Thanks again.

Dan

On 31-Aug-10, at 9:55 AM, Moreland, Kenneth wrote:

> This will not prevent pvserver from getting involved in the  
> reading.  pvserver always reads in the data.  That?s just the way  
> ParaView works.
>
> If the reader is smart (and I believe the XDMF reader is), then it  
> will read the partition on process 0 of pvserver, and process 1 will  
> simply generate an empty data set.
>
> BTW, a two process pvserver is not very big.  Going parallel  
> involves overhead with data management and communication.  Thus for  
> some operations you are not going to see a 2X speed improvement.
>
> -Ken
>
>
> On 8/31/10 8:10 AM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:
>
> Ok - thanks.  Good to know I'm on the right track.
>
> So to confirm:
>
> - I have a GUI running and 2 pvserver processes running on a single  
> workstation.
> - I am able to connect to the servers
> - I try to open the file as I would normally do on the GUI.
> - I then run the D3 filter.
>
> How is this approach going to prevent the pvserver processes from
> getting involved in the reading?
>
> For reference my data is XDMF Polyvertex (i.e. unstructured) grid.
>
> Dan
>
> On Mon, Aug 30, 2010 at 4:38 PM, Moreland, Kenneth  
> <kmorel at sandia.gov> wrote:
> > I think you?ve answered your own question.  Read the data into  
> ParaView.
> >  Run the D3 filter on it.  The output of the D3 filter will be  
> distributed
> > amongst the processes.
> >
> > -Ken
> >
> >
> > On 8/30/10 3:23 PM, "Dan Lussier" <dan.lussier at sjc.ox.ac.uk> wrote:
> >
> > I am trying to start using Paraview in parallel for the first time  
> and
> > have run into some trouble reading my data in when running in
> > parallel.
> >
> > I am using XDMF and have unstructured data, which I have gathered  
> from
> > the mailing list (thanks!) cannot be read in parallel without
> > restructuring the XML to use hyperslabs.
> >
> > In scanning a set of slides from an online tutorial I saw the
> > following method suggested if you have a reader that isn't parallel:
> >
> > ? Only one node reads
> > ? Whole data set must fit in one process? memory
> > ? If you must, the D3 filter in Paraview will partition and
> > distribute
> >
> > How would I go about getting the data read in by just one process  
> and
> > then distributing it to other processors after read is complete?
> >
> > Sorry if this question is a bit off the wall but I'm open to  
> suggestions.
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> >
> >
> >
> >    ****      Kenneth Moreland
> >     ***      Sandia National Laboratories
> > ***********
> > *** *** ***  email: kmorel at sandia.gov
> > **  ***  **  phone: (505) 844-8919
> >     ***      web:   http://www.cs.unm.edu/~kmorel
> >
> >
>
>
>
>
>    ****      Kenneth Moreland
>     ***      Sandia National Laboratories
> ***********
> *** *** ***  email: kmorel at sandia.gov
> **  ***  **  phone: (505) 844-8919
>     ***      web:   http://www.cs.unm.edu/~kmorel
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/d7c14403/attachment.htm>

From martin.vymazal at vki.ac.be  Tue Aug 31 14:17:52 2010
From: martin.vymazal at vki.ac.be (Martin Vymazal)
Date: Tue, 31 Aug 2010 20:17:52 +0200
Subject: [Paraview] Computing a normal derivative of velocity
Message-ID: <20100831201752.103637k5vlgedqvk@horde.vki.ac.be>

Dear ParaView users and developers,

  I have an output file of a Finite Element code, which contains a  
fluid velocity vector field. I would like to plot the values of dv/dn  
on the walls of my domain. My idea was this: plot a gradient of  
velocity magnitude, generate surface normals and then compute the  
scalar product (grad(v),n). Unfortunately, I have several problems:  
when I plot the gradient of velocity  
(Filters->GradientOfUnstructuredDataSet), I have a scalar field of  
gradient magnitude (I guess), but no vector field, even though  
mathematically speaking, grad(scalar) results in a vector. Could you  
tell me how to generate a vector field where the vector components are  
(grad(v)_x,grad(v)_y,grad(v)_z) ?

Second, I don't understand why Filters->Generate Surface Normals is  
disabled when I load my data file (in Ensight format). The only way of  
plotting some normals is using 'glyphs', but these glyphs are then not  
available in the 'Calculator' filter which I wanted to use to compute  
the final scalar product (grad(v),n). One strange thing I also noticed  
is that the glyphs are not plotted on a part of the domain boundary  
(which is smooth).

Could you please give me a hint how to obtain the plot of dv/dn ?

Thank you.

  Martin Vymazal

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From paul.mcintosh at internetscooter.com  Tue Aug 31 18:46:11 2010
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Wed, 1 Sep 2010 08:46:11 +1000
Subject: [Paraview] Advice on graphics cards
In-Reply-To: <AANLkTimE6Anesnk_sE_0Z+3v0XVuvoPpwyH90Wc2wkHL@mail.gmail.com>
References: <AANLkTimE6Anesnk_sE_0Z+3v0XVuvoPpwyH90Wc2wkHL@mail.gmail.com>
Message-ID: <C1EC7BDCDE874077B28E1665508AE7A3@notebook>

Hi Paul,
 
I think you are stuck with eitther a Tesla or Quadro on a cluster. This is
due to the ability to configure those cards to work without a display (see
the release notes for the latest drivers though).
 
I'd be interested to hear otherwise as we have a few GTX280 nodes that are
currently just used for CUDA. Maybe there is a way to "spoof" a monitor
another way?
 
Cheers,
 
Paul
 

  _____  

From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
On Behalf Of Paul Edwards
Sent: Wednesday, 1 September 2010 12:43 AM
To: paraview
Subject: [Paraview] Advice on graphics cards


Hi, 

Can anyone recommend a graphics cards to use for a linux cluster running
ParaView?  And, does anyone know how a GeForce card compares to a Quadro of
a similar spec?

Thanks in advance,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100901/926545f2/attachment.htm>

From fordffx at hotmail.com  Tue Aug 31 21:32:20 2010
From: fordffx at hotmail.com (fordffx)
Date: Wed, 1 Sep 2010 09:32:20 +0800
Subject: [Paraview] how can I get this pipeline?
Message-ID: <BLU0-SMTP10786E01421856B3AB1AA93A88B0@phx.gbl>

Can any one tell me how to visualize this: I've got a 3Dmax file called house.3ds ,i want to kown if I put a radio source in front of the house, how can I draw the radio wave at the back of the house by paraview? How can I design the pipeline?

2010-09-01 



fordffx 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100901/5ccfb9bd/attachment.htm>

From kaben.nanlohy at gmail.com  Tue Aug 31 22:07:53 2010
From: kaben.nanlohy at gmail.com (Kaben Nanlohy)
Date: Tue, 31 Aug 2010 22:07:53 -0400
Subject: [Paraview] ImportError: libvtkCommonPythonD.so.pv3.4: cannot open
	shared
Message-ID: <AANLkTiki16ZfkwxFOFiy9Bj_eadD2f-hTkubc2znQ_w9@mail.gmail.com>

I think this problem has been seen before on this list, but maybe not
in enough detail to solve. Here are more details.

On Ubuntu 10.04 64-bit server with paraview and all the associated
python/vtk stuff installed, when I type:
>>> import sys
>>> sys.path.append('/usr/lib/paraview')
>>> sys.path.append('/usr/lib/pymodules/python2.6/vtk/')
>>> import paraview.servermanager

I get: ImportError: libvtkCommonPythonD.so.pv3.4: cannot open shared
object file: No such file or directory

But if I do a stupid import in a specific order, I get a complaint,
and then success:
>>> import sys
>>> sys.path.append('/usr/lib/paraview')
>>> sys.path.append('/usr/lib/pymodules/python2.6/vtk/')
>>> import libvtkPVServerCommonPythonD
ImportError: dynamic module does not define init function
(initlibvtkPVServerCommonPythonD)
>>> import paraview.servermanager
>>>

This points to some inter-library dependencies and load-orders. Hope this helps.

From dave.partyka at kitware.com  Tue Aug 31 23:07:52 2010
From: dave.partyka at kitware.com (Dave Partyka)
Date: Tue, 31 Aug 2010 23:07:52 -0400
Subject: [Paraview] ImportError: libvtkCommonPythonD.so.pv3.4: cannot
	open shared
In-Reply-To: <AANLkTiki16ZfkwxFOFiy9Bj_eadD2f-hTkubc2znQ_w9@mail.gmail.com>
References: <AANLkTiki16ZfkwxFOFiy9Bj_eadD2f-hTkubc2znQ_w9@mail.gmail.com>
Message-ID: <AANLkTimCG7+v-xZBxa6hfSFM-BF21V_S9RqxoqG=ywZf@mail.gmail.com>

If you do import sys
sys.path

Does that print the directory where libvtkCommonPythonD is located?

On Tue, Aug 31, 2010 at 10:07 PM, Kaben Nanlohy <kaben.nanlohy at gmail.com>wrote:

> I think this problem has been seen before on this list, but maybe not
> in enough detail to solve. Here are more details.
>
> On Ubuntu 10.04 64-bit server with paraview and all the associated
> python/vtk stuff installed, when I type:
> >>> import sys
> >>> sys.path.append('/usr/lib/paraview')
> >>> sys.path.append('/usr/lib/pymodules/python2.6/vtk/')
> >>> import paraview.servermanager
>
> I get: ImportError: libvtkCommonPythonD.so.pv3.4: cannot open shared
> object file: No such file or directory
>
> But if I do a stupid import in a specific order, I get a complaint,
> and then success:
> >>> import sys
> >>> sys.path.append('/usr/lib/paraview')
> >>> sys.path.append('/usr/lib/pymodules/python2.6/vtk/')
> >>> import libvtkPVServerCommonPythonD
> ImportError: dynamic module does not define init function
> (initlibvtkPVServerCommonPythonD)
> >>> import paraview.servermanager
> >>>
>
> This points to some inter-library dependencies and load-orders. Hope this
> helps.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20100831/f6b10973/attachment-0001.htm>

