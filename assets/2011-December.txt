From paul.m.edwards at gmail.com  Thu Dec  1 00:41:31 2011
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Thu, 1 Dec 2011 05:41:31 +0000
Subject: [Paraview] 3d movies
Message-ID: <CABWOrb80=+Tg8PooeXg5uvqQH97uqfiFVsJBoLjtHF_wn_6CHw@mail.gmail.com>

Hi,

Has anyone tried creating any movies for a 3d tv with paraview? Or, is it
even possible? Any advice would be appreciated.

Thanks in advance,
Paul
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111201/ae9c58ec/attachment.htm>

From paul.melis at sara.nl  Thu Dec  1 00:28:59 2011
From: paul.melis at sara.nl (Paul Melis)
Date: Thu, 01 Dec 2011 06:28:59 +0100
Subject: [Paraview] Errors with GPU-based volume rendering
In-Reply-To: <72AC433C272348D4A3A04F5B2D64E122@notebook>
References: <4ECB66A3.3070100@sara.nl> <4ECDFDFD.9070402@sara.nl>
	<CANjZAi__n2VRnLGUVzU3akLEXpP8HroVUDTmkyHs7YQEYnAuDg@mail.gmail.com>
	<72AC433C272348D4A3A04F5B2D64E122@notebook>
Message-ID: <4ED7109B.6040100@sara.nl>

Hi Paul,

That workaround indeed does the trick for me as well...

Thanks!
Paul

On 12/01/11 00:15, Paul McIntosh wrote:
> Paul,
>
> I see this issue and have yet to try and debug what is going on. However I
> have a workaround -  try saving state even though you see a "pink blob" then
> reload the state. I find it works every time - obviously I wish this not to
> happen at all so I'll provide a test case as soon as I can.
>
> Below is some of the error messages I see just FYI
>
> Cheers,
>
> Paul
>
> after uniforms for textures ERROR (x501) Invalid value
> framebuffer has an attachment error
> framebuffer has an attachment error
> SetupRender ERROR (x506) invalid framebuffer operation ext
> framebuffer has an attachment error
> framebuffer has an attachment error
> after uniforms for textures ERROR (x501) Invalid value
> framebuffer has an attachment error
> framebuffer has an attachment error
> SetupRender ERROR (x506) invalid framebuffer operation ext
> framebuffer has an attachment error
> framebuffer has an attachment error
> after uniforms for textures ERROR (x501) Invalid value
> framebuffer has an attachment error
> framebuffer has an attachment error
> SetupRender ERROR (x506) invalid framebuffer operation ext
> framebuffer has an attachment error
> framebuffer has an attachment error
> after uniforms for textures ERROR (x501) Invalid value
> framebuffer has an attachment error
> framebuffer has an attachment error
> SetupRender ERROR (x506) invalid framebuffer operation ext
> framebuffer has an attachment error
> framebuffer has an attachment error
> after uniforms for textures ERROR (x501) Invalid value
> framebuffer has an attachment error
> framebuffer has an attachment error
>
>
>
> -----Original Message-----
> From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
> On Behalf Of David E DeMarle
> Sent: Thursday, 1 December 2011 1:47 AM
> To: paul.melis at sara.nl
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] Errors with GPU-based volume rendering
>
> Sounds like a bug then if 3.8 works and>3.8 doesn't on the same setup. It
> suspect it is in the new rendering architecture that was introduced with
> 3.10.
>
> Please file a bug report with enough information to reproduce the problem so
> that we can keep an eye on it.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 21 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-881-4909
>
>
>
> On Thu, Nov 24, 2011 at 3:19 AM, Paul Melis<paul.melis at sara.nl>  wrote:
>> On 11/22/2011 10:08 AM, Paul Melis wrote:
>>> Is this a problem with my local setup? If so, are there tests I can
>>> do to figure out what's wrong?
>> I did some more testing and it is not a problem with my local setup,
>> as I can get correct GPU-based volume rendering with PV 3.12.0 in the
>> following two situations:
>>
>> * Running PV standalone on a render node under VirtualGL, accessed
>> through VNC
>> * Running 1 pvserver on a render node with forced remote rendering
>> (remote rendering threshold enabled and set to 0)
>>
>> However, when I try to use 2 or 4 pvservers (one per render node) I
>> get the purple-square-screwed-up rendering, both with 3.10.1 and 3.12.0.
>>
>> Surprisingly, with 3.8.1 when using 2 or 4 pvservers the GPU-based
>> rendering works...
>>
>> Regards,
>> Paul
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>


From jerome.velut at kitware.com  Thu Dec  1 05:52:14 2011
From: jerome.velut at kitware.com (Jerome Velut)
Date: Thu, 01 Dec 2011 11:52:14 +0100
Subject: [Paraview] Creating a ribbon
In-Reply-To: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>
References: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>
Message-ID: <4ED75C5E.7070006@kitware.com>

Hi,

You can easily add the vtkRuledSurfaceFilter from VTK in ParaView. I 
already did it in my Peavip stuffs (http://github.com/jeromevelut/Peavip).
If your polylines are in different sources (eg. two different 
SplineSources), you'll have to pass them through "Append Geometry" prior 
he RuledSurfaceFilter

HTH
Jerome

On 11/29/2011 09:31 PM, Fred Fred wrote:
> Hello,
> I have 2 polylines and I would like to create a ribbon between them, 
> ie a triangulation. I did not find any suitable class but I wonder if 
> I did not miss anything, any help?
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


-- 
Kitware SAS
26 rue Louis Gu?rin
69100 Villeurbanne, France
F: +33 (0)4.37.45.04.15
http://www.kitware.fr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111201/e328f298/attachment.htm>

From jorge.pena.pastor at gmail.com  Thu Dec  1 07:42:07 2011
From: jorge.pena.pastor at gmail.com (=?ISO-8859-1?Q?Jorge_Gerardo_Pe=F1a_Pastor?=)
Date: Thu, 1 Dec 2011 13:42:07 +0100
Subject: [Paraview] Problem after updating from Paraview 3.8.1 to
	Paraview 3.12
In-Reply-To: <4ED69F03.3030506@lbl.gov>
References: <CAMrOPmzYyVdu8SHLBpwT0x50=3kv1=EsnWBH420y9ubZwuFOTw@mail.gmail.com>
	<4ED65B5D.6020506@lbl.gov>
	<50320452A334BD42A5EC72BAD2145099068CBD98@MBX10.d.ethz.ch>
	<4ED69F03.3030506@lbl.gov>
Message-ID: <CAMrOPmwU6AEOE3MHD5GkHZT6tCBwoQ3AC_rDHQWeNLZx8tZP+Q@mail.gmail.com>

Hi Burlen,

I'm aware of the fact that reducing the extent is easier than
expanding it (I'm lucky to be on the bright side).
I haven't checked that filter yet, but I think I've done the same
thing in of my tests. The problem still is that you change your extent
as a result of a known parameter before running the algorithm, which
is not my case.
So I think that the easiest solution will be the one I told you
before, instead of modifying the extent inside my algorithm do it in
two different filters...
We'll see how it works out...

Anyway I will check your filter just in case I can learn something new.

Thanks.

2011/11/30 Burlen Loring <bloring at lbl.gov>:
> Hi John,
>
> This filter doesn't make use of a custom panel. PV is pushing the modified
> values after the "apply". then RequestInformation is executed giving one a
> chance to change the WHOLE_EXTENT based on some user input. However, I
> recall being told that shrinking WHOLE_EXT is ok, but growing it may lead to
> throwing one self from tall buildings. Of course there may be complications
> that my use case doesn't hit.
>
> here is some annotated debug output from the filter that shows the order in
> which things are called in response to the UI changes:
>
> I create the filter:
> [0]
> ===============================vtkSQKernelConvolution::vtkSQKernelConvolution
> [0] ===============================vtkSQKernelConvolution::SetKernelType
> [0] ===============================vtkSQKernelConvolution::SetKernelWidth
> [0] ===============================vtkSQKernelConvolution::RequestDataObject
> [0]
> ===============================vtkSQKernelConvolution::RequestInformation
> [0] WHOLE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> WHOLE_EXTENT(output)=(1, 10238, 0, 0, 1, 2558)
> ORIGIN=(0, 0, 0)
> SPACING=(1, 1, 1)
> nGhost=1
> [0] ===============================vtkSQKernelConvolution::RequestDataObject
> [0]
> ===============================vtkSQKernelConvolution::RequestInformation
> [0] WHOLE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> WHOLE_EXTENT(output)=(1, 10238, 0, 0, 1, 2558)
> ORIGIN=(0, 0, 0)
> SPACING=(1, 1, 1)
> nGhost=1
>
> Changed the kernel width from 3 to 5
> Hit "apply" in the GUI
> [0] ===============================vtkSQKernelConvolution::SetKernelWidth
> [0] ===============================vtkSQKernelConvolution::RequestDataObject
> [0]
> ===============================vtkSQKernelConvolution::RequestInformation
> [0] WHOLE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> WHOLE_EXTENT(output)=(2, 10237, 0, 0, 2, 2557)
> ORIGIN=(0, 0, 0)
> SPACING=(1, 1, 1)
> nGhost=2
> [0]
> ===============================vtkSQKernelConvolution::RequestUpdateExtent
> [0] WHOLE_EXTENT=(0, 10239, 0, 0, 0, 2559)
> UPDATE_EXTENT=(0, 10239, 0, 0, 0, 2559)
> nGhosts=2
> [0] ===============================vtkSQKernelConvolution::RequestData
> [0] WHOLE_EXTENT=(2, 10237, 0, 0, 2, 2557)
> UPDATE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> UPDATE_EXTENT(output)=(2, 10237, 0, 0, 2, 2557)
> ORIGIN(0, 0, 0)
> SPACING(1, 1, 1)
>
>
> Changed the kernel width from 5 back to 3
> Hit "apply" in the GUI
> [0] ===============================vtkSQKernelConvolution::SetKernelWidth
> [0] ===============================vtkSQKernelConvolution::RequestDataObject
> [0]
> ===============================vtkSQKernelConvolution::RequestInformation
> [0] WHOLE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> WHOLE_EXTENT(output)=(1, 10238, 0, 0, 1, 2558)
> ORIGIN=(0, 0, 0)
> SPACING=(1, 1, 1)
> nGhost=1
> [0]
> ===============================vtkSQKernelConvolution::RequestUpdateExtent
> [0] WHOLE_EXTENT=(0, 10239, 0, 0, 0, 2559)
> UPDATE_EXTENT=(0, 10239, 0, 0, 0, 2559)
> nGhosts=1
> [0] ===============================vtkSQKernelConvolution::RequestData
> [0] WHOLE_EXTENT=(1, 10238, 0, 0, 1, 2558)
> UPDATE_EXTENT(input)=(0, 10239, 0, 0, 0, 2559)
> UPDATE_EXTENT(output)=(1, 10238, 0, 0, 1, 2558)
> ORIGIN(0, 0, 0)
> SPACING(1, 1, 1)
>
>
> On 11/30/2011 12:19 PM, Biddiscombe, John A. wrote:
>
> Burlen,
>
> Nice explanation. I didn't look at the plugin code, but is it safe to assume
> (and the OP might not pick up on this) that in order to trigger an
> UpdateInformation after changing parameters, you have to have a custom panel
> - and do a proxy->UpdateInformation in there? (i.e. before the view does an
> update later and messes up the extents if the extra information update
> hasn't occurred)
>
> JB
>
> -----Original Message-----
> From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org]
> On Behalf Of Burlen Loring
> Sent: 30 November 2011 17:36
> To: Jorge Gerardo Pe?a Pastor
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] Problem after updating from Paraview 3.8.1 to
> Paraview 3.12
>
> Hi Jorge,
>
> You may want to take a look at vtkSQKernelConvolution filter in
> Plugins/SQToolKit of 3.12 sources. This is an example of an extent based
> filter that produces smaller WHOLE_EXTENT on its output based on user
> selection in the PV GUI. This filter is working fine in 3.12.
>
> What's going on in this filter:
>
> The user selects a kernel size in the GUI. The filter needs
> kernelWidth/2 ghost cells to make its computations. On the interior of the
> WHOLE_EXTENT we can generate ghost cells using communication.
> However we don't have ghost cells outside of the WHOLE_EXTENT. In order to
> overcome we shrink the WHOLE_EXTENT in the output of the
> vtkSQKernelConvolution filter using the original cells that are outside this
> smaller extent on the input as ghost data.
>
> Any Modification to the kerneWidth in the GUI forces vtkSQKernelConvolution
> RequestInformation to run where we shrink WHOLE_EXTENT on the output info by
> the number of ghost cells we need.
>
> vtkSQKernelConvolution RequestUpdateExtent runs next, where we grow the
> UPDATE_EXTENT going upstream to include the number of ghost cells we need.
> Upstream vtkSQImageGhosts RequestUpdateExtent will intercept and short
> circuit the larger update extent from traveling any further upstream. in
> vtkSQImageGhosts RequestData the necessary communication to generate the
> ghost cells are made. The short circuit by the vtkSQImageGhosts
> ReqquestUpdateExtent is important! if not then the new modified update
> extents continue up stream forcing the re-execution of the entire pipeline,
> including the reader which is expensive.
>
> In vtkSQKernelConvolution RequestData, the input with ghost data is used to
> compute the convolution producing an image with smaller WHOLE_EXTENT.
> In terms of the keys etc nothing is special about our RequestData.
>
> Hope this helps
> Burlen
>
> On 11/15/2011 07:33 AM, Jorge Gerardo Pe?a Pastor wrote:
>
> Hello,
>
> I've managed to run a Paraview based application created with Paraview
> 3.8.1 using Paraview 3.12, but one of my filters is reporting an error
> it didn't before.
>
> My vtkAlgorithm is a sub-class of vtkImageAlgorithm, which as a result
> of processing the input data generates a new vtkImageData which is
> smaller than the original one.
> Before, I managed to use that filter in my application, but now I get
> the following error:
> ERROR:
> src/ParaView-3.12.0/VTK/Filtering/vtkStreamingDemandDrivenPipeline.cxx
> ,
> line 1009
> vtkPVCompositeDataPipeline (0x4c3dca0): The update extent specified in
> the information for output port 0 on algorithm
> vtkConnectedThresholdImageFilter(0x4c3c8d0) is 0 698 0 535 0 114,
> which is outside the whole extent 408 421 86 106 0 1.
>
> Inside my RequestData I've tried changing all possible combinations of
> whole extent, update extent and extent for both output and
> outputInformation without success.
>
> I've found several threads talking about changing
> StreamDrivenPipeline::WHOLE_EXTENT inside RequestUpdateExtent, but in
> order to change the value there I need to execute before at least one
> time my algorithm because the extent depends on the result of the
> algorithm.
>
> Could someone point me in the right direction to make this work with
> Paraview 3.12?
>
> Thank you for your help.
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>

From biddisco at cscs.ch  Thu Dec  1 09:11:04 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Thu, 1 Dec 2011 14:11:04 +0000
Subject: [Paraview] Problem after updating from Paraview 3.8.1 to
 Paraview 3.12
In-Reply-To: <CAMrOPmwU6AEOE3MHD5GkHZT6tCBwoQ3AC_rDHQWeNLZx8tZP+Q@mail.gmail.com>
References: <CAMrOPmzYyVdu8SHLBpwT0x50=3kv1=EsnWBH420y9ubZwuFOTw@mail.gmail.com>
	<4ED65B5D.6020506@lbl.gov>
	<50320452A334BD42A5EC72BAD2145099068CBD98@MBX10.d.ethz.ch>
	<4ED69F03.3030506@lbl.gov>
	<CAMrOPmwU6AEOE3MHD5GkHZT6tCBwoQ3AC_rDHQWeNLZx8tZP+Q@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD2145099068DC3E8@MBX20.d.ethz.ch>

>The problem still is that you change your extent as a result of a known parameter before running the algorithm, which is not my case.
So I think that the easiest solution will be the one I told you before, instead of modifying the extent inside my algorithm do it in two different filters...
<

Can you extract the part of the algorithm which determines the final extent and call that inside Updateinformation. I do something similar in a resampling filter which depends on parameters which are derived. The full algorithm takes ages, but just computing the extents that the algorithm will need is ok.

JB

From utkarsh.ayachit at kitware.com  Thu Dec  1 09:41:49 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Thu, 1 Dec 2011 09:41:49 -0500
Subject: [Paraview] changing default representation
In-Reply-To: <CAJxf0dDKKAh3Bb_Mr8Fzsz1eUS+ynE0zXhOzHAnZTDXPgLXV-A@mail.gmail.com>
References: <CAJxf0dAx1rsnkn_cn0e3PXC3zaizQDTos0EaKr0ssCMD_Sm1Tw@mail.gmail.com>
	<CAJxf0dBQuU9FmJ=FZ1zfzuX+v8Fw-+ziFWvAR4mLf-a7vOa6gQ@mail.gmail.com>
	<CADHSJjA6+ZjKvf2QayND49LM58MkyCbWc84Jmt5WwHSOkV=xNg@mail.gmail.com>
	<CAJxf0dDKKAh3Bb_Mr8Fzsz1eUS+ynE0zXhOzHAnZTDXPgLXV-A@mail.gmail.com>
Message-ID: <CADHSJjANk=Uv4fPpR8eUkZdiqCX1zqUswCdSFchXwo3Ev9XoKw@mail.gmail.com>

Jagjeet,

I believe the representation type picking happens in
pqPipelineRepresentation::setDefaultPropertyValues()

Hope that helps.

Utkarsh

On Mon, Nov 21, 2011 at 4:17 AM, Jagjeet Nain <jagjeet.nain at gmail.com> wrote:
> Hi Utkarsh,
> Thanks very much for your response.
> If not through plug-in, Is there any other example which demonstrate to
> select representation in source code.
> with regards
> Jagjeet
>
>
> On Fri, Nov 18, 2011 at 5:12 PM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>>
>> This is not supported currently though plugins.
>>
>> Utkarsh
>>
>> On Fri, Nov 18, 2011 at 10:30 AM, Jagjeet Nain <jagjeet.nain at gmail.com>
>> wrote:
>> > Hi,
>> > I want to change the default representation of "ParametricSource
>> > plugin"?in
>> > Examples/Plugins.
>> > I know I can do that in the Paraview GUI, choosing it from drop-down
>> > list.
>> > But I want to change it using servermanager.xml for this example so that
>> > when source plugin is loaded, it is loaded in chosen representation and
>> > colour and not in the default ("surface") representation and colour.
>> > Any help or pointer to similar example will be really appreciated.
>> > with regards
>> > Jagjeet
>
>

From paul.mcintosh at internetscooter.com  Thu Dec  1 16:38:28 2011
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Fri, 2 Dec 2011 08:38:28 +1100
Subject: [Paraview] Errors with GPU-based volume rendering
In-Reply-To: <4ED7109B.6040100@sara.nl>
References: <4ECB66A3.3070100@sara.nl> <4ECDFDFD.9070402@sara.nl>
	<CANjZAi__n2VRnLGUVzU3akLEXpP8HroVUDTmkyHs7YQEYnAuDg@mail.gmail.com>
	<72AC433C272348D4A3A04F5B2D64E122@notebook>
	<4ED7109B.6040100@sara.nl>
Message-ID: <96DB6EDB21A94B6F8E8483E54A38A492@notebook>

All,

To help me in debugging - is this only seen with VirtualGL or do people see
this in other rendering cases?

Cheers,

Paul

-----Original Message-----
From: Paul Melis [mailto:paul.melis at sara.nl] 
Sent: Thursday, 1 December 2011 4:29 PM
To: Paul McIntosh
Cc: 'David E DeMarle'; paraview at paraview.org
Subject: Re: [Paraview] Errors with GPU-based volume rendering

Hi Paul,

That workaround indeed does the trick for me as well...

Thanks!
Paul

On 12/01/11 00:15, Paul McIntosh wrote:
> Paul,
>
> I see this issue and have yet to try and debug what is going on. 
> However I have a workaround -  try saving state even though you see a 
> "pink blob" then reload the state. I find it works every time - 
> obviously I wish this not to happen at all so I'll provide a test case as
soon as I can.
>
> Below is some of the error messages I see just FYI
>
> Cheers,
>
> Paul
>
> after uniforms for textures ERROR (x501) Invalid value framebuffer has 
> an attachment error framebuffer has an attachment error SetupRender 
> ERROR (x506) invalid framebuffer operation ext framebuffer has an 
> attachment error framebuffer has an attachment error after uniforms 
> for textures ERROR (x501) Invalid value framebuffer has an attachment 
> error framebuffer has an attachment error SetupRender ERROR (x506) 
> invalid framebuffer operation ext framebuffer has an attachment error 
> framebuffer has an attachment error after uniforms for textures ERROR 
> (x501) Invalid value framebuffer has an attachment error framebuffer 
> has an attachment error SetupRender ERROR (x506) invalid framebuffer 
> operation ext framebuffer has an attachment error framebuffer has an 
> attachment error after uniforms for textures ERROR (x501) Invalid 
> value framebuffer has an attachment error framebuffer has an 
> attachment error SetupRender ERROR (x506) invalid framebuffer 
> operation ext framebuffer has an attachment error framebuffer has an 
> attachment error after uniforms for textures ERROR (x501) Invalid 
> value framebuffer has an attachment error framebuffer has an 
> attachment error
>
>
>
> -----Original Message-----
> From: paraview-bounces at paraview.org 
> [mailto:paraview-bounces at paraview.org]
> On Behalf Of David E DeMarle
> Sent: Thursday, 1 December 2011 1:47 AM
> To: paul.melis at sara.nl
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] Errors with GPU-based volume rendering
>
> Sounds like a bug then if 3.8 works and>3.8 doesn't on the same setup. 
> It suspect it is in the new rendering architecture that was introduced 
> with 3.10.
>
> Please file a bug report with enough information to reproduce the 
> problem so that we can keep an eye on it.
>
> David E DeMarle
> Kitware, Inc.
> R&D Engineer
> 21 Corporate Drive
> Clifton Park, NY 12065-8662
> Phone: 518-881-4909
>
>
>
> On Thu, Nov 24, 2011 at 3:19 AM, Paul Melis<paul.melis at sara.nl>  wrote:
>> On 11/22/2011 10:08 AM, Paul Melis wrote:
>>> Is this a problem with my local setup? If so, are there tests I can 
>>> do to figure out what's wrong?
>> I did some more testing and it is not a problem with my local setup, 
>> as I can get correct GPU-based volume rendering with PV 3.12.0 in the 
>> following two situations:
>>
>> * Running PV standalone on a render node under VirtualGL, accessed 
>> through VNC
>> * Running 1 pvserver on a render node with forced remote rendering 
>> (remote rendering threshold enabled and set to 0)
>>
>> However, when I try to use 2 or 4 pvservers (one per render node) I 
>> get the purple-square-screwed-up rendering, both with 3.10.1 and 3.12.0.
>>
>> Surprisingly, with 3.8.1 when using 2 or 4 pvservers the GPU-based 
>> rendering works...
>>
>> Regards,
>> Paul
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at 
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>


From rccm.kyoshimi at gmail.com  Thu Dec  1 21:23:26 2011
From: rccm.kyoshimi at gmail.com (kenichiro yoshimi)
Date: Fri, 2 Dec 2011 11:23:26 +0900
Subject: [Paraview] Unable to write out EnSight format with VTK_POLYHEDRON
Message-ID: <CAHDyfPBpawM3TtGqCxmHn0eKGE=rMv1mBqYTUcTwM_ZAtX3C9g@mail.gmail.com>

Hello,

I tried to save data including VTK_POLYHEDRON meshes through "Save
Data" with "EnSight format", but the polyhedrons couldn't be written.
Probably, the reason is that vtkEnSightWriter doesn't support
VTK_POLYHEDRON. In my case, I change the following and work well:
 1. replace all "VTK_CONVEX_POINT_SET" with "VTK_POLYHEDRON".
 2. vtkEnSightWriter.cxx: l.620
  //element conenctivity information
  for (k=0;k<CellsByElement[elementType].size();k++)
    {
    int CellId=CellsByElement[elementType][k];
    vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
    for (int m=0;m<PointIds->GetNumberOfIds();m++)
      {
      int PointId=PointIds->GetId(m);
      this->WriteIntToFile(NodeIdToOrder[PointId],fd);
      }
    }
----------------------->
  if (elementType != VTK_POLYHEDRON)
    {
    //element conenctivity information
    for (k=0;k<CellsByElement[elementType].size();k++)
      {
      int CellId=CellsByElement[elementType][k];
      vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
      for (int m=0;m<PointIds->GetNumberOfIds();m++)
        {
        int PointId=PointIds->GetId(m);
        this->WriteIntToFile(NodeIdToOrder[PointId],fd);
        }
      }
    }
  else
    {
    //number of faces per elements
    for (k=0;k<CellsByElement[elementType].size();k++)
      {
      int CellId=CellsByElement[elementType][k];
      int numFaces=input->GetCell(CellId)->GetNumberOfFaces();
      this->WriteIntToFile(numFaces,fd);
      }
    //number of nodes per faces
    for (k=0;k<CellsByElement[elementType].size();k++)
      {
      int CellId=CellsByElement[elementType][k];
      vtkCell *cell = input->GetCell(CellId);
      for (int m=0;m<cell->GetNumberOfFaces();m++)
        {
        int numNodes=cell->GetFace(m)->GetNumberOfPoints();
        this->WriteIntToFile(numNodes,fd);
        }
      }
      //element connectivity information
      for (k=0;k<CellsByElement[elementType].size();k++)
        {
        int CellId=CellsByElement[elementType][k];
        vtkCell *cell = input->GetCell(CellId);
        for (int m=0;m<cell->GetNumberOfFaces();m++)
          {
          vtkIdList *PointIds=cell->GetFace(m)->GetPointIds();
          for (int n=0;n<PointIds->GetNumberOfIds();n++)
            {
            int PointId=PointIds->GetId(n);
            this->WriteIntToFile(NodeIdToOrder[PointId],fd);
            }
          }
        }
      }
------------------------------------------------------------------

Can anyone tell me if these modifications are correct?

Please advice
Thanks,
yoshimi

From wascott at sandia.gov  Thu Dec  1 21:30:29 2011
From: wascott at sandia.gov (Scott, W Alan)
Date: Fri, 2 Dec 2011 02:30:29 +0000
Subject: [Paraview] Accessing global variables using the python interface
Message-ID: <9047EE0D4D3C8E43B93980DA10A0738055070AAA@EXMB04.srn.sandia.gov>


A question from my user on accessing global variables using python.  Any advice?

Thanks,

Alan



Hello,  I am fairly new to using paraview and python and am trying to figure out how I can access a global variable from the python shell.  Essentially, what I am trying to do is access a force vs. time curve so that I can interpolate to find at what time a certain force would occur.  It seems like it should be pretty simple to pull the curve into a python table so that I could manipulate it, but I have come up empty.  Any instruction/resources you could point me to would be very helpful.

Thanks, Russ






From aashish.chaudhary at kitware.com  Fri Dec  2 11:08:14 2011
From: aashish.chaudhary at kitware.com (Aashish Chaudhary)
Date: Fri, 2 Dec 2011 11:08:14 -0500
Subject: [Paraview] [ParaView] Off axis Projection and Stereo
In-Reply-To: <001001ccaf3b$3f1da360$bd58ea20$@tu-cottbus.de>
References: <000f01ccaa94$987b7050$c97250f0$@tu-cottbus.de>
	<CAEw35Z9Kad=Mb=jvUOLnoWQm22zUtqVZXHfO4-8vVzZ-xYETTw@mail.gmail.com>
	<001001ccaf3b$3f1da360$bd58ea20$@tu-cottbus.de>
Message-ID: <CAEw35Z9jd1ZoZc+L2Zb6chSF1b0Uu-Bi4+fiRdgAK4RYBWR4ZQ@mail.gmail.com>

Hi Stephan,

Here is the paper that can give you more information on stereo pair
calculation,

http://dl.acm.org/citation.cfm?id=134039

On Wed, Nov 30, 2011 at 3:37 AM, Stephan Rogge
<Stephan.Rogge at tu-cottbus.de> wrote:
> Hello Aashish,
>
> thanks for your valuable answers. I'm glad to know that these problems being
> addressed in vtk development. And yes, I have some more questions. :-)
>

> Please, can you explain, why EyeAngle is ignored during Off-Axis ? Is there
> an idea behind this approach? I know the formulation from the paper to
> construct the view matrix.

Because, In general it is assumed that your head direction is the
direction your eyes are looking at (and tracker can track head
rotation, position but not eye in general).

And I know, only the eye points (not their
> directions) are considered.
>
> BTW: Why is the viewing direction ignored, during Off-Axis-Calculation?

Where it is ignored? We calculate eye position based on the eye
transformation which can be set by application (generally via track
data).

>
> I'm really looking forward to read your answers :).

Hope it helps. Some of the things we had to keep for backward
compatibility and hence looking at the code could lead to some
confusion.

Thanks


>
> Thank you very much.
>
> Cheers,
> Stephan
>
> -----Urspr?ngliche Nachricht-----
> Von: Aashish Chaudhary [mailto:aashish.chaudhary at kitware.com]
> Gesendet: Mittwoch, 30. November 2011 00:22
> An: Stephan Rogge
> Cc: paraview at paraview.org
> Betreff: Re: [Paraview] [ParaView] Off axis Projection and Stereo
>
> Hi Stephen.
>
> On Thu, Nov 24, 2011 at 5:34 AM, Stephan Rogge <Stephan.Rogge at tu-cottbus.de>
> wrote:
>> Hello,
>>
>> Since I can use ParaView's cave mode in my Virtual Environment (VE), I
>> was able to play a bit with its stereo capabilities and the wall
>> configuration (.pvx).
>>
>> Before I start with my discussion, I would like to give some details
>> off my
>> configuration:
>>
>> * Virtual Environment
>> ? ? - two back projected walls (passive stereo)
>> ? ? - each wall is 2.6 m width ?x 1.6 m high
>> ? ? - the walls creates an arrow with an angle of 112?
>> ? ? - a render PC with two NVIDIA QUADRO 5000 (one GPU per wall) is
>> connected to four projectors
>> * ParaView
>> ? ?- To obtain a correct un-distorted image we use the edge points
>> (world
>> coordinates) of the walls to configure the two views in the pvx-file
>> ? ?- Since we use Windows 7, I was not able to define the GPU - View
>> assignment in the pvx-file
>> ? ? ? (it seems to be, that under Windows the flag
>> 'Environment="DISPLAY=:0"' is being ignored, all views presented on
>> the first display). We had to
>> ? ? ? modify "vtkPVSynchronizedRenderWindows", to align the views in
>> respect to the MPI process id.
>> ? ?- Further code modification has been done to control the stereo
>> parameters EyeSeparation and EyeAngle
>>
>> #############################
>> ## Multiple Display Support (Win7) ##
>> #############################
>>
>> And here I like to start my discussion. At first let's talk about the
>> display configuration. I had to modify
>> "vtkPVSynchronizedRenderWindows" to use my two walls under Windows 7.
>> I can imaging, that this is not the best solution. May be some
>> problems can appear here? Please, can some of the developer comment
>> this code modification? This is the code snippet:
>>
>> void vtkPVSynchronizedRenderWindows::UpdateWindowLayout()
>> {
>> ? ? ?.....
>> ? ? ?else if (in_cave_mode)
>> ? ? ? ?{
>> ? ? ? ?if (vtksys::SystemTools::GetEnv("PV_ICET_WINDOW_BORDERS"))
>> ? ? ? ? ?{
>> ? ? ? ? ?this->Internals->SharedRenderWindow->SetSize(400, 400);
>> ? ? ? ? ?}
>> ? ? ? ?else
>> ? ? ? ? ?{
>> ? ? ? ? ?this->Internals->SharedRenderWindow->SetFullScreen(1);
>>
>> ? ? ? ? ?// These two lines here has been added
>> ? ? ? ? ?unsigned int id =
>> vtkMultiProcessController::GetGlobalController()->GetLocalProcessId();
>> ? ? ? ? ?this->Internals->SharedRenderWindow->SetPosition(1920 * (id),
>> 0);
>> ? ? ? ? }
>> ? ? ?}
>> ? ? ?.....
>> }
>>
>> ###########################
>> ## Stereo Control in Cave Mode ##
>> ###########################
>>
>> When I visualize a small object in my ParaView Cave setup, I realized
>> that the parallax between left and right image became un-natural big (it
> hurts).
>> My opinion is, when we change the zoom we need to adjust the eye
>> separation (and / or the eye angle). This can be done manually or
>> automatically to yield the optimal stereoscopic impression.
>> An parallel project from Aashish Chaudhary (on gitorious), address
>> this problem and starts to modify the VTK api, to have some control of
> stereo.
>> Unfortunately, after reading some parts of this source code, it looks
>> like only EyeAngle can be manipulated. Furthermore ?changes of that
>> parameter were not considered during OffAxisProjection calculation.
>> The algorithm considers only the 3D points of left and right eye and
>> not their angles. Thus, changes of eyes angle does not have an effect
>> on images displayed in my cave.
>> I've noticed a code part were the eye angles for left and right were
>> only applied, when UseOffAxisProjection is turned off. And this is not
>> the case when I use ParaView with my view settings. Would it be wrong,
>> if we modify the IF-condition in
>> vtkCamera::ComputeProjectionTransform() in order to consider always the
> angle:
>>
>> if ( this->Stereo /*** &&!this->UseOffAxisProjection ***/) ? // <-----
>> Disabling the check for Off-Axis-Calculation
>> ? ?{
>> ? ?// set up a shear for stereo views
>> ? ?if ( this->LeftEye )
>> ? ? ?{
>> ? ? ?this->ProjectionTransform->Stereo( -this->EyeAngle/2,
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?this->Distance ); .....
>
>
> Sorry it took me some time to reply. Basically in VTK there could be
> various ways to get the stereo. With in Crystal eyes stereo we have
> two options now,
>
> 1. Legacy stereo
> 2. Off axis stereo
>
> Second is the one added recently. In VTK camera now if you set
> SetUseOffAxisStereo(1) it uses 2) for stereo calculations and hence
> EyeAngle in that case is ignored.
>
> Look at the test code here:
> VTK_SRC_DIR/Rendering/Testing/Cxx/TestOffAxisStereo.cxx
>
> You can control eye separation if you choose 2). ?I have added notes
> on the code about this but I will make it even more explicit.
>
>>
>> Another problem arises, when I want to adjust the eye separation. I had to
>> modify a couple of VTK source code files to provide the eye separation as
> an
>>
>> proxy property and to distribute it along all mpi processes. Is it planned
>> to provide this parameter globally?
>
> We are going to work on this again very soon. We can take care of this
> there then. Well the idea is that we will have a more descriptive
> config file ( + UI in ParaView client) where you could specify eye
> separation as well.
>
>>
>> Please, let me know, what you are thinking about my ideas.
>
> Let me know if you have some more questions. One thing I must add is
> we ran into some clipping issues in ParaView and we are hoping to
> address that soon. Related to this we have paraview code out there
> which is not checked in master yet.
>
>>
>> Best regards
>> Stephan
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> --
> | Aashish Chaudhary
> | R&D Engineer
> | Kitware Inc.
> | www.kitware.com
>



-- 
| Aashish Chaudhary
| R&D Engineer
| Kitware Inc.
| www.kitware.com

From cekees at gmail.com  Fri Dec  2 15:34:06 2011
From: cekees at gmail.com (Chris Kees)
Date: Fri, 2 Dec 2011 14:34:06 -0600
Subject: [Paraview] ParaViewWeb & TomCat
In-Reply-To: <CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
References: <4ED4F380.2050007@gmail.com>
	<CABObKxeh+JsbPJX_qU3EzPWmqYs1+NhMr+DySz1iuXnKs4RfnQ@mail.gmail.com>
	<4ED51DE9.7070900@gmail.com>
	<CABObKxejhGyOiEjoUe_9v_wtVsOum94sEMOLCGvB-izjPRpNCw@mail.gmail.com>
	<4BEA4916-A302-418F-88B0-DAA9D1CD156A@gmail.com>
	<CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
Message-ID: <CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>

Hi Seb,

I thought I'd go ahead and try to install PWServer. I'm running on OS X
10.7 from the paraview and paraviewweb git hub sources updated yesterday.
 I'm using activemq-cpp-library-3.4.0. The paraview build passed all it's
test and pwserver built with no complaints. I get the fulling when testing.
Any idea where to look for the problem? Thanks,Chris

% make test
Running tests...
Test project /Users/cekees/ParaViewWeb-darwinports
    Start 1: TestSimpleScenario
1/3 Test #1: TestSimpleScenario ...............***Exception: SegFault  8.20
sec
    Start 2: TestProxyProperties
2/3 Test #2: TestProxyProperties ..............***Exception: SegFault 10.74
sec
    Start 3: TestOK
3/3 Test #3: TestOK ...........................***Exception: SegFault  9.86
sec

0% tests passed, 3 tests failed out of 3

Total Test time (real) =  28.93 sec

The following tests FAILED:
  1 - TestSimpleScenario (SEGFAULT)
  2 - TestProxyProperties (SEGFAULT)
  3 - TestOK (SEGFAULT)
Errors while running CTest
make: *** [test] Error 8
[minikees-3:~/ParaViewWeb-darwinports] cekees% more
Testing/Temporary/LastTest.log
Start testing: Dec 02 14:14 CST
----------------------------------------------------------
1/3 Testing: TestSimpleScenario
1/3 Test: TestSimpleScenario
Command: "/Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/PWServer"
"--jms=0" "--session-identifier=TestSimpleScenario" "--log-level=ERROR"
"--batch-file=/Users/cekees/ParaViewWeb/ParaViewAdapter/Testing/Python/TestSimpleScenario.py"
Directory:
/Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/Testing/Python
"TestSimpleScenario" start time: Dec 02 14:14 CST
Output:
----------------------------------------------------------
<end of output>
Test time =   8.19 sec
----------------------------------------------------------
Test Failed.
"TestSimpleScenario" end time: Dec 02 14:15 CST
"TestSimpleScenario" time elapsed: 00:00:08


On Wed, Nov 30, 2011 at 11:01 AM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Hi Chris,
>
> I think Sebastien and I need to talk a bit about this to figure it out
> since neither of us has enough knowledge on our own to solve this.
>
> I cc'ed the paraview mailing list since someone else may have some good
> input too or may want to follow your path in the future.
>
> Andy
>
> On Tue, Nov 29, 2011 at 11:39 PM, Chris Kees <cekees at gmail.com> wrote:
>
>> Hi Sebastien and Randall,
>>
>> I think I'm probably the user Randall mentioned earlier.  I'm responding
>> off list because these seems a bit detailed for a regular post--feel free
>> to post it back to the paraview list if you like.
>>
>> Here's a rough idea of what I'm up to. I'm running the IPython notebook
>> server (http://ipython.org/ipython-doc/dev/interactive/htmlnotebook.html).
>> I'm looking for a way to do interactive 3D graphics inside an IPython
>> "notebook". I don't claim to know all the details of how the notebook
>> server works but I think the set of connected services looks something like
>> this:
>>
>> WebClient (browser) <-> Tornado Web Server <-> IPython Client <-> IPython
>> Kernel/Hub <-1-to-N-> Python Engines
>>
>> where <-> is just some abstract connection (e.g. http, zeromq
>> sockets,etc).
>>
>> This set of processes basically gets started when I start the IPython
>> Kernel on the command line of the server, though I can start "engines"
>> later as well and connect/disconnect browsers without killing anything
>> else.  The kernel starts up a Tornado web server to begin serving up
>> "notebook" pages, which are JSON files containing executable python code
>> and text "cells". When somebody  points a browser to a notebook (say
>> localhost:8000/some_path/test.pynb). You can then execute and run the
>> python code in the code cells by doing various things on the webpage
>> representing the notebook (push 'run cell' etc.). The code cells can be
>> executed either on the client python process, or the code can be sent
>> through the hub to be run on a collection of "engines" also running python
>> (and communicating with each other via MPI in my case).
>>
>> If the code cell is run on engines you can pull objects in the engines'
>> namespaces back onto the client.  Now, on the client, if an expression
>> returns an object that implements the interface of an IPython DisplayObject
>> (
>> http://ipython.org/ipython-doc/dev/api/generated/IPython.core.display.html),
>> then it gets displayed as part of the webpage in an "output" cell.
>> DisplayObject's can return HTML, JSON, javascirpt, SVG, and range of image
>> formats. I'm attaching a pdf of a simple IPython notebook that has an
>> expression returning a PNG DisplayObject at the very end.
>>
>> In my case, the python engines are running MPI and solve a PDE in
>> parallel. The data structures for the solution all get attached to VTK
>> objects and a visualization pipeline on the engines.  Also, Andy Bauer
>> helped me get those VTK objects attached to paraview using the
>> servermanager module a few weeks ago so I can do co-processing now as well.
>>   I'm already able to composite, render, and interact with 3D objects using
>> my Qt front end and the python VTK API.  I think it will be fairly simple
>> to have the rank 0 engine generate a PNG of the rendered/composited image
>> that will fulfill the requirements of an IPython PNG DisplayObject. That
>> would give us non-interactive images of the solution in the notebook.
>>
>> My question is whether there is a way to add ParaViewWeb into this
>> collection of processes so we can generate not only stills but get full
>> interactive 3D visualization in the notebook. I was thinking that a
>> DisplayObject of type HTML, JSON, or Javascript might be able to write a
>> bit of code that would point the browser to the tomcat server running a
>> paraview web service. That service would itself be connected back to the
>> same data sets on the engines. Something like this:
>>
>> WebClient <-> Tornado <-> IPython Client ....  <-> python engines (with
>> VTK objects and a servermanager)
>>                                  ^
>>                       ^
>>                                   |
>>                        |
>>                             Tomcat <-> ParaViewWS <->       PW server
>>
>> Anyway, if this seems like it's feasible I'd be willing to build all the
>> paraview web components on my laptop where I already have IPython, VTK, and
>> Paraview co-processing working. If that works then we might be able to get
>> some support for something more ambitious where the engines are running on
>> HPC machines.
>>
>> Thanks,
>> Chris
>>
>>
>> On Nov 29, 2011, at 12:26 PM, Sebastien Jourdain wrote:
>>
>> Hi Randall,
>>
>> This sounds good, so tomcat can easily be used on any user account
>> with no right outside his home. You can even strip down the default
>> package of tomcat so you get only the minimum required for ParaViewWeb
>> and you can run it on any port higher than 1024.
>>
>> To do that, you will need to download tomcat on your own and
>> unzip/untar it, then deploy ParaViewWeb into it and start tomcat
>> yourself.
>> That's basically what we are doing for its development.
>>
>> Hope this help,
>>
>> Seb
>>
>> On Tue, Nov 29, 2011 at 1:01 PM, Randall Hand <randall.hand at gmail.com>
>> wrote:
>>
>> Something I can run entirely without any higher-permissions to the system,
>>
>> with no access to /etc or /usr folders.
>>
>>
>> Sebastien Jourdain wrote:
>>
>>
>> Hi Randall,
>>
>>
>> Can you be more specific by what you mean by "standalone" and by
>>
>> "can't use Tomcat" ?
>>
>> Because, for me tomcat can be standalone. Would you think something
>>
>> more embedded such as Jetty or something that does not involved Java
>>
>> at all ?
>>
>>
>> Thanks,
>>
>>
>> Seb
>>
>>
>> On Tue, Nov 29, 2011 at 10:00 AM, Randall Hand<randall.hand at gmail.com>
>>
>>  wrote:
>>
>>
>> I have a user interested in using ParaViewWeb as a front-end to some
>>
>> visualization tasks, however we can't use TomCat in our environment.  Is
>>
>> there any kind of "Standalone" service that can be used as a replacement?
>>
>>
>> I know several apps that expose a web interface offer a limited function
>>
>> webserver (trac, ipython, etc) that allows it to work standalone without
>>
>> any
>>
>> external webserver configured.  Does such a setup exist for ParaViewWeb?
>>
>> --
>>
>> Randall Hand
>>
>> http://www.vizworld.com
>>
>>
>> _______________________________________________
>>
>> Powered by www.kitware.com
>>
>>
>> Visit other Kitware open-source projects at
>>
>> http://www.kitware.com/opensource/opensource.html
>>
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>>
>> http://paraview.org/Wiki/ParaView
>>
>>
>> Follow this link to subscribe/unsubscribe:
>>
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>> --
>>
>> Randall Hand
>>
>> http://www.vizworld.com
>>
>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111202/ef53ba1b/attachment.htm>

From sebastien.jourdain at kitware.com  Fri Dec  2 15:47:12 2011
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Fri, 2 Dec 2011 15:47:12 -0500
Subject: [Paraview] ParaViewWeb & TomCat
In-Reply-To: <CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>
References: <4ED4F380.2050007@gmail.com>
	<CABObKxeh+JsbPJX_qU3EzPWmqYs1+NhMr+DySz1iuXnKs4RfnQ@mail.gmail.com>
	<4ED51DE9.7070900@gmail.com>
	<CABObKxejhGyOiEjoUe_9v_wtVsOum94sEMOLCGvB-izjPRpNCw@mail.gmail.com>
	<4BEA4916-A302-418F-88B0-DAA9D1CD156A@gmail.com>
	<CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
	<CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>
Message-ID: <CABObKxcNjO37MFv30Pv63aVQ5=zYMfkaoh5pbKR53hB_iGwzFA@mail.gmail.com>

Hi Chris,

Sorry to get back to you only now, but your question is not that trivial.

So what still remains unclear for me is, how do you plan to exchange

the data from your visualization pipeline on the engines and PWServer
that is needed by ParaViewWeb ? Are you thinking of a VTK file, MPI
stage or something else ?

What I was thinking at a first thought was:

 - In your engine once your computation is done, you dump the data
somewhere and you launch from your python a PWServer with some
initialization script that will load your data so when a web client
connects to it, everything will be setup as you expect.

- On the ParaViewWeb side (tomcat web app) you will have to patch the
code so it won't prevent you to connect to a process that was not
started by itself. (I can help you with that, it should be pretty
simple)
- Find a way to forward the HTTP requests from tornado to tomcat

But once again, I'm not sure I get the right picture of your setup and
depending on how your VTK processing is done, other solution may be
possible.

Hope this provides some hints on your wondering,

Seb

PS: For your later mail did you get the source form here
(http://paraview.org/ParaViewWeb.git) which is not github ?
PS2: Most of the documentation is available here:
http://www.paraview.org/Wiki/ParaViewWeb

On Fri, Dec 2, 2011 at 3:34 PM, Chris Kees <cekees at gmail.com> wrote:
> Hi Seb,
>
> I thought I'd go ahead and try to install PWServer. I'm running on OS X 10.7
> from the paraview and paraviewweb git hub sources updated yesterday. ?I'm
> using activemq-cpp-library-3.4.0. The paraview build passed all it's test
> and pwserver built with no complaints. I get the fulling when testing. Any
> idea where to look for the problem? Thanks,Chris
>
> % make test
> Running tests...
> Test project /Users/cekees/ParaViewWeb-darwinports
> ? ? Start 1: TestSimpleScenario
> 1/3 Test #1: TestSimpleScenario ...............***Exception: SegFault ?8.20
> sec
> ? ? Start 2: TestProxyProperties
> 2/3 Test #2: TestProxyProperties ..............***Exception: SegFault 10.74
> sec
> ? ? Start 3: TestOK
> 3/3 Test #3: TestOK ...........................***Exception: SegFault ?9.86
> sec
>
> 0% tests passed, 3 tests failed out of 3
>
> Total Test time (real) = ?28.93 sec
>
> The following tests FAILED:
> ?1 - TestSimpleScenario (SEGFAULT)
> ?2 - TestProxyProperties (SEGFAULT)
> ?3 - TestOK (SEGFAULT)
> Errors while running CTest
> make: *** [test] Error 8
> [minikees-3:~/ParaViewWeb-darwinports] cekees% more
> Testing/Temporary/LastTest.log
> Start testing: Dec 02 14:14 CST
> ----------------------------------------------------------
> 1/3 Testing: TestSimpleScenario
> 1/3 Test: TestSimpleScenario
> Command: "/Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/PWServer"
> "--jms=0" "--session-identifier=TestSimpleScenario" "--log-level=ERROR"
> "--batch-file=/Users/cekees/ParaViewWeb/ParaViewAdapter/Testing/Python/TestSimpleScenario.py"
> Directory:
> /Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/Testing/Python
> "TestSimpleScenario" start time: Dec 02 14:14 CST
> Output:
> ----------------------------------------------------------
> <end of output>
> Test time = ? 8.19 sec
> ----------------------------------------------------------
> Test Failed.
> "TestSimpleScenario" end time: Dec 02 14:15 CST
> "TestSimpleScenario" time elapsed: 00:00:08
>
>
> On Wed, Nov 30, 2011 at 11:01 AM, Andy Bauer <andy.bauer at kitware.com> wrote:
>>
>> Hi Chris,
>>
>> I think Sebastien and I need to talk a bit about this to figure it out
>> since neither of us has enough knowledge on our own to solve this.
>>
>> I cc'ed the paraview mailing list since someone else may have some good
>> input too or may want to follow your path in the future.
>>
>> Andy
>>
>> On Tue, Nov 29, 2011 at 11:39 PM, Chris Kees <cekees at gmail.com> wrote:
>>>
>>> Hi Sebastien and Randall,
>>>
>>> I think I'm probably the user Randall mentioned earlier. ?I'm responding
>>> off list because these seems a bit detailed for a regular post--feel free to
>>> post it back to the paraview list if you like.
>>>
>>> Here's a rough idea of what I'm up to. I'm running the IPython notebook
>>> server (http://ipython.org/ipython-doc/dev/interactive/htmlnotebook.html).
>>> I'm looking for a way to do interactive 3D graphics inside an IPython
>>> "notebook". I don't claim to know all the details of how the notebook server
>>> works but I think the set of connected services looks something like this:
>>>
>>> WebClient (browser) <-> Tornado Web Server <-> IPython Client <-> IPython
>>> Kernel/Hub <-1-to-N-> Python Engines
>>>
>>> where <-> is just some abstract connection (e.g. http, zeromq
>>> sockets,etc).
>>>
>>> This set of processes basically gets started when I start the IPython
>>> Kernel on the command line of the server, though I can start "engines" later
>>> as well and connect/disconnect browsers without killing anything else. ?The
>>> kernel starts up a Tornado web server to begin serving up "notebook" pages,
>>> which are JSON files containing executable python code and text "cells".
>>> When somebody ?points a browser to a notebook (say
>>> localhost:8000/some_path/test.pynb). You can then execute and run the python
>>> code in the code cells by doing various things on the webpage representing
>>> the notebook (push 'run cell' etc.). The code cells can be executed either
>>> on the client python process, or the code can be sent through the hub to be
>>> run on a collection of "engines" also running python (and communicating with
>>> each other via MPI in my case).
>>>
>>> If the code cell is run on engines you can pull objects in the engines'
>>> namespaces back onto the client. ?Now, on the client, if an expression
>>> returns an object that implements the interface of an IPython DisplayObject
>>> (http://ipython.org/ipython-doc/dev/api/generated/IPython.core.display.html),
>>> then it gets displayed as part of the webpage in an "output" cell.
>>> DisplayObject's can return HTML, JSON, javascirpt, SVG, and range of image
>>> formats. I'm attaching a pdf of a simple IPython notebook that has an
>>> expression returning a PNG DisplayObject at the very end.
>>>
>>> In my case, the python engines are running MPI and solve a PDE in
>>> parallel. The data structures for the solution all get attached to VTK
>>> objects and a visualization pipeline on the engines. ?Also, Andy Bauer
>>> helped me get those VTK objects attached to paraview using the servermanager
>>> module a few weeks ago so I can do co-processing now as well. ? I'm already
>>> able to composite, render, and interact with 3D objects using my Qt front
>>> end and the python VTK API. ?I think it will be fairly simple to have the
>>> rank 0 engine generate a PNG of the rendered/composited image that will
>>> fulfill the requirements of an IPython PNG DisplayObject. That would give us
>>> non-interactive images of the solution in the notebook.
>>>
>>> My question is whether there is a way to add ParaViewWeb into this
>>> collection of processes so we can generate not only stills but get full
>>> interactive 3D visualization in the notebook. I was thinking that a
>>> DisplayObject of type HTML, JSON, or Javascript might be able to write a bit
>>> of code that would point the browser to the tomcat server running a paraview
>>> web service. That service would itself be connected back to the same data
>>> sets on the engines. Something like this:
>>>
>>> WebClient <-> Tornado <-> IPython Client .... ?<-> python engines (with
>>> VTK objects and a servermanager)
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?^
>>> ? ? ? ? ? ? ? ? ? ? ? ^
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? |
>>> ? ? ? ? ? ? ? ? ? ? ? ?|
>>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? Tomcat <-> ParaViewWS <-> ? ? ? PW server
>>>
>>> Anyway, if this seems like it's feasible I'd be willing to build all the
>>> paraview web components on my laptop where I already have IPython, VTK, and
>>> Paraview co-processing working. If that works then we might be able to get
>>> some support for something more ambitious where the engines are running on
>>> HPC machines.
>>>
>>> Thanks,
>>> Chris
>>>
>>>
>>> On Nov 29, 2011, at 12:26 PM, Sebastien Jourdain wrote:
>>>
>>> Hi Randall,
>>>
>>> This sounds good, so tomcat can easily be used on any user account
>>> with no right outside his home. You can even strip down the default
>>> package of tomcat so you get only the minimum required for ParaViewWeb
>>> and you can run it on any port higher than 1024.
>>>
>>> To do that, you will need to download tomcat on your own and
>>> unzip/untar it, then deploy ParaViewWeb into it and start tomcat
>>> yourself.
>>> That's basically what we are doing for its development.
>>>
>>> Hope this help,
>>>
>>> Seb
>>>
>>> On Tue, Nov 29, 2011 at 1:01 PM, Randall Hand <randall.hand at gmail.com>
>>> wrote:
>>>
>>> Something I can run entirely without any higher-permissions to the
>>> system,
>>>
>>> with no access to /etc or /usr folders.
>>>
>>>
>>> Sebastien Jourdain wrote:
>>>
>>>
>>> Hi Randall,
>>>
>>>
>>> Can you be more specific by what you mean by "standalone" and by
>>>
>>> "can't use Tomcat" ?
>>>
>>> Because, for me tomcat can be standalone. Would you think something
>>>
>>> more embedded such as Jetty or something that does not involved Java
>>>
>>> at all ?
>>>
>>>
>>> Thanks,
>>>
>>>
>>> Seb
>>>
>>>
>>> On Tue, Nov 29, 2011 at 10:00 AM, Randall Hand<randall.hand at gmail.com>
>>>
>>> ?wrote:
>>>
>>>
>>> I have a user interested in using ParaViewWeb as a front-end to some
>>>
>>> visualization tasks, however we can't use TomCat in our environment. ?Is
>>>
>>> there any kind of "Standalone" service that can be used as a replacement?
>>>
>>>
>>> I know several apps that expose a web interface offer a limited function
>>>
>>> webserver (trac, ipython, etc) that allows it to work standalone without
>>>
>>> any
>>>
>>> external webserver configured. ?Does such a setup exist for ParaViewWeb?
>>>
>>> --
>>>
>>> Randall Hand
>>>
>>> http://www.vizworld.com
>>>
>>>
>>> _______________________________________________
>>>
>>> Powered by www.kitware.com
>>>
>>>
>>> Visit other Kitware open-source projects at
>>>
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>
>>> http://paraview.org/Wiki/ParaView
>>>
>>>
>>> Follow this link to subscribe/unsubscribe:
>>>
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>>
>>> --
>>>
>>> Randall Hand
>>>
>>> http://www.vizworld.com
>>>
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>>
>>
>

From cekees at gmail.com  Fri Dec  2 16:43:43 2011
From: cekees at gmail.com (Chris Kees)
Date: Fri, 2 Dec 2011 15:43:43 -0600
Subject: [Paraview] ParaViewWeb & TomCat
In-Reply-To: <CABObKxcNjO37MFv30Pv63aVQ5=zYMfkaoh5pbKR53hB_iGwzFA@mail.gmail.com>
References: <4ED4F380.2050007@gmail.com>
	<CABObKxeh+JsbPJX_qU3EzPWmqYs1+NhMr+DySz1iuXnKs4RfnQ@mail.gmail.com>
	<4ED51DE9.7070900@gmail.com>
	<CABObKxejhGyOiEjoUe_9v_wtVsOum94sEMOLCGvB-izjPRpNCw@mail.gmail.com>
	<4BEA4916-A302-418F-88B0-DAA9D1CD156A@gmail.com>
	<CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
	<CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>
	<CABObKxcNjO37MFv30Pv63aVQ5=zYMfkaoh5pbKR53hB_iGwzFA@mail.gmail.com>
Message-ID: <325EAB18-3209-4E21-9B44-1F08597B3304@gmail.com>


On Dec 2, 2011, at 2:47 PM, Sebastien Jourdain wrote:

> Hi Chris,
> 
> Sorry to get back to you only now, but your question is not that trivial.
> 
> So what still remains unclear for me is, how do you plan to exchange
> 
> the data from your visualization pipeline on the engines and PWServer
> that is needed by ParaViewWeb ? Are you thinking of a VTK file, MPI
> stage or something else ?
> 
> What I was thinking at a first thought was:
> 
> - In your engine once your computation is done, you dump the data
> somewhere and you launch from your python a PWServer with some
> initialization script that will load your data so when a web client
> connects to it, everything will be setup as you expect.
> 

As a first cut, I think it would be fine to have the engines write out their data.  Andy can correct me if I'm wrong, but I think we could use the co-processing to write just the subset of geometry and field data that we want to display in the notebook. If I understand correctly, with that approach we could  then just focus on starting PWServer, reading in the data files, and setting up the communication between tornado and tomcat. 

For future reference, when we want to move beyond dumping the data, here is how each engine is connected to paraview: A module called vtkViewers has been imported by each python engine and executed the following code:
  
from paraview import servermanager
global globalController, newGlobalController
paraview.options.batch = True
paraview.options.symmetric = True
pm = servermanager.vtkProcessModule.GetProcessModule()
globalController = pm.GetGlobalController()
...

In addition to this bit, each engine has attached it's mesh and field data arrays to the proper VTK containers and set up a parallel visualization pipeline.  It can potentially also read in a co-processing script to set up additional visualization.  I was hoping that this setup would eventually allow us to start a PWServer and attach it to the pvserver which is directly connected to the VTK objects in memory on each engines.

> - On the ParaViewWeb side (tomcat web app) you will have to patch the
> code so it won't prevent you to connect to a process that was not
> started by itself. (I can help you with that, it should be pretty
> simple)

Thanks, that would be very helpful.

> - Find a way to forward the HTTP requests from tornado to tomcat
> 

I'll look into that. I'm going to visit the IPython notebook developers next week and can get some help on working with tornado. I think it will help if I can get the standard ParaViewWeb setup working.

> But once again, I'm not sure I get the right picture of your setup and
> depending on how your VTK processing is done, other solution may be
> possible.
> 
> Hope this provides some hints on your wondering,
> 
> Seb
> 
> PS: For your later mail did you get the source form here
> (http://paraview.org/ParaViewWeb.git) which is not github ?

Yes, sorry, I got it from paraview.org. 

> PS2: Most of the documentation is available here:
> http://www.paraview.org/Wiki/ParaViewWeb
> 

I've been working from that documentation.  Somewhere on the list somebody mentioned upgrading to activemq 3.4 so I did too. I should only need activemq cpp libs, paraview, and PW server to successfully build and make tests, right? Or do I need to install and startup activemq and tomcat?

Thanks,
Chris

> On Fri, Dec 2, 2011 at 3:34 PM, Chris Kees <cekees at gmail.com> wrote:
>> Hi Seb,
>> 
>> I thought I'd go ahead and try to install PWServer. I'm running on OS X 10.7
>> from the paraview and paraviewweb git hub sources updated yesterday.  I'm
>> using activemq-cpp-library-3.4.0. The paraview build passed all it's test
>> and pwserver built with no complaints. I get the fulling when testing. Any
>> idea where to look for the problem? Thanks,Chris
>> 
>> % make test
>> Running tests...
>> Test project /Users/cekees/ParaViewWeb-darwinports
>>     Start 1: TestSimpleScenario
>> 1/3 Test #1: TestSimpleScenario ...............***Exception: SegFault  8.20
>> sec
>>     Start 2: TestProxyProperties
>> 2/3 Test #2: TestProxyProperties ..............***Exception: SegFault 10.74
>> sec
>>     Start 3: TestOK
>> 3/3 Test #3: TestOK ...........................***Exception: SegFault  9.86
>> sec
>> 
>> 0% tests passed, 3 tests failed out of 3
>> 
>> Total Test time (real) =  28.93 sec
>> 
>> The following tests FAILED:
>>  1 - TestSimpleScenario (SEGFAULT)
>>  2 - TestProxyProperties (SEGFAULT)
>>  3 - TestOK (SEGFAULT)
>> Errors while running CTest
>> make: *** [test] Error 8
>> [minikees-3:~/ParaViewWeb-darwinports] cekees% more
>> Testing/Temporary/LastTest.log
>> Start testing: Dec 02 14:14 CST
>> ----------------------------------------------------------
>> 1/3 Testing: TestSimpleScenario
>> 1/3 Test: TestSimpleScenario
>> Command: "/Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/PWServer"
>> "--jms=0" "--session-identifier=TestSimpleScenario" "--log-level=ERROR"
>> "--batch-file=/Users/cekees/ParaViewWeb/ParaViewAdapter/Testing/Python/TestSimpleScenario.py"
>> Directory:
>> /Users/cekees/ParaViewWeb-darwinports/ParaViewAdapter/Testing/Python
>> "TestSimpleScenario" start time: Dec 02 14:14 CST
>> Output:
>> ----------------------------------------------------------
>> <end of output>
>> Test time =   8.19 sec
>> ----------------------------------------------------------
>> Test Failed.
>> "TestSimpleScenario" end time: Dec 02 14:15 CST
>> "TestSimpleScenario" time elapsed: 00:00:08
>> 
>> 
>> On Wed, Nov 30, 2011 at 11:01 AM, Andy Bauer <andy.bauer at kitware.com> wrote:
>>> 
>>> Hi Chris,
>>> 
>>> I think Sebastien and I need to talk a bit about this to figure it out
>>> since neither of us has enough knowledge on our own to solve this.
>>> 
>>> I cc'ed the paraview mailing list since someone else may have some good
>>> input too or may want to follow your path in the future.
>>> 
>>> Andy
>>> 
>>> On Tue, Nov 29, 2011 at 11:39 PM, Chris Kees <cekees at gmail.com> wrote:
>>>> 
>>>> Hi Sebastien and Randall,
>>>> 
>>>> I think I'm probably the user Randall mentioned earlier.  I'm responding
>>>> off list because these seems a bit detailed for a regular post--feel free to
>>>> post it back to the paraview list if you like.
>>>> 
>>>> Here's a rough idea of what I'm up to. I'm running the IPython notebook
>>>> server (http://ipython.org/ipython-doc/dev/interactive/htmlnotebook.html).
>>>> I'm looking for a way to do interactive 3D graphics inside an IPython
>>>> "notebook". I don't claim to know all the details of how the notebook server
>>>> works but I think the set of connected services looks something like this:
>>>> 
>>>> WebClient (browser) <-> Tornado Web Server <-> IPython Client <-> IPython
>>>> Kernel/Hub <-1-to-N-> Python Engines
>>>> 
>>>> where <-> is just some abstract connection (e.g. http, zeromq
>>>> sockets,etc).
>>>> 
>>>> This set of processes basically gets started when I start the IPython
>>>> Kernel on the command line of the server, though I can start "engines" later
>>>> as well and connect/disconnect browsers without killing anything else.  The
>>>> kernel starts up a Tornado web server to begin serving up "notebook" pages,
>>>> which are JSON files containing executable python code and text "cells".
>>>> When somebody  points a browser to a notebook (say
>>>> localhost:8000/some_path/test.pynb). You can then execute and run the python
>>>> code in the code cells by doing various things on the webpage representing
>>>> the notebook (push 'run cell' etc.). The code cells can be executed either
>>>> on the client python process, or the code can be sent through the hub to be
>>>> run on a collection of "engines" also running python (and communicating with
>>>> each other via MPI in my case).
>>>> 
>>>> If the code cell is run on engines you can pull objects in the engines'
>>>> namespaces back onto the client.  Now, on the client, if an expression
>>>> returns an object that implements the interface of an IPython DisplayObject
>>>> (http://ipython.org/ipython-doc/dev/api/generated/IPython.core.display.html),
>>>> then it gets displayed as part of the webpage in an "output" cell.
>>>> DisplayObject's can return HTML, JSON, javascirpt, SVG, and range of image
>>>> formats. I'm attaching a pdf of a simple IPython notebook that has an
>>>> expression returning a PNG DisplayObject at the very end.
>>>> 
>>>> In my case, the python engines are running MPI and solve a PDE in
>>>> parallel. The data structures for the solution all get attached to VTK
>>>> objects and a visualization pipeline on the engines.  Also, Andy Bauer
>>>> helped me get those VTK objects attached to paraview using the servermanager
>>>> module a few weeks ago so I can do co-processing now as well.   I'm already
>>>> able to composite, render, and interact with 3D objects using my Qt front
>>>> end and the python VTK API.  I think it will be fairly simple to have the
>>>> rank 0 engine generate a PNG of the rendered/composited image that will
>>>> fulfill the requirements of an IPython PNG DisplayObject. That would give us
>>>> non-interactive images of the solution in the notebook.
>>>> 
>>>> My question is whether there is a way to add ParaViewWeb into this
>>>> collection of processes so we can generate not only stills but get full
>>>> interactive 3D visualization in the notebook. I was thinking that a
>>>> DisplayObject of type HTML, JSON, or Javascript might be able to write a bit
>>>> of code that would point the browser to the tomcat server running a paraview
>>>> web service. That service would itself be connected back to the same data
>>>> sets on the engines. Something like this:
>>>> 
>>>> WebClient <-> Tornado <-> IPython Client ....  <-> python engines (with
>>>> VTK objects and a servermanager)
>>>>                                  ^
>>>>                       ^
>>>>                                   |
>>>>                        |
>>>>                             Tomcat <-> ParaViewWS <->       PW server
>>>> 
>>>> Anyway, if this seems like it's feasible I'd be willing to build all the
>>>> paraview web components on my laptop where I already have IPython, VTK, and
>>>> Paraview co-processing working. If that works then we might be able to get
>>>> some support for something more ambitious where the engines are running on
>>>> HPC machines.
>>>> 
>>>> Thanks,
>>>> Chris
>>>> 
>>>> 
>>>> On Nov 29, 2011, at 12:26 PM, Sebastien Jourdain wrote:
>>>> 
>>>> Hi Randall,
>>>> 
>>>> This sounds good, so tomcat can easily be used on any user account
>>>> with no right outside his home. You can even strip down the default
>>>> package of tomcat so you get only the minimum required for ParaViewWeb
>>>> and you can run it on any port higher than 1024.
>>>> 
>>>> To do that, you will need to download tomcat on your own and
>>>> unzip/untar it, then deploy ParaViewWeb into it and start tomcat
>>>> yourself.
>>>> That's basically what we are doing for its development.
>>>> 
>>>> Hope this help,
>>>> 
>>>> Seb
>>>> 
>>>> On Tue, Nov 29, 2011 at 1:01 PM, Randall Hand <randall.hand at gmail.com>
>>>> wrote:
>>>> 
>>>> Something I can run entirely without any higher-permissions to the
>>>> system,
>>>> 
>>>> with no access to /etc or /usr folders.
>>>> 
>>>> 
>>>> Sebastien Jourdain wrote:
>>>> 
>>>> 
>>>> Hi Randall,
>>>> 
>>>> 
>>>> Can you be more specific by what you mean by "standalone" and by
>>>> 
>>>> "can't use Tomcat" ?
>>>> 
>>>> Because, for me tomcat can be standalone. Would you think something
>>>> 
>>>> more embedded such as Jetty or something that does not involved Java
>>>> 
>>>> at all ?
>>>> 
>>>> 
>>>> Thanks,
>>>> 
>>>> 
>>>> Seb
>>>> 
>>>> 
>>>> On Tue, Nov 29, 2011 at 10:00 AM, Randall Hand<randall.hand at gmail.com>
>>>> 
>>>>  wrote:
>>>> 
>>>> 
>>>> I have a user interested in using ParaViewWeb as a front-end to some
>>>> 
>>>> visualization tasks, however we can't use TomCat in our environment.  Is
>>>> 
>>>> there any kind of "Standalone" service that can be used as a replacement?
>>>> 
>>>> 
>>>> I know several apps that expose a web interface offer a limited function
>>>> 
>>>> webserver (trac, ipython, etc) that allows it to work standalone without
>>>> 
>>>> any
>>>> 
>>>> external webserver configured.  Does such a setup exist for ParaViewWeb?
>>>> 
>>>> --
>>>> 
>>>> Randall Hand
>>>> 
>>>> http://www.vizworld.com
>>>> 
>>>> 
>>>> _______________________________________________
>>>> 
>>>> Powered by www.kitware.com
>>>> 
>>>> 
>>>> Visit other Kitware open-source projects at
>>>> 
>>>> http://www.kitware.com/opensource/opensource.html
>>>> 
>>>> 
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> 
>>>> http://paraview.org/Wiki/ParaView
>>>> 
>>>> 
>>>> Follow this link to subscribe/unsubscribe:
>>>> 
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>> 
>>>> 
>>>> 
>>>> --
>>>> 
>>>> Randall Hand
>>>> 
>>>> http://www.vizworld.com
>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>> 
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>> 
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>> 
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>> 
>>>> 
>>>> 
>>> 
>> 


From dave.demarle at kitware.com  Fri Dec  2 17:17:32 2011
From: dave.demarle at kitware.com (David E DeMarle)
Date: Fri, 2 Dec 2011 17:17:32 -0500
Subject: [Paraview] Accessing global variables using the python interface
In-Reply-To: <9047EE0D4D3C8E43B93980DA10A0738055070AAA@EXMB04.srn.sandia.gov>
References: <9047EE0D4D3C8E43B93980DA10A0738055070AAA@EXMB04.srn.sandia.gov>
Message-ID: <CANjZAi_ohhdODTDTFP46GYAfjuuxQWEe=jBmDByGx88tkXopfA@mail.gmail.com>

Does he want servermanager.Fetch()?

That will bring the output data produced by a particular filter back
to the client. From there you can use the py wrapped vtk API to work
with the data set and the arrays it contains directly.

Alternatively he can write a py programmable filter that can access
the data on the server side, but in parallel he'll have to be away of
the way the data is split across processors.

David E DeMarle
Kitware, Inc.
R&D Engineer
21 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-881-4909



On Thu, Dec 1, 2011 at 9:30 PM, Scott, W Alan <wascott at sandia.gov> wrote:
>
> A question from my user on accessing global variables using python. ?Any advice?
>
> Thanks,
>
> Alan
>
>
>
> Hello, ?I am fairly new to using paraview and python and am trying to figure out how I can access a global variable from the python shell. ?Essentially, what I am trying to do is access a force vs. time curve so that I can interpolate to find at what time a certain force would occur. ?It seems like it should be pretty simple to pull the curve into a python table so that I could manipulate it, but I have come up empty. ?Any instruction/resources you could point me to would be very helpful.
>
> Thanks, Russ
>
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From utkarsh.ayachit at kitware.com  Fri Dec  2 17:38:54 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Fri, 2 Dec 2011 17:38:54 -0500
Subject: [Paraview] Help file for Custom plugin NOT being included with
 Deployed ParaView.
In-Reply-To: <CADHSJjCvoHYiEH5dwS9qHhrPtePH6Av0iVVaUJS2FbvCsAKL1g@mail.gmail.com>
References: <176D3EDD-3CEA-4E04-A8E5-453A7732569B@bluequartz.net>
	<6E4B8FAF-918A-47F5-A129-BF05EE32D88F@bluequartz.net>
	<CADHSJjD3aMSbHG6VuXBVATzXEneaSBmhAUFsh21RZ8U3crQGyw@mail.gmail.com>
	<5D0BAEA4-2B0D-4409-B04E-8F7E93D04C3A@bluequartz.net>
	<CADHSJjCvoHYiEH5dwS9qHhrPtePH6Av0iVVaUJS2FbvCsAKL1g@mail.gmail.com>
Message-ID: <CADHSJjC4Pki_MwgNunkjt+mKcQUK1s_KT1B=O9+XFXeA_CHxLQ@mail.gmail.com>

Folks,

I've made some progress on this. If anyone's interested in trying this
out, I've pushed my latest revision to branch
"12745_help_from_plugins" on the ParaView stage. It supports the
following:
* automatic generation of documentation from ServerManager XMLs
specified in ADD_PARAVIEW_PLUGIN macro e.g. Moments plugin
(ParaView/Plugins/Moments).
* adding custom html/png/jpg/css files as documentation for a plugin
by using DOCUMENTATION_DIR keyword in ADD_PARAVIEW_PLUGIN macro e.g.
SurfaceLIC plugin (ParaView/Plugins/SurfaceLIC).

I've changed the way documentation from XML was generated as well, by
removing the vtkSMExtractDocumentation executable, instead using
"xmlpatterns" command line tool distributed with Qt.

Currently, the plugin needs to be loaded on client side to work, but
the design supports loading the plugin on the server-side alone (I
just need to hookup the plumbing).

Any feedback is welcome.

Utkarsh

On Mon, Nov 28, 2011 at 10:53 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> FYI, this feature is under development :
> http://paraview.org/Bug/view.php?id=12745.
>
> The changes are not trivial, so it won't make into a patch but will be
> included in 4.0.
>
> Utkarsh
>
> On Mon, Nov 21, 2011 at 3:15 PM, Michael Jackson
> <mike.jackson at bluequartz.net> wrote:
>> It would seem that people writing plugins would want to provide some sort of help for their plugins but after looking through the Plugins directory that comes with ParaView I see that there are NO help files for any of those plugins which makes me think I am in the minority in this case.
>>
>> ?It would seem that the first thing would be to push the generation of the documentation off until AFTER all the plugin CMake code has been run through. If this is possible (and easy) then moving forward with a mechanism to include help files becomes much easier. It almost is as easy as appending to PV_DOCUMENTATION_FILES. I would expect this could be included in a patch release for 3.12 if that occurs. If there is much more that needs to be done then 4.0 is probably a better target.
>>
>> Thoughts.
>> --
>> Mike Jackson <www.bluequartz.net>
>>
>> On Nov 21, 2011, at 2:53 PM, Utkarsh Ayachit wrote:
>>
>>> Mike,
>>>
>>> You're correct. This has been a long pending feature request. If
>>> there's enough interest in adding support for this, we can fix it for
>>> 4.0.
>>>
>>> Utkarsh
>>>
>>> On Mon, Nov 21, 2011 at 2:41 PM, Michael Jackson
>>> <mike.jackson at bluequartz.net> wrote:
>>>> It looks like currently there were not any provisions made to include a plugins help files into paraview directly. Looking through the CMake files the documentation is created _before_ the plugin CMake code is called so with out rearranging that cmake code there probably isn't any chance of having my documentation put in.
>>>>
>>>> ?Or I am just plain missing something.
>>>> --
>>>> Mike Jackson <www.bluequartz.net>
>>>>
>>>> On Nov 21, 2011, at 1:44 PM, Michael Jackson wrote:
>>>>
>>>>> I have written a couple of plugins for ParaView and updated them for 3.12.0. I have an HTML file for each filter/reader/writer that I created that contains the documentation. How can I get those files included into ParaView so that if the user clicks the "?" button my HTML page will show up?
>>>>>
>>>>> Thanks
>>>>> ___________________________________________________________
>>>>> Mike Jackson ? ? ? ? ? ? ? ? ? ?Principal Software Engineer
>>>>> BlueQuartz Software ? ? ? ? ? ? ? ? ? ? ? ? ? ?Dayton, Ohio
>>>>> mike.jackson at bluequartz.net ? ? ? ? ? ? ?www.bluequartz.net
>>>>>
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>

From f.braennstroem at gmx.de  Sat Dec  3 03:45:58 2011
From: f.braennstroem at gmx.de (Fabian Braennstroem)
Date: Sat, 03 Dec 2011 09:45:58 +0100
Subject: [Paraview] Ensight Files - crash with 3.10 and 3.12
Message-ID: <4ED9E1C6.8080307@gmx.de>

Hello,

I have a problem with Ensight files created by OpenFOAM.
Paraview crashs as soon as I try to create a slice directly after 
loading the file... but only for version 3.10 and 3.12, but it
works for 3.8.

fbraenns at elephant: 
/data2/WORK/fbraenns/R2N/CFD/Saloon/VI2N_VI1N/M02_B03_G07_OF__Mesh_82Mio_Case1 
$ pv12
Find an unexpected case. The input polyhedron cell may not be a water 
tight or the polygonal faces may not be planar. Contouring will 
continue, but this cell may not be processed correctly.
Qt has caught an exception thrown from an event handler. Throwing
exceptions from an event handler is not supported in Qt. You must
reimplement QApplication::notify() and catch all exceptions there.

terminate called after throwing an instance of 'std::bad_alloc'
   what():  std::bad_alloc
Aborted
fbraenns at elephant: 
/data2/WORK/fbraenns/R2N/CFD/Saloon/VI2N_VI1N/M02_B03_G07_OF__Mesh_82Mio_Case1 
$ pv10
Qt has caught an exception thrown from an event handler. Throwing
exceptions from an event handler is not supported in Qt. You must
reimplement QApplication::notify() and catch all exceptions there.

terminate called after throwing an instance of 'std::bad_alloc'
   what():  std::bad_alloc
Aborted

As written this does not happen with the 3.8. version.
Do you have an idea?

Best Regards
Fabian

From cekees at gmail.com  Sat Dec  3 11:24:06 2011
From: cekees at gmail.com (Chris Kees)
Date: Sat, 3 Dec 2011 10:24:06 -0600
Subject: [Paraview] make install errors
Message-ID: <CAOVFbFifhNbHP-ETr40ceh0hhoCr1WJabZV0+ZYp9MRW_1q42Q@mail.gmail.com>

Hi,

Here are a few minor issues installing paraview 3.12 on os x 10.7.  The
installed app and libraries still work fine

1) Not sure what this one means but the directory is there, though it has a
space in the path
-- 310/426: fixing up '/Users/cekees/proteus/darwinports/ParaView
3.12.0-468-gacdee51.app/Contents/Frameworks/Python.framework/Versions/2.7/Python'
install_name_tool: can't open input file:
/Users/cekees/proteus/darwinports/ParaView
3.12.0-468-gacdee51.app/Contents/Frameworks/Python.framework/Versions/2.7/Python
for writing (Permission denied)
install_name_tool: can't lseek to offset: 0 in file:
/Users/cekees/proteus/darwinports/ParaView
3.12.0-468-gacdee51.app/Contents/Frameworks/Python.framework/Versions/2.7/Python
for writing (Bad file descriptor)
install_name_tool: can't write new headers in file:
/Users/cekees/proteus/darwinports/ParaView
3.12.0-468-gacdee51.app/Contents/Frameworks/Python.framework/Versions/2.7/Python
(Bad file descriptor)
install_name_tool: can't close written on input file:
/Users/cekees/proteus/darwinports/ParaView
3.12.0-468-gacdee51.app/Contents/Frameworks/Python.framework/Versions/2.7/Python
(Bad file descriptor)

2) Also not sure what this means:

CMake Error at /Applications/CMake
2.8-5.app/Contents/share/cmake-2.8/Modules/BundleUtilities.cmake:784
(message):
  error: verify_app failed
Call Stack (most recent call first):
  /Applications/CMake
2.8-5.app/Contents/share/cmake-2.8/Modules/BundleUtilities.cmake:666
(verify_app)

Applications/ParaView/LastConfigureStep/ParaView_OSX_MakeStandAloneBundle.cmake:157
(fixup_bundle)
  Applications/ParaView/LastConfigureStep/cmake_install.cmake:31 (INCLUDE)
  Applications/ParaView/cmake_install.cmake:37 (INCLUDE)
  Applications/cmake_install.cmake:32 (INCLUDE)
  cmake_install.cmake:118 (INCLUDE)


3) The extension modules for co-processing are not getting installed into
the python module. The current setup would requires users to set
DYLD_LIBRARY_PATH to the build directory ( ParaView-bin/bin is the only
place I can find vtkCoProcessorPython.so). Maybe this relates the install
errors in (1)?

4) This one is really trivial, but ... the help message for
PARAVIEW_INSTALL_DEVELOPMENT says that that options installs files for
plugin development. A more precise message would have saved me some time:
"installs header files for paraview and vtk development". I don't develop
plugins but I use vtk directly.

-Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111203/583fd8e1/attachment-0001.htm>

From sebastien.jourdain at kitware.com  Sat Dec  3 18:20:18 2011
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Sat, 3 Dec 2011 18:20:18 -0500
Subject: [Paraview] ParaViewWeb & TomCat
In-Reply-To: <325EAB18-3209-4E21-9B44-1F08597B3304@gmail.com>
References: <4ED4F380.2050007@gmail.com>
	<CABObKxeh+JsbPJX_qU3EzPWmqYs1+NhMr+DySz1iuXnKs4RfnQ@mail.gmail.com>
	<4ED51DE9.7070900@gmail.com>
	<CABObKxejhGyOiEjoUe_9v_wtVsOum94sEMOLCGvB-izjPRpNCw@mail.gmail.com>
	<4BEA4916-A302-418F-88B0-DAA9D1CD156A@gmail.com>
	<CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
	<CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>
	<CABObKxcNjO37MFv30Pv63aVQ5=zYMfkaoh5pbKR53hB_iGwzFA@mail.gmail.com>
	<325EAB18-3209-4E21-9B44-1F08597B3304@gmail.com>
Message-ID: <CABObKxecy5JAEdeRKA20BOZmxywB50bLE8HvEqyzpfsnqdFbwg@mail.gmail.com>

Hi Chris,

I respond directly in your mail

> As a first cut, I think it would be fine to have the engines write out their data. ?Andy can correct me if I'm wrong, but I think we could use the co-processing to write just the subset of geometry and field data that we want to display in the notebook. If I understand correctly, with that approach we could ?then just focus on starting PWServer, reading in the data files, and setting up the communication between tornado and tomcat.

With that cut, you can definitely use ParaViewWeb as is and let a
JavaScript code start the PWServer for you. The only thing that you
have to provide is the path to that data file... And yes, you can do
from the co-processing dump the stripped version of the data to the
disk.

> For future reference, when we want to move beyond dumping the data, here is how each engine is connected to paraview: A module called vtkViewers has been imported by each python engine and executed the following code:
>
> from paraview import servermanager
> global globalController, newGlobalController
> paraview.options.batch = True
> paraview.options.symmetric = True
> pm = servermanager.vtkProcessModule.GetProcessModule()
> globalController = pm.GetGlobalController()
> ...
>
> In addition to this bit, each engine has attached it's mesh and field data arrays to the proper VTK containers and set up a parallel visualization pipeline. ?It can potentially also read in a co-processing script to set up additional visualization. ?I was hoping that this setup would eventually allow us to start a PWServer and attach it to the pvserver which is directly connected to the VTK objects in memory on each engines.

This is kind of possible by starting pvserver in collaborative mode
and have the PWSever connecting to that running pvserver in the same
time as your python engine.

>> - On the ParaViewWeb side (tomcat web app) you will have to patch the
>> code so it won't prevent you to connect to a process that was not
>> started by itself. (I can help you with that, it should be pretty
>> simple)
>
> Thanks, that would be very helpful.

This will only be needed if you need to start PWServer from python,
but if you dump the data somewhere you won't need it at all.

> I'll look into that. I'm going to visit the IPython notebook developers next week and can get some help on working with tornado. I think it will help if I can get the standard ParaViewWeb setup working.

Sure just let me know if you are running into issues...

>> PS: For your later mail did you get the source form here
>> (http://paraview.org/ParaViewWeb.git) which is not github ?
>
> Yes, sorry, I got it from paraview.org.

ok, good I was scared that you pick an old version on the web before
we get our git repo setup...

> Somewhere on the list somebody mentioned upgrading to activemq 3.4 so I did too. I should only need activemq cpp libs, paraview, and PW server to successfully build and make tests, right?

Yes

Normally with the latest version in the repository you should use the
current (latest) stable version of activemq-cpp without any issue.
Maybe the documentation is slightly off regarding that part.
Then the make test is not really needed in fact, you should just make
sure that when you start PWServer it is not segfaulting... Other than
that you should setup the WORKING_DIR and the TOMCAT_HOME to allow the
deploy of the application. Once it's done, just do "make; make
deploy", then make sure activemq is started and start tomcat.

Look at the tomcat log once you connect to any sample ParaViewWeb
application to make sure you don;t get any exception. On top of that
if it is not working, double check the logs that are in the
WORKING_DIR/logs. And come back to the paraviewweb mailing list...

When you stop tomcat, make sure it properly did before restarting it.
(ps aux | grep java | grep tomcat)

Seb

From sebastien.jourdain at kitware.com  Sun Dec  4 16:55:34 2011
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Sun, 4 Dec 2011 16:55:34 -0500
Subject: [Paraview] ParaViewWeb & TomCat
In-Reply-To: <CABObKxecy5JAEdeRKA20BOZmxywB50bLE8HvEqyzpfsnqdFbwg@mail.gmail.com>
References: <4ED4F380.2050007@gmail.com>
	<CABObKxeh+JsbPJX_qU3EzPWmqYs1+NhMr+DySz1iuXnKs4RfnQ@mail.gmail.com>
	<4ED51DE9.7070900@gmail.com>
	<CABObKxejhGyOiEjoUe_9v_wtVsOum94sEMOLCGvB-izjPRpNCw@mail.gmail.com>
	<4BEA4916-A302-418F-88B0-DAA9D1CD156A@gmail.com>
	<CAMaOp+HSKHkn3rhnC6FOh604zdwTu-RD+yHDnpn_B+BA6kKhFw@mail.gmail.com>
	<CAOVFbFgM8hh+pMV4eUBgqotimjF3=7hh-Ctk4BnmpJ3H7EQaAw@mail.gmail.com>
	<CABObKxcNjO37MFv30Pv63aVQ5=zYMfkaoh5pbKR53hB_iGwzFA@mail.gmail.com>
	<325EAB18-3209-4E21-9B44-1F08597B3304@gmail.com>
	<CABObKxecy5JAEdeRKA20BOZmxywB50bLE8HvEqyzpfsnqdFbwg@mail.gmail.com>
Message-ID: <CABObKxdR-OqtxCvsr1jJ12O2Uk61AzTa+RM2hg2B13bUESEuzA@mail.gmail.com>

Hi Chris,

are you on Mac ? Because, I kind of remember an issue with
activemq-cpp on Mac. You will need to checkout their source to get rid
off the segfault at runtime...

Seb

On Sat, Dec 3, 2011 at 6:20 PM, Sebastien Jourdain
<sebastien.jourdain at kitware.com> wrote:
> Hi Chris,
>
> I respond directly in your mail
>
>> As a first cut, I think it would be fine to have the engines write out their data. ?Andy can correct me if I'm wrong, but I think we could use the co-processing to write just the subset of geometry and field data that we want to display in the notebook. If I understand correctly, with that approach we could ?then just focus on starting PWServer, reading in the data files, and setting up the communication between tornado and tomcat.
>
> With that cut, you can definitely use ParaViewWeb as is and let a
> JavaScript code start the PWServer for you. The only thing that you
> have to provide is the path to that data file... And yes, you can do
> from the co-processing dump the stripped version of the data to the
> disk.
>
>> For future reference, when we want to move beyond dumping the data, here is how each engine is connected to paraview: A module called vtkViewers has been imported by each python engine and executed the following code:
>>
>> from paraview import servermanager
>> global globalController, newGlobalController
>> paraview.options.batch = True
>> paraview.options.symmetric = True
>> pm = servermanager.vtkProcessModule.GetProcessModule()
>> globalController = pm.GetGlobalController()
>> ...
>>
>> In addition to this bit, each engine has attached it's mesh and field data arrays to the proper VTK containers and set up a parallel visualization pipeline. ?It can potentially also read in a co-processing script to set up additional visualization. ?I was hoping that this setup would eventually allow us to start a PWServer and attach it to the pvserver which is directly connected to the VTK objects in memory on each engines.
>
> This is kind of possible by starting pvserver in collaborative mode
> and have the PWSever connecting to that running pvserver in the same
> time as your python engine.
>
>>> - On the ParaViewWeb side (tomcat web app) you will have to patch the
>>> code so it won't prevent you to connect to a process that was not
>>> started by itself. (I can help you with that, it should be pretty
>>> simple)
>>
>> Thanks, that would be very helpful.
>
> This will only be needed if you need to start PWServer from python,
> but if you dump the data somewhere you won't need it at all.
>
>> I'll look into that. I'm going to visit the IPython notebook developers next week and can get some help on working with tornado. I think it will help if I can get the standard ParaViewWeb setup working.
>
> Sure just let me know if you are running into issues...
>
>>> PS: For your later mail did you get the source form here
>>> (http://paraview.org/ParaViewWeb.git) which is not github ?
>>
>> Yes, sorry, I got it from paraview.org.
>
> ok, good I was scared that you pick an old version on the web before
> we get our git repo setup...
>
>> Somewhere on the list somebody mentioned upgrading to activemq 3.4 so I did too. I should only need activemq cpp libs, paraview, and PW server to successfully build and make tests, right?
>
> Yes
>
> Normally with the latest version in the repository you should use the
> current (latest) stable version of activemq-cpp without any issue.
> Maybe the documentation is slightly off regarding that part.
> Then the make test is not really needed in fact, you should just make
> sure that when you start PWServer it is not segfaulting... Other than
> that you should setup the WORKING_DIR and the TOMCAT_HOME to allow the
> deploy of the application. Once it's done, just do "make; make
> deploy", then make sure activemq is started and start tomcat.
>
> Look at the tomcat log once you connect to any sample ParaViewWeb
> application to make sure you don;t get any exception. On top of that
> if it is not working, double check the logs that are in the
> WORKING_DIR/logs. And come back to the paraviewweb mailing list...
>
> When you stop tomcat, make sure it properly did before restarting it.
> (ps aux | grep java | grep tomcat)
>
> Seb

From Thomas.Witkowski at tu-dresden.de  Mon Dec  5 06:14:07 2011
From: Thomas.Witkowski at tu-dresden.de (Thomas Witkowski)
Date: Mon, 05 Dec 2011 12:14:07 +0100
Subject: [Paraview] Out of memory when exporting animations
Message-ID: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>

Hi,

I want to export an animation of a pvd file to a stack of png files. I  
use ParaView 3.10.0 and remote rendering, thus, I start the pvserver  
on a remote machine. When exporting the animation, or even when I step  
through the data using the time line, the X-Server on the remote  
machine run outs of memory. It seems that when going from one timestep  
to another one the data from the old timestep is not freed. What's  
wrong? I alread disabled "cache geometry" on the local client.

Thanks for any advise,

Thomas

From stan1313 at hotmail.fr  Mon Dec  5 08:28:08 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Mon, 5 Dec 2011 14:28:08 +0100
Subject: [Paraview] Creating a ribbon
In-Reply-To: <4ED75C5E.7070006@kitware.com>
References: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>,
	<4ED75C5E.7070006@kitware.com>
Message-ID: <BAY148-W26621422E4774002811CABB2B50@phx.gbl>


It is not a reliable solution to my problem because it works in 2D and my contours are all but almost planars, which makes it very hard to find an appropriate transform.I finally wrote my own algorithm and, waiting to find a bad use case :-), it works for the time being.Anyway thx for trying to help me.
Date: Thu, 1 Dec 2011 11:52:14 +0100
From: jerome.velut at kitware.com
To: stan1313 at hotmail.fr
CC: paraview at paraview.org
Subject: Re: [Paraview] Creating a ribbon


  


    
  
  
    Hi,

    

    You can easily add the vtkRuledSurfaceFilter from VTK in ParaView. I
    already did it in my Peavip stuffs
    (http://github.com/jeromevelut/Peavip).

    If your polylines are in different sources (eg. two different
    SplineSources), you'll have to pass them through "Append Geometry"
    prior he RuledSurfaceFilter

    

    HTH

    Jerome

    

    On 11/29/2011 09:31 PM, Fred Fred wrote:
    
      
      
        Hello,
        I have 2 polylines and I would like to create a ribbon
          between them, ie a triangulation. I did not find any suitable
          class but I wonder if I did not miss anything, any help?
        

        
        

        
      
      

      
      

      _______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

    
    

    

    -- 

      Kitware SAS

      26 rue Louis Gu?rin

      69100 Villeurbanne, France

      F: +33 (0)4.37.45.04.15

      http://www.kitware.fr 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/8145ee2e/attachment.htm>

From aur.marsan at gmail.com  Mon Dec  5 08:49:26 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 5 Dec 2011 14:49:26 +0100
Subject: [Paraview] import scipy.signal failed...
In-Reply-To: <CALBJ7LJ_jzE9a4_TJtcy2hhUPuQaiKx4L=EwJvBSfr00qZAd5w@mail.gmail.com>
References: <CALBJ7L+NyqXX2uCkq8uDt2Xqx6kskvw_iUr9CwdQWaCDwiFqwg@mail.gmail.com>
	<CAPxbyhyYYLXqY_TpJT9P7HPCtYgDj6Zi9KiLbr==UTCs3yo5eg@mail.gmail.com>
	<CALBJ7LKe17BucBH_s8aOEFbbo47oh_owGdD3G20yGtth6FHzow@mail.gmail.com>
	<CALBJ7LJ_jzE9a4_TJtcy2hhUPuQaiKx4L=EwJvBSfr00qZAd5w@mail.gmail.com>
Message-ID: <CALBJ7LLZUh3MA6Wuv607RApi9L1r=pYw3vP9pANeT2_aRCYrjA@mail.gmail.com>

Good Morning,

A colleague, who has just received his new windows 7 64 bits computer also
tried to get Paraview 3.12 64 bits, and to make scipy.signal avalaible.
He encountered the same issue as me, and can't import scipy.signal in the
paraview python shell.

Should I then put a bug in Mantis Bug Tracker ?



Le 29 novembre 2011 10:56, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit :

> Some news about always the same issue.
> I compile Paraview 3.12 by my own, using the Python 2.7 installed on my
> system.
>
> Again, I can not import scipy.signal.
> Does someone achieve this ?
>
> Thanks,
>
> A.Marsan
>
> Le 18 novembre 2011 15:14, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit
> :
>
>  Non there isn't anything.
>> Only a runtime error...
>> Le 17 novembre 2011 15:31, David Partyka <david.partyka at kitware.com> a
>> ?crit :
>>
>> Is there any output on the python shell like failing to load a module?
>>>
>>> 2011/11/16 Aur?lien Marsan <aur.marsan at gmail.com>
>>>
>>>>  One more time, I'm in trouble.. !
>>>>
>>>> When importing scipy.signal in the python shell, within paraview 3.12.064 bits, it becomes locked... and I do have to kill the process.
>>>> Though, when executing pvpython, I can import scipy.signal without any
>>>> trouble, and it seems to work well.
>>>>
>>>> So what do I miss ?
>>>>
>>>> Regards,
>>>>
>>>> Aurelien
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/3411c200/attachment.htm>

From david.partyka at kitware.com  Mon Dec  5 08:51:31 2011
From: david.partyka at kitware.com (David Partyka)
Date: Mon, 5 Dec 2011 08:51:31 -0500
Subject: [Paraview] import scipy.signal failed...
In-Reply-To: <CALBJ7LLZUh3MA6Wuv607RApi9L1r=pYw3vP9pANeT2_aRCYrjA@mail.gmail.com>
References: <CALBJ7L+NyqXX2uCkq8uDt2Xqx6kskvw_iUr9CwdQWaCDwiFqwg@mail.gmail.com>
	<CAPxbyhyYYLXqY_TpJT9P7HPCtYgDj6Zi9KiLbr==UTCs3yo5eg@mail.gmail.com>
	<CALBJ7LKe17BucBH_s8aOEFbbo47oh_owGdD3G20yGtth6FHzow@mail.gmail.com>
	<CALBJ7LJ_jzE9a4_TJtcy2hhUPuQaiKx4L=EwJvBSfr00qZAd5w@mail.gmail.com>
	<CALBJ7LLZUh3MA6Wuv607RApi9L1r=pYw3vP9pANeT2_aRCYrjA@mail.gmail.com>
Message-ID: <CAPxbyhzkhbNdBLWyznxGVpGXg-WEOM_R74uMz-2TRdhMoojkAQ@mail.gmail.com>

Yes please, and detailed steps you're taking to produce the issue. Thanks!

2011/12/5 Aur?lien Marsan <aur.marsan at gmail.com>

> Good Morning,
>
> A colleague, who has just received his new windows 7 64 bits computer also
> tried to get Paraview 3.12 64 bits, and to make scipy.signal avalaible.
> He encountered the same issue as me, and can't import scipy.signal in the
> paraview python shell.
>
> Should I then put a bug in Mantis Bug Tracker ?
>
>
>
> Le 29 novembre 2011 10:56, Aur?lien Marsan <aur.marsan at gmail.com> a ?crit
> :
>
>  Some news about always the same issue.
>> I compile Paraview 3.12 by my own, using the Python 2.7 installed on my
>> system.
>>
>> Again, I can not import scipy.signal.
>> Does someone achieve this ?
>>
>> Thanks,
>>
>> A.Marsan
>>
>> Le 18 novembre 2011 15:14, Aur?lien Marsan <aur.marsan at gmail.com> a
>> ?crit :
>>
>>  Non there isn't anything.
>>> Only a runtime error...
>>> Le 17 novembre 2011 15:31, David Partyka <david.partyka at kitware.com> a
>>> ?crit :
>>>
>>> Is there any output on the python shell like failing to load a module?
>>>>
>>>> 2011/11/16 Aur?lien Marsan <aur.marsan at gmail.com>
>>>>
>>>>>  One more time, I'm in trouble.. !
>>>>>
>>>>> When importing scipy.signal in the python shell, within paraview
>>>>> 3.12.0 64 bits, it becomes locked... and I do have to kill the
>>>>> process.
>>>>> Though, when executing pvpython, I can import scipy.signal without any
>>>>> trouble, and it seems to work well.
>>>>>
>>>>> So what do I miss ?
>>>>>
>>>>> Regards,
>>>>>
>>>>> Aurelien
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/bb93d92c/attachment-0001.htm>

From utkarsh.ayachit at kitware.com  Mon Dec  5 09:26:33 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 5 Dec 2011 09:26:33 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
Message-ID: <CADHSJjC=BtGTELYRC628ZkqdQ7wED67jRET1x=FngK11n9fJjw@mail.gmail.com>

Is this with OSMesa?

Utkarsh

On Mon, Dec 5, 2011 at 6:14 AM, Thomas Witkowski
<Thomas.Witkowski at tu-dresden.de> wrote:
> Hi,
>
> I want to export an animation of a pvd file to a stack of png files. I use
> ParaView 3.10.0 and remote rendering, thus, I start the pvserver on a remote
> machine. When exporting the animation, or even when I step through the data
> using the time line, the X-Server on the remote machine run outs of memory.
> It seems that when going from one timestep to another one the data from the
> old timestep is not freed. What's wrong? I alread disabled "cache geometry"
> on the local client.
>
> Thanks for any advise,
>
> Thomas
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From Thomas.Witkowski at tu-dresden.de  Mon Dec  5 09:44:00 2011
From: Thomas.Witkowski at tu-dresden.de (Thomas Witkowski)
Date: Mon, 05 Dec 2011 15:44:00 +0100
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjC=BtGTELYRC628ZkqdQ7wED67jRET1x=FngK11n9fJjw@mail.gmail.com>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<CADHSJjC=BtGTELYRC628ZkqdQ7wED67jRET1x=FngK11n9fJjw@mail.gmail.com>
Message-ID: <20111205154400.yt5ko2bleskock0o@mail.zih.tu-dresden.de>

Is there a simple way to find this out? I have not compiled/installed  
the paraview server.

Thomas

Zitat von Utkarsh Ayachit <utkarsh.ayachit at kitware.com>:

> Is this with OSMesa?
>
> Utkarsh
>
> On Mon, Dec 5, 2011 at 6:14 AM, Thomas Witkowski
> <Thomas.Witkowski at tu-dresden.de> wrote:
>> Hi,
>>
>> I want to export an animation of a pvd file to a stack of png files. I use
>> ParaView 3.10.0 and remote rendering, thus, I start the pvserver on a remote
>> machine. When exporting the animation, or even when I step through the data
>> using the time line, the X-Server on the remote machine run outs of memory.
>> It seems that when going from one timestep to another one the data from the
>> old timestep is not freed. What's wrong? I alread disabled "cache geometry"
>> on the local client.
>>
>> Thanks for any advise,
>>
>> Thomas
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>



From utkarsh.ayachit at kitware.com  Mon Dec  5 09:50:28 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 5 Dec 2011 09:50:28 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <20111205154400.yt5ko2bleskock0o@mail.zih.tu-dresden.de>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<CADHSJjC=BtGTELYRC628ZkqdQ7wED67jRET1x=FngK11n9fJjw@mail.gmail.com>
	<20111205154400.yt5ko2bleskock0o@mail.zih.tu-dresden.de>
Message-ID: <CADHSJjDkTKHq3AKEVg1hMdLUpGVh5BHb63FPdc2XRJ6WQ=yaRw@mail.gmail.com>

Try an ldd on the pvserver. What OpenGL libraries is it linking to.

Utkarsh

On Mon, Dec 5, 2011 at 9:44 AM, Thomas Witkowski
<Thomas.Witkowski at tu-dresden.de> wrote:
> Is there a simple way to find this out? I have not compiled/installed the
> paraview server.
>
> Thomas
>
> Zitat von Utkarsh Ayachit <utkarsh.ayachit at kitware.com>:
>
>
>> Is this with OSMesa?
>>
>> Utkarsh
>>
>> On Mon, Dec 5, 2011 at 6:14 AM, Thomas Witkowski
>> <Thomas.Witkowski at tu-dresden.de> wrote:
>>>
>>> Hi,
>>>
>>> I want to export an animation of a pvd file to a stack of png files. I
>>> use
>>> ParaView 3.10.0 and remote rendering, thus, I start the pvserver on a
>>> remote
>>> machine. When exporting the animation, or even when I step through the
>>> data
>>> using the time line, the X-Server on the remote machine run outs of
>>> memory.
>>> It seems that when going from one timestep to another one the data from
>>> the
>>> old timestep is not freed. What's wrong? I alread disabled "cache
>>> geometry"
>>> on the local client.
>>>
>>> Thanks for any advise,
>>>
>>> Thomas
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
>

From Thomas.Witkowski at tu-dresden.de  Mon Dec  5 10:05:08 2011
From: Thomas.Witkowski at tu-dresden.de (Thomas Witkowski)
Date: Mon, 05 Dec 2011 16:05:08 +0100
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjDkTKHq3AKEVg1hMdLUpGVh5BHb63FPdc2XRJ6WQ=yaRw@mail.gmail.com>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<CADHSJjC=BtGTELYRC628ZkqdQ7wED67jRET1x=FngK11n9fJjw@mail.gmail.com>
	<20111205154400.yt5ko2bleskock0o@mail.zih.tu-dresden.de>
	<CADHSJjDkTKHq3AKEVg1hMdLUpGVh5BHb63FPdc2XRJ6WQ=yaRw@mail.gmail.com>
Message-ID: <20111205160508.remep0jhcg4ko8g4@mail.zih.tu-dresden.de>

When doing the ldd, the only line with GL related information is:

libGL.so.1 => /usr/lib64/libGL.so.1 (0x00007f4179705000)

Thomas

Zitat von Utkarsh Ayachit <utkarsh.ayachit at kitware.com>:

> Try an ldd on the pvserver. What OpenGL libraries is it linking to.
>
> Utkarsh
>
> On Mon, Dec 5, 2011 at 9:44 AM, Thomas Witkowski
> <Thomas.Witkowski at tu-dresden.de> wrote:
>> Is there a simple way to find this out? I have not compiled/installed the
>> paraview server.
>>
>> Thomas
>>
>> Zitat von Utkarsh Ayachit <utkarsh.ayachit at kitware.com>:
>>
>>
>>> Is this with OSMesa?
>>>
>>> Utkarsh
>>>
>>> On Mon, Dec 5, 2011 at 6:14 AM, Thomas Witkowski
>>> <Thomas.Witkowski at tu-dresden.de> wrote:
>>>>
>>>> Hi,
>>>>
>>>> I want to export an animation of a pvd file to a stack of png files. I
>>>> use
>>>> ParaView 3.10.0 and remote rendering, thus, I start the pvserver on a
>>>> remote
>>>> machine. When exporting the animation, or even when I step through the
>>>> data
>>>> using the time line, the X-Server on the remote machine run outs of
>>>> memory.
>>>> It seems that when going from one timestep to another one the data from
>>>> the
>>>> old timestep is not freed. What's wrong? I alread disabled "cache
>>>> geometry"
>>>> on the local client.
>>>>
>>>> Thanks for any advise,
>>>>
>>>> Thomas
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>>
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at   
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:   
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



From goodwin.lawlor at ucd.ie  Mon Dec  5 09:57:24 2011
From: goodwin.lawlor at ucd.ie (Goodwin Lawlor)
Date: Mon, 05 Dec 2011 18:57:24 +0400
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
Message-ID: <4EDCDBD4.1070208@ucd.ie>

Hi Thomas,

We've been hitting this same problem and trying to fix this since last week.

We're creating an animation with pvbatch rather than pvserver.

The only success we've had is with ParaView-3.8.

3.10 and 3.12 both have the behaviour you describe below.

We've also tried building PV with Mesa3d 6.5.2, 7.10.3 and 7.11.2 and 
without MPI.

Here's a link to a valgrid/vtk_debug_leaks output of a cut down 
animation that doesn't run of memory (but does grow steadily):

http://pastebin.com/j1crtJp0

Plenty of squawks... the only thing I can see that would account for the 
amount of memory leaking is the 3.6GB memory "still reachable".

This could be due to C++ STL memory pooling - was STL added after 3.8?

Goodwin

On 05/12/2011 15:14, Thomas Witkowski wrote:
> Hi,
>
> I want to export an animation of a pvd file to a stack of png files. I
> use ParaView 3.10.0 and remote rendering, thus, I start the pvserver on
> a remote machine. When exporting the animation, or even when I step
> through the data using the time line, the X-Server on the remote machine
> run outs of memory. It seems that when going from one timestep to
> another one the data from the old timestep is not freed. What's wrong? I
> alread disabled "cache geometry" on the local client.
>
> Thanks for any advise,
>
> Thomas

From utkarsh.ayachit at kitware.com  Mon Dec  5 10:19:17 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 5 Dec 2011 10:19:17 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <4EDCDBD4.1070208@ucd.ie>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<4EDCDBD4.1070208@ucd.ie>
Message-ID: <CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>

STL has been used pre-3.8, the best that I can remember. What reader
are you using Goodwin? We know Thomas is using the PVD reader. I'm
wondering is it's reader specific. Let's try to track this one down.
Any specific steps that I should do to reproduce the problem on my
end?

Utkarsh

On Mon, Dec 5, 2011 at 9:57 AM, Goodwin Lawlor <goodwin.lawlor at ucd.ie> wrote:
> Hi Thomas,
>
> We've been hitting this same problem and trying to fix this since last week.
>
> We're creating an animation with pvbatch rather than pvserver.
>
> The only success we've had is with ParaView-3.8.
>
> 3.10 and 3.12 both have the behaviour you describe below.
>
> We've also tried building PV with Mesa3d 6.5.2, 7.10.3 and 7.11.2 and
> without MPI.
>
> Here's a link to a valgrid/vtk_debug_leaks output of a cut down animation
> that doesn't run of memory (but does grow steadily):
>
> http://pastebin.com/j1crtJp0
>
> Plenty of squawks... the only thing I can see that would account for the
> amount of memory leaking is the 3.6GB memory "still reachable".
>
> This could be due to C++ STL memory pooling - was STL added after 3.8?
>
> Goodwin
>
>
> On 05/12/2011 15:14, Thomas Witkowski wrote:
>>
>> Hi,
>>
>> I want to export an animation of a pvd file to a stack of png files. I
>> use ParaView 3.10.0 and remote rendering, thus, I start the pvserver on
>> a remote machine. When exporting the animation, or even when I step
>> through the data using the time line, the X-Server on the remote machine
>> run outs of memory. It seems that when going from one timestep to
>> another one the data from the old timestep is not freed. What's wrong? I
>> alread disabled "cache geometry" on the local client.
>>
>> Thanks for any advise,
>>
>> Thomas
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From Thomas.Witkowski at tu-dresden.de  Mon Dec  5 10:55:42 2011
From: Thomas.Witkowski at tu-dresden.de (Thomas Witkowski)
Date: Mon, 05 Dec 2011 16:55:42 +0100
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<4EDCDBD4.1070208@ucd.ie>
	<CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>
Message-ID: <20111205165542.gir7ulzx0kow44sk@mail.zih.tu-dresden.de>

I had also success with using the 3.8 version. BUT, I think, this is  
just a mere chance. In my case, the both versions, 3.8 and 3.10, seem  
to be compiled against totally different libraries, especially OpenGL.  
The 3.8 Version makes use of the NVIDIA OpenGL driver (there is also  
an nvidia gpu to be used), whereas the 3.10 seems to make use of the  
software OpenGL (not the mesa libraries). As I have no root access to  
the system I cannot try to recompile the 3.10 version.

Utkarsh, to reproduce the scenario is quite simple: I have a bunch of  
vtu files, one pvd file links to them. When stepping through the  
timesteps, the memory usage of the remote x server increases.

Thomas

Zitat von Utkarsh Ayachit <utkarsh.ayachit at kitware.com>:

> STL has been used pre-3.8, the best that I can remember. What reader
> are you using Goodwin? We know Thomas is using the PVD reader. I'm
> wondering is it's reader specific. Let's try to track this one down.
> Any specific steps that I should do to reproduce the problem on my
> end?
>
> Utkarsh
>
> On Mon, Dec 5, 2011 at 9:57 AM, Goodwin Lawlor <goodwin.lawlor at ucd.ie> wrote:
>> Hi Thomas,
>>
>> We've been hitting this same problem and trying to fix this since last week.
>>
>> We're creating an animation with pvbatch rather than pvserver.
>>
>> The only success we've had is with ParaView-3.8.
>>
>> 3.10 and 3.12 both have the behaviour you describe below.
>>
>> We've also tried building PV with Mesa3d 6.5.2, 7.10.3 and 7.11.2 and
>> without MPI.
>>
>> Here's a link to a valgrid/vtk_debug_leaks output of a cut down animation
>> that doesn't run of memory (but does grow steadily):
>>
>> http://pastebin.com/j1crtJp0
>>
>> Plenty of squawks... the only thing I can see that would account for the
>> amount of memory leaking is the 3.6GB memory "still reachable".
>>
>> This could be due to C++ STL memory pooling - was STL added after 3.8?
>>
>> Goodwin
>>
>>
>> On 05/12/2011 15:14, Thomas Witkowski wrote:
>>>
>>> Hi,
>>>
>>> I want to export an animation of a pvd file to a stack of png files. I
>>> use ParaView 3.10.0 and remote rendering, thus, I start the pvserver on
>>> a remote machine. When exporting the animation, or even when I step
>>> through the data using the time line, the X-Server on the remote machine
>>> run outs of memory. It seems that when going from one timestep to
>>> another one the data from the old timestep is not freed. What's wrong? I
>>> alread disabled "cache geometry" on the local client.
>>>
>>> Thanks for any advise,
>>>
>>> Thomas
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at   
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:   
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



From goodwin.lawlor at ucd.ie  Mon Dec  5 11:14:39 2011
From: goodwin.lawlor at ucd.ie (Goodwin Lawlor)
Date: Mon, 05 Dec 2011 20:14:39 +0400
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<4EDCDBD4.1070208@ucd.ie>
	<CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>
Message-ID: <4EDCEDEF.6010404@ucd.ie>

Hi Utkarsh,

The animation script is using LegacyVTKReader to read in a series of vtk 
files and a STLReader to read in a single stl file.

I'll see if I can get a script together to demo the problem.

Goodwin

On 05/12/2011 19:19, Utkarsh Ayachit wrote:
> STL has been used pre-3.8, the best that I can remember. What reader
> are you using Goodwin? We know Thomas is using the PVD reader. I'm
> wondering is it's reader specific. Let's try to track this one down.
> Any specific steps that I should do to reproduce the problem on my
> end?
>
> Utkarsh
>
> On Mon, Dec 5, 2011 at 9:57 AM, Goodwin Lawlor<goodwin.lawlor at ucd.ie>  wrote:
>> Hi Thomas,
>>
>> We've been hitting this same problem and trying to fix this since last week.
>>
>> We're creating an animation with pvbatch rather than pvserver.
>>
>> The only success we've had is with ParaView-3.8.
>>
>> 3.10 and 3.12 both have the behaviour you describe below.
>>
>> We've also tried building PV with Mesa3d 6.5.2, 7.10.3 and 7.11.2 and
>> without MPI.
>>
>> Here's a link to a valgrid/vtk_debug_leaks output of a cut down animation
>> that doesn't run of memory (but does grow steadily):
>>
>> http://pastebin.com/j1crtJp0
>>
>> Plenty of squawks... the only thing I can see that would account for the
>> amount of memory leaking is the 3.6GB memory "still reachable".
>>
>> This could be due to C++ STL memory pooling - was STL added after 3.8?
>>
>> Goodwin
>>
>>
>> On 05/12/2011 15:14, Thomas Witkowski wrote:
>>>
>>> Hi,
>>>
>>> I want to export an animation of a pvd file to a stack of png files. I
>>> use ParaView 3.10.0 and remote rendering, thus, I start the pvserver on
>>> a remote machine. When exporting the animation, or even when I step
>>> through the data using the time line, the X-Server on the remote machine
>>> run outs of memory. It seems that when going from one timestep to
>>> another one the data from the old timestep is not freed. What's wrong? I
>>> alread disabled "cache geometry" on the local client.
>>>
>>> Thanks for any advise,
>>>
>>> Thomas
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview


-- 
Bioengineering Research Group
Dept. Mechanical Engineering
University College Dublin, Ireland
http://www.bioengineering-research.com

From aur.marsan at gmail.com  Mon Dec  5 11:34:41 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 5 Dec 2011 17:34:41 +0100
Subject: [Paraview] import scipy.signal failed...
In-Reply-To: <CAPxbyhzkhbNdBLWyznxGVpGXg-WEOM_R74uMz-2TRdhMoojkAQ@mail.gmail.com>
References: <CALBJ7L+NyqXX2uCkq8uDt2Xqx6kskvw_iUr9CwdQWaCDwiFqwg@mail.gmail.com>
	<CAPxbyhyYYLXqY_TpJT9P7HPCtYgDj6Zi9KiLbr==UTCs3yo5eg@mail.gmail.com>
	<CALBJ7LKe17BucBH_s8aOEFbbo47oh_owGdD3G20yGtth6FHzow@mail.gmail.com>
	<CALBJ7LJ_jzE9a4_TJtcy2hhUPuQaiKx4L=EwJvBSfr00qZAd5w@mail.gmail.com>
	<CALBJ7LLZUh3MA6Wuv607RApi9L1r=pYw3vP9pANeT2_aRCYrjA@mail.gmail.com>
	<CAPxbyhzkhbNdBLWyznxGVpGXg-WEOM_R74uMz-2TRdhMoojkAQ@mail.gmail.com>
Message-ID: <CALBJ7LKEOK-SneEBVQk3QcCpowNeuiY8ih+oUi-y4t-=7+kNRw@mail.gmail.com>

Ok that is here
http://public.kitware.com/Bug/view.php?id=12607

Hope this is detailled enough. If not, please let me know in order I add
the missing informations.

Good afternoon.


Le 5 d?cembre 2011 14:51, David Partyka <david.partyka at kitware.com> a ?crit
:

> Yes please, and detailed steps you're taking to produce the issue. Thanks!
>
>
> 2011/12/5 Aur?lien Marsan <aur.marsan at gmail.com>
>
>> Good Morning,
>>
>> A colleague, who has just received his new windows 7 64 bits computer
>> also tried to get Paraview 3.12 64 bits, and to make scipy.signal
>> avalaible.
>> He encountered the same issue as me, and can't import scipy.signal in the
>> paraview python shell.
>>
>> Should I then put a bug in Mantis Bug Tracker ?
>>
>>
>>
>> Le 29 novembre 2011 10:56, Aur?lien Marsan <aur.marsan at gmail.com> a
>> ?crit :
>>
>>  Some news about always the same issue.
>>> I compile Paraview 3.12 by my own, using the Python 2.7 installed on my
>>> system.
>>>
>>> Again, I can not import scipy.signal.
>>> Does someone achieve this ?
>>>
>>> Thanks,
>>>
>>> A.Marsan
>>>
>>> Le 18 novembre 2011 15:14, Aur?lien Marsan <aur.marsan at gmail.com> a
>>> ?crit :
>>>
>>>  Non there isn't anything.
>>>> Only a runtime error...
>>>> Le 17 novembre 2011 15:31, David Partyka <david.partyka at kitware.com> a
>>>> ?crit :
>>>>
>>>> Is there any output on the python shell like failing to load a module?
>>>>>
>>>>> 2011/11/16 Aur?lien Marsan <aur.marsan at gmail.com>
>>>>>
>>>>>>  One more time, I'm in trouble.. !
>>>>>>
>>>>>> When importing scipy.signal in the python shell, within paraview
>>>>>> 3.12.0 64 bits, it becomes locked... and I do have to kill the
>>>>>> process.
>>>>>> Though, when executing pvpython, I can import scipy.signal without
>>>>>> any trouble, and it seems to work well.
>>>>>>
>>>>>> So what do I miss ?
>>>>>>
>>>>>> Regards,
>>>>>>
>>>>>> Aurelien
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>>
>>>>>
>>>>
>>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/123c37dd/attachment.htm>

From utkarsh.ayachit at kitware.com  Mon Dec  5 11:38:59 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 5 Dec 2011 11:38:59 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <4EDCEDEF.6010404@ucd.ie>
References: <20111205121407.7e2wggi6ww80kkgg@mail.zih.tu-dresden.de>
	<4EDCDBD4.1070208@ucd.ie>
	<CADHSJjBNRYivmxOHL1=puZ2sCGbL2BssCezgJSnbFsat4ojX4g@mail.gmail.com>
	<4EDCEDEF.6010404@ucd.ie>
Message-ID: <CADHSJjB8twczDfLcvNchef3Jo-7h2kbb7AZ3b0fgmkU3CEGS7w@mail.gmail.com>

Thanks Goodwin. That'd be great. I'll wait to hear from you before I
start debugging this.

Utkarsh

On Mon, Dec 5, 2011 at 11:14 AM, Goodwin Lawlor <goodwin.lawlor at ucd.ie> wrote:
> Hi Utkarsh,
>
> The animation script is using LegacyVTKReader to read in a series of vtk
> files and a STLReader to read in a single stl file.
>
> I'll see if I can get a script together to demo the problem.
>
> Goodwin
>
>
> On 05/12/2011 19:19, Utkarsh Ayachit wrote:
>>
>> STL has been used pre-3.8, the best that I can remember. What reader
>> are you using Goodwin? We know Thomas is using the PVD reader. I'm
>> wondering is it's reader specific. Let's try to track this one down.
>> Any specific steps that I should do to reproduce the problem on my
>> end?
>>
>> Utkarsh
>>
>> On Mon, Dec 5, 2011 at 9:57 AM, Goodwin Lawlor<goodwin.lawlor at ucd.ie>
>> ?wrote:
>>>
>>> Hi Thomas,
>>>
>>> We've been hitting this same problem and trying to fix this since last
>>> week.
>>>
>>> We're creating an animation with pvbatch rather than pvserver.
>>>
>>> The only success we've had is with ParaView-3.8.
>>>
>>> 3.10 and 3.12 both have the behaviour you describe below.
>>>
>>> We've also tried building PV with Mesa3d 6.5.2, 7.10.3 and 7.11.2 and
>>> without MPI.
>>>
>>> Here's a link to a valgrid/vtk_debug_leaks output of a cut down animation
>>> that doesn't run of memory (but does grow steadily):
>>>
>>> http://pastebin.com/j1crtJp0
>>>
>>> Plenty of squawks... the only thing I can see that would account for the
>>> amount of memory leaking is the 3.6GB memory "still reachable".
>>>
>>> This could be due to C++ STL memory pooling - was STL added after 3.8?
>>>
>>> Goodwin
>>>
>>>
>>> On 05/12/2011 15:14, Thomas Witkowski wrote:
>>>>
>>>>
>>>> Hi,
>>>>
>>>> I want to export an animation of a pvd file to a stack of png files. I
>>>> use ParaView 3.10.0 and remote rendering, thus, I start the pvserver on
>>>> a remote machine. When exporting the animation, or even when I step
>>>> through the data using the time line, the X-Server on the remote machine
>>>> run outs of memory. It seems that when going from one timestep to
>>>> another one the data from the old timestep is not freed. What's wrong? I
>>>> alread disabled "cache geometry" on the local client.
>>>>
>>>> Thanks for any advise,
>>>>
>>>> Thomas
>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> --
> Bioengineering Research Group
> Dept. Mechanical Engineering
> University College Dublin, Ireland
> http://www.bioengineering-research.com

From jerome.velut at kitware.com  Mon Dec  5 14:23:18 2011
From: jerome.velut at kitware.com (Jerome Velut)
Date: Mon, 05 Dec 2011 20:23:18 +0100
Subject: [Paraview] Creating a ribbon
In-Reply-To: <BAY148-W26621422E4774002811CABB2B50@phx.gbl>
References: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>,
	<4ED75C5E.7070006@kitware.com>
	<BAY148-W26621422E4774002811CABB2B50@phx.gbl>
Message-ID: <4EDD1A26.1030600@kitware.com>

Hum... I didn't get what you told. The ruled surface filter works for 3D 
polylines, as soon as you have at least two of them. I just built a 
screw in ParaView with a LineSource, a SplineSource and the 
RuledSurfaceFilter.
I am curious about the context in which it fails. Is it possible for you 
to share the polylines and the expected result?

Jerome

On 12/05/2011 02:28 PM, Fred Fred wrote:
> It is not a reliable solution to my problem because it works in 2D and 
> my contours are all but almost planars, which makes it very hard to 
> find an appropriate transform.
> I finally wrote my own algorithm and, waiting to find a bad use case 
> :-), it works for the time being.
> Anyway thx for trying to help me.
>
> ------------------------------------------------------------------------
> Date: Thu, 1 Dec 2011 11:52:14 +0100
> From: jerome.velut at kitware.com
> To: stan1313 at hotmail.fr
> CC: paraview at paraview.org
> Subject: Re: [Paraview] Creating a ribbon
>
> Hi,
>
> You can easily add the vtkRuledSurfaceFilter from VTK in ParaView. I 
> already did it in my Peavip stuffs (http://github.com/jeromevelut/Peavip).
> If your polylines are in different sources (eg. two different 
> SplineSources), you'll have to pass them through "Append Geometry" 
> prior he RuledSurfaceFilter
>
> HTH
> Jerome
>
> On 11/29/2011 09:31 PM, Fred Fred wrote:
>
>     Hello,
>     I have 2 polylines and I would like to create a ribbon between
>     them, ie a triangulation. I did not find any suitable class but I
>     wonder if I did not miss anything, any help?
>
>
>
>
>     _______________________________________________
>     Powered bywww.kitware.com  <http://www.kitware.com>
>
>     Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
>
>     Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
>
>     Follow this link to subscribe/unsubscribe:
>     http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> -- 
> Kitware SAS
> 26 rue Louis Gu?rin
> 69100 Villeurbanne, France
> F: +33 (0)4.37.45.04.15
> http://www.kitware.fr


-- 
Kitware SAS
26 rue Louis Gu?rin
69100 Villeurbanne, France
F: +33 (0)4.37.45.04.15
http://www.kitware.fr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/6d311f49/attachment.htm>

From seth at mech.ubc.ca  Mon Dec  5 14:27:22 2011
From: seth at mech.ubc.ca (Seth Gilchrist)
Date: Mon, 5 Dec 2011 11:27:22 -0800
Subject: [Paraview] Out of memory when exporting animations
Message-ID: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>

Hi all,
This seems to be a recurring problem.  Below are some links to previous
posts in the PV mailing list with the same issue.

It seems to be a fairly widespread bug.  I have tried compiling from the
git and releases and tried all the binaries.  The only way around is to go
back to 3.8 or earlier (one post said they had to go back to 3.6).

Cheers,
Seth

http://www.paraview.org/pipermail/paraview/2011-October/022868.html

http://www.paraview.org/pipermail/paraview/2011-October/022892.html

http://www.mail-archive.com/paraview at paraview.org/msg13286.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111205/7bba3ac6/attachment.htm>

From utkarsh.ayachit at kitware.com  Mon Dec  5 15:40:32 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 5 Dec 2011 15:40:32 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
References: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
Message-ID: <CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>

I'm tracking this down. Goodwin, I was able to reproduce the issue
using the steps listed on http://paraview.org/Bug/view.php?id=12424
I'll keep the list updated as I discover things.

Utkarsh

On Mon, Dec 5, 2011 at 2:27 PM, Seth Gilchrist <seth at mech.ubc.ca> wrote:
> Hi all,
> This seems to be a recurring problem. ?Below are some links to previous
> posts in the PV mailing list with the same issue.
>
> It seems to be a fairly widespread bug. ?I have tried compiling from the git
> and releases and tried all the binaries. ?The only way around is to go back
> to 3.8 or earlier (one post said they had to go back to 3.6).
>
> Cheers,
> Seth
>
> http://www.paraview.org/pipermail/paraview/2011-October/022868.html
>
> http://www.paraview.org/pipermail/paraview/2011-October/022892.html
>
> http://www.mail-archive.com/paraview at paraview.org/msg13286.html
>
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From peacemaker1 at web.de  Tue Dec  6 03:31:43 2011
From: peacemaker1 at web.de (peacemaker)
Date: Tue, 6 Dec 2011 09:31:43 +0100
Subject: [Paraview] PythonScriptCoProcessingExample mpirun Problem
Message-ID: <02235FF9B90546D288F639C2C4841670@LA>

Hi,

Im trying to run the PythonScriptCoProcessingExample(.cxx) included in ParaView sourcecode - this is my first "getting in touch" with MPI + ParaView (and Coprocessing of course) so maybe it`s just a very simple problem. I already succesfully compiled Paraview with Coprocessing and python (Ubuntu 11.10) and I`m running the source with COPROCESSOR_USE_MPI. 
When I run it like: 
mpirun -n 1 ./CoProcessing ./PythonScriptTest.py 
then I get as result CPGrid0_mpirun1.png and CPPressure0_mpirun1.png - looks good.
If I try:
mpirun -n 2  ./CoProcessing ./PythonScriptTest.py 
then I get as result CPGrid0_mpirun2.png and CPPressure0_mpirun2.png - these pictures seem to be incorrect. 
In vtkPVCustomTestDriver.cxx there are source lines like:
...
#ifdef COPROCESSOR_USE_MPI
  myid = vtkMPICommunicator::GetWorldCommunicator()->GetLocalProcessId();
#endif
....
gridBuilder->SetSpacing(spacing);
  double origin[3] = {myid*49*.2,20,300};
.....
If I understand it correctly there should be just a shift on the x-axis between the grids? The pictures get more and more messy, when I increase the numer of processes.
After little messing around with the pyton-script needed to run this example (see bottom of this Mail) I got the following output when running it with mpirun -n 3: CPPressure0_changedscript_mpirun3.png. The halfs of the 2nd and 3rd grid are missing.

What am I doing wrong? Is this example not supposed to be run with MPI? How does Coprocessing merge the data from different processes and how does the picture get built?

I already tested this on a different PC with the same result. I hope you can help me.  

Best wishes

Marek


changed Python Script:
def DoCoProcessing(datadescription):
  timestep = datadescription.GetTimeStep()

  grid = datadescription.GetInputDescriptionByName("input").GetGrid()
  pressure = grid.GetPointData().GetArray('Pressure')

#  print grid

  #grid.GetPointData().SetScalars(pressure)
  obj.SetOutput(grid)
#  print obj

  # get global range of Pressure
  di = trivialproducer.GetDataInformation(0)
  trivialproducer.UpdatePipeline()
  di.Update()
  pdi = di.GetPointDataInformation()
#  print pdi
  ai = pdi.GetArrayInformation('Pressure')
  pressurerange = ai.GetComponentRange(0)

  contour.Isosurfaces = .5*(pressurerange[0]+pressurerange[1])

  # now output the results to the screen as well as taking
  # a screen shot of the view
  #setup a window
  #rep = Show(contour)
  #ren = Render()

  #set the background color
  #ren.Background=[1,1,1]  #white

  #set image size
  #ren.ViewSize = [1000, 1000] #[width, height]

  #set representation
  #rep.Representation="Surface"

  #save screenshot
  #gridimagefilename = 'CPGrid'+str(timestep) + '.png'
  #WriteImage(gridimagefilename)

  rep = Show(trivialproducer)
  #rep.LookupTable = MakeBlueToRedLT(pressurerange[0], pressurerange[1])
  #rep.ColorArrayName = 'Pressure'
  #rep.ColorAttributeType = 'POINT_DATA'
  #set representation
  rep.Representation="Wireframe"
  #rep = Show(contour)
  #set the background color
  ren = Render()
  ren.Background=[0,0,0]  #white
  ren.ViewSize = [1000, 1000] #[width, height]

  pressureimagefilename = 'CPPressure'+str(timestep) + '.png'
  WriteImage(pressureimagefilename)
  return

def RequestDataDescription(datadescription):
  time = datadescription.GetTime()
  timestep = datadescription.GetTimeStep()
  print timestep
  if timestep % 20 == 0:
    # add in some fields
    #print 'added Pressure and wanting to do coprocessing'
    datadescription.GetInputDescriptionByName("input").AddPointField("Pressure")
    datadescription.GetInputDescriptionByName('input').GenerateMeshOn()
  return

# the code below is needed to import objects from paraview.simple
# plus the definition of vtkTrivialProducer into this python script.
try: paraview.simple
except: from paraview.simple import *

trivialproducer = TrivialProducer()
contour = Contour(Input=trivialproducer)

obj = trivialproducer.GetClientSideObject()
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPGrid0_mpirun1.png
Type: image/png
Size: 1538 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0005.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPPressure0_mpirun1.png
Type: image/png
Size: 3113 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0006.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPGrid0_mpirun2.png
Type: image/png
Size: 1677 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0007.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPPressure0_mpirun2.png
Type: image/png
Size: 3936 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0008.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: CPPressure0_changedscript_mpirun3.png
Type: image/png
Size: 6145 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/8508b60c/attachment-0009.png>

From paul.melis at sara.nl  Tue Dec  6 04:52:13 2011
From: paul.melis at sara.nl (Paul Melis)
Date: Tue, 06 Dec 2011 10:52:13 +0100
Subject: [Paraview] Errors with GPU-based volume rendering
In-Reply-To: <96DB6EDB21A94B6F8E8483E54A38A492@notebook>
References: <4ECB66A3.3070100@sara.nl> <4ECDFDFD.9070402@sara.nl>
	<CANjZAi__n2VRnLGUVzU3akLEXpP8HroVUDTmkyHs7YQEYnAuDg@mail.gmail.com>
	<72AC433C272348D4A3A04F5B2D64E122@notebook>
	<4ED7109B.6040100@sara.nl>
	<96DB6EDB21A94B6F8E8483E54A38A492@notebook>
Message-ID: <4EDDE5CD.4080704@sara.nl>

On 12/01/2011 10:38 PM, Paul McIntosh wrote:
> To help me in debugging - is this only seen with VirtualGL or do people see
> this in other rendering cases?

I see the purple-square rendering problem with normal desktop-delivery
mode, i.e. no VirtualGL involved.

Paul

From paul.m.edwards at gmail.com  Tue Dec  6 05:55:22 2011
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Tue, 6 Dec 2011 10:55:22 +0000
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>
References: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
	<CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>
Message-ID: <CABWOrb8my9Tyzn5YjLRWKh26aGiKGRzRN_xA9yAa4HKg_gxtFA@mail.gmail.com>

Turning off the display lists fixes it for me in pvserver.

Regards,
Paul

On 5 December 2011 20:40, Utkarsh Ayachit <utkarsh.ayachit at kitware.com>wrote:

> I'm tracking this down. Goodwin, I was able to reproduce the issue
> using the steps listed on http://paraview.org/Bug/view.php?id=12424
> I'll keep the list updated as I discover things.
>
> Utkarsh
>
> On Mon, Dec 5, 2011 at 2:27 PM, Seth Gilchrist <seth at mech.ubc.ca> wrote:
> > Hi all,
> > This seems to be a recurring problem.  Below are some links to previous
> > posts in the PV mailing list with the same issue.
> >
> > It seems to be a fairly widespread bug.  I have tried compiling from the
> git
> > and releases and tried all the binaries.  The only way around is to go
> back
> > to 3.8 or earlier (one post said they had to go back to 3.6).
> >
> > Cheers,
> > Seth
> >
> > http://www.paraview.org/pipermail/paraview/2011-October/022868.html
> >
> > http://www.paraview.org/pipermail/paraview/2011-October/022892.html
> >
> > http://www.mail-archive.com/paraview at paraview.org/msg13286.html
> >
> >
> >
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/a3debee8/attachment.htm>

From stan1313 at hotmail.fr  Tue Dec  6 06:52:34 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Tue, 6 Dec 2011 12:52:34 +0100
Subject: [Paraview] Creating a ribbon
In-Reply-To: <4EDD1A26.1030600@kitware.com>
References: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>,
	<4ED75C5E.7070006@kitware.com>
	<BAY148-W26621422E4774002811CABB2B50@phx.gbl>,
	<4EDD1A26.1030600@kitware.com>
Message-ID: <BAY148-W42CCDCF3128AE4F822A06FB2BA0@phx.gbl>


Sorry, I confused with another class. Actually the problem is respective points of both polylines are connected by pairs, which implies that both polylines should have the same number of points, isn't it?

Date: Mon, 5 Dec 2011 20:23:18 +0100
From: jerome.velut at kitware.com
To: stan1313 at hotmail.fr
CC: paraview at paraview.org
Subject: Re: [Paraview] Creating a ribbon


  


    
  
  
    Hum... I didn't get what you told. The ruled surface filter works
    for 3D polylines, as soon as you have at least two of them. I just
    built a screw in ParaView with a LineSource, a SplineSource and the
    RuledSurfaceFilter.

    I am curious about the context in which it fails. Is it possible for
    you to share the polylines and the expected result? 

    

    Jerome

    

    On 12/05/2011 02:28 PM, Fred Fred wrote:
    
      
      
        It is not a reliable solution to my problem because it works in
        2D and my contours are all but almost planars, which makes it
        very hard to find an appropriate transform.
        I finally wrote my own algorithm and, waiting to find a bad
          use case :-), it works for the time being.
        Anyway thx for trying to help me.
        

          
            Date: Thu, 1 Dec 2011 11:52:14 +0100

            From: jerome.velut at kitware.com

            To: stan1313 at hotmail.fr

            CC: paraview at paraview.org

            Subject: Re: [Paraview] Creating a ribbon

            

            
            
            Hi,

            

            You can easily add the vtkRuledSurfaceFilter from VTK in
            ParaView. I already did it in my Peavip stuffs (http://github.com/jeromevelut/Peavip).

            If your polylines are in different sources (eg. two
            different SplineSources), you'll have to pass them through
            "Append Geometry" prior he RuledSurfaceFilter

            

            HTH

            Jerome

            

            On 11/29/2011 09:31 PM, Fred Fred wrote:
            
              
               Hello,
                I have 2 polylines and I would like to create a
                  ribbon between them, ie a triangulation. I did not
                  find any suitable class but I wonder if I did not miss
                  anything, any help?
                

                
                

                
              
              

              
              

              _______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

            
            

            

            -- 

              Kitware SAS

              26 rue Louis Gu?rin

              69100 Villeurbanne, France

              F: +33 (0)4.37.45.04.15

              http://www.kitware.fr
          
        
      
    
    

    

    -- 

      Kitware SAS

      26 rue Louis Gu?rin

      69100 Villeurbanne, France

      F: +33 (0)4.37.45.04.15

      http://www.kitware.fr 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/00e09a9b/attachment.htm>

From utkarsh.ayachit at kitware.com  Tue Dec  6 07:05:44 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 6 Dec 2011 07:05:44 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CABWOrb8my9Tyzn5YjLRWKh26aGiKGRzRN_xA9yAa4HKg_gxtFA@mail.gmail.com>
References: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
	<CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>
	<CABWOrb8my9Tyzn5YjLRWKh26aGiKGRzRN_xA9yAa4HKg_gxtFA@mail.gmail.com>
Message-ID: <CADHSJjDUZPoZSvRvTxL8SOY1FBDQg6j2BDX0bLmOhmEMcw7MPA@mail.gmail.com>

Yup, I tracked it down to display lists not being cleaned up correctly
when using OSMesa. I'm now trying to decide how best to fix the issue.

Utkarsh

On Tue, Dec 6, 2011 at 5:55 AM, Paul Edwards <paul.m.edwards at gmail.com> wrote:
> Turning off the display lists fixes it for me in pvserver.
>
> Regards,
> Paul
>
>
> On 5 December 2011 20:40, Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
> wrote:
>>
>> I'm tracking this down. Goodwin, I was able to reproduce the issue
>> using the steps listed on http://paraview.org/Bug/view.php?id=12424
>> I'll keep the list updated as I discover things.
>>
>> Utkarsh
>>
>> On Mon, Dec 5, 2011 at 2:27 PM, Seth Gilchrist <seth at mech.ubc.ca> wrote:
>> > Hi all,
>> > This seems to be a recurring problem. ?Below are some links to previous
>> > posts in the PV mailing list with the same issue.
>> >
>> > It seems to be a fairly widespread bug. ?I have tried compiling from the
>> > git
>> > and releases and tried all the binaries. ?The only way around is to go
>> > back
>> > to 3.8 or earlier (one post said they had to go back to 3.6).
>> >
>> > Cheers,
>> > Seth
>> >
>> > http://www.paraview.org/pipermail/paraview/2011-October/022868.html
>> >
>> > http://www.paraview.org/pipermail/paraview/2011-October/022892.html
>> >
>> > http://www.mail-archive.com/paraview at paraview.org/msg13286.html
>> >
>> >
>> >
>> >
>> > _______________________________________________
>> > Powered by www.kitware.com
>> >
>> > Visit other Kitware open-source projects at
>> > http://www.kitware.com/opensource/opensource.html
>> >
>> > Please keep messages on-topic and check the ParaView Wiki at:
>> > http://paraview.org/Wiki/ParaView
>> >
>> > Follow this link to subscribe/unsubscribe:
>> > http://www.paraview.org/mailman/listinfo/paraview
>> >
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>

From utkarsh.ayachit at kitware.com  Tue Dec  6 07:35:49 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 6 Dec 2011 07:35:49 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjDUZPoZSvRvTxL8SOY1FBDQg6j2BDX0bLmOhmEMcw7MPA@mail.gmail.com>
References: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
	<CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>
	<CABWOrb8my9Tyzn5YjLRWKh26aGiKGRzRN_xA9yAa4HKg_gxtFA@mail.gmail.com>
	<CADHSJjDUZPoZSvRvTxL8SOY1FBDQg6j2BDX0bLmOhmEMcw7MPA@mail.gmail.com>
Message-ID: <CADHSJjDEz9chn2Oj-vd0+RyWWf_F067sfNS5OAaddW2_MsQGMg@mail.gmail.com>

I've attached a patch that should fix the issue. The fix has been
pushed to git and will make it to git-master in near future.

Thomas, I'm not sure if you're using OSMesa, so this may not fix your
issue.  Let me know if this patch doesn't help.

Utkarsh

On Tue, Dec 6, 2011 at 7:05 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Yup, I tracked it down to display lists not being cleaned up correctly
> when using OSMesa. I'm now trying to decide how best to fix the issue.
>
> Utkarsh
>
> On Tue, Dec 6, 2011 at 5:55 AM, Paul Edwards <paul.m.edwards at gmail.com> wrote:
>> Turning off the display lists fixes it for me in pvserver.
>>
>> Regards,
>> Paul
>>
>>
>> On 5 December 2011 20:40, Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
>> wrote:
>>>
>>> I'm tracking this down. Goodwin, I was able to reproduce the issue
>>> using the steps listed on http://paraview.org/Bug/view.php?id=12424
>>> I'll keep the list updated as I discover things.
>>>
>>> Utkarsh
>>>
>>> On Mon, Dec 5, 2011 at 2:27 PM, Seth Gilchrist <seth at mech.ubc.ca> wrote:
>>> > Hi all,
>>> > This seems to be a recurring problem. ?Below are some links to previous
>>> > posts in the PV mailing list with the same issue.
>>> >
>>> > It seems to be a fairly widespread bug. ?I have tried compiling from the
>>> > git
>>> > and releases and tried all the binaries. ?The only way around is to go
>>> > back
>>> > to 3.8 or earlier (one post said they had to go back to 3.6).
>>> >
>>> > Cheers,
>>> > Seth
>>> >
>>> > http://www.paraview.org/pipermail/paraview/2011-October/022868.html
>>> >
>>> > http://www.paraview.org/pipermail/paraview/2011-October/022892.html
>>> >
>>> > http://www.mail-archive.com/paraview at paraview.org/msg13286.html
>>> >
>>> >
>>> >
>>> >
>>> > _______________________________________________
>>> > Powered by www.kitware.com
>>> >
>>> > Visit other Kitware open-source projects at
>>> > http://www.kitware.com/opensource/opensource.html
>>> >
>>> > Please keep messages on-topic and check the ParaView Wiki at:
>>> > http://paraview.org/Wiki/ParaView
>>> >
>>> > Follow this link to subscribe/unsubscribe:
>>> > http://www.paraview.org/mailman/listinfo/paraview
>>> >
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Fixed-BUG-12424.-Display-lists-were-not-released-cor.patch
Type: text/x-patch
Size: 3519 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/9ffb5692/attachment-0001.bin>

From utkarsh.ayachit at kitware.com  Tue Dec  6 07:36:47 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 6 Dec 2011 07:36:47 -0500
Subject: [Paraview] Out of memory when exporting animations
In-Reply-To: <CADHSJjDEz9chn2Oj-vd0+RyWWf_F067sfNS5OAaddW2_MsQGMg@mail.gmail.com>
References: <CAKg37X0u477Yag=sB=TEF_4GCDh=St1159tdhUrD6uttL0q_cQ@mail.gmail.com>
	<CADHSJjBiE=M1z4aWcRHEmzd+3FMoav5Lt5A-T66FFaEWt_AqAA@mail.gmail.com>
	<CABWOrb8my9Tyzn5YjLRWKh26aGiKGRzRN_xA9yAa4HKg_gxtFA@mail.gmail.com>
	<CADHSJjDUZPoZSvRvTxL8SOY1FBDQg6j2BDX0bLmOhmEMcw7MPA@mail.gmail.com>
	<CADHSJjDEz9chn2Oj-vd0+RyWWf_F067sfNS5OAaddW2_MsQGMg@mail.gmail.com>
Message-ID: <CADHSJjBiPC8r6CF9q7AX1psqWZBaK-u+Aj1MJk2MAVV35f_A1A@mail.gmail.com>

Also for those using 3.10/3.12, you can use the following Python
script to display display lists:

# turn off display lists
g = servermanager.misc.GlobalMapperProperties()
g.GlobalImmediateModeRendering = 1

Form the Qt client, use the Settings dialog to enable immediate mode rendering.

Utkarsh


On Tue, Dec 6, 2011 at 7:35 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> I've attached a patch that should fix the issue. The fix has been
> pushed to git and will make it to git-master in near future.
>
> Thomas, I'm not sure if you're using OSMesa, so this may not fix your
> issue. ?Let me know if this patch doesn't help.
>
> Utkarsh
>
> On Tue, Dec 6, 2011 at 7:05 AM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>> Yup, I tracked it down to display lists not being cleaned up correctly
>> when using OSMesa. I'm now trying to decide how best to fix the issue.
>>
>> Utkarsh
>>
>> On Tue, Dec 6, 2011 at 5:55 AM, Paul Edwards <paul.m.edwards at gmail.com> wrote:
>>> Turning off the display lists fixes it for me in pvserver.
>>>
>>> Regards,
>>> Paul
>>>
>>>
>>> On 5 December 2011 20:40, Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
>>> wrote:
>>>>
>>>> I'm tracking this down. Goodwin, I was able to reproduce the issue
>>>> using the steps listed on http://paraview.org/Bug/view.php?id=12424
>>>> I'll keep the list updated as I discover things.
>>>>
>>>> Utkarsh
>>>>
>>>> On Mon, Dec 5, 2011 at 2:27 PM, Seth Gilchrist <seth at mech.ubc.ca> wrote:
>>>> > Hi all,
>>>> > This seems to be a recurring problem. ?Below are some links to previous
>>>> > posts in the PV mailing list with the same issue.
>>>> >
>>>> > It seems to be a fairly widespread bug. ?I have tried compiling from the
>>>> > git
>>>> > and releases and tried all the binaries. ?The only way around is to go
>>>> > back
>>>> > to 3.8 or earlier (one post said they had to go back to 3.6).
>>>> >
>>>> > Cheers,
>>>> > Seth
>>>> >
>>>> > http://www.paraview.org/pipermail/paraview/2011-October/022868.html
>>>> >
>>>> > http://www.paraview.org/pipermail/paraview/2011-October/022892.html
>>>> >
>>>> > http://www.mail-archive.com/paraview at paraview.org/msg13286.html
>>>> >
>>>> >
>>>> >
>>>> >
>>>> > _______________________________________________
>>>> > Powered by www.kitware.com
>>>> >
>>>> > Visit other Kitware open-source projects at
>>>> > http://www.kitware.com/opensource/opensource.html
>>>> >
>>>> > Please keep messages on-topic and check the ParaView Wiki at:
>>>> > http://paraview.org/Wiki/ParaView
>>>> >
>>>> > Follow this link to subscribe/unsubscribe:
>>>> > http://www.paraview.org/mailman/listinfo/paraview
>>>> >
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>

From christoffer.green at gmail.com  Tue Dec  6 10:07:16 2011
From: christoffer.green at gmail.com (Christoffer Green)
Date: Tue, 6 Dec 2011 16:07:16 +0100
Subject: [Paraview] Is There A 3d Widget Plugin Demo Available?
Message-ID: <CAHwVLSgq9K2nuevHdBfn_X+d0T9QVx5dD_AkDNs7=-Cg9TZqJg@mail.gmail.com>

Hello!

I have been trying to figure out how to write a 3d widget plugin for
Paraview 3.12. By 3d widget I mean a widget in the 3d view like the already
available ones such as for implicit planes or lines. I am however finding
it hard to figure out what kind of things need to go into
the CMakeLists.txt and what classes are needed and such since it appears to
be somewhat complicated. Is there an example of such a plugin available
somewhere?

Thanks.

BR/ Christoffer Green
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/b8451eda/attachment.htm>

From pschmittml at gmail.com  Tue Dec  6 12:32:48 2011
From: pschmittml at gmail.com (Peter Schmitt)
Date: Tue, 6 Dec 2011 10:32:48 -0700
Subject: [Paraview] Paraview Development installation
In-Reply-To: <4ECCB529.7060709@ec-nantes.fr>
References: <4ECCB529.7060709@ec-nantes.fr>
Message-ID: <CA+1ZiDardV76D2LCdW8cRZayg+opd1g+FfTZ_VYWEHmRrhwQVw@mail.gmail.com>

Hi,

I'm also curious of when the 3.12 development release will be made
available.  Any estimates?

Thanks,
Pete

On Wed, Nov 23, 2011 at 1:56 AM, Felipe Bordeu
<felipe.bordeu at ec-nantes.fr>wrote:

> Hello,
>
> When will the development installation will be available for download.
>
> Thanks
>
> --
>
> Felipe Bordeu Weldt
> Ing?nieur de Recherche
> ------------------------------**-------
> T?l. : 33 (0)2 40 37 16 57
> Fax. : 33 (0)2 40 74 74 06
> Felipe.Bordeu at ec-nantes.fr
> Institut GeM - UMR CNRS 6183
> ?cole Centrale Nantes
> 1 Rue de La No?, 44321 Nantes, FRANCE
> ------------------------------**-------
>
> ______________________________**_________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/**
> opensource/opensource.html<http://www.kitware.com/opensource/opensource.html>
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/**ParaView <http://paraview.org/Wiki/ParaView>
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/**mailman/listinfo/paraview<http://www.paraview.org/mailman/listinfo/paraview>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/d9b51c46/attachment.htm>

From utkarsh.ayachit at kitware.com  Tue Dec  6 14:09:12 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 6 Dec 2011 14:09:12 -0500
Subject: [Paraview] Paraview Development installation
In-Reply-To: <CA+1ZiDardV76D2LCdW8cRZayg+opd1g+FfTZ_VYWEHmRrhwQVw@mail.gmail.com>
References: <4ECCB529.7060709@ec-nantes.fr>
	<CA+1ZiDardV76D2LCdW8cRZayg+opd1g+FfTZ_VYWEHmRrhwQVw@mail.gmail.com>
Message-ID: <CADHSJjBHSMvXqowXiup0g_mpiQXXuPjwYimJQkifsWf=cWfN9g@mail.gmail.com>

Currently we are evaluating whether we have enough resources and
interest in maintaining/providing the development binaries. So it's a
bit unclear at this point if we'll have 3.12 development binaries
available.

Utkarsh

On Tue, Dec 6, 2011 at 12:32 PM, Peter Schmitt <pschmittml at gmail.com> wrote:
> Hi,
>
> I'm also curious of when the 3.12 development release will be made
> available. ?Any estimates?
>
> Thanks,
> Pete
>
>
> On Wed, Nov 23, 2011 at 1:56 AM, Felipe Bordeu <felipe.bordeu at ec-nantes.fr>
> wrote:
>>
>> Hello,
>>
>> When will the development installation will be available for download.
>>
>> Thanks
>>
>> --
>>
>> Felipe Bordeu Weldt
>> Ing?nieur de Recherche
>> -------------------------------------
>> T?l. : 33 (0)2 40 37 16 57
>> Fax. : 33 (0)2 40 74 74 06
>> Felipe.Bordeu at ec-nantes.fr
>> Institut GeM - UMR CNRS 6183
>> ?cole Centrale Nantes
>> 1 Rue de La No?, 44321 Nantes, FRANCE
>> -------------------------------------
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From andy.bauer at kitware.com  Tue Dec  6 14:53:52 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Tue, 6 Dec 2011 14:53:52 -0500
Subject: [Paraview] PythonScriptCoProcessingExample mpirun Problem
In-Reply-To: <02235FF9B90546D288F639C2C4841670@LA>
References: <02235FF9B90546D288F639C2C4841670@LA>
Message-ID: <CAMaOp+FYr3n7_6G6t=8mXigg7tVaQpD04+hmi4-oC_UB9DeCgQ@mail.gmail.com>

Hi Marek,

I'm a bit confused.  Where are you getting your CoProcessing executable
from?  If I run the coprocessing library tests I don't see any failures on
my machine and they're running in parallel.  Could you send me the results
of doing "ctest -V -R CoProcessing" on your machine?  There should be 6
tests that run.  The PCoProcessingPythonScriptExampleOne tests the
coprocessing tools with a 2 process run.  You may need to check out
ParaViewData (http://www.paraview.org/paraview/resources/software.html) and
add that option in the cmake configuration.

Andy

On Tue, Dec 6, 2011 at 3:31 AM, peacemaker <peacemaker1 at web.de> wrote:

> **
> Hi,
>
> Im trying to run the PythonScriptCoProcessingExample(.cxx) included in
> ParaView sourcecode - this is my first "getting in touch" with MPI
> + ParaView (and Coprocessing of course) so maybe it`s just a very simple
> problem. I already succesfully compiled Paraview with Coprocessing and
> python (Ubuntu 11.10) and I`m running the source with COPROCESSOR_USE_MPI.
> When I run it like:
> mpirun -n 1 ./CoProcessing ./PythonScriptTest.py
> then I get as result CPGrid0_mpirun1.png and CPPressure0_mpirun1.png -
> looks good.
> If I try:
> mpirun -n 2  ./CoProcessing ./PythonScriptTest.py
> then I get as result CPGrid0_mpirun2.png and CPPressure0_mpirun2.png -
> these pictures seem to be incorrect.
> In vtkPVCustomTestDriver.cxx there are source lines like:
> ...
> #ifdef COPROCESSOR_USE_MPI
>   myid = vtkMPICommunicator::GetWorldCommunicator()->GetLocalProcessId();
> #endif
> ....
> gridBuilder->SetSpacing(spacing);
>   double origin[3] = {myid*49*.2,20,300};
> .....
> If I understand it correctly there should be just a shift on the x-axis
> between the grids? The pictures get more and more messy, when I increase
> the numer of processes.
> After little messing around with the pyton-script needed to run this
> example (see bottom of this Mail) I got the following output when running
> it with mpirun -n 3: CPPressure0_changedscript_mpirun3.png. The halfs of
> the 2nd and 3rd grid are missing.
>
> What am I doing wrong? Is this example not supposed to be run with MPI?
> How does Coprocessing merge the data from different processes and how does
> the picture get built?
>
> I already tested this on a different PC with the same result. I hope you
> can help me.
>
> Best wishes
>
> Marek
>
>
> changed Python Script:
> def DoCoProcessing(datadescription):
>   timestep = datadescription.GetTimeStep()
>
>   grid = datadescription.GetInputDescriptionByName("input").GetGrid()
>   pressure = grid.GetPointData().GetArray('Pressure')
>
> #  print grid
>
>   #grid.GetPointData().SetScalars(pressure)
>   obj.SetOutput(grid)
> #  print obj
>
>   # get global range of Pressure
>   di = trivialproducer.GetDataInformation(0)
>   trivialproducer.UpdatePipeline()
>   di.Update()
>   pdi = di.GetPointDataInformation()
> #  print pdi
>   ai = pdi.GetArrayInformation('Pressure')
>   pressurerange = ai.GetComponentRange(0)
>
>   contour.Isosurfaces = .5*(pressurerange[0]+pressurerange[1])
>
>   # now output the results to the screen as well as taking
>   # a screen shot of the view
>   #setup a window
>   #rep = Show(contour)
>   #ren = Render()
>
>   #set the background color
>   #ren.Background=[1,1,1]  #white
>
>   #set image size
>   #ren.ViewSize = [1000, 1000] #[width, height]
>
>   #set representation
>   #rep.Representation="Surface"
>
>   #save screenshot
>   #gridimagefilename = 'CPGrid'+str(timestep) + '.png'
>   #WriteImage(gridimagefilename)
>
>   rep = Show(trivialproducer)
>   #rep.LookupTable = MakeBlueToRedLT(pressurerange[0], pressurerange[1])
>   #rep.ColorArrayName = 'Pressure'
>   #rep.ColorAttributeType = 'POINT_DATA'
>   #set representation
>   rep.Representation="Wireframe"
>   #rep = Show(contour)
>   #set the background color
>   ren = Render()
>   ren.Background=[0,0,0]  #white
>   ren.ViewSize = [1000, 1000] #[width, height]
>
>   pressureimagefilename = 'CPPressure'+str(timestep) + '.png'
>   WriteImage(pressureimagefilename)
>   return
>
> def RequestDataDescription(datadescription):
>   time = datadescription.GetTime()
>   timestep = datadescription.GetTimeStep()
>   print timestep
>   if timestep % 20 == 0:
>     # add in some fields
>     #print 'added Pressure and wanting to do coprocessing'
>
> datadescription.GetInputDescriptionByName("input").AddPointField("Pressure")
>     datadescription.GetInputDescriptionByName('input').GenerateMeshOn()
>   return
>
> # the code below is needed to import objects from paraview.simple
> # plus the definition of vtkTrivialProducer into this python script.
> try: paraview.simple
> except: from paraview.simple import *
>
> trivialproducer = TrivialProducer()
> contour = Contour(Input=trivialproducer)
>
> obj = trivialproducer.GetClientSideObject()
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/d67b851c/attachment.htm>

From andy.bauer at kitware.com  Tue Dec  6 16:05:57 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Tue, 6 Dec 2011 16:05:57 -0500
Subject: [Paraview] PV 3.12.0 coprocessing problem when using multiple
	filters
In-Reply-To: <20111114.233254.206023967.oshima@eng.niigata-u.ac.jp>
References: <CAMetC=S77Tj8TvT=Fugw-V0K1ZCN71bmpNBoxm4fazcVKGC=ug@mail.gmail.com>
	<20111112.175709.151826353.oshima@eng.niigata-u.ac.jp>
	<CAMaOp+F3frp8VHi3SpmaMicjmhj8oMc5tBbw=Hw6daiy57UKDQ@mail.gmail.com>
	<20111114.233254.206023967.oshima@eng.niigata-u.ac.jp>
Message-ID: <CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>

Hi Takuya,

Sorry for the slow response but I finally did verify this problem.  Your
change also fixes it.  I'm not that familiar with vtkPVSessionCore so I'll
need to talk to some other people to make sure that it's the proper fix and
if not, what is the proper fix.  I'll email again when it's been fixed.

Thanks,
Andy

On Mon, Nov 14, 2011 at 9:32 AM, Takuya OSHIMA
<oshima at eng.niigata-u.ac.jp>wrote:

> Hi Andy,
>
> I may be wrong but I have a feeling that the collected data
> information in process 0 should be redistributed to other processes
> since adding a print statement for
> Slice1.GetDataInformation().GetNumberOfPoints() prints for each
> process the number of points expected from the hierarchical collection
> mechanism of vtkPVSessionCore::CollectInformation().
>
> I am not sure if this is the right place and thing but if I add the
> following code to vtkPVSessionCore::CollectInformation() the slice
> filter works exactly as you stated ("it just needs to go through one
> of the process's grid domain such that the global number of points and
> cells is greater than 0").
>
> Takuya OSHIMA, Ph.D.
> Faculty of Engineering, Niigata University
> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>
> --- ParaView-3.12.0/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>      2011-11-09 05:56:18.000000000 +0900
> +++
> ParaView-3.12.0.new/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>  2011-11-14 23:17:32.000000000 +0900
> @@ -825,6 +825,33 @@
>       controller->Send(&len, 1, parent, ROOT_SATELLITE_INFO_TAG);
>       }
>     }
> +
> +  if (this->SymmetricMPIMode)
> +    {
> +    if (myid == 0)
> +      {
> +      vtkClientServerStream css;
> +      info->CopyToStream(&css);
> +      const unsigned char* data;
> +      size_t length;
> +      css.GetData(&data, &length);
> +      int len = static_cast<int>(length);
> +      controller->Broadcast(&len, 1, 0);
> +      controller->Broadcast(const_cast<unsigned char *>(data), len, 0);
> +      }
> +    else
> +      {
> +      int len;
> +      controller->Broadcast(&len, 1, 0);
> +      unsigned char *data = new unsigned char[len];
> +      controller->Broadcast(data, len, 0);
> +      vtkClientServerStream stream;
> +      stream.SetData(data, len);
> +      info->CopyFromStream(&stream);
> +      delete [] data;
> +      }
> +    }
> +
>   return true;
>  }
>
>  //----------------------------------------------------------------------------
>
> From: Andy Bauer <andy.bauer at kitware.com>
> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using multiple
> filters
> Date: Sun, 13 Nov 2011 14:18:14 -0500
>
> > I hope that's not the case that the slice has to go through each
> process's
> > grid domain.  I think it just needs to go through one of the process's
> grid
> > domain such that the global number of points and cells is greater than 0.
> > I will check on this though.
> >
> > Andy
> >
> > On Sat, Nov 12, 2011 at 3:57 AM, Takuya OSHIMA
> > <oshima at eng.niigata-u.ac.jp>wrote:
> >
> >> Thanks for all the input guys. Indeed Pat's tip did the trick, in my
> case:
> >>
> >>    if Slice1.GetDataInformation().GetNumberOfPoints():
> >>        DataRepresentation2.ColorArrayName = 'p'
> >>
> >> I am still new to coprocessing so I am not getting things right but
> >> here is my deduction: I am running my simulation code in parallel with
> >> 8 processes with one cell thickness of ghost layers. Slice1 does
> >> intersect the domain, but not all of parallel decomposed
> >> subdomains. Hence the error is issued for the processes that have no
> >> slice data.
> >>
> >> Meanwhile I noticed that the slice in oneSlice.py just have happened
> >> to locate exactly on interprocessor boundaries and intersected all of
> >> parallel decomposed subdomains at the ghost layers. That explains why
> >> the script worked without error.
> >>
> >> Takuya OSHIMA, Ph.D.
> >> Faculty of Engineering, Niigata University
> >> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
> >>
> >> From: pat marion <pat.marion at kitware.com>
> >> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
> multiple
> >> filters
> >> Date: Fri, 11 Nov 2011 20:08:54 -0500
> >>
> >> > That's right, if the output has no point or cell data, then assigning
> the
> >> > ColorArrayName property will throw an exception.  It's kind of an
> >> annoying
> >> > behavior.  So I'll work around this by writing code such as:
> >> >
> >> > if mySlice.GetDataInformation().GetNumberOfPoints():
> >> >     rep.ColorArrayName='p'
> >> >
> >> >
> >> > Pat
> >> >
> >> > On Fri, Nov 11, 2011 at 12:39 PM, Andy Bauer <andy.bauer at kitware.com>
> >> wrote:
> >> >
> >> >> Another thing to check is if there are any cells in the output from
> the
> >> >> second slice filter.  In the ParaView GUI, i started with the
> mandelbrot
> >> >> source and then created a slice filter that didn't intersect the
> domain.
> >> >> After that there wasn't any point or cell data in the output.
> >> >>
> >> >> Andy
> >> >>
> >> >>
> >> >> 2011/11/11 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
> >> >>
> >> >>> I'm not in a place where I can test the line 323 modification right
> >> >>> now but the cell array p is present. Please note that oneSlice.py
> >> >>> which also colors by cell p works.
> >> >>>
> >> >>> Takuya OSHIMA, Ph.D.
> >> >>> Faculty of Engineering, Niigata University
> >> >>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
> >> >>>
> >> >>> From: Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
> >> >>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
> >> >>> multiple filters
> >> >>> Date: Fri, 11 Nov 2011 09:16:18 -0500
> >> >>>
> >> >>> > Is the array "p" not present when you're coprocessnig? Try taking
> out
> >> >>> > line 323 which sets the array "p" as the array to color with.
> >> >>> >
> >> >>> > Utkarsh
> >> >>> >
> >> >>> > On Fri, Nov 11, 2011 at 9:08 AM, Takuya OSHIMA
> >> >>> > <oshima at eng.niigata-u.ac.jp> wrote:
> >> >>> > > Hi,
> >> >>> > >
> >> >>> > > I am trying to explore the coprocessing capability of PV 3.12.0.
> >> When
> >> >>> > > I create a pipeline with a single slice filter within the PV
> GUI,
> >> >>> > > export the Python state file by the coprocessing plugin and run
> the
> >> >>> > > script as the coprocessing pipleline in my simulation code, it
> >> works
> >> >>> > > fine.
> >> >>> > >
> >> >>> > > However if I create a pipeline with two or more filters my
> >> simulation
> >> >>> > > code issues an error from the coprocessing library (the error
> >> message
> >> >>> > > is for the case of two slice filters):
> >> >>> > >
> >> >>> > > Traceback (most recent call last):
> >> >>> > >  File "<string>", line 2, in <module>
> >> >>> > >  File "/Users/ohshima/shindoriTest/twoSlices.py", line 323, in
> >> >>> DoCoProcessing
> >> >>> > >    DataRepresentation2.ColorArrayName = 'p'
> >> >>> > >  File
> >> >>>
> >>
> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> >> >>> line 212, in __setattr__
> >> >>> > >    setter(self, value)
> >> >>> > >  File
> >> >>>
> >>
> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> >> >>> line 2276, in setProperty
> >> >>> > >    return self.SetPropertyWithName(propName, value)
> >> >>> > >  File
> >> >>>
> >>
> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> >> >>> line 267, in SetPropertyWithName
> >> >>> > >    prop.SetData(arg)
> >> >>> > >  File
> >> >>>
> >>
> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
> >> >>> line 695, in SetData
> >> >>> > >    raise ValueError("Could not locate array %s in the input." %
> >> arr)
> >> >>> > > ValueError: Could not locate array p in the input.
> >> >>> > >
> >> >>> > > The problem is same for Mac OS X 10.6 and RHEL 5.1 64bit. I
> attach
> >> the
> >> >>> > > scripts oneSlice.py (which works) and twoSlices.py (which does
> not
> >> >>> > > work). Can anybody shed light on the problem?
> >> >>> > >
> >> >>> > > Takuya
> >> >>> > >
> >> >>> > > Takuya OSHIMA, Ph.D.
> >> >>> > > Faculty of Engineering, Niigata University
> >> >>> > > 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
> >> >>> > >
> >> >>> > > _______________________________________________
> >> >>> > > Powered by www.kitware.com
> >> >>> > >
> >> >>> > > Visit other Kitware open-source projects at
> >> >>> http://www.kitware.com/opensource/opensource.html
> >> >>> > >
> >> >>> > > Please keep messages on-topic and check the ParaView Wiki at:
> >> >>> http://paraview.org/Wiki/ParaView
> >> >>> > >
> >> >>> > > Follow this link to subscribe/unsubscribe:
> >> >>> > > http://www.paraview.org/mailman/listinfo/paraview
> >> >>> > >
> >> >>> > >
> >> >>> _______________________________________________
> >> >>> Powered by www.kitware.com
> >> >>>
> >> >>> Visit other Kitware open-source projects at
> >> >>> http://www.kitware.com/opensource/opensource.html
> >> >>>
> >> >>> Please keep messages on-topic and check the ParaView Wiki at:
> >> >>> http://paraview.org/Wiki/ParaView
> >> >>>
> >> >>> Follow this link to subscribe/unsubscribe:
> >> >>> http://www.paraview.org/mailman/listinfo/paraview
> >> >>>
> >> >>
> >> >>
> >> >> _______________________________________________
> >> >> Powered by www.kitware.com
> >> >>
> >> >> Visit other Kitware open-source projects at
> >> >> http://www.kitware.com/opensource/opensource.html
> >> >>
> >> >> Please keep messages on-topic and check the ParaView Wiki at:
> >> >> http://paraview.org/Wiki/ParaView
> >> >>
> >> >> Follow this link to subscribe/unsubscribe:
> >> >> http://www.paraview.org/mailman/listinfo/paraview
> >> >>
> >> >>
> >> _______________________________________________
> >> Powered by www.kitware.com
> >>
> >> Visit other Kitware open-source projects at
> >> http://www.kitware.com/opensource/opensource.html
> >>
> >> Please keep messages on-topic and check the ParaView Wiki at:
> >> http://paraview.org/Wiki/ParaView
> >>
> >> Follow this link to subscribe/unsubscribe:
> >> http://www.paraview.org/mailman/listinfo/paraview
> >>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/2e372c3e/attachment-0001.htm>

From jerome.velut at kitware.com  Tue Dec  6 17:12:47 2011
From: jerome.velut at kitware.com (Jerome Velut)
Date: Tue, 06 Dec 2011 23:12:47 +0100
Subject: [Paraview] Creating a ribbon
In-Reply-To: <BAY148-W42CCDCF3128AE4F822A06FB2BA0@phx.gbl>
References: <BAY148-W8EA563B80A3FE5B96F056B2B30@phx.gbl>,
	<4ED75C5E.7070006@kitware.com>
	<BAY148-W26621422E4774002811CABB2B50@phx.gbl>,
	<4EDD1A26.1030600@kitware.com>
	<BAY148-W42CCDCF3128AE4F822A06FB2BA0@phx.gbl>
Message-ID: <4EDE935F.3020706@kitware.com>

I don't think so. You can create a surface between lines that contain 
respectively 6 and 10 points. Also, I think there is a "Resolution" 
parameter that allow you to change the polyline sampling.

HTH
Jerome

On 12/06/2011 12:52 PM, Fred Fred wrote:
> Sorry, I confused with another class. Actually the problem is 
> respective points of both polylines are connected by pairs, which 
> implies that both polylines should have the same number of points, 
> isn't it?
>
> ------------------------------------------------------------------------
> Date: Mon, 5 Dec 2011 20:23:18 +0100
> From: jerome.velut at kitware.com
> To: stan1313 at hotmail.fr
> CC: paraview at paraview.org
> Subject: Re: [Paraview] Creating a ribbon
>
> Hum... I didn't get what you told. The ruled surface filter works for 
> 3D polylines, as soon as you have at least two of them. I just built a 
> screw in ParaView with a LineSource, a SplineSource and the 
> RuledSurfaceFilter.
> I am curious about the context in which it fails. Is it possible for 
> you to share the polylines and the expected result?
>
> Jerome
>
> On 12/05/2011 02:28 PM, Fred Fred wrote:
>
>     It is not a reliable solution to my problem because it works in 2D
>     and my contours are all but almost planars, which makes it very
>     hard to find an appropriate transform.
>     I finally wrote my own algorithm and, waiting to find a bad use
>     case :-), it works for the time being.
>     Anyway thx for trying to help me.
>
>     ------------------------------------------------------------------------
>     Date: Thu, 1 Dec 2011 11:52:14 +0100
>     From: jerome.velut at kitware.com <mailto:jerome.velut at kitware.com>
>     To: stan1313 at hotmail.fr <mailto:stan1313 at hotmail.fr>
>     CC: paraview at paraview.org <mailto:paraview at paraview.org>
>     Subject: Re: [Paraview] Creating a ribbon
>
>     Hi,
>
>     You can easily add the vtkRuledSurfaceFilter from VTK in ParaView.
>     I already did it in my Peavip stuffs
>     (http://github.com/jeromevelut/Peavip).
>     If your polylines are in different sources (eg. two different
>     SplineSources), you'll have to pass them through "Append Geometry"
>     prior he RuledSurfaceFilter
>
>     HTH
>     Jerome
>
>     On 11/29/2011 09:31 PM, Fred Fred wrote:
>
>         Hello,
>         I have 2 polylines and I would like to create a ribbon between
>         them, ie a triangulation. I did not find any suitable class
>         but I wonder if I did not miss anything, any help?
>
>
>
>
>         _______________________________________________
>         Powered bywww.kitware.com  <http://www.kitware.com>
>
>         Visit other Kitware open-source projects athttp://www.kitware.com/opensource/opensource.html
>
>         Please keep messages on-topic and check the ParaView Wiki at:http://paraview.org/Wiki/ParaView
>
>         Follow this link to subscribe/unsubscribe:
>         http://www.paraview.org/mailman/listinfo/paraview
>
>
>
>     -- 
>     Kitware SAS
>     26 rue Louis Gu?rin
>     69100 Villeurbanne, France
>     F: +33 (0)4.37.45.04.15
>     http://www.kitware.fr
>
>
>
> -- 
> Kitware SAS
> 26 rue Louis Gu?rin
> 69100 Villeurbanne, France
> F: +33 (0)4.37.45.04.15
> http://www.kitware.fr


-- 
Kitware SAS
26 rue Louis Gu?rin
69100 Villeurbanne, France
F: +33 (0)4.37.45.04.15
http://www.kitware.fr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/cde09e3f/attachment.htm>

From jack.poulson at gmail.com  Tue Dec  6 17:28:26 2011
From: jack.poulson at gmail.com (Jack Poulson)
Date: Tue, 6 Dec 2011 16:28:26 -0600
Subject: [Paraview] ParaView crashing due to large exponent magnitudes in
 ASCII floating-point data
Message-ID: <CA+S8wr-Sj4aKWe=9dqNDJUyVr=0P7DeFwi8us+YXD2ehEmkpKw@mail.gmail.com>

Hello,

I'm not sure whether I should be emailing the ParaView or VTK lists (or
maybe both?), as the problem crashes ParaView but the error is thrown from
line 348 of VTK/IO/vtkXMLStructuredDataReader.cxx,

    vtkErrorMacro("Error reading extent "
                  << this->SubExtent[0] << " " << this->SubExtent[1] << " "
                  << this->SubExtent[2] << " " << this->SubExtent[3] << " "
                  << this->SubExtent[4] << " " << this->SubExtent[5]
                  << " from piece " << this->Piece);

After some extensive tests, I have noticed that the error only occurs when
the floating point data in an ASCII ImageData file has entries with
exponents less than or equal to -309 (I am using Float64 as the datatype).
In case it helps, the meta data for the file is

<?xml version="1.0"?>
<VTKFile type="ImageData" version="0.1">
 <ImageData WholeExtent="0 40 0 40 0 1" Origin="0 0 0.487805"
Spacing="0.0243902 0.0243902 0.0243902">
  <Piece Extent="0 40 0 40 0 1">
    <CellData Scalars="cell_scalars">
     <DataArray type="Float64" Name="cell_scalars" format="ascii">
...
    </DataArray>
   </CellData>
  </Piece>
 </ImageData>
</VTKFile>

The DataArray contained 40 lines of 40 floating point values, and I was
experimenting with changing the exponent on the first entry. For exponents
equal to -308 or greater, the file opens without an error. When I change it
to -309 or less, an error is thrown when clicking "Apply" and ParaView
quickly crashes (thus I haven't been able to easily write down the full
error...).

I dug into the VTK code for a few minutes but was not able to locate the
exact source of the problem. Perhaps there is an overflow in the ASCII
parsing due to an assumption of a smaller exponent?

I can easily avoid this problem by thresholding my output to zero when it
is sufficiently small, but I though I would report the problem anyway.

Best Regards,
Jack Poulson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111206/bf55ecbe/attachment.htm>

From oliverbehm at googlemail.com  Tue Dec  6 19:09:49 2011
From: oliverbehm at googlemail.com (Oliver Behm)
Date: Wed, 7 Dec 2011 01:09:49 +0100
Subject: [Paraview] Problem using FileSeriesReader and multiple output ports
Message-ID: <CAHTMtLhWnCj89wxdb_w9xtjNJ0XnV2UDAa-6XveKVSiVm4ZVHw@mail.gmail.com>

Hello,

I have implemented reader using multiple (at the moment two) output ports.
This works fine for single files, both outputs are read as they should be
and
display nicely in Paraview.

Now I want to add time series support via vtkFileSeriesReader, but this only
gives me the output from the first port. I did some tests and while the
RequestInformation of my own reader is called two times for the first file
and
is able to supply information to the second port on the second call,
RequestData
is only called once with no object in the second component of the output
InformationVector.

I did some digging and vtkFileSeriesReader only has one output port
hardcoded.
Is this relevant? If not, how would I go about getting my second output
port filled?

Help with this would be very appreciated.

Kind regards
Oliver

PS: Paraview version is 3.10.1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111207/07a71110/attachment.htm>

From oshima at eng.niigata-u.ac.jp  Wed Dec  7 07:10:10 2011
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Wed, 07 Dec 2011 21:10:10 +0900
	=?iso-2022-jp?B?KBskQkVsNX4bKEIgKBskQkk4PWA7fhsoQikp?=
Subject: [Paraview] PV 3.12.0 coprocessing problem when using multiple
 filters
In-Reply-To: <CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>
References: <CAMaOp+F3frp8VHi3SpmaMicjmhj8oMc5tBbw=Hw6daiy57UKDQ@mail.gmail.com>
	<20111114.233254.206023967.oshima@eng.niigata-u.ac.jp>
	<CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>
Message-ID: <20111207.211010.267062246.oshima@eng.niigata-u.ac.jp>

Thanks Andy.

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Andy Bauer <andy.bauer at kitware.com>
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using multiple filters
Date: Tue, 6 Dec 2011 16:05:57 -0500

> * Hi Takuya,
> 
> Sorry for the slow response but I finally did verify this problem.? Your
> change also fixes it.? I'm not that familiar with vtkPVSessionCore so I'll
> need to talk to some other people to make sure that it's the proper fix and if
> not, what is the proper fix.? I'll email again when it's been fixed.
> 
> Thanks,
> Andy
> 
> On Mon, Nov 14, 2011 at 9:32 AM, Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
> wrote:
> 
>     Hi Andy,
>    
>     I may be wrong but I have a feeling that the collected data
>     information in process 0 should be redistributed to other processes
>     since adding a print statement for
>     Slice1.GetDataInformation().GetNumberOfPoints() prints for each
>     process the number of points expected from the hierarchical collection
>     mechanism of vtkPVSessionCore::CollectInformation().
>    
>     I am not sure if this is the right place and thing but if I add the
>     following code to vtkPVSessionCore::CollectInformation() the slice
>     filter works exactly as you stated ("it just needs to go through one
>     of the process's grid domain such that the global number of points and
>     cells is greater than 0").
>    
>     Takuya OSHIMA, Ph.D.
>     Faculty of Engineering, Niigata University
>     8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>    
>     --- ParaView-3.12.0/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>     ? ? ?2011-11-09 05:56:18.000000000 +0900
>     +++ ParaView-3.12.0.new/ParaViewCore/ServerImplementation/
>     vtkPVSessionCore.cxx ?2011-11-14 23:17:32.000000000 +0900
>     @@ -825,6 +825,33 @@
>     ? ? ? controller->Send(&len, 1, parent, ROOT_SATELLITE_INFO_TAG);
>     ? ? ? }
>     ? ? }
>     +
>     + ?if (this->SymmetricMPIMode)
>     + ? ?{
>     + ? ?if (myid == 0)
>     + ? ? ?{
>     + ? ? ?vtkClientServerStream css;
>     + ? ? ?info->CopyToStream(&css);
>     + ? ? ?const unsigned char* data;
>     + ? ? ?size_t length;
>     + ? ? ?css.GetData(&data, &length);
>     + ? ? ?int len = static_cast<int>(length);
>     + ? ? ?controller->Broadcast(&len, 1, 0);
>     + ? ? ?controller->Broadcast(const_cast<unsigned char *>(data), len, 0);
>     + ? ? ?}
>     + ? ?else
>     + ? ? ?{
>     + ? ? ?int len;
>     + ? ? ?controller->Broadcast(&len, 1, 0);
>     + ? ? ?unsigned char *data = new unsigned char[len];
>     + ? ? ?controller->Broadcast(data, len, 0);
>     + ? ? ?vtkClientServerStream stream;
>     + ? ? ?stream.SetData(data, len);
>     + ? ? ?info->CopyFromStream(&stream);
>     + ? ? ?delete [] data;
>     + ? ? ?}
>     + ? ?}
>     +
>     ? return true;
>     ?}
>     ?//
>     ----------------------------------------------------------------------------
>    
>     From: Andy Bauer <andy.bauer at kitware.com>
>     Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using multiple
>     filters
>     Date: Sun, 13 Nov 2011 14:18:14 -0500
>    
>     > I hope that's not the case that the slice has to go through each
>     process's
>     > grid domain. ?I think it just needs to go through one of the process's
>     grid
>     > domain such that the global number of points and cells is greater than
>     0.
>     > I will check on this though.
>     >
>     > Andy
>     >
>     > On Sat, Nov 12, 2011 at 3:57 AM, Takuya OSHIMA
>     > <oshima at eng.niigata-u.ac.jp>wrote:
>     >
>     >> Thanks for all the input guys. Indeed Pat's tip did the trick, in my
>     case:
>     >>
>     >> ? ?if Slice1.GetDataInformation().GetNumberOfPoints():
>     >> ? ? ? ?DataRepresentation2.ColorArrayName = 'p'
>     >>
>     >> I am still new to coprocessing so I am not getting things right but
>     >> here is my deduction: I am running my simulation code in parallel with
>     >> 8 processes with one cell thickness of ghost layers. Slice1 does
>     >> intersect the domain, but not all of parallel decomposed
>     >> subdomains. Hence the error is issued for the processes that have no
>     >> slice data.
>     >>
>     >> Meanwhile I noticed that the slice in oneSlice.py just have happened
>     >> to locate exactly on interprocessor boundaries and intersected all of
>     >> parallel decomposed subdomains at the ghost layers. That explains why
>     >> the script worked without error.
>     >>
>     >> Takuya OSHIMA, Ph.D.
>     >> Faculty of Engineering, Niigata University
>     >> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>     >>
>     >> From: pat marion <pat.marion at kitware.com>
>     >> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>     multiple
>     >> filters
>     >> Date: Fri, 11 Nov 2011 20:08:54 -0500
>     >>
>     >> > That's right, if the output has no point or cell data, then assigning
>     the
>     >> > ColorArrayName property will throw an exception. ?It's kind of an
>     >> annoying
>     >> > behavior. ?So I'll work around this by writing code such as:
>     >> >
>     >> > if mySlice.GetDataInformation().GetNumberOfPoints():
>     >> > ? ? rep.ColorArrayName='p'
>     >> >
>     >> >
>     >> > Pat
>     >> >
>     >> > On Fri, Nov 11, 2011 at 12:39 PM, Andy Bauer <andy.bauer at kitware.com>
>     >> wrote:
>     >> >
>     >> >> Another thing to check is if there are any cells in the output from
>     the
>     >> >> second slice filter. ?In the ParaView GUI, i started with the
>     mandelbrot
>     >> >> source and then created a slice filter that didn't intersect the
>     domain.
>     >> >> After that there wasn't any point or cell data in the output.
>     >> >>
>     >> >> Andy
>     >> >>
>     >> >>
>     >> >> 2011/11/11 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
>     >> >>
>     >> >>> I'm not in a place where I can test the line 323 modification right
>     >> >>> now but the cell array p is present. Please note that oneSlice.py
>     >> >>> which also colors by cell p works.
>     >> >>>
>     >> >>> Takuya OSHIMA, Ph.D.
>     >> >>> Faculty of Engineering, Niigata University
>     >> >>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>     >> >>>
>     >> >>> From: Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
>     >> >>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>     >> >>> multiple filters
>     >> >>> Date: Fri, 11 Nov 2011 09:16:18 -0500
>     >> >>>
>     >> >>> > Is the array "p" not present when you're coprocessnig? Try taking
>     out
>     >> >>> > line 323 which sets the array "p" as the array to color with.
>     >> >>> >
>     >> >>> > Utkarsh
>     >> >>> >
>     >> >>> > On Fri, Nov 11, 2011 at 9:08 AM, Takuya OSHIMA
>     >> >>> > <oshima at eng.niigata-u.ac.jp> wrote:
>     >> >>> > > Hi,
>     >> >>> > >
>     >> >>> > > I am trying to explore the coprocessing capability of PV
>     3.12.0.
>     >> When
>     >> >>> > > I create a pipeline with a single slice filter within the PV
>     GUI,
>     >> >>> > > export the Python state file by the coprocessing plugin and run
>     the
>     >> >>> > > script as the coprocessing pipleline in my simulation code, it
>     >> works
>     >> >>> > > fine.
>     >> >>> > >
>     >> >>> > > However if I create a pipeline with two or more filters my
>     >> simulation
>     >> >>> > > code issues an error from the coprocessing library (the error
>     >> message
>     >> >>> > > is for the case of two slice filters):
>     >> >>> > >
>     >> >>> > > Traceback (most recent call last):
>     >> >>> > > ?File "<string>", line 2, in <module>
>     >> >>> > > ?File "/Users/ohshima/shindoriTest/twoSlices.py", line 323, in
>     >> >>> DoCoProcessing
>     >> >>> > > ? ?DataRepresentation2.ColorArrayName = 'p'
>     >> >>> > > ?File
>     >> >>>
>     >> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/
>     site-packages/paraview/servermanager.py",
>     >> >>> line 212, in __setattr__
>     >> >>> > > ? ?setter(self, value)
>     >> >>> > > ?File
>     >> >>>
>     >> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/
>     site-packages/paraview/servermanager.py",
>     >> >>> line 2276, in setProperty
>     >> >>> > > ? ?return self.SetPropertyWithName(propName, value)
>     >> >>> > > ?File
>     >> >>>
>     >> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/
>     site-packages/paraview/servermanager.py",
>     >> >>> line 267, in SetPropertyWithName
>     >> >>> > > ? ?prop.SetData(arg)
>     >> >>> > > ?File
>     >> >>>
>     >> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/
>     site-packages/paraview/servermanager.py",
>     >> >>> line 695, in SetData
>     >> >>> > > ? ?raise ValueError("Could not locate array %s in the input." %
>     >> arr)
>     >> >>> > > ValueError: Could not locate array p in the input.
>     >> >>> > >
>     >> >>> > > The problem is same for Mac OS X 10.6 and RHEL 5.1 64bit. I
>     attach
>     >> the
>     >> >>> > > scripts oneSlice.py (which works) and twoSlices.py (which does
>     not
>     >> >>> > > work). Can anybody shed light on the problem?
>     >> >>> > >
>     >> >>> > > Takuya
>     >> >>> > >
>     >> >>> > > Takuya OSHIMA, Ph.D.
>     >> >>> > > Faculty of Engineering, Niigata University
>     >> >>> > > 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>     >> >>> > >
>     >> >>> > > _______________________________________________
>     >> >>> > > Powered by www.kitware.com
>     >> >>> > >
>     >> >>> > > Visit other Kitware open-source projects at
>     >> >>> http://www.kitware.com/opensource/opensource.html
>     >> >>> > >
>     >> >>> > > Please keep messages on-topic and check the ParaView Wiki at:
>     >> >>> http://paraview.org/Wiki/ParaView
>     >> >>> > >
>     >> >>> > > Follow this link to subscribe/unsubscribe:
>     >> >>> > > http://www.paraview.org/mailman/listinfo/paraview
>     >> >>> > >
>     >> >>> > >
>     >> >>> _______________________________________________
>     >> >>> Powered by www.kitware.com
>     >> >>>
>     >> >>> Visit other Kitware open-source projects at
>     >> >>> http://www.kitware.com/opensource/opensource.html
>     >> >>>
>     >> >>> Please keep messages on-topic and check the ParaView Wiki at:
>     >> >>> http://paraview.org/Wiki/ParaView
>     >> >>>
>     >> >>> Follow this link to subscribe/unsubscribe:
>     >> >>> http://www.paraview.org/mailman/listinfo/paraview
>     >> >>>
>     >> >>
>     >> >>
>     >> >> _______________________________________________
>     >> >> Powered by www.kitware.com
>     >> >>
>     >> >> Visit other Kitware open-source projects at
>     >> >> http://www.kitware.com/opensource/opensource.html
>     >> >>
>     >> >> Please keep messages on-topic and check the ParaView Wiki at:
>     >> >> http://paraview.org/Wiki/ParaView
>     >> >>
>     >> >> Follow this link to subscribe/unsubscribe:
>     >> >> http://www.paraview.org/mailman/listinfo/paraview
>     >> >>
>     >> >>
>     >> _______________________________________________
>     >> Powered by www.kitware.com
>     >>
>     >> Visit other Kitware open-source projects at
>     >> http://www.kitware.com/opensource/opensource.html
>     >>
>     >> Please keep messages on-topic and check the ParaView Wiki at:
>     >> http://paraview.org/Wiki/ParaView
>     >>
>     >> Follow this link to subscribe/unsubscribe:
>     >> http://www.paraview.org/mailman/listinfo/paraview
>     >>
> 

From robert.maynard at kitware.com  Wed Dec  7 09:51:37 2011
From: robert.maynard at kitware.com (Robert Maynard)
Date: Wed, 7 Dec 2011 09:51:37 -0500
Subject: [Paraview] Is There A 3d Widget Plugin Demo Available?
In-Reply-To: <CAHwVLSgq9K2nuevHdBfn_X+d0T9QVx5dD_AkDNs7=-Cg9TZqJg@mail.gmail.com>
References: <CAHwVLSgq9K2nuevHdBfn_X+d0T9QVx5dD_AkDNs7=-Cg9TZqJg@mail.gmail.com>
Message-ID: <CAFzjYVqx_rEGrigjG67+DqWW=dMsJXBxRHAHRD4hrUqMYsry_w@mail.gmail.com>

3D widgets separate the logic of display from interaction be
specifying two classes. The widget class it self handles the
interaction, and a widget representation handles the how to display
the widget. The documentation for vtkBoxWidget2 is a good starting
place to understand the widget concept in VTK (
http://www.vtk.org/doc/nightly/html/classvtkBoxWidget2.html ).

To register your custom made widget with ParaView follow the
directions found in this email conversation:
http://www.cmake.org/pipermail/paraview/2011-July/022122.html



On Tue, Dec 6, 2011 at 10:07 AM, Christoffer Green
<christoffer.green at gmail.com> wrote:
> Hello!
>
> I have been trying to figure out how to write a 3d widget plugin for
> Paraview 3.12. By 3d widget I mean a widget in the 3d view like the already
> available ones such as for implicit planes or lines. I am however finding it
> hard to figure out what kind of things need to go into the?CMakeLists.txt
> and what classes are needed and such since it appears to be somewhat
> complicated. Is there an example of such a plugin available somewhere?
>
> Thanks.
>
> BR/ Christoffer Green
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



-- 
Robert Maynard

From robert.maynard at kitware.com  Wed Dec  7 09:52:16 2011
From: robert.maynard at kitware.com (Robert Maynard)
Date: Wed, 7 Dec 2011 09:52:16 -0500
Subject: [Paraview] Unable to write out EnSight format with
	VTK_POLYHEDRON
In-Reply-To: <CAHDyfPBpawM3TtGqCxmHn0eKGE=rMv1mBqYTUcTwM_ZAtX3C9g@mail.gmail.com>
References: <CAHDyfPBpawM3TtGqCxmHn0eKGE=rMv1mBqYTUcTwM_ZAtX3C9g@mail.gmail.com>
Message-ID: <CAFzjYVp2mkD9eQUqFPmOd48sE=Y=uCt=wo1OE+d6CDMt+TJ5jA@mail.gmail.com>

Hi,

Can you create a bug report with the code attached as a patch please.

On Thu, Dec 1, 2011 at 9:23 PM, kenichiro yoshimi
<rccm.kyoshimi at gmail.com> wrote:
> Hello,
>
> I tried to save data including VTK_POLYHEDRON meshes through "Save
> Data" with "EnSight format", but the polyhedrons couldn't be written.
> Probably, the reason is that vtkEnSightWriter doesn't support
> VTK_POLYHEDRON. In my case, I change the following and work well:
> ?1. replace all "VTK_CONVEX_POINT_SET" with "VTK_POLYHEDRON".
> ?2. vtkEnSightWriter.cxx: l.620
> ?//element conenctivity information
> ?for (k=0;k<CellsByElement[elementType].size();k++)
> ? ?{
> ? ?int CellId=CellsByElement[elementType][k];
> ? ?vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
> ? ?for (int m=0;m<PointIds->GetNumberOfIds();m++)
> ? ? ?{
> ? ? ?int PointId=PointIds->GetId(m);
> ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
> ? ? ?}
> ? ?}
> ----------------------->
> ?if (elementType != VTK_POLYHEDRON)
> ? ?{
> ? ?//element conenctivity information
> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
> ? ? ?{
> ? ? ?int CellId=CellsByElement[elementType][k];
> ? ? ?vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
> ? ? ?for (int m=0;m<PointIds->GetNumberOfIds();m++)
> ? ? ? ?{
> ? ? ? ?int PointId=PointIds->GetId(m);
> ? ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
> ? ? ? ?}
> ? ? ?}
> ? ?}
> ?else
> ? ?{
> ? ?//number of faces per elements
> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
> ? ? ?{
> ? ? ?int CellId=CellsByElement[elementType][k];
> ? ? ?int numFaces=input->GetCell(CellId)->GetNumberOfFaces();
> ? ? ?this->WriteIntToFile(numFaces,fd);
> ? ? ?}
> ? ?//number of nodes per faces
> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
> ? ? ?{
> ? ? ?int CellId=CellsByElement[elementType][k];
> ? ? ?vtkCell *cell = input->GetCell(CellId);
> ? ? ?for (int m=0;m<cell->GetNumberOfFaces();m++)
> ? ? ? ?{
> ? ? ? ?int numNodes=cell->GetFace(m)->GetNumberOfPoints();
> ? ? ? ?this->WriteIntToFile(numNodes,fd);
> ? ? ? ?}
> ? ? ?}
> ? ? ?//element connectivity information
> ? ? ?for (k=0;k<CellsByElement[elementType].size();k++)
> ? ? ? ?{
> ? ? ? ?int CellId=CellsByElement[elementType][k];
> ? ? ? ?vtkCell *cell = input->GetCell(CellId);
> ? ? ? ?for (int m=0;m<cell->GetNumberOfFaces();m++)
> ? ? ? ? ?{
> ? ? ? ? ?vtkIdList *PointIds=cell->GetFace(m)->GetPointIds();
> ? ? ? ? ?for (int n=0;n<PointIds->GetNumberOfIds();n++)
> ? ? ? ? ? ?{
> ? ? ? ? ? ?int PointId=PointIds->GetId(n);
> ? ? ? ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
> ? ? ? ? ? ?}
> ? ? ? ? ?}
> ? ? ? ?}
> ? ? ?}
> ------------------------------------------------------------------
>
> Can anyone tell me if these modifications are correct?
>
> Please advice
> Thanks,
> yoshimi
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview



-- 
Robert Maynard

From utkarsh.ayachit at kitware.com  Wed Dec  7 09:56:05 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 7 Dec 2011 09:56:05 -0500
Subject: [Paraview] Problem using FileSeriesReader and multiple output
	ports
In-Reply-To: <CAHTMtLhWnCj89wxdb_w9xtjNJ0XnV2UDAa-6XveKVSiVm4ZVHw@mail.gmail.com>
References: <CAHTMtLhWnCj89wxdb_w9xtjNJ0XnV2UDAa-6XveKVSiVm4ZVHw@mail.gmail.com>
Message-ID: <CADHSJjD9iDcf4+SYM+UEcw7JVh0EFbE6tGJ1ej8YbvgULMbB_A@mail.gmail.com>

vtkFileSeriesReader cannot support multiple output ports. Number of
output ports has to be defined in the constructor of a class. Since
the internal reader to use is not set until much later,
vtkFileSeriesReader cannot report but 1 output port in the construtor
and that cannot be changed afterwords.

Maybe you can try supclassing the vtkFileSeriesReader to add support
for that, but I'm not sure how much effort would it be to support
requests from multiple output ports. Alternatively, you may just want
to implemented file-series support in your reader.

Utkarsh

On Tue, Dec 6, 2011 at 7:09 PM, Oliver Behm <oliverbehm at googlemail.com> wrote:
> Hello,
>
> I have implemented reader using multiple (at the moment two) output ports.
> This works fine for single files, both outputs are read as they should be
> and
> display nicely in Paraview.
>
> Now I want to add time series support via vtkFileSeriesReader, but this only
> gives me the output from the first port. I did some tests and while the
> RequestInformation of my own reader is called two times for the first file
> and
> is able to supply information to the second port on the second call,
> RequestData
> is only called once with no object in the second component of the output
> InformationVector.
>
> I did some digging and vtkFileSeriesReader only has one output port
> hardcoded.
> Is this relevant? If not, how would I go about getting my second output port
> filled?
>
> Help with this would be very appreciated.
>
> Kind regards
> Oliver
>
> PS: Paraview version is 3.10.1
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From peacemaker1 at web.de  Wed Dec  7 15:39:57 2011
From: peacemaker1 at web.de (peacemaker)
Date: Wed, 7 Dec 2011 21:39:57 +0100
Subject: [Paraview] PythonScriptCoProcessingExample mpirun Problem
In-Reply-To: <CAMaOp+FYr3n7_6G6t=8mXigg7tVaQpD04+hmi4-oC_UB9DeCgQ@mail.gmail.com>
References: <02235FF9B90546D288F639C2C4841670@LA>
	<CAMaOp+FYr3n7_6G6t=8mXigg7tVaQpD04+hmi4-oC_UB9DeCgQ@mail.gmail.com>
Message-ID: <C15DC04875194BDFB8F599D8A654036F@LA>

Hi Andy,

thanks for the quick answer. I've downloaded Paraview from: http://www.paraview.org/files/v3.12/ParaView-3.12.0.tar.gz and compiled it with coprocessing. When I run "ctest -V -R CoProcessing" in my Paraview-bin directory there seem to be just 2 Tests running and I get the following output:
orschews at Lap:~/projects/ParaView-bin$ ctest -V -R CoProcessing
UpdateCTestConfiguration  from :/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
Parse Config file:/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
 Add coverage exclude regular expressions.
 Add coverage exclude: Common.KWCommon.*
 Add coverage exclude: vtk.*CSInit.cxx
 Add coverage exclude: vtkKWParaViewInit.cxx
 Add coverage exclude: vtk[^\.]+ClientServer.cxx
 Add coverage exclude: vtk[^\.]+Python.cxx
 Add coverage exclude: vtkSNL
 Add coverage exclude: GUI/Widgets
 Add coverage exclude: moc_[^\.]+.cxx
 Add coverage exclude: ui_[^\.]+.h
 Add coverage exclude: qrc_[^\.]+.cxx
 Add coverage exclude: Utilities.Xdmf2.libsrc.*
 Add coverage exclude: Utilities.VisItBridge.avt
 Add coverage exclude: Utilities.VisItBridge.CMake
 Add coverage exclude: Utilities.VisItBridge.common
 Add coverage exclude: Utilities.VisItBridge.databases
 Add coverage exclude: Utilities.VisItBridge.include
 Add coverage exclude: Utilities.VisItBridge.visit_vtk
 Add coverage exclude: Utilities.protobuf
 Add coverage exclude: vtk.*TCLInit.cxx
 Add coverage exclude: vtk[^\.]+(Java|Python|Tcl).cxx
 Add coverage exclude: Utilities.kwsys
 Add coverage exclude: Utilities.vtksys
 Add coverage exclude: Utilities.vtkmetaio
 Add coverage exclude: Utilities.vtklibproj4
 Add coverage exclude: Utilities.vtkalglib
 Add coverage exclude: Utilities.octree
 Add coverage exclude: .*vtkOpenGLState.*
 Add coverage exclude: .*Testing.Cxx.*cxx
 Add coverage exclude: .*Testing.Cxx.*h
 Add coverage exclude: .*moc_.*cxx
UpdateCTestConfiguration  from :/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
Parse Config file:/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
Test project /home/orschews/projects/ParaView-bin
Constructing a list of tests
Done constructing a list of tests
Checking test dependency graph...
Checking test dependency graph end
test 372
    Start 372: CoProcessingTestPythonScript

372: Test command: /home/orschews/projects/ParaView-bin/bin/CoProcessingPythonScriptExample "/home/orschews/projects/ParaView3/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptTest.py"
372: Test timeout computed to be: 1500
372: Initializing MPI.
372: Finished run with 0 errors.
1/2 Test #372: CoProcessingTestPythonScript .......   Passed    7.41 sec
test 373
    Start 373: PCoProcessingPythonScriptExample

373: Test command: /usr/bin/mpiexec "-np" "2" "/home/orschews/projects/ParaView-bin/bin/CoProcessingPythonScriptExample" "/home/orschews/projects/ParaView3/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptTest2.py"
373: Test timeout computed to be: 1500
373: Initializing MPI.
373: Initializing MPI.
373: Finished run with 0 errors.
373: Finished run with 0 errors.
2/2 Test #373: PCoProcessingPythonScriptExample ...   Passed    1.99 sec

The following tests passed:
 CoProcessingTestPythonScript
 PCoProcessingPythonScriptExample

100% tests passed, 0 tests failed out of 2

Total Test time (real) =  11.18 sec
orschews at Lap:~/projects/ParaView-bin$ 





From: Andy Bauer 
Sent: Tuesday, December 06, 2011 8:53 PM
To: peacemaker 
Cc: paraview at paraview.org 
Subject: Re: [Paraview] PythonScriptCoProcessingExample mpirun Problem


Hi Marek,

I'm a bit confused.  Where are you getting your CoProcessing executable from?  If I run the coprocessing library tests I don't see any failures on my machine and they're running in parallel.  Could you send me the results of doing "ctest -V -R CoProcessing" on your machine?  There should be 6 tests that run.  The PCoProcessingPythonScriptExampleOne tests the coprocessing tools with a 2 process run.  You may need to check out ParaViewData (http://www.paraview.org/paraview/resources/software.html) and add that option in the cmake configuration.

Andy


On Tue, Dec 6, 2011 at 3:31 AM, peacemaker <peacemaker1 at web.de> wrote:

  Hi,

  Im trying to run the PythonScriptCoProcessingExample(.cxx) included in ParaView sourcecode - this is my first "getting in touch" with MPI + ParaView (and Coprocessing of course) so maybe it`s just a very simple problem. I already succesfully compiled Paraview with Coprocessing and python (Ubuntu 11.10) and I`m running the source with COPROCESSOR_USE_MPI. 
  When I run it like: 
  mpirun -n 1 ./CoProcessing ./PythonScriptTest.py 
  then I get as result CPGrid0_mpirun1.png and CPPressure0_mpirun1.png - looks good.
  If I try:
  mpirun -n 2  ./CoProcessing ./PythonScriptTest.py 
  then I get as result CPGrid0_mpirun2.png and CPPressure0_mpirun2.png - these pictures seem to be incorrect. 
  In vtkPVCustomTestDriver.cxx there are source lines like:
  ...
  #ifdef COPROCESSOR_USE_MPI
    myid = vtkMPICommunicator::GetWorldCommunicator()->GetLocalProcessId();
  #endif
  ....
  gridBuilder->SetSpacing(spacing);
    double origin[3] = {myid*49*.2,20,300};
  .....
  If I understand it correctly there should be just a shift on the x-axis between the grids? The pictures get more and more messy, when I increase the numer of processes.
  After little messing around with the pyton-script needed to run this example (see bottom of this Mail) I got the following output when running it with mpirun -n 3: CPPressure0_changedscript_mpirun3.png. The halfs of the 2nd and 3rd grid are missing.

  What am I doing wrong? Is this example not supposed to be run with MPI? How does Coprocessing merge the data from different processes and how does the picture get built?

  I already tested this on a different PC with the same result. I hope you can help me.  

  Best wishes

  Marek


  changed Python Script:
  def DoCoProcessing(datadescription):
    timestep = datadescription.GetTimeStep()

    grid = datadescription.GetInputDescriptionByName("input").GetGrid()
    pressure = grid.GetPointData().GetArray('Pressure')

  #  print grid

    #grid.GetPointData().SetScalars(pressure)
    obj.SetOutput(grid)
  #  print obj

    # get global range of Pressure
    di = trivialproducer.GetDataInformation(0)
    trivialproducer.UpdatePipeline()
    di.Update()
    pdi = di.GetPointDataInformation()
  #  print pdi
    ai = pdi.GetArrayInformation('Pressure')
    pressurerange = ai.GetComponentRange(0)

    contour.Isosurfaces = .5*(pressurerange[0]+pressurerange[1])

    # now output the results to the screen as well as taking
    # a screen shot of the view
    #setup a window
    #rep = Show(contour)
    #ren = Render()

    #set the background color
    #ren.Background=[1,1,1]  #white

    #set image size
    #ren.ViewSize = [1000, 1000] #[width, height]

    #set representation
    #rep.Representation="Surface"

    #save screenshot
    #gridimagefilename = 'CPGrid'+str(timestep) + '.png'
    #WriteImage(gridimagefilename)

    rep = Show(trivialproducer)
    #rep.LookupTable = MakeBlueToRedLT(pressurerange[0], pressurerange[1])
    #rep.ColorArrayName = 'Pressure'
    #rep.ColorAttributeType = 'POINT_DATA'
    #set representation
    rep.Representation="Wireframe"
    #rep = Show(contour)
    #set the background color
    ren = Render()
    ren.Background=[0,0,0]  #white
    ren.ViewSize = [1000, 1000] #[width, height]

    pressureimagefilename = 'CPPressure'+str(timestep) + '.png'
    WriteImage(pressureimagefilename)
    return

  def RequestDataDescription(datadescription):
    time = datadescription.GetTime()
    timestep = datadescription.GetTimeStep()
    print timestep
    if timestep % 20 == 0:
      # add in some fields
      #print 'added Pressure and wanting to do coprocessing'
      datadescription.GetInputDescriptionByName("input").AddPointField("Pressure")
      datadescription.GetInputDescriptionByName('input').GenerateMeshOn()
    return

  # the code below is needed to import objects from paraview.simple
  # plus the definition of vtkTrivialProducer into this python script.
  try: paraview.simple
  except: from paraview.simple import *

  trivialproducer = TrivialProducer()
  contour = Contour(Input=trivialproducer)

  obj = trivialproducer.GetClientSideObject()


  _______________________________________________
  Powered by www.kitware.com

  Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

  Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

  Follow this link to subscribe/unsubscribe:
  http://www.paraview.org/mailman/listinfo/paraview


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111207/296a718d/attachment.htm>

From andy.bauer at kitware.com  Wed Dec  7 16:36:57 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 7 Dec 2011 16:36:57 -0500
Subject: [Paraview] PythonScriptCoProcessingExample mpirun Problem
In-Reply-To: <C15DC04875194BDFB8F599D8A654036F@LA>
References: <02235FF9B90546D288F639C2C4841670@LA>
	<CAMaOp+FYr3n7_6G6t=8mXigg7tVaQpD04+hmi4-oC_UB9DeCgQ@mail.gmail.com>
	<C15DC04875194BDFB8F599D8A654036F@LA>
Message-ID: <CAMaOp+F-xiFG=TvVSR7x+ZXx1qg3wGb0ZzC29G0Kd1zDJWbueQ@mail.gmail.com>

You need to set the PARAVIEW_DATA_ROOT value in your paraview
configuration.  The information is in the previous email on where to
download ParaViewData which is what you need to set PARAVIEW_DATA_ROOT to.
That will enable checking the results of the coprocessing tests.  The 2
tests which run essentially just checked that it was able to do
coprocessing without crashing but didn't check the results (i.e. the
images) to see if they are correct.  It needs the baseline images from
ParaViewData in order to do that.

Andy

On Wed, Dec 7, 2011 at 3:39 PM, peacemaker <peacemaker1 at web.de> wrote:

> **
> Hi Andy,
>
> thanks for the quick answer. I've downloaded Paraview from:
> http://www.paraview.org/files/v3.12/ParaView-3.12.0.tar.gz and compiled
> it with coprocessing. When I run "ctest -V -R CoProcessing" in my
> Paraview-bin directory there seem to be just 2 Tests running and I get the
> following output:
> orschews at Lap:~/projects/ParaView-bin$ ctest -V -R CoProcessing
> UpdateCTestConfiguration  from
> :/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
> Parse Config
> file:/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
>  Add coverage exclude regular expressions.
>  Add coverage exclude: Common.KWCommon.*
>  Add coverage exclude: vtk.*CSInit.cxx
>  Add coverage exclude: vtkKWParaViewInit.cxx
>  Add coverage exclude: vtk[^\.]+ClientServer.cxx
>  Add coverage exclude: vtk[^\.]+Python.cxx
>  Add coverage exclude: vtkSNL
>  Add coverage exclude: GUI/Widgets
>  Add coverage exclude: moc_[^\.]+.cxx
>  Add coverage exclude: ui_[^\.]+.h
>  Add coverage exclude: qrc_[^\.]+.cxx
>  Add coverage exclude: Utilities.Xdmf2.libsrc.*
>  Add coverage exclude: Utilities.VisItBridge.avt
>  Add coverage exclude: Utilities.VisItBridge.CMake
>  Add coverage exclude: Utilities.VisItBridge.common
>  Add coverage exclude: Utilities.VisItBridge.databases
>  Add coverage exclude: Utilities.VisItBridge.include
>  Add coverage exclude: Utilities.VisItBridge.visit_vtk
>  Add coverage exclude: Utilities.protobuf
>  Add coverage exclude: vtk.*TCLInit.cxx
>  Add coverage exclude: vtk[^\.]+(Java|Python|Tcl).cxx
>  Add coverage exclude: Utilities.kwsys
>  Add coverage exclude: Utilities.vtksys
>  Add coverage exclude: Utilities.vtkmetaio
>  Add coverage exclude: Utilities.vtklibproj4
>  Add coverage exclude: Utilities.vtkalglib
>  Add coverage exclude: Utilities.octree
>  Add coverage exclude: .*vtkOpenGLState.*
>  Add coverage exclude: .*Testing.Cxx.*cxx
>  Add coverage exclude: .*Testing.Cxx.*h
>  Add coverage exclude: .*moc_.*cxx
> UpdateCTestConfiguration  from
> :/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
> Parse Config
> file:/home/orschews/projects/ParaView-bin/DartConfiguration.tcl
> Test project /home/orschews/projects/ParaView-bin
> Constructing a list of tests
> Done constructing a list of tests
> Checking test dependency graph...
> Checking test dependency graph end
> test 372
>     Start 372: CoProcessingTestPythonScript
>
> 372: Test command:
> /home/orschews/projects/ParaView-bin/bin/CoProcessingPythonScriptExample
> "/home/orschews/projects/ParaView3/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptTest.py"
> 372: Test timeout computed to be: 1500
> 372: Initializing MPI.
> 372: Finished run with 0 errors.
> 1/2 Test #372: CoProcessingTestPythonScript .......   Passed    7.41 sec
> test 373
>     Start 373: PCoProcessingPythonScriptExample
>
> 373: Test command: /usr/bin/mpiexec "-np" "2"
> "/home/orschews/projects/ParaView-bin/bin/CoProcessingPythonScriptExample"
> "/home/orschews/projects/ParaView3/CoProcessing/CoProcessor/Testing/Cxx/PythonScriptTest2.py"
> 373: Test timeout computed to be: 1500
> 373: Initializing MPI.
> 373: Initializing MPI.
> 373: Finished run with 0 errors.
> 373: Finished run with 0 errors.
> 2/2 Test #373: PCoProcessingPythonScriptExample ...   Passed    1.99 sec
>
> The following tests passed:
>  CoProcessingTestPythonScript
>  PCoProcessingPythonScriptExample
>
> 100% tests passed, 0 tests failed out of 2
>
> Total Test time (real) =  11.18 sec
> orschews at Lap:~/projects/ParaView-bin$
>
>
>
>
>  *From:* Andy Bauer <andy.bauer at kitware.com>
> *Sent:* Tuesday, December 06, 2011 8:53 PM
> *To:* peacemaker <peacemaker1 at web.de>
> *Cc:* paraview at paraview.org
> *Subject:* Re: [Paraview] PythonScriptCoProcessingExample mpirun Problem
>
> Hi Marek,
>
> I'm a bit confused.  Where are you getting your CoProcessing executable
> from?  If I run the coprocessing library tests I don't see any failures on
> my machine and they're running in parallel.  Could you send me the results
> of doing "ctest -V -R CoProcessing" on your machine?  There should be 6
> tests that run.  The PCoProcessingPythonScriptExampleOne tests the
> coprocessing tools with a 2 process run.  You may need to check out
> ParaViewData (http://www.paraview.org/paraview/resources/software.html)
> and add that option in the cmake configuration.
>
> Andy
>
> On Tue, Dec 6, 2011 at 3:31 AM, peacemaker <peacemaker1 at web.de> wrote:
>
>> **
>> Hi,
>>
>> Im trying to run the PythonScriptCoProcessingExample(.cxx) included in
>> ParaView sourcecode - this is my first "getting in touch" with MPI
>> + ParaView (and Coprocessing of course) so maybe it`s just a very simple
>> problem. I already succesfully compiled Paraview with Coprocessing and
>> python (Ubuntu 11.10) and I`m running the source with COPROCESSOR_USE_MPI.
>> When I run it like:
>> mpirun -n 1 ./CoProcessing ./PythonScriptTest.py
>> then I get as result CPGrid0_mpirun1.png and CPPressure0_mpirun1.png -
>> looks good.
>> If I try:
>> mpirun -n 2  ./CoProcessing ./PythonScriptTest.py
>> then I get as result CPGrid0_mpirun2.png and CPPressure0_mpirun2.png -
>> these pictures seem to be incorrect.
>> In vtkPVCustomTestDriver.cxx there are source lines like:
>> ...
>> #ifdef COPROCESSOR_USE_MPI
>>   myid = vtkMPICommunicator::GetWorldCommunicator()->GetLocalProcessId();
>> #endif
>> ....
>> gridBuilder->SetSpacing(spacing);
>>   double origin[3] = {myid*49*.2,20,300};
>> .....
>> If I understand it correctly there should be just a shift on the x-axis
>> between the grids? The pictures get more and more messy, when I increase
>> the numer of processes.
>> After little messing around with the pyton-script needed to run this
>> example (see bottom of this Mail) I got the following output when running
>> it with mpirun -n 3: CPPressure0_changedscript_mpirun3.png. The halfs of
>> the 2nd and 3rd grid are missing.
>>
>> What am I doing wrong? Is this example not supposed to be run with MPI?
>> How does Coprocessing merge the data from different processes and how does
>> the picture get built?
>>
>> I already tested this on a different PC with the same result. I hope you
>> can help me.
>>
>> Best wishes
>>
>> Marek
>>
>>
>> changed Python Script:
>> def DoCoProcessing(datadescription):
>>   timestep = datadescription.GetTimeStep()
>>
>>   grid = datadescription.GetInputDescriptionByName("input").GetGrid()
>>   pressure = grid.GetPointData().GetArray('Pressure')
>>
>> #  print grid
>>
>>   #grid.GetPointData().SetScalars(pressure)
>>   obj.SetOutput(grid)
>> #  print obj
>>
>>   # get global range of Pressure
>>   di = trivialproducer.GetDataInformation(0)
>>   trivialproducer.UpdatePipeline()
>>   di.Update()
>>   pdi = di.GetPointDataInformation()
>> #  print pdi
>>   ai = pdi.GetArrayInformation('Pressure')
>>   pressurerange = ai.GetComponentRange(0)
>>
>>   contour.Isosurfaces = .5*(pressurerange[0]+pressurerange[1])
>>
>>   # now output the results to the screen as well as taking
>>   # a screen shot of the view
>>   #setup a window
>>   #rep = Show(contour)
>>   #ren = Render()
>>
>>   #set the background color
>>   #ren.Background=[1,1,1]  #white
>>
>>   #set image size
>>   #ren.ViewSize = [1000, 1000] #[width, height]
>>
>>   #set representation
>>   #rep.Representation="Surface"
>>
>>   #save screenshot
>>   #gridimagefilename = 'CPGrid'+str(timestep) + '.png'
>>   #WriteImage(gridimagefilename)
>>
>>   rep = Show(trivialproducer)
>>   #rep.LookupTable = MakeBlueToRedLT(pressurerange[0], pressurerange[1])
>>   #rep.ColorArrayName = 'Pressure'
>>   #rep.ColorAttributeType = 'POINT_DATA'
>>   #set representation
>>   rep.Representation="Wireframe"
>>   #rep = Show(contour)
>>   #set the background color
>>   ren = Render()
>>   ren.Background=[0,0,0]  #white
>>   ren.ViewSize = [1000, 1000] #[width, height]
>>
>>   pressureimagefilename = 'CPPressure'+str(timestep) + '.png'
>>   WriteImage(pressureimagefilename)
>>   return
>>
>> def RequestDataDescription(datadescription):
>>   time = datadescription.GetTime()
>>   timestep = datadescription.GetTimeStep()
>>   print timestep
>>   if timestep % 20 == 0:
>>     # add in some fields
>>     #print 'added Pressure and wanting to do coprocessing'
>>
>> datadescription.GetInputDescriptionByName("input").AddPointField("Pressure")
>>     datadescription.GetInputDescriptionByName('input').GenerateMeshOn()
>>   return
>>
>> # the code below is needed to import objects from paraview.simple
>> # plus the definition of vtkTrivialProducer into this python script.
>> try: paraview.simple
>> except: from paraview.simple import *
>>
>> trivialproducer = TrivialProducer()
>> contour = Contour(Input=trivialproducer)
>>
>> obj = trivialproducer.GetClientSideObject()
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111207/780bc49b/attachment-0001.htm>

From christoffer.green at gmail.com  Thu Dec  8 04:53:28 2011
From: christoffer.green at gmail.com (Christoffer Green)
Date: Thu, 8 Dec 2011 10:53:28 +0100
Subject: [Paraview] Is There A 3d Widget Plugin Demo Available?
In-Reply-To: <CAFzjYVqx_rEGrigjG67+DqWW=dMsJXBxRHAHRD4hrUqMYsry_w@mail.gmail.com>
References: <CAHwVLSgq9K2nuevHdBfn_X+d0T9QVx5dD_AkDNs7=-Cg9TZqJg@mail.gmail.com>
	<CAFzjYVqx_rEGrigjG67+DqWW=dMsJXBxRHAHRD4hrUqMYsry_w@mail.gmail.com>
Message-ID: <CAHwVLSg2msBQtbv76a2TihBHXFiJ7-5jjT5E9jqd25=vHb5Ovg@mail.gmail.com>

Thank you for your reply.

Currently I have been attempting something along those lines, though I
started with the vtkLineWidget2 instead of the vtkBoxWidget2. So I copied
all the files that appeared to be needed and changed the names of the
classes (this widget is going to be manipulating a plane so it got named
PlaneWidget). I have a problem now however that I do not understand. The
vtkLineRepresentation (vtkPlaneRepresentation now after name change) that
got copied has a function called SetPoint1WorldPosition that takes an array
of 3 double values as input.
On creation of the widget this function gets called correctly once but then
later on it gets called again but this time paraview tries to send an array
with only 2 double values in it even thought this directly contradicts the
xml definition for the function so then the generated
vtkPlaneRepresentationClientServer function locator fails to find it. Does
anybody have any clue why this is? I have tried to debug the call stack but
i can not make any sense of it. I have attached a zip file of the widget
source (after adding the plugin to paraview simply create a "Line Source
Plane" from the sources menu to create the widget).

"""""""""""""" The error message i get is:
ERROR: In
..\..\..\ParaView-3.12.0\ParaViewCore\ServerImplementation\vtkPVSessionCore.cxx,
line 324

vtkPVSessionCore (09369450): Object type: vtkPlaneRepresentation, could not
find requested method: "SetPoint1WorldPosition"

or the method was called with incorrect arguments.

while processing

Message 0 = Invoke

Argument 0 = vtk_object_pointer {vtkPlaneRepresentation (0C27AE80)}

Argument 1 = string_value {SetPoint1WorldPosition}

Argument 2 = float64_array {0, 0}

""""""""""""""

Thanks.

BR/ Christoffer Green



On Wed, Dec 7, 2011 at 3:51 PM, Robert Maynard
<robert.maynard at kitware.com>wrote:

> 3D widgets separate the logic of display from interaction be
> specifying two classes. The widget class it self handles the
> interaction, and a widget representation handles the how to display
> the widget. The documentation for vtkBoxWidget2 is a good starting
> place to understand the widget concept in VTK (
> http://www.vtk.org/doc/nightly/html/classvtkBoxWidget2.html ).
>
> To register your custom made widget with ParaView follow the
> directions found in this email conversation:
> http://www.cmake.org/pipermail/paraview/2011-July/022122.html
>
>
>
> On Tue, Dec 6, 2011 at 10:07 AM, Christoffer Green
> <christoffer.green at gmail.com> wrote:
> > Hello!
> >
> > I have been trying to figure out how to write a 3d widget plugin for
> > Paraview 3.12. By 3d widget I mean a widget in the 3d view like the
> already
> > available ones such as for implicit planes or lines. I am however
> finding it
> > hard to figure out what kind of things need to go into the CMakeLists.txt
> > and what classes are needed and such since it appears to be somewhat
> > complicated. Is there an example of such a plugin available somewhere?
> >
> > Thanks.
> >
> > BR/ Christoffer Green
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
>
>
> --
> Robert Maynard
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111208/7c61fa8b/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PlaneWidgetPlugin.zip
Type: application/zip
Size: 22484 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111208/7c61fa8b/attachment-0001.zip>

From felipe.bordeu at ec-nantes.fr  Thu Dec  8 08:25:07 2011
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Thu, 08 Dec 2011 14:25:07 +0100
Subject: [Paraview] use of global variables in paraview
In-Reply-To: <4E95574B.8030707@ec-nantes.fr>
References: <4E8F339D.9030503@ec-nantes.fr> <4E91490E.40202@tu-dortmund.de>
	<4E95574B.8030707@ec-nantes.fr>
Message-ID: <4EE0BAB3.2030009@ec-nantes.fr>

Hi,

I finally came to a solution for this problem, some changes are needed 
in VTK and in Paraview,

http://paraview.org/Bug/view.php?id=5626
http://paraview.org/Bug/view.php?id=12778

It look correct to me, the only problem is that we cant treat point/cell 
data fields and field data with the same names. (I don't know how to 
solve this)

Also not all the filters propagate the field data, for example 
CleanToGrid and D3 (see http://paraview.org/Bug/view.php?id=10787, and 
http://paraview.org/Bug/view.php?id=12777)

note: I also did some modification for the python calculator, but the 
code in not very clean.

Felipe


On 12/10/2011 11:00, Felipe Bordeu wrote:
> Sven,
>
> Thank very much for the info. With your filters an the changes to my 
> home made paraview, I'm able to do what I want.
>
> I put some changer in the bugs report.
>
> changes to use fielddata in the pythoncalculator.
> http://www.paraview.org/Bug/view.php?id=5626.
> change to pass the fieldata
> http://www.paraview.org/Bug/view.php?id=10787.
>
> Felipe
>
> On 09/10/2011 09:11, Sven Buijssen wrote:
>> Felipe,
>>
>> The Calculator filter has no support for field data currently, see e.g.
>> http://www.paraview.org/Bug/view.php?id=5626. Neither it is the only
>> filter that does not pass field data, see e.g.
>> http://www.paraview.org/Bug/view.php?id=10787.
>>
>> For operations involving field data, like plotting field data over time
>> or some trivial calculations, I resort to the Programmable Filter.
>>
>> Here's an example pipeline that first adds a source, then adds some
>> vector point data to operate on and a single scalar value as field data
>> to eventually scale an input (point data) data array (stored in the
>> first non-multi-block leaf of a multi-block dataset) by (the first
>> component of) the first tuple of a given name data array stored as field
>> data and add the result as a new data array.
>>
>>      Sources - Wavelet - Apply
>>      Filters - Programmable Filter -
>>          Script: see add.scalarValue.as.fieldData.py - Apply
>>      Filters - Random Vectors - Apply
>>      Filters - Programmable Filter -
>>          Script: see scale.pointData.by.fieldDataValue.py - Apply
>>
>> It should get you started. Changing the script to work on cell data or
>> with a different input data array/field data tuple is straightforward.
>>
>> Sven
>>
>>
>>
>> Felipe Bordeu wrote, On 07.10.2011 19:15:
>>> Hello everybody,
>>>
>>> I have a custom reader, and I generate cells and points data correctly.
>>> Now I am trying to put global data (like material propeties) in a
>>> vtkFieldData using
>>>
>>> ouput->SetFieldData(my_vtkfielddata);
>>>
>>> This work properly and I can see the information in the information tab
>>> (variable Y).
>>>
>>>
>>> But the problem is I am unable to access this information in 
>>> paraview, I
>>> cant use the variable in the calculator, and if apply the calculator
>>> filter the global fields are not passed to the output.
>>>
>>> How can I access this kind of information in the calculator??
>>>
>>> I am using the 3.12.0-RC2 from git in linux, and a custom reader in 
>>> c++.
>>>
>>>
>>> -- 
>>>
>>> Felipe Bordeu Weldt
>>> Ing?nieur de Recherche
>>> -------------------------------------
>>> T?l. : 33 (0)2 40 37 16 57
>>> Fax. : 33 (0)2 40 74 74 06
>>> Felipe.Bordeu at ec-nantes.fr
>>> Institut GeM - UMR CNRS 6183
>>> ?cole Centrale Nantes
>>> 1 Rue de La No?, 44321 Nantes, FRANCE
>>> -------------------------------------
>
>


-- 

Felipe Bordeu Weldt
Ing?nieur de Recherche
-------------------------------------
T?l. : 33 (0)2 40 37 16 57
Fax. : 33 (0)2 40 74 74 06
Felipe.Bordeu at ec-nantes.fr
Institut GeM - UMR CNRS 6183
?cole Centrale Nantes
1 Rue de La No?, 44321 Nantes, FRANCE
-------------------------------------


From agagliardi at ara.co.uk  Thu Dec  8 09:53:32 2011
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Thu, 8 Dec 2011 14:53:32 -0000
Subject: [Paraview] pvpython and matplotlib
Message-ID: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>


Dear All,

I am having issues getting matplotlib to work with a in-house compiled
version of pvpython. Although it imports fine, if I try to plot anything
using pyplot I exit with a segmentation fault. Likewise, when I exit
pvpython, I get a segmentation fault. However, when using matplotlib from
the standard release of Python, it all works fine. Other libraries like
mysql and numpy are working fine too. This is what I'm running:

import matplotlib.pyplot as mp
#import pdb; pdb.set_trace()
mp.plot([1,2,3])
mp.show()

Any suggestions what could be wrong or how to go about solving it? I've
noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
I'm at least finding the point at which I get the segmentation fault, but I
can't make head nor tail of it:

(Pdb) s
> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
-> def zero(): return Value(0)
(Pdb) s
--Return--
>
/usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
Op o...1ce469a8> <--- it gives a segmentation fault before this line
-> def zero(): return Value(0)

All suggestions greatly appreciated.

Thanks,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 


**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************

From hal at cs.unc.edu  Thu Dec  8 16:11:09 2011
From: hal at cs.unc.edu (Hal Canary)
Date: Thu, 08 Dec 2011 16:11:09 -0500
Subject: [Paraview] Exposing VTK Texture Transforms within ParaView
Message-ID: <4EE127ED.3090904@cs.unc.edu>

Hello,

I have two related questions about ParaView.  First, I would like to 
expose the vtkTexture Transform of the current (surface) representation 
on the Display Properties Tab.

I can follow the instructions to add widgets to the display panel using 
a plugin [1], but I can't figure out how to connect the widgets to the 
representation.  On the server side, it is

   vtkGeometryRepresentation::Actor->GetTexture()->GetTransform()

But the client-side pqRepresentation class doesn't seem to have that 
flexibility.

In the Python shell, I can get this effect with:

   texture = GetDisplayProperties(GetActiveSource()).Texture
   transform = texture.SMProxy.GetClientSideObject().GetTransform()

But I don't see how to do that with a display panel decoration.

The second question is how to expose some parameter of the the texture 
transform (for example x-translation) to the Animation View.  I've made 
even less progress on this front.

Thanks!

Hal Canary


[1] http://www.vtk.org/Wiki/ParaView/Plugin_HowTo

From rccm.kyoshimi at gmail.com  Thu Dec  8 20:04:00 2011
From: rccm.kyoshimi at gmail.com (kenichiro yoshimi)
Date: Fri, 9 Dec 2011 10:04:00 +0900
Subject: [Paraview] Unable to write out EnSight format with
	VTK_POLYHEDRON
In-Reply-To: <CAFzjYVp2mkD9eQUqFPmOd48sE=Y=uCt=wo1OE+d6CDMt+TJ5jA@mail.gmail.com>
References: <CAHDyfPBpawM3TtGqCxmHn0eKGE=rMv1mBqYTUcTwM_ZAtX3C9g@mail.gmail.com>
	<CAFzjYVp2mkD9eQUqFPmOd48sE=Y=uCt=wo1OE+d6CDMt+TJ5jA@mail.gmail.com>
Message-ID: <CAHDyfPCMxq7v+gP=WOnNrmi0qGXAi+EttW3G3pO+xSk9zYNe2Q@mail.gmail.com>

Thanks so much for your answer. I have reported bug with attached on Mantis:
  http://www.vtk.org/Bug/view.php?id=12782
I'm glad you confirm this.

Regards,
yoshimi

2011/12/7 Robert Maynard <robert.maynard at kitware.com>:
> Hi,
>
> Can you create a bug report with the code attached as a patch please.
>
> On Thu, Dec 1, 2011 at 9:23 PM, kenichiro yoshimi
> <rccm.kyoshimi at gmail.com> wrote:
>> Hello,
>>
>> I tried to save data including VTK_POLYHEDRON meshes through "Save
>> Data" with "EnSight format", but the polyhedrons couldn't be written.
>> Probably, the reason is that vtkEnSightWriter doesn't support
>> VTK_POLYHEDRON. In my case, I change the following and work well:
>> ?1. replace all "VTK_CONVEX_POINT_SET" with "VTK_POLYHEDRON".
>> ?2. vtkEnSightWriter.cxx: l.620
>> ?//element conenctivity information
>> ?for (k=0;k<CellsByElement[elementType].size();k++)
>> ? ?{
>> ? ?int CellId=CellsByElement[elementType][k];
>> ? ?vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
>> ? ?for (int m=0;m<PointIds->GetNumberOfIds();m++)
>> ? ? ?{
>> ? ? ?int PointId=PointIds->GetId(m);
>> ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
>> ? ? ?}
>> ? ?}
>> ----------------------->
>> ?if (elementType != VTK_POLYHEDRON)
>> ? ?{
>> ? ?//element conenctivity information
>> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
>> ? ? ?{
>> ? ? ?int CellId=CellsByElement[elementType][k];
>> ? ? ?vtkIdList *PointIds=input->GetCell(CellId)->GetPointIds();
>> ? ? ?for (int m=0;m<PointIds->GetNumberOfIds();m++)
>> ? ? ? ?{
>> ? ? ? ?int PointId=PointIds->GetId(m);
>> ? ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
>> ? ? ? ?}
>> ? ? ?}
>> ? ?}
>> ?else
>> ? ?{
>> ? ?//number of faces per elements
>> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
>> ? ? ?{
>> ? ? ?int CellId=CellsByElement[elementType][k];
>> ? ? ?int numFaces=input->GetCell(CellId)->GetNumberOfFaces();
>> ? ? ?this->WriteIntToFile(numFaces,fd);
>> ? ? ?}
>> ? ?//number of nodes per faces
>> ? ?for (k=0;k<CellsByElement[elementType].size();k++)
>> ? ? ?{
>> ? ? ?int CellId=CellsByElement[elementType][k];
>> ? ? ?vtkCell *cell = input->GetCell(CellId);
>> ? ? ?for (int m=0;m<cell->GetNumberOfFaces();m++)
>> ? ? ? ?{
>> ? ? ? ?int numNodes=cell->GetFace(m)->GetNumberOfPoints();
>> ? ? ? ?this->WriteIntToFile(numNodes,fd);
>> ? ? ? ?}
>> ? ? ?}
>> ? ? ?//element connectivity information
>> ? ? ?for (k=0;k<CellsByElement[elementType].size();k++)
>> ? ? ? ?{
>> ? ? ? ?int CellId=CellsByElement[elementType][k];
>> ? ? ? ?vtkCell *cell = input->GetCell(CellId);
>> ? ? ? ?for (int m=0;m<cell->GetNumberOfFaces();m++)
>> ? ? ? ? ?{
>> ? ? ? ? ?vtkIdList *PointIds=cell->GetFace(m)->GetPointIds();
>> ? ? ? ? ?for (int n=0;n<PointIds->GetNumberOfIds();n++)
>> ? ? ? ? ? ?{
>> ? ? ? ? ? ?int PointId=PointIds->GetId(n);
>> ? ? ? ? ? ?this->WriteIntToFile(NodeIdToOrder[PointId],fd);
>> ? ? ? ? ? ?}
>> ? ? ? ? ?}
>> ? ? ? ?}
>> ? ? ?}
>> ------------------------------------------------------------------
>>
>> Can anyone tell me if these modifications are correct?
>>
>> Please advice
>> Thanks,
>> yoshimi
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> --
> Robert Maynard

From utkarsh.ayachit at kitware.com  Fri Dec  9 13:27:08 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Fri, 9 Dec 2011 13:27:08 -0500
Subject: [Paraview] Distributing PVSC files (ParaView 4.0)
In-Reply-To: <CADHSJjC5Huqb2-gnocCPrvUiLh+LnV67oRGdcB1yZ3b2XA5JPg@mail.gmail.com>
References: <CADHSJjANG+PSwjxJnOVLgrs9m1o2W5e8gXL0=kYfZLB4S8=M=w@mail.gmail.com>
	<508255042.978017.1314112714885.JavaMail.root@mail2.gatech.edu>
	<CADHSJjDfFh_-CyUhMiyx3+u31DFk4RtV2jBq54Ws6tetv_RoBw@mail.gmail.com>
	<4E53CAEB.6@lbl.gov>
	<345817C8A61EA841AAE0120EC1514D952404AB22@umechphe.easf.csd.disa.mil>
	<4E53D265.2030205@lbl.gov>
	<EFbec7xDZZNWY4DVCDS87Pp817LnhtPPb1J1HG4zJmcpH_Eiw5x66iAqUoKWLg8_KKTAao19OQwW1d182r5uEx5Xx6oe7BZulB2qgvsYuG0@cipher.nrlssc.navy.mil>
	<CADHSJjC5Huqb2-gnocCPrvUiLh+LnV67oRGdcB1yZ3b2XA5JPg@mail.gmail.com>
Message-ID: <CADHSJjBaZZxYL66RZkJy-iCOd0f2NWmLy_NURWRvmjnyqvMw1w@mail.gmail.com>

Folks,

Support for distributing PVSC files has now made into ParaView master.
I've added some user documentation on the ParaView Wiki at
http://www.paraview.org/Wiki/ParaView/Distributing_Server_Configuration_Files

Any comments/feedback would be appreciated.

Rick, I have added support for authenticated web servers too, but am
not sure if it works since I didn't manage to setup an authenticated
web server. Let me know if you run into any issues with that aspect.

Thanks
Utkarsh



On Thu, Aug 25, 2011 at 9:30 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Good to know. Looks like we have enough interest to add Python
> support. That is indeed on our TODO list for pvsc improvements. It may
> happen after 4.0, however.
>
> Utkarsh
>
> On Wed, Aug 24, 2011 at 5:59 PM, Sean Ziegeler
> <sean.ziegeler at nrlssc.navy.mil> wrote:
>> I'm going to throw my support in for the Python scripting suggestion. It
>> would probably help with the open port issue (e.g., watching ssh output for
>> an error), in discovering the location of plink/ssh/etc., and probably a
>> number of other use cases. ?Also, the issue of modified versions of ssh is
>> going to be a common problem, so libssh would definitely not work for many
>> use cases.
>>
>> Thanks,
>> Sean
>>
>> On 08/23/11 11:16, Burlen Loring wrote:
>>>
>>> Yes, and this has worked OK, at least no one complained, but I think
>>> that it's success has more to do with a small number of users involved
>>> rather than the strength of this approach.
>>>
>>> On 08/23/2011 08:52 AM, Angelini, Richard C USA CIV (US) wrote:
>>>>
>>>> We just pick a random port between 2000 and 65000 ... the chances are
>>>> pretty slim (but not absolutely zero) for stepping on another process,
>>>> right? 8-)
>>>>
>>>>
>>>> ________________________________
>>>> Rick Angelini
>>>> USArmy Research Laboratory
>>>> Computation Science&Engineering Branch/
>>>> ARL/DSRC (DoD Shared Resource Center)
>>>> Phone: 410-278-6266
>>>>
>>>> ________________________________________
>>>> From: paraview-bounces at paraview.org [paraview-bounces at paraview.org] on
>>>> behalf of Burlen Loring [bloring at lbl.gov]
>>>> Sent: Tuesday, August 23, 2011 11:44 AM
>>>> To: Utkarsh Ayachit
>>>> Cc: paraview at paraview.org; gtg085x at mail.gatech.edu
>>>> Subject: Re: [Paraview] Distributing PVSC files (ParaView 4.0)
>>>>
>>>> Hi Utkarsh,
>>>>
>>>> It sounds like you need a very flexible solution, or even multiple
>>>> solutions, given the variety of use cases you have to support.
>>>>
>>>> You hit on a great point re python approach
>>>>>
>>>>> allows us to write code to discover informationabout the client/server
>>>>> and take appropriate action(s).
>>>>
>>>> Which brings up another pvsc related issue could PV reliably find an
>>>> open port when constructing the ssh tunnel from PV over to the HPC site.
>>>> I don't think it's currently possible to script this.
>>>>
>>>> Burlen
>>>>
>>>> On 08/23/2011 08:22 AM, Utkarsh Ayachit wrote:
>>>>>
>>>>> Tim,
>>>>>
>>>>> That's was exactly what I was concerned about when it comes to using
>>>>> libssh. Good to know that there are indeed such use-cases and not
>>>>> merely hypothetical ones.
>>>>>
>>>>> Utkarsh
>>>>>
>>>>> On Tue, Aug 23, 2011 at 11:18 AM, Tim Gallagher
>>>>> <tim.gallagher at gatech.edu> wrote:
>>>>>>
>>>>>> I know for our HPC access, they require a custom version of SSH that
>>>>>> has been security enhanced. So if PV used a built-in libssh, we
>>>>>> would be unable to use PV to connect through to them.
>>>>>>
>>>>>> I don't have a better solution, just wanted to point out that
>>>>>> packaging libssh without an option to use a system one would not
>>>>>> work in some cases.
>>>>>>
>>>>>> Tim
>>>>>>
>>>>>> ----- Original Message -----
>>>>>> From: "Utkarsh Ayachit"<utkarsh.ayachit at kitware.com>
>>>>>> To: "Burlen Loring"<bloring at lbl.gov>
>>>>>> Cc: "ParaView"<paraview at paraview.org>
>>>>>> Sent: Tuesday, August 23, 2011 9:38:38 AM
>>>>>> Subject: Re: [Paraview] Distributing PVSC files (ParaView 4.0)
>>>>>>
>>>>>> Burlen,
>>>>>>
>>>>>> Good points. At the risk of stating the obvious let's note that we'll
>>>>>> be able to distribute different pvsc versions for the server for
>>>>>> different OSs and ParaView versions without any issue. Now locating
>>>>>> ssh/xterm/plink etc are indeed real issues.
>>>>>>
>>>>>> I don't like the cmake approach, it requires that we need a separate
>>>>>> step and would require users to install cmake (unless we include cmake
>>>>>> in the binaries). libssh approach sounds interesting. The only concern
>>>>>> is will users to reluctant to use a ssh client we provide rather than
>>>>>> their chosen (and trusted one).
>>>>>>
>>>>>> Like John said, the file inputs are already supported in pvsc.
>>>>>>
>>>>>> Pat Marion has been pushing for the ability to have Python scripts
>>>>>> instead-of/in-addition-to pvsc-xmls. I think that's another viable
>>>>>> approach since it allows us to write code to discover information
>>>>>> about the client/server and take appropriate action(s).
>>>>>>
>>>>>> Utkarsh
>>>>>>
>>>>>> On Mon, Aug 22, 2011 at 12:34 PM, Burlen Loring<bloring at lbl.gov> wrote:
>>>>>>>
>>>>>>> Hi Utkarsh,
>>>>>>>
>>>>>>> this looks great.
>>>>>>>
>>>>>>> One thing I have encountered and that you may want to think about
>>>>>>> is that a
>>>>>>> single static pvsc is not going to work for all users as pvsc's
>>>>>>> depend on
>>>>>>> external components such as xterm, ssh, and plink. These are in
>>>>>>> different
>>>>>>> places on different user's systems, maybe not present on the user's
>>>>>>> system
>>>>>>> leading to the pvsc not working.
>>>>>>>
>>>>>>> I could see a couple of different avenues to solve this: Probably
>>>>>>> the best
>>>>>>> would be to integrate ssh tunneling into PV via libssh so that these
>>>>>>> dependencies are not needed. An aleternative would be to include a
>>>>>>> configure
>>>>>>> step in your new pvsc import process (like cmake) where
>>>>>>> dependencies are
>>>>>>> located and a system specific pvcs is generated. Something far
>>>>>>> easier and
>>>>>>> less intrusive might be to add a file dialog element to the pvsc
>>>>>>> syntax so
>>>>>>> that the user could easily browse for these files. That's not as
>>>>>>> nice as
>>>>>>> the other approaches because it clutters the UI and the user still
>>>>>>> has to
>>>>>>> hunt down the files, but it at least gives them a method to do so.
>>>>>>>
>>>>>>> Burlen
>>>>>>>
>>>>>>> On 08/19/2011 02:15 PM, Utkarsh Ayachit wrote:
>>>>>>>>
>>>>>>>> Folks,
>>>>>>>>
>>>>>>>> A feature we are thinking of implementing for ParaView 4.0 is to make
>>>>>>>> it easier to distribute pvsc files to connect to various HPC
>>>>>>>> resources. I've sketched out a rough proposal for the same at
>>>>>>>>
>>>>>>>>
>>>>>>>> http://paraview.org/ParaView3/index.php/Distributing_Server_Configuration_Scripts
>>>>>>>>
>>>>>>>>
>>>>>>>> Any comments/suggestions are always welcome.
>>>>>>>>
>>>>>>>> Utkarsh
>>>>>>>> _______________________________________________
>>>>>>>> Powered by www.kitware.com
>>>>>>>>
>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>
>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>
>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>

From richard.c.angelini.civ at mail.mil  Fri Dec  9 13:38:32 2011
From: richard.c.angelini.civ at mail.mil (Angelini, Richard C USA CIV (US))
Date: Fri, 9 Dec 2011 18:38:32 +0000
Subject: [Paraview] Distributing PVSC files (ParaView 4.0)
In-Reply-To: <CADHSJjBaZZxYL66RZkJy-iCOd0f2NWmLy_NURWRvmjnyqvMw1w@mail.gmail.com>
References: <CADHSJjANG+PSwjxJnOVLgrs9m1o2W5e8gXL0=kYfZLB4S8=M=w@mail.gmail.com>
	<508255042.978017.1314112714885.JavaMail.root@mail2.gatech.edu>
	<CADHSJjDfFh_-CyUhMiyx3+u31DFk4RtV2jBq54Ws6tetv_RoBw@mail.gmail.com>
	<4E53CAEB.6@lbl.gov>
	<345817C8A61EA841AAE0120EC1514D952404AB22@umechphe.easf.csd.disa.mil>
	<4E53D265.2030205@lbl.gov>
	<EFbec7xDZZNWY4DVCDS87Pp817LnhtPPb1J1HG4zJmcpH_Eiw5x66iAqUoKWLg8_KKTAao19OQwW1d182r5uEx5Xx6oe7BZulB2qgvsYuG0@cipher.nrlssc.navy.mil>
	<CADHSJjC5Huqb2-gnocCPrvUiLh+LnV67oRGdcB1yZ3b2XA5JPg@mail.gmail.com>,
	<CADHSJjBaZZxYL66RZkJy-iCOd0f2NWmLy_NURWRvmjnyqvMw1w@mail.gmail.com>
Message-ID: <345817C8A61EA841AAE0120EC1514D9536A2A019@umechphc.easf.csd.disa.mil>

Thanks - we'll start taking a look at this.

________________________________
Rick Angelini
USArmy Research Laboratory
Computation Science&Engineering Branch/
ARL/DSRC (DoD Shared Resource Center)
Phone:  410-278-6266

________________________________________
From: Utkarsh Ayachit [utkarsh.ayachit at kitware.com]
Sent: Friday, December 09, 2011 1:27 PM
To: paraview at paraview.org
Cc: Angelini, Richard C USA CIV (US)
Subject: Re: [Paraview] Distributing PVSC files (ParaView 4.0)

Folks,

Support for distributing PVSC files has now made into ParaView master.
I've added some user documentation on the ParaView Wiki at
http://www.paraview.org/Wiki/ParaView/Distributing_Server_Configuration_Files

Any comments/feedback would be appreciated.

Rick, I have added support for authenticated web servers too, but am
not sure if it works since I didn't manage to setup an authenticated
web server. Let me know if you run into any issues with that aspect.

Thanks
Utkarsh



On Thu, Aug 25, 2011 at 9:30 AM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Good to know. Looks like we have enough interest to add Python
> support. That is indeed on our TODO list for pvsc improvements. It may
> happen after 4.0, however.
>
> Utkarsh
>
> On Wed, Aug 24, 2011 at 5:59 PM, Sean Ziegeler
> <sean.ziegeler at nrlssc.navy.mil> wrote:
>> I'm going to throw my support in for the Python scripting suggestion. It
>> would probably help with the open port issue (e.g., watching ssh output for
>> an error), in discovering the location of plink/ssh/etc., and probably a
>> number of other use cases.  Also, the issue of modified versions of ssh is
>> going to be a common problem, so libssh would definitely not work for many
>> use cases.
>>
>> Thanks,
>> Sean
>>
>> On 08/23/11 11:16, Burlen Loring wrote:
>>>
>>> Yes, and this has worked OK, at least no one complained, but I think
>>> that it's success has more to do with a small number of users involved
>>> rather than the strength of this approach.
>>>
>>> On 08/23/2011 08:52 AM, Angelini, Richard C USA CIV (US) wrote:
>>>>
>>>> We just pick a random port between 2000 and 65000 ... the chances are
>>>> pretty slim (but not absolutely zero) for stepping on another process,
>>>> right? 8-)
>>>>
>>>>
>>>> ________________________________
>>>> Rick Angelini
>>>> USArmy Research Laboratory
>>>> Computation Science&Engineering Branch/
>>>> ARL/DSRC (DoD Shared Resource Center)
>>>> Phone: 410-278-6266
>>>>
>>>> ________________________________________
>>>> From: paraview-bounces at paraview.org [paraview-bounces at paraview.org] on
>>>> behalf of Burlen Loring [bloring at lbl.gov]
>>>> Sent: Tuesday, August 23, 2011 11:44 AM
>>>> To: Utkarsh Ayachit
>>>> Cc: paraview at paraview.org; gtg085x at mail.gatech.edu
>>>> Subject: Re: [Paraview] Distributing PVSC files (ParaView 4.0)
>>>>
>>>> Hi Utkarsh,
>>>>
>>>> It sounds like you need a very flexible solution, or even multiple
>>>> solutions, given the variety of use cases you have to support.
>>>>
>>>> You hit on a great point re python approach
>>>>>
>>>>> allows us to write code to discover informationabout the client/server
>>>>> and take appropriate action(s).
>>>>
>>>> Which brings up another pvsc related issue could PV reliably find an
>>>> open port when constructing the ssh tunnel from PV over to the HPC site.
>>>> I don't think it's currently possible to script this.
>>>>
>>>> Burlen
>>>>
>>>> On 08/23/2011 08:22 AM, Utkarsh Ayachit wrote:
>>>>>
>>>>> Tim,
>>>>>
>>>>> That's was exactly what I was concerned about when it comes to using
>>>>> libssh. Good to know that there are indeed such use-cases and not
>>>>> merely hypothetical ones.
>>>>>
>>>>> Utkarsh
>>>>>
>>>>> On Tue, Aug 23, 2011 at 11:18 AM, Tim Gallagher
>>>>> <tim.gallagher at gatech.edu> wrote:
>>>>>>
>>>>>> I know for our HPC access, they require a custom version of SSH that
>>>>>> has been security enhanced. So if PV used a built-in libssh, we
>>>>>> would be unable to use PV to connect through to them.
>>>>>>
>>>>>> I don't have a better solution, just wanted to point out that
>>>>>> packaging libssh without an option to use a system one would not
>>>>>> work in some cases.
>>>>>>
>>>>>> Tim
>>>>>>
>>>>>> ----- Original Message -----
>>>>>> From: "Utkarsh Ayachit"<utkarsh.ayachit at kitware.com>
>>>>>> To: "Burlen Loring"<bloring at lbl.gov>
>>>>>> Cc: "ParaView"<paraview at paraview.org>
>>>>>> Sent: Tuesday, August 23, 2011 9:38:38 AM
>>>>>> Subject: Re: [Paraview] Distributing PVSC files (ParaView 4.0)
>>>>>>
>>>>>> Burlen,
>>>>>>
>>>>>> Good points. At the risk of stating the obvious let's note that we'll
>>>>>> be able to distribute different pvsc versions for the server for
>>>>>> different OSs and ParaView versions without any issue. Now locating
>>>>>> ssh/xterm/plink etc are indeed real issues.
>>>>>>
>>>>>> I don't like the cmake approach, it requires that we need a separate
>>>>>> step and would require users to install cmake (unless we include cmake
>>>>>> in the binaries). libssh approach sounds interesting. The only concern
>>>>>> is will users to reluctant to use a ssh client we provide rather than
>>>>>> their chosen (and trusted one).
>>>>>>
>>>>>> Like John said, the file inputs are already supported in pvsc.
>>>>>>
>>>>>> Pat Marion has been pushing for the ability to have Python scripts
>>>>>> instead-of/in-addition-to pvsc-xmls. I think that's another viable
>>>>>> approach since it allows us to write code to discover information
>>>>>> about the client/server and take appropriate action(s).
>>>>>>
>>>>>> Utkarsh
>>>>>>
>>>>>> On Mon, Aug 22, 2011 at 12:34 PM, Burlen Loring<bloring at lbl.gov> wrote:
>>>>>>>
>>>>>>> Hi Utkarsh,
>>>>>>>
>>>>>>> this looks great.
>>>>>>>
>>>>>>> One thing I have encountered and that you may want to think about
>>>>>>> is that a
>>>>>>> single static pvsc is not going to work for all users as pvsc's
>>>>>>> depend on
>>>>>>> external components such as xterm, ssh, and plink. These are in
>>>>>>> different
>>>>>>> places on different user's systems, maybe not present on the user's
>>>>>>> system
>>>>>>> leading to the pvsc not working.
>>>>>>>
>>>>>>> I could see a couple of different avenues to solve this: Probably
>>>>>>> the best
>>>>>>> would be to integrate ssh tunneling into PV via libssh so that these
>>>>>>> dependencies are not needed. An aleternative would be to include a
>>>>>>> configure
>>>>>>> step in your new pvsc import process (like cmake) where
>>>>>>> dependencies are
>>>>>>> located and a system specific pvcs is generated. Something far
>>>>>>> easier and
>>>>>>> less intrusive might be to add a file dialog element to the pvsc
>>>>>>> syntax so
>>>>>>> that the user could easily browse for these files. That's not as
>>>>>>> nice as
>>>>>>> the other approaches because it clutters the UI and the user still
>>>>>>> has to
>>>>>>> hunt down the files, but it at least gives them a method to do so.
>>>>>>>
>>>>>>> Burlen
>>>>>>>
>>>>>>> On 08/19/2011 02:15 PM, Utkarsh Ayachit wrote:
>>>>>>>>
>>>>>>>> Folks,
>>>>>>>>
>>>>>>>> A feature we are thinking of implementing for ParaView 4.0 is to make
>>>>>>>> it easier to distribute pvsc files to connect to various HPC
>>>>>>>> resources. I've sketched out a rough proposal for the same at
>>>>>>>>
>>>>>>>>
>>>>>>>> http://paraview.org/ParaView3/index.php/Distributing_Server_Configuration_Scripts
>>>>>>>>
>>>>>>>>
>>>>>>>> Any comments/suggestions are always welcome.
>>>>>>>>
>>>>>>>> Utkarsh
>>>>>>>> _______________________________________________
>>>>>>>> Powered by www.kitware.com
>>>>>>>>
>>>>>>>> Visit other Kitware open-source projects at
>>>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>>>
>>>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>>>
>>>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>>
>>>>>> Visit other Kitware open-source projects at
>>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>>
>>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>>> http://paraview.org/Wiki/ParaView
>>>>>>
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at
>>>>> http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>>> http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>

From ricardouribelobello at gmail.com  Sat Dec 10 09:55:33 2011
From: ricardouribelobello at gmail.com (Ricardo Uribe)
Date: Sat, 10 Dec 2011 15:55:33 +0100
Subject: [Paraview] 6
Message-ID: <CAMnGQXgmi1SB9dBHHfX7fJ4HzvPi3sRbT_key+0nVrEtCpOFTg@mail.gmail.com>

http://www.agromapa.com.br/store.php?yptopicid=0xjm1

From aur.marsan at gmail.com  Mon Dec 12 10:45:19 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Mon, 12 Dec 2011 16:45:19 +0100
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
Message-ID: <CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>

Good morning Adriano,

All is working fine for me.
But I remember that pyplot.show() didn't work from the paraview python
sheel with previous release.
It looks like you have the 2.4 verions of Python. Which Paraview version do
you use ?

Regards,

Aurelien
2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>

>
> Dear All,
>
> I am having issues getting matplotlib to work with a in-house compiled
> version of pvpython. Although it imports fine, if I try to plot anything
> using pyplot I exit with a segmentation fault. Likewise, when I exit
> pvpython, I get a segmentation fault. However, when using matplotlib from
> the standard release of Python, it all works fine. Other libraries like
> mysql and numpy are working fine too. This is what I'm running:
>
> import matplotlib.pyplot as mp
> #import pdb; pdb.set_trace()
> mp.plot([1,2,3])
> mp.show()
>
> Any suggestions what could be wrong or how to go about solving it? I've
> noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
> I'm at least finding the point at which I get the segmentation fault, but I
> can't make head nor tail of it:
>
> (Pdb) s
> > /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
> -> def zero(): return Value(0)
> (Pdb) s
> --Return--
> >
>
> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
> Op o...1ce469a8> <--- it gives a segmentation fault before this line
> -> def zero(): return Value(0)
>
> All suggestions greatly appreciated.
>
> Thanks,
>
> Adriano
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
> **********************************************************************
> This email contains information that is private and confidential and is
> intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
> immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone
> other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd.  Registered in England, Registration No
> 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111212/bf744b76/attachment.htm>

From agagliardi at ara.co.uk  Mon Dec 12 10:49:25 2011
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Mon, 12 Dec 2011 15:49:25 -0000
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara> 
	<CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
Message-ID: <50C8C183759B4D848E82176A5ADC770F@win.ara>

Hi Aurelian,
 
I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4. 
 
How did you go about debugging this last time?
 
Thanks,
 
Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Aur?lien Marsan [mailto:aur.marsan at gmail.com] 
Sent: 12 December 2011 15:45
To: agagliardi at ara.co.uk
Cc: paraview at paraview.org
Subject: Re: [Paraview] pvpython and matplotlib


Good morning Adriano, 
 
All is working fine for me. 
But I remember that pyplot.show() didn't work from the paraview python sheel
with previous release. 

It looks like you have the 2.4 verions of Python. Which Paraview version do
you use ? 
 
Regards, 
 
Aurelien

2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>



Dear All,

I am having issues getting matplotlib to work with a in-house compiled
version of pvpython. Although it imports fine, if I try to plot anything
using pyplot I exit with a segmentation fault. Likewise, when I exit
pvpython, I get a segmentation fault. However, when using matplotlib from
the standard release of Python, it all works fine. Other libraries like
mysql and numpy are working fine too. This is what I'm running:

import matplotlib.pyplot as mp
#import pdb; pdb.set_trace()
mp.plot([1,2,3])
mp.show()

Any suggestions what could be wrong or how to go about solving it? I've
noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
I'm at least finding the point at which I get the segmentation fault, but I
can't make head nor tail of it:

(Pdb) s
> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
-> def zero(): return Value(0)
(Pdb) s
--Return--
>
/usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
Op o...1ce469a8> <--- it gives a segmentation fault before this line
-> def zero(): return Value(0)

All suggestions greatly appreciated.

Thanks,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk <http://www.ara.co.uk/> 


**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com/> 

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111212/edc77a40/attachment.htm>

From agagliardi at ara.co.uk  Mon Dec 12 11:07:19 2011
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Mon, 12 Dec 2011 16:07:19 -0000
Subject: [Paraview] Clip current view frame
Message-ID: <489647535E3748ACBC337C4CF990189A@win.ara>


Hello! I'd like some opinions on whether something I'd like to try within
ParaView is possible or not.

I'd like to have the ability for a user to define a camera view, and then
clip the mesh based on the boundaries of the camera view itself. So, if you
can only see half the wing, the filter will extract only the visible half.
Sounds fairly simple, but I am stuck on how to go about doing it within
ParaView. All I can think of is to somehow obtain the boundaries of the
current camera view and use that as input to a clip filter.

If anyone can suggest a possible route to explore, it'd be much appreciated.

Thanks,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 


**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************

From stan1313 at hotmail.fr  Mon Dec 12 12:19:41 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Mon, 12 Dec 2011 18:19:41 +0100
Subject: [Paraview] Creating cells
Message-ID: <BAY148-W46C69ED499B51F52A902D7B2BC0@phx.gbl>


Hello,I have been reading and reading this piece of code but cannot figure out what is wrong!I create a couple of cells of 4 ids and get...anything but what is expected.Please tell me where I am wrong!
  vtkCellArray *faces = vtkCellArray::New();  vtkIdList *fIds = vtkIdList::New();  for (int i=0 ; i<faceIds.size() ; i++) {    for (int j=0 ; j<faceIds[i].size() ; j++)      fIds->InsertNextId(faceIds[i][j]);    faces->InsertNextCell(fIds);    printf("cell %d has %d ids\n", i, fIds->GetNumberOfIds());    fIds->Reset();  }  for (int i=0 ; i<faces->GetNumberOfCells() ; i++) {    vtkIdList *list = vtkIdList::New();    faces->GetCell(i, list);    printf("cell %d has %d ids\n", i, list->GetNumberOfIds());  }
cell 0 has 4 idscell 1 has 4 idscell 2 has 4 idscell 3 has 4 idscell 4 has 4 idscell 5 has 4 idscell 6 has 4 idscell 7 has 4 idscell 8 has 4 idscell 9 has 4 idscell 10 has 4 idscell 11 has 4 idscell 12 has 4 idscell 13 has 4 idscell 14 has 4 idscell 15 has 4 idscell 16 has 4 idscell 17 has 4 idscell 18 has 4 idscell 19 has 4 ids
cell 0 has 4 idscell 1 has 64 idscell 2 has 71 idscell 3 has 113 idscell 4 has 120 idscell 5 has 4 idscell 6 has 63 idscell 7 has 64 idscell 8 has 112 idscell 9 has 113 idscell 10 has 4 idscell 11 has 64 idscell 12 has 63 idscell 13 has 71 idscell 14 has 70 idscell 15 has 4 idscell 16 has 71 idscell 17 has 78 idscell 18 has 120 idscell 19 has 127 ids
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111212/47ec0009/attachment.htm>

From utkarsh.ayachit at kitware.com  Mon Dec 12 13:20:41 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 12 Dec 2011 13:20:41 -0500
Subject: [Paraview] Icons in menus now shown on Linux
Message-ID: <CADHSJjBWW9xe6rM71pXu-W0t6jFauENOUODJ6A=XCGOUtvLFkA@mail.gmail.com>

If you're on Linux and your ParaView menus are not showing any icons,
here's a possible fix:

http://www.qtcentre.org/archive/index.php/t-38377.html

To summarize, run the following, it might help.

> gconftool-2 --type Boolean --set /desktop/gnome/interface/menus_have_icons True

Utkarsh

From xmedvedeg at gmail.com  Mon Dec 12 15:02:59 2011
From: xmedvedeg at gmail.com (Alexander Podlozhnyuk)
Date: Tue, 13 Dec 2011 00:02:59 +0400
Subject: [Paraview] VTK file format
Message-ID: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>

Hello!
I use VTK file format for visualizing scientific data in Paraview. I write
in this file mesh (point_data + cell_data) and Field Data (pressure
distribution for each point and etc.). Is it possible to write mesh data
and field data in separate vtk-files and read them together in Paraview? Or
should I use another file format ?
Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/f94ae679/attachment.htm>

From stan1313 at hotmail.fr  Mon Dec 12 22:50:52 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Tue, 13 Dec 2011 04:50:52 +0100
Subject: [Paraview] Bug?
Message-ID: <BAY148-W560D473F60762103477881B2BD0@phx.gbl>


How is it possible? What is wrong in my code?I insert a face of 4 ids and get back a face of 64 ids!
  vtkCellArray *faces = vtkCellArray::New();  vtkIdList *fIds = vtkIdList::New();  for (int i=0 ; i<faceIds.size() ; i++) {    for (int j=0 ; j<faceIds[i].size() ; j++)      fIds->InsertNextId(faceIds[i][j]);    printf("inserting face %d of %d ids\n", i, (int)fIds->GetNumberOfIds());    faces->InsertNextCell(fIds);    {      vtkIdType nbpts;      vtkIdList *list = vtkIdList::New();      faces->GetCell(i, list);      printf("face %d has now %d ids\n", i, (int)list->GetNumberOfIds());    }    fIds->Reset();  }
inserting face 0 of 4 idsface 0 has now 4 idsinserting face 1 of 4 idsface 1 has now 64 ids
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/15cf7a8b/attachment.htm>

From jerome.velut at kitware.com  Tue Dec 13 02:04:16 2011
From: jerome.velut at kitware.com (Jerome Velut)
Date: Tue, 13 Dec 2011 08:04:16 +0100
Subject: [Paraview] Creating cells
In-Reply-To: <BAY148-W46C69ED499B51F52A902D7B2BC0@phx.gbl>
References: <BAY148-W46C69ED499B51F52A902D7B2BC0@phx.gbl>
Message-ID: <4EE6F8F0.7060705@kitware.com>

Hi,

GetCell(...) is intended for internal use (see the doxygen 
documentation) where loc is not the cell id, but an offset in the 
internal array. Using InitTraversal together with GetNextCell instead 
would be easier.

HTH
Jerome

On 12/12/2011 06:19 PM, Fred Fred wrote:
> Hello,
> I have been reading and reading this piece of code but cannot figure 
> out what is wrong!
> I create a couple of cells of 4 ids and get...anything but what is 
> expected.
> Please tell me where I am wrong!
>
>   vtkCellArray *faces = vtkCellArray::New();
>   vtkIdList *fIds = vtkIdList::New();
>   for (int i=0 ; i<faceIds.size() ; i++) {
>     for (int j=0 ; j<faceIds[i].size() ; j++)
>       fIds->InsertNextId(faceIds[i][j]);
>     faces->InsertNextCell(fIds);
>     printf("cell %d has %d ids\n", i, fIds->GetNumberOfIds());
>     fIds->Reset();
>   }
>   for (int i=0 ; i<faces->GetNumberOfCells() ; i++) {
>     vtkIdList *list = vtkIdList::New();
>     faces->GetCell(i, list);
>     printf("cell %d has %d ids\n", i, list->GetNumberOfIds());
>   }
>
> cell 0 has 4 ids
> cell 1 has 4 ids
> cell 2 has 4 ids
> cell 3 has 4 ids
> cell 4 has 4 ids
> cell 5 has 4 ids
> cell 6 has 4 ids
> cell 7 has 4 ids
> cell 8 has 4 ids
> cell 9 has 4 ids
> cell 10 has 4 ids
> cell 11 has 4 ids
> cell 12 has 4 ids
> cell 13 has 4 ids
> cell 14 has 4 ids
> cell 15 has 4 ids
> cell 16 has 4 ids
> cell 17 has 4 ids
> cell 18 has 4 ids
> cell 19 has 4 ids
>
> cell 0 has 4 ids
> cell 1 has 64 ids
> cell 2 has 71 ids
> cell 3 has 113 ids
> cell 4 has 120 ids
> cell 5 has 4 ids
> cell 6 has 63 ids
> cell 7 has 64 ids
> cell 8 has 112 ids
> cell 9 has 113 ids
> cell 10 has 4 ids
> cell 11 has 64 ids
> cell 12 has 63 ids
> cell 13 has 71 ids
> cell 14 has 70 ids
> cell 15 has 4 ids
> cell 16 has 71 ids
> cell 17 has 78 ids
> cell 18 has 120 ids
> cell 19 has 127 ids
>
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview


-- 
J?r?me Velut
R&D Engineer
Kitware SAS
26 rue Louis Gu?rin
69100 Villeurbanne, France
F: +33 (0)4.37.45.04.15
http://www.kitware.fr
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/1b190004/attachment-0001.htm>

From aur.marsan at gmail.com  Tue Dec 13 05:11:25 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Tue, 13 Dec 2011 11:11:25 +0100
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <50C8C183759B4D848E82176A5ADC770F@win.ara>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
	<CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
	<50C8C183759B4D848E82176A5ADC770F@win.ara>
Message-ID: <CALBJ7L+PP1QX_JuZXb5bd_TmL-QS2VOddBmkoa3W7Zx-KzMO8w@mail.gmail.com>

I did not debug this. I just didn't called matplotlib from the python shell
or programmable filter inside Paraview...

But here is a list of points you may have to check, from the python shell
inside Paraview :

   - is the TCL_LIBRARY environment variable correctly set ?
   - is there any numpy package inside the ParaviewDir/Lib/site-package
   directory ?

That said, I had strange behavior too with the 3.10.1 64 bits version of
Paraview.
Although I could correctly import numpy and scipy, the import of
scipy.signal for example failed... I didn't find any explanation to this
until yet...

Le 12 d?cembre 2011 16:49, Adriano Gagliardi <agagliardi at ara.co.uk> a ?crit
:

> **
> Hi Aurelian,
>
> I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4.
>
> How did you go about debugging this last time?
>
> Thanks,
>
> Adriano
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
>  ------------------------------
> *From:* Aur?lien Marsan [mailto:aur.marsan at gmail.com]
> *Sent:* 12 December 2011 15:45
> *To:* agagliardi at ara.co.uk
> *Cc:* paraview at paraview.org
> *Subject:* Re: [Paraview] pvpython and matplotlib
>
>   Good morning Adriano,
>
> All is working fine for me.
> But I remember that pyplot.show() didn't work from the paraview python
> sheel with previous release.
> It looks like you have the 2.4 verions of Python. Which Paraview version
> do you use ?
>
> Regards,
>
> Aurelien
> 2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>
>
>>
>> Dear All,
>>
>> I am having issues getting matplotlib to work with a in-house compiled
>> version of pvpython. Although it imports fine, if I try to plot anything
>> using pyplot I exit with a segmentation fault. Likewise, when I exit
>> pvpython, I get a segmentation fault. However, when using matplotlib from
>> the standard release of Python, it all works fine. Other libraries like
>> mysql and numpy are working fine too. This is what I'm running:
>>
>> import matplotlib.pyplot as mp
>> #import pdb; pdb.set_trace()
>> mp.plot([1,2,3])
>> mp.show()
>>
>> Any suggestions what could be wrong or how to go about solving it? I've
>> noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
>> I'm at least finding the point at which I get the segmentation fault, but
>> I
>> can't make head nor tail of it:
>>
>> (Pdb) s
>> > /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
>> -> def zero(): return Value(0)
>> (Pdb) s
>> --Return--
>> >
>>
>> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
>> Op o...1ce469a8> <--- it gives a segmentation fault before this line
>> -> def zero(): return Value(0)
>>
>> All suggestions greatly appreciated.
>>
>> Thanks,
>>
>> Adriano
>>
>> ===================================
>>
>> Adriano Gagliardi MEng PhD
>> Business Sector Leader
>> Computational Aerodynamics
>> Aircraft Research Association Ltd.
>> Manton Lane
>> Bedford
>>
>> Tel: 01234 32 4644
>> E-mail: agagliardi at ara.co.uk
>> Url: www.ara.co.uk
>>
>>
>> **********************************************************************
>> This email contains information that is private and confidential and is
>> intended only for the addressee.
>> If you are not the intended recipient please delete it and notify us
>> immediately by e-mailing the sender.
>> Note: All email sent to or from this address may be accessed by someone
>> other than the recipient, for
>> system management and security reasons.
>> Aircraft Research Association Ltd.  Registered in England, Registration
>> No 503668 Registered Office:
>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>
>> **********************************************************************
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
> **********************************************************************
> This email contains information that is private and confidential and is
> intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
> immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone
> other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd.  Registered in England, Registration No
> 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/64bf1ae2/attachment.htm>

From aur.marsan at gmail.com  Tue Dec 13 05:24:36 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Tue, 13 Dec 2011 11:24:36 +0100
Subject: [Paraview] Snap to timesteps with python source
Message-ID: <CALBJ7LLJ-=q4KyJuuoT6Y=ouW5C0KAa=UEnkSJ3wBRf4iKDdqw@mail.gmail.com>

Good morning,

Something I find weird :

I generate Data using a python programmable source, and setting the
available timesteps for output through the TIME_STEPS pipeline variable.
I have read in the Paraview wiki that for now, that variable is not
correctly handled, and that the SnaptoTimeSteps option should then not
beeing working properly. That is right.
Then I didn't care about what values I put in the TIME_STEPS variable, and
set the time values for animating manually.

*But* when saving the data in a VTK data format, the pipeline become
suddenly aware of the values in TIME_STEPS variables, and only save the
time steps defined by this variable....

... Then, is there a way to make Paraview Animation aware of the TIME_STEPS
generated by the python programmable source, like the vtk writer is ?


Thanks,

A.Marsan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/f658e71d/attachment.htm>

From pawsen at gmail.com  Tue Dec 13 06:27:46 2011
From: pawsen at gmail.com (=?ISO-8859-1?Q?Paw_M=F8ller?=)
Date: Tue, 13 Dec 2011 12:27:46 +0100
Subject: [Paraview] ExodusII and mode shape animation
Message-ID: <CAP6xULEqg4H-skEWFkOX7xMAbTUkZRf_RJVuqrU4ss53EZ21Lg@mail.gmail.com>

Hi

First of: I write to the ExodusII format from my own fortran program.

I would like to animate some mode shapes (or complex harmonic solutions).
My solution is a complex vector u. The physical displacement over e.g one
period is then
              d = Re( u*exp(i*omega*t)) =>
              d = Re(u)*cos(omega*t)-Im(u)*sin(omega*t)

To animate this I could write the real and imaginary part of u in
two vectors, and then multiply with cosine and -sine. But then I have to
do that for each timestep somehow and I dont know how to do that. Would it
be possible to write a vector containing the timesteps and then do the math
with the calculator?

The ExodusII has a 'has mode shape' function. But I haven't been able to
find any examples/documentation on it. It seems that you write the
eigenfrequency as time for the corresponding displacementvector. But how do
you animate the modeshape itself?

Any help is appriciated!
Thanks,
Paw
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/40a055ac/attachment.htm>

From kmorel at sandia.gov  Tue Dec 13 09:51:12 2011
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 13 Dec 2011 14:51:12 +0000
Subject: [Paraview] Snap to timesteps with python source
In-Reply-To: <CALBJ7LLJ-=q4KyJuuoT6Y=ouW5C0KAa=UEnkSJ3wBRf4iKDdqw@mail.gmail.com>
Message-ID: <CB0CB1FF.DFCB%kmorel@sandia.gov>

I should probably let someone who knows the implementation better answer this, but I'm going to go ahead and take a crack at it anyway.

The reason why it works for the writer but not the animation is because they are grabbing the values from different places.  The writer (I think) implements the time step iteration within the pipeline module.  It grabs the available time steps from the pipeline information (which your pipeline filter is properly injecting).

The GUI maintains its own collection of time steps that it has grabbed from the pipeline after certain modules marked as time step producers.  The GUI could potentially read the time steps from your python programmable source, but it does not because that module is not marked as a time step producer.

ParaView does not automatically read time steps from every module because it is not always possible to identify whether that module is creating time steps you care about.  In the past we had problems with assuming that every time a module had time step information it should be read.  It caused the animation settings to change every time a module was added that passed time step information.

-Ken

From: Aur?lien Marsan <aur.marsan at gmail.com<mailto:aur.marsan at gmail.com>>
Date: Tue, 13 Dec 2011 11:24:36 +0100
To: Paraview <paraview at paraview.org<mailto:paraview at paraview.org>>
Subject: [EXTERNAL] [Paraview] Snap to timesteps with python source

Good morning,

Something I find weird :

I generate Data using a python programmable source, and setting the available timesteps for output through the TIME_STEPS pipeline variable.
I have read in the Paraview wiki that for now, that variable is not correctly handled, and that the SnaptoTimeSteps option should then not beeing working properly. That is right.
Then I didn't care about what values I put in the TIME_STEPS variable, and set the time values for animating manually.

But when saving the data in a VTK data format, the pipeline become suddenly aware of the values in TIME_STEPS variables, and only save the time steps defined by this variable....

... Then, is there a way to make Paraview Animation aware of the TIME_STEPS generated by the python programmable source, like the vtk writer is ?


Thanks,

A.Marsan
_______________________________________________ Powered by www.kitware.com Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView Follow this link to subscribe/unsubscribe: http://www.paraview.org/mailman/listinfo/paraview
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/a24ef8ad/attachment-0001.htm>

From kmorel at sandia.gov  Tue Dec 13 10:09:03 2011
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Tue, 13 Dec 2011 15:09:03 +0000
Subject: [Paraview] [EXTERNAL]  ExodusII and mode shape animation
In-Reply-To: <CAP6xULEqg4H-skEWFkOX7xMAbTUkZRf_RJVuqrU4ss53EZ21Lg@mail.gmail.com>
Message-ID: <CB0CB6E5.DFE6%kmorel@sandia.gov>

You can use the has mode shape function to write multiple mode shapes to the same exodus file.  You could identify the frequency using the time.  It's a logical use for it, but ParaView won't do anything with that other than print it in a label.

The automatic mode shape animation supported by the Exodus reader won't work for you.  It assumes that all displacements have the same phase.  (That is, it assumes that u = 1 + 0i for all points.)

You could do the animation fairly easily in a Python Programmable Filter using the equations you provided.  You might be able to do it with the Python Calculator, but I'm not sure you can access the current time value from it.  One of the Python gurus would have to speak up here.

-Ken

From: Paw M?ller <pawsen at gmail.com<mailto:pawsen at gmail.com>>
Date: Tue, 13 Dec 2011 12:27:46 +0100
To: <paraview at paraview.org<mailto:paraview at paraview.org>>
Subject: [EXTERNAL] [Paraview] ExodusII and mode shape animation

Hi

First of: I write to the ExodusII format from my own fortran program.

I would like to animate some mode shapes (or complex harmonic solutions).
My solution is a complex vector u. The physical displacement over e.g one period is then
              d = Re( u*exp(i*omega*t)) =>
              d = Re(u)*cos(omega*t)-Im(u)*sin(omega*t)

To animate this I could write the real and imaginary part of u in two vectors, and then multiply with cosine and -sine. But then I have to do that for each timestep somehow and I dont know how to do that. Would it be possible to write a vector containing the timesteps and then do the math with the calculator?

The ExodusII has a 'has mode shape' function. But I haven't been able to find any examples/documentation on it. It seems that you write the eigenfrequency as time for the corresponding displacementvector. But how do you animate the modeshape itself?

Any help is appriciated!
Thanks,
Paw _______________________________________________ Powered by www.kitware.com Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView Follow this link to subscribe/unsubscribe: http://www.paraview.org/mailman/listinfo/paraview
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/2546a74e/attachment.htm>

From paul.m.edwards at gmail.com  Tue Dec 13 12:50:19 2011
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Tue, 13 Dec 2011 17:50:19 +0000
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <50C8C183759B4D848E82176A5ADC770F@win.ara>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
	<CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
	<50C8C183759B4D848E82176A5ADC770F@win.ara>
Message-ID: <CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com>

Try comparing environment variables (import os and compare os.environ)

In order to check the version print sys.version (after import sys)

Regards,
Paul

2011/12/12 Adriano Gagliardi <agagliardi at ara.co.uk>

> **
> Hi Aurelian,
>
> I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4.
>
> How did you go about debugging this last time?
>
> Thanks,
>
> Adriano
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
>  ------------------------------
> *From:* Aur?lien Marsan [mailto:aur.marsan at gmail.com]
> *Sent:* 12 December 2011 15:45
> *To:* agagliardi at ara.co.uk
> *Cc:* paraview at paraview.org
> *Subject:* Re: [Paraview] pvpython and matplotlib
>
>  Good morning Adriano,
>
> All is working fine for me.
> But I remember that pyplot.show() didn't work from the paraview python
> sheel with previous release.
> It looks like you have the 2.4 verions of Python. Which Paraview version
> do you use ?
>
> Regards,
>
> Aurelien
> 2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>
>
>>
>> Dear All,
>>
>> I am having issues getting matplotlib to work with a in-house compiled
>> version of pvpython. Although it imports fine, if I try to plot anything
>> using pyplot I exit with a segmentation fault. Likewise, when I exit
>> pvpython, I get a segmentation fault. However, when using matplotlib from
>> the standard release of Python, it all works fine. Other libraries like
>> mysql and numpy are working fine too. This is what I'm running:
>>
>> import matplotlib.pyplot as mp
>> #import pdb; pdb.set_trace()
>> mp.plot([1,2,3])
>> mp.show()
>>
>> Any suggestions what could be wrong or how to go about solving it? I've
>> noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
>> I'm at least finding the point at which I get the segmentation fault, but
>> I
>> can't make head nor tail of it:
>>
>> (Pdb) s
>> > /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
>> -> def zero(): return Value(0)
>> (Pdb) s
>> --Return--
>> >
>>
>> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
>> Op o...1ce469a8> <--- it gives a segmentation fault before this line
>> -> def zero(): return Value(0)
>>
>> All suggestions greatly appreciated.
>>
>> Thanks,
>>
>> Adriano
>>
>> ===================================
>>
>> Adriano Gagliardi MEng PhD
>> Business Sector Leader
>> Computational Aerodynamics
>> Aircraft Research Association Ltd.
>> Manton Lane
>> Bedford
>>
>> Tel: 01234 32 4644
>> E-mail: agagliardi at ara.co.uk
>> Url: www.ara.co.uk
>>
>>
>> **********************************************************************
>> This email contains information that is private and confidential and is
>> intended only for the addressee.
>> If you are not the intended recipient please delete it and notify us
>> immediately by e-mailing the sender.
>> Note: All email sent to or from this address may be accessed by someone
>> other than the recipient, for
>> system management and security reasons.
>> Aircraft Research Association Ltd.  Registered in England, Registration
>> No 503668 Registered Office:
>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>
>> **********************************************************************
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
> **********************************************************************
> This email contains information that is private and confidential and is
> intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
> immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone
> other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd.  Registered in England, Registration No
> 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/2a8f8190/attachment.htm>

From phsiao at cs.unc.edu  Tue Dec 13 13:07:44 2011
From: phsiao at cs.unc.edu (Joe Ping-Lin Hsiao)
Date: Tue, 13 Dec 2011 13:07:44 -0500
Subject: [Paraview] How do I download a previous version of PavaView via git?
Message-ID: <CAPYmBX24BUhMn5tua6pKUPH+WD-Jh3FCwSFo3eEThDyjNNKUfw@mail.gmail.com>

Hi,

I wonder is there a way to download a previous version of ParaView,
say 3.10.1, via git?
I have to modify ParaView source code for my application. I also want
to benefit from using newer ParaView in the future. So I want to test
if I update ParaView through git, will my modification be preserved.

Thanks,
Joe

From robert.maynard at kitware.com  Tue Dec 13 13:38:43 2011
From: robert.maynard at kitware.com (Robert Maynard)
Date: Tue, 13 Dec 2011 13:38:43 -0500
Subject: [Paraview] How do I download a previous version of PavaView via
	git?
In-Reply-To: <CAPYmBX24BUhMn5tua6pKUPH+WD-Jh3FCwSFo3eEThDyjNNKUfw@mail.gmail.com>
References: <CAPYmBX24BUhMn5tua6pKUPH+WD-Jh3FCwSFo3eEThDyjNNKUfw@mail.gmail.com>
Message-ID: <CAFzjYVroVJpY6S49vjO2MHOCLrnx44is=2XNne2M2y1mBW1wNA@mail.gmail.com>

use git tag to list all the releases of ParaView

use git checkout with the tag name to checkout that version of ParaView.

On Tue, Dec 13, 2011 at 1:07 PM, Joe Ping-Lin Hsiao <phsiao at cs.unc.edu> wrote:
> Hi,
>
> I wonder is there a way to download a previous version of ParaView,
> say 3.10.1, via git?
> I have to modify ParaView source code for my application. I also want
> to benefit from using newer ParaView in the future. So I want to test
> if I update ParaView through git, will my modification be preserved.
>
> Thanks,
> Joe
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview



-- 
Robert Maynard

From phsiao at cs.unc.edu  Tue Dec 13 14:27:01 2011
From: phsiao at cs.unc.edu (Joe Ping-Lin Hsiao)
Date: Tue, 13 Dec 2011 14:27:01 -0500
Subject: [Paraview] How do I download a previous version of PavaView via
	git?
In-Reply-To: <CAFzjYVroVJpY6S49vjO2MHOCLrnx44is=2XNne2M2y1mBW1wNA@mail.gmail.com>
References: <CAPYmBX24BUhMn5tua6pKUPH+WD-Jh3FCwSFo3eEThDyjNNKUfw@mail.gmail.com>
	<CAFzjYVroVJpY6S49vjO2MHOCLrnx44is=2XNne2M2y1mBW1wNA@mail.gmail.com>
Message-ID: <CAPYmBX2D8Oh=SheSMn4RuyeKkhsy=b4mcs6ZoLFb6+Wv5reGwA@mail.gmail.com>

Thanks! That's what I need.

-Joe

On Tue, Dec 13, 2011 at 1:38 PM, Robert Maynard
<robert.maynard at kitware.com> wrote:
> use git tag to list all the releases of ParaView
>
> use git checkout with the tag name to checkout that version of ParaView.
>
> On Tue, Dec 13, 2011 at 1:07 PM, Joe Ping-Lin Hsiao <phsiao at cs.unc.edu> wrote:
>> Hi,
>>
>> I wonder is there a way to download a previous version of ParaView,
>> say 3.10.1, via git?
>> I have to modify ParaView source code for my application. I also want
>> to benefit from using newer ParaView in the future. So I want to test
>> if I update ParaView through git, will my modification be preserved.
>>
>> Thanks,
>> Joe
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
>
>
> --
> Robert Maynard

From daviddoria at gmail.com  Tue Dec 13 14:36:04 2011
From: daviddoria at gmail.com (David Doria)
Date: Tue, 13 Dec 2011 14:36:04 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
Message-ID: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>

I few months ago, I would do this:

FIND_PACKAGE(ParaView REQUIRED)
INCLUDE(${PARAVIEW_USE_FILE})

before building my plugins:

ADD_PARAVIEW_PLUGIN(PointSetOutlierRemoval "1.0"
  SERVER_MANAGER_XML vtkPointSetOutlierRemoval.xml
  SERVER_MANAGER_SOURCES ${PointSetProcessingDir}/vtkPointSetOutlierRemoval.cxx
  )

However, when I tried with the current VTK and ParaView, I get
hundreds of errors like this:

/home/doriad/build/Projects/src/PointSetProcessing/> make
CMake Error at /home/doriad/build/ParaView/ParaViewTargets.cmake:16
(ADD_LIBRARY):
  add_library cannot create imported target "vtkhdf5" because another target
  with the same name already exists.
Call Stack (most recent call first):
  /home/doriad/build/ParaView/ParaViewConfig.cmake:58 (INCLUDE)
  ParaViewPlugins/CMakeLists.txt:1 (FIND_PACKAGE)

Has something changed that has led to a new process for this?
Thanks,

David

From utkarsh.ayachit at kitware.com  Tue Dec 13 14:37:22 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 13 Dec 2011 14:37:22 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
Message-ID: <CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>

what cmake version are you using?

On Tue, Dec 13, 2011 at 2:36 PM, David Doria <daviddoria at gmail.com> wrote:
> I few months ago, I would do this:
>
> FIND_PACKAGE(ParaView REQUIRED)
> INCLUDE(${PARAVIEW_USE_FILE})
>
> before building my plugins:
>
> ADD_PARAVIEW_PLUGIN(PointSetOutlierRemoval "1.0"
> ?SERVER_MANAGER_XML vtkPointSetOutlierRemoval.xml
> ?SERVER_MANAGER_SOURCES ${PointSetProcessingDir}/vtkPointSetOutlierRemoval.cxx
> ?)
>
> However, when I tried with the current VTK and ParaView, I get
> hundreds of errors like this:
>
> /home/doriad/build/Projects/src/PointSetProcessing/> make
> CMake Error at /home/doriad/build/ParaView/ParaViewTargets.cmake:16
> (ADD_LIBRARY):
> ?add_library cannot create imported target "vtkhdf5" because another target
> ?with the same name already exists.
> Call Stack (most recent call first):
> ?/home/doriad/build/ParaView/ParaViewConfig.cmake:58 (INCLUDE)
> ?ParaViewPlugins/CMakeLists.txt:1 (FIND_PACKAGE)
>
> Has something changed that has led to a new process for this?
> Thanks,
>
> David
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From daviddoria at gmail.com  Tue Dec 13 14:40:58 2011
From: daviddoria at gmail.com (David Doria)
Date: Tue, 13 Dec 2011 14:40:58 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
Message-ID: <CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>

On Tue, Dec 13, 2011 at 2:37 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> what cmake version are you using?

CMake 2.8.5

From xmedvedeg at gmail.com  Tue Dec 13 14:52:12 2011
From: xmedvedeg at gmail.com (Alexander Podlozhnyuk)
Date: Tue, 13 Dec 2011 23:52:12 +0400
Subject: [Paraview] VTK file format
In-Reply-To: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>
References: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>
Message-ID: <CADCiuTrm=Ukz3e4VJa5w+CDO3HZ3GFsmaZ2B+astizZTTy9WFg@mail.gmail.com>

2011/12/13 Alexander Podlozhnyuk <xmedvedeg at gmail.com>

> Hello!
> I use VTK file format for visualizing scientific data in Paraview. I write
> in this file mesh (point_data + cell_data) and Field Data (pressure
> distribution for each point and etc.). Is it possible to write mesh data
> and field data in separate vtk-files and read them together in Paraview? Or
> should I use another file format ?
> Thank you.


Dear all, have you any idea ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111213/0e0fd2a7/attachment.htm>

From utkarsh.ayachit at kitware.com  Tue Dec 13 14:52:29 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 13 Dec 2011 14:52:29 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
	<CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
Message-ID: <CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>

Do you get the same errors if you turn BUILD_EXAMPLES ON? If so, can
you try updating your cmake version to a stable version?

Utkarsh

On Tue, Dec 13, 2011 at 2:40 PM, David Doria <daviddoria at gmail.com> wrote:
> On Tue, Dec 13, 2011 at 2:37 PM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>> what cmake version are you using?
>
> CMake 2.8.5

From utkarsh.ayachit at kitware.com  Tue Dec 13 14:53:50 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 13 Dec 2011 14:53:50 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
	<CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
	<CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>
Message-ID: <CADHSJjBCC_d1ThgU3KDQbmN=GfN6_MiX2boNQfVx4uhMXsDN6Q@mail.gmail.com>

By stable version, I meant a recent version :) (I forgot CMake doesn't
do the odd-even version number magic anymore).

Utkarsh

On Tue, Dec 13, 2011 at 2:52 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Do you get the same errors if you turn BUILD_EXAMPLES ON? If so, can
> you try updating your cmake version to a stable version?
>
> Utkarsh
>
> On Tue, Dec 13, 2011 at 2:40 PM, David Doria <daviddoria at gmail.com> wrote:
>> On Tue, Dec 13, 2011 at 2:37 PM, Utkarsh Ayachit
>> <utkarsh.ayachit at kitware.com> wrote:
>>> what cmake version are you using?
>>
>> CMake 2.8.5

From robert.maynard at kitware.com  Tue Dec 13 15:01:28 2011
From: robert.maynard at kitware.com (Robert Maynard)
Date: Tue, 13 Dec 2011 15:01:28 -0500
Subject: [Paraview] VTK file format
In-Reply-To: <CADCiuTrm=Ukz3e4VJa5w+CDO3HZ3GFsmaZ2B+astizZTTy9WFg@mail.gmail.com>
References: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>
	<CADCiuTrm=Ukz3e4VJa5w+CDO3HZ3GFsmaZ2B+astizZTTy9WFg@mail.gmail.com>
Message-ID: <CAFzjYVq5RHhP7H39U1dVL0Go45uYcycrtmgYQ5HS++TEQwCLMg@mail.gmail.com>

I am pretty sure that both the Legacy VTK and the XML VTK do not
support writing out the mesh and field data as different files.

On Tue, Dec 13, 2011 at 2:52 PM, Alexander Podlozhnyuk
<xmedvedeg at gmail.com> wrote:
>
>
> 2011/12/13 Alexander Podlozhnyuk <xmedvedeg at gmail.com>
>>
>> Hello!
>> I use VTK file format for visualizing scientific data in Paraview. I write
>> in this file mesh (point_data + cell_data) and Field Data (pressure
>> distribution for each point and etc.). Is it possible to write mesh data and
>> field data in separate vtk-files and read them together in Paraview? Or
>> should I use another file format ?
>> Thank you.
>
>
> Dear all, have you any idea ?
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>



-- 
Robert Maynard

From daviddoria at gmail.com  Tue Dec 13 15:12:05 2011
From: daviddoria at gmail.com (David Doria)
Date: Tue, 13 Dec 2011 15:12:05 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CADHSJjBCC_d1ThgU3KDQbmN=GfN6_MiX2boNQfVx4uhMXsDN6Q@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
	<CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
	<CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>
	<CADHSJjBCC_d1ThgU3KDQbmN=GfN6_MiX2boNQfVx4uhMXsDN6Q@mail.gmail.com>
Message-ID: <CABDpjTkGZSCLsmtU0T6fgmHgyVPuO8KwaKkV0mEkte3T=WEw8A@mail.gmail.com>

On Tue, Dec 13, 2011 at 2:53 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> By stable version, I meant a recent version :) (I forgot CMake doesn't
> do the odd-even version number magic anymore).
>
> Utkarsh

Hm, turning on BUILD_EXAMPLES didn't seem to do anything. I also just
tried with cmake git master (cmake version 2.8.6.20111213-g3c101) and
I get the same errors. Each time I started with a fresh build
directory.

The code I am trying to configure is here:
https://github.com/daviddoria/PointSetProcessing

Any more thoughts?

David

From utkarsh.ayachit at kitware.com  Tue Dec 13 15:31:37 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Tue, 13 Dec 2011 15:31:37 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CABDpjTkGZSCLsmtU0T6fgmHgyVPuO8KwaKkV0mEkte3T=WEw8A@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
	<CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
	<CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>
	<CADHSJjBCC_d1ThgU3KDQbmN=GfN6_MiX2boNQfVx4uhMXsDN6Q@mail.gmail.com>
	<CABDpjTkGZSCLsmtU0T6fgmHgyVPuO8KwaKkV0mEkte3T=WEw8A@mail.gmail.com>
Message-ID: <CADHSJjBmFeeL4O-6B1ojwd=yCdVs-NNkeGFYCgHAEDZjDHpMPA@mail.gmail.com>

Oh, are you using FIND_PACKAGE(VTK) and FIND_PACKAGE(ParaView) in the
source? Bet that's what causing the problem. I'm not sure that's going
to work. Try just using ParaView OR VTK.

Utkarsh

On Tue, Dec 13, 2011 at 3:12 PM, David Doria <daviddoria at gmail.com> wrote:
> On Tue, Dec 13, 2011 at 2:53 PM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>> By stable version, I meant a recent version :) (I forgot CMake doesn't
>> do the odd-even version number magic anymore).
>>
>> Utkarsh
>
> Hm, turning on BUILD_EXAMPLES didn't seem to do anything. I also just
> tried with cmake git master (cmake version 2.8.6.20111213-g3c101) and
> I get the same errors. Each time I started with a fresh build
> directory.
>
> The code I am trying to configure is here:
> https://github.com/daviddoria/PointSetProcessing
>
> Any more thoughts?
>
> David

From daviddoria at gmail.com  Tue Dec 13 16:51:53 2011
From: daviddoria at gmail.com (David Doria)
Date: Tue, 13 Dec 2011 16:51:53 -0500
Subject: [Paraview] Errors when using find_package(ParaView REQUIRED)
In-Reply-To: <CADHSJjBmFeeL4O-6B1ojwd=yCdVs-NNkeGFYCgHAEDZjDHpMPA@mail.gmail.com>
References: <CABDpjT=rWBXzX6SEyDR+CgZpS=HZUDGn+XYTXJRbfs6x_s0GXg@mail.gmail.com>
	<CADHSJjCN26JtOca1Zz4oAF8DRvtrfwp0vMu=DeW1zgwGG-hjDA@mail.gmail.com>
	<CABDpjT=ZeorVep5bYOfVTa_d0WukuDPRCQhSDEn4aj7o-eY39Q@mail.gmail.com>
	<CADHSJjD4rs40o7uvfqJJ2VBHP1T22iSga9Pw2OHyxJK7F3XSdA@mail.gmail.com>
	<CADHSJjBCC_d1ThgU3KDQbmN=GfN6_MiX2boNQfVx4uhMXsDN6Q@mail.gmail.com>
	<CABDpjTkGZSCLsmtU0T6fgmHgyVPuO8KwaKkV0mEkte3T=WEw8A@mail.gmail.com>
	<CADHSJjBmFeeL4O-6B1ojwd=yCdVs-NNkeGFYCgHAEDZjDHpMPA@mail.gmail.com>
Message-ID: <CABDpjTmQUTrs7KF_fw8Lfiz60p0=UkbaSwm-kCjh_uNYHX1YdA@mail.gmail.com>

On Tue, Dec 13, 2011 at 3:31 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Oh, are you using FIND_PACKAGE(VTK) and FIND_PACKAGE(ParaView) in the
> source? Bet that's what causing the problem. I'm not sure that's going
> to work. Try just using ParaView OR VTK.

That certainly works. The only problem I have with that is I have to do a

if(buildPlugin)
 use(Paraview)
else
 use(VTK)
endif()

in my root CMakeLists.txt. It would seem nicer to do

if(buildPlugin)
 add_subdirectory(Plugin)
endif()

and in the Plugin/CMakeLists.txt do

use(ParaView)

Is there a pattern more similar to this that would only use one of them?

Thanks,

David

From dominik at itis.ethz.ch  Tue Dec 13 18:03:21 2011
From: dominik at itis.ethz.ch (Dominik Szczerba)
Date: Wed, 14 Dec 2011 00:03:21 +0100
Subject: [Paraview] Where do I send Xdmf bugs/patches?
Message-ID: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>

I have recently (relatively successfully) switched to the PV's Xdmf
branch from the original branch. Where do I report bugs and contribute
patches for this branch and what are the odds for them to be
eventually accepted ?

Thanks
Dominik

From paul.mcintosh at internetscooter.com  Tue Dec 13 20:37:26 2011
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Wed, 14 Dec 2011 12:37:26 +1100
Subject: [Paraview] "Select Cells On" large object?
Message-ID: <0F7D778D53214429902C3CD51B4BC648@notebook>

Hi,

Hopefully an easy question to answer...

"Select Cells On" is "visible" resolution dependent. By this I mean, for the
same selection area, if I am close to the surface I get all the cells
selected but if I am far away many cells are missed.

I am calculating frontal area of a large object where I cannot get the whole
object selected and get close enough to see all the individual cells. The
result is missing cells which are mucking up my calculation. Is there an
easy way to get all cells selected on a large object? 

Note: I am using this method for working out frontal area:
http://www.discretizer.org/node/20

Cheers,

Paul
---
www.internetscooter.com 


From stan1313 at hotmail.fr  Tue Dec 13 22:57:04 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Wed, 14 Dec 2011 04:57:04 +0100
Subject: [Paraview] Curious faces
Message-ID: <BAY148-W19867CBEBE4E434CDEEFB7B2A20@phx.gbl>


Hello,discovering holes in my polydata surface, I looked at what vtkCell::GetFace() returns and I discovered a curious face:3 41 2
Here is what I get:
cell type is: 11
cell points are:  63: -90 -30 -60  64: -60 -30 -60  70: -90 0 -60  71: -60 0 -60  112: -90 -30 -30  113: -60 -30 -30  119: -90 0 -30  120: -60 0 -30  face 1 ids are: 64 71 113 120
and of course building such a face leads to holes in my dataset.So my question is: how to get valid faces of any 3D cell?
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/2a7b3012/attachment-0001.htm>

From stan1313 at hotmail.fr  Tue Dec 13 22:57:53 2011
From: stan1313 at hotmail.fr (Fred Fred)
Date: Wed, 14 Dec 2011 04:57:53 +0100
Subject: [Paraview] Creating cells
In-Reply-To: <4EE6F8F0.7060705@kitware.com>
References: <BAY148-W46C69ED499B51F52A902D7B2BC0@phx.gbl>,
	<4EE6F8F0.7060705@kitware.com>
Message-ID: <BAY148-W4F0E8FF27231BA4FDE7BBB2A20@phx.gbl>


Ok I understand, many thanks.

Date: Tue, 13 Dec 2011 08:04:16 +0100
From: jerome.velut at kitware.com
To: stan1313 at hotmail.fr
CC: paraview at paraview.org
Subject: Re: [Paraview] Creating cells


  


    
  
  
    Hi,

    

    GetCell(...) is intended for internal use (see the doxygen
    documentation) where loc is not the cell id, but an offset in the
    internal array. Using InitTraversal together with GetNextCell
    instead would be easier.

    

    HTH

    Jerome

    

    On 12/12/2011 06:19 PM, Fred Fred wrote:
    
      
      
        Hello,
        I have been
          reading and reading this piece of code but cannot figure out
          what is wrong!
        I create a
          couple of cells of 4 ids and get...anything but what is
          expected.
        Please tell
          me where I am wrong!
        

        
        
           
                vtkCellArray *faces = vtkCellArray::New();
           
                vtkIdList *fIds = vtkIdList::New();
            for
                (int i=0 ; i<faceIds.size() ; i++) {
             
                for (int j=0 ; j<faceIds[i].size() ; j++)
               
                fIds->InsertNextId(faceIds[i][j]);
             
                faces->InsertNextCell(fIds);
             
                printf("cell %d has %d ids\n", i,
                fIds->GetNumberOfIds());
             
                fIds->Reset();
            }
            for
                (int i=0 ; i<faces->GetNumberOfCells() ; i++) {
             
                vtkIdList *list = vtkIdList::New();
             
                faces->GetCell(i, list);
             
                printf("cell %d has %d ids\n", i,
                list->GetNumberOfIds());
            }
          

              
          cell 0
                has 4 ids
          cell 1
                has 4 ids
          cell 2
                has 4 ids
          cell 3
                has 4 ids
          cell 4
                has 4 ids
          cell 5
                has 4 ids
          cell 6
                has 4 ids
          cell 7
                has 4 ids
          cell 8
                has 4 ids
          cell 9
                has 4 ids
          cell
                10 has 4 ids
          cell
                11 has 4 ids
          cell
                12 has 4 ids
          cell
                13 has 4 ids
          cell
                14 has 4 ids
          cell
                15 has 4 ids
          cell
                16 has 4 ids
          cell
                17 has 4 ids
          cell
                18 has 4 ids
          cell
                19 has 4 ids
          

              
          cell 0
                has 4 ids
          cell 1
                has 64 ids
          cell 2
                has 71 ids
          cell 3
                has 113 ids
          cell 4
                has 120 ids
          cell 5
                has 4 ids
          cell 6
                has 63 ids
          cell 7
                has 64 ids
          cell 8
                has 112 ids
          cell 9
                has 113 ids
          cell
                10 has 4 ids
          cell
                11 has 64 ids
          cell
                12 has 63 ids
          cell
                13 has 71 ids
          cell
                14 has 70 ids
          cell
                15 has 4 ids
          cell
                16 has 71 ids
          cell
                17 has 78 ids
          cell
                18 has 120 ids
          cell
                19 has 127 ids
        
        

        
      
      

      
      

      _______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

    
    

    

    -- 

      J?r?me Velut

      R&D Engineer

      Kitware SAS

      26 rue Louis Gu?rin

      69100 Villeurbanne, France

      F: +33 (0)4.37.45.04.15

      http://www.kitware.fr 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/f2058f38/attachment.htm>

From felipe.bordeu at ec-nantes.fr  Wed Dec 14 03:34:04 2011
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Wed, 14 Dec 2011 09:34:04 +0100
Subject: [Paraview] VTK file format
In-Reply-To: <CAFzjYVq5RHhP7H39U1dVL0Go45uYcycrtmgYQ5HS++TEQwCLMg@mail.gmail.com>
References: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>	<CADCiuTrm=Ukz3e4VJa5w+CDO3HZ3GFsmaZ2B+astizZTTy9WFg@mail.gmail.com>
	<CAFzjYVq5RHhP7H39U1dVL0Go45uYcycrtmgYQ5HS++TEQwCLMg@mail.gmail.com>
Message-ID: <4EE85F7C.2050006@ec-nantes.fr>

you can use xdmf, with a .xmdf file for the light data (meta data), and 
2 files or more (hdf5 or binary) for the heavy data (field data, point 
data, connectivity...).

more info in http://www.xdmf.org




On 13/12/2011 21:01, Robert Maynard wrote:
> I am pretty sure that both the Legacy VTK and the XML VTK do not
> support writing out the mesh and field data as different files.
>
> On Tue, Dec 13, 2011 at 2:52 PM, Alexander Podlozhnyuk
> <xmedvedeg at gmail.com>  wrote:
>>
>> 2011/12/13 Alexander Podlozhnyuk<xmedvedeg at gmail.com>
>>> Hello!
>>> I use VTK file format for visualizing scientific data in Paraview. I write
>>> in this file mesh (point_data + cell_data) and Field Data (pressure
>>> distribution for each point and etc.). Is it possible to write mesh data and
>>> field data in separate vtk-files and read them together in Paraview? Or
>>> should I use another file format ?
>>> Thank you.
>>
>> Dear all, have you any idea ?
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>
>


-- 

Felipe Bordeu Weldt
Ing?nieur de Recherche
-------------------------------------
T?l. : 33 (0)2 40 37 16 57
Fax. : 33 (0)2 40 74 74 06
Felipe.Bordeu at ec-nantes.fr
Institut GeM - UMR CNRS 6183
?cole Centrale Nantes
1 Rue de La No?, 44321 Nantes, FRANCE
-------------------------------------


From pawsen at gmail.com  Wed Dec 14 03:40:14 2011
From: pawsen at gmail.com (=?ISO-8859-1?Q?Paw_M=F8ller?=)
Date: Wed, 14 Dec 2011 09:40:14 +0100
Subject: [Paraview] VTK file format
In-Reply-To: <CAFzjYVq5RHhP7H39U1dVL0Go45uYcycrtmgYQ5HS++TEQwCLMg@mail.gmail.com>
References: <CADCiuTotW7pRr63G7MJM73wxtcopB+_xTbgFWhuMSNu+80Rkug@mail.gmail.com>
	<CADCiuTrm=Ukz3e4VJa5w+CDO3HZ3GFsmaZ2B+astizZTTy9WFg@mail.gmail.com>
	<CAFzjYVq5RHhP7H39U1dVL0Go45uYcycrtmgYQ5HS++TEQwCLMg@mail.gmail.com>
Message-ID: <CAP6xULG5SEYCN0H4GD4qMpTR=roFBtmBBAcvW4OM=nDL5cQwig@mail.gmail.com>

Another good file format for writing topology and data to different files,
is the Ensight Gold format. See this post
http://www.paraview.org/pipermail/paraview/2010-February/015708.html

You can write both acsii and binary files. I can send you a simple fortran
routine, which writes topology(quads) and data. And a .case file

2011/12/13 Robert Maynard <robert.maynard at kitware.com>

> I am pretty sure that both the Legacy VTK and the XML VTK do not
> support writing out the mesh and field data as different files.
>
> On Tue, Dec 13, 2011 at 2:52 PM, Alexander Podlozhnyuk
> <xmedvedeg at gmail.com> wrote:
> >
> >
> > 2011/12/13 Alexander Podlozhnyuk <xmedvedeg at gmail.com>
> >>
> >> Hello!
> >> I use VTK file format for visualizing scientific data in Paraview. I
> write
> >> in this file mesh (point_data + cell_data) and Field Data (pressure
> >> distribution for each point and etc.). Is it possible to write mesh
> data and
> >> field data in separate vtk-files and read them together in Paraview? Or
> >> should I use another file format ?
> >> Thank you.
> >
> >
> > Dear all, have you any idea ?
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
>
>
>
> --
> Robert Maynard
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/668c3e49/attachment-0001.htm>

From pawsen at gmail.com  Wed Dec 14 03:55:12 2011
From: pawsen at gmail.com (=?ISO-8859-1?Q?Paw_M=F8ller?=)
Date: Wed, 14 Dec 2011 09:55:12 +0100
Subject: [Paraview] [EXTERNAL]  ExodusII and mode shape animation
In-Reply-To: <CB0CB6E5.DFE6%kmorel@sandia.gov>
References: <CAP6xULEqg4H-skEWFkOX7xMAbTUkZRf_RJVuqrU4ss53EZ21Lg@mail.gmail.com>
	<CB0CB6E5.DFE6%kmorel@sandia.gov>
Message-ID: <CAP6xULFq24CSLBkRcBeYer1kC=D_3aqNRd9kxCL_2pU+s+-83A@mail.gmail.com>

I'm new to the Python Programmable Filter, so would you mind pointing me to
a tutorial or maybe sending an example file?

Is it possible to write the magnifying factor(applying displ.) and tick the
"Has Mode Shape" directly to the exodusII file from my fortran program?
And can I find any documentation on what paraview can read from an
exodus-file, in terms of applying  'options'?

Paw

2011/12/13 Moreland, Kenneth <kmorel at sandia.gov>

>   You can use the has mode shape function to write multiple mode shapes
> to the same exodus file.  You could identify the frequency using the time.
>  It's a logical use for it, but ParaView won't do anything with that other
> than print it in a label.
>
>  The automatic mode shape animation supported by the Exodus reader won't
> work for you.  It assumes that all displacements have the same phase.
>  (That is, it assumes that u = 1 + 0i for all points.)
>
>  You could do the animation fairly easily in a Python Programmable Filter
> using the equations you provided.  You might be able to do it with the
> Python Calculator, but I'm not sure you can access the current time value
> from it.  One of the Python gurus would have to speak up here.
>
>  -Ken
>
>    From: Paw M?ller <pawsen at gmail.com>
> Date: Tue, 13 Dec 2011 12:27:46 +0100
> To: <paraview at paraview.org>
> Subject: [EXTERNAL] [Paraview] ExodusII and mode shape animation
>
>  Hi
>
> First of: I write to the ExodusII format from my own fortran program.
>
> I would like to animate some mode shapes (or complex harmonic solutions).
> My solution is a complex vector u. The physical displacement over e.g one
> period is then
>               d = Re( u*exp(i*omega*t)) =>
>               d = Re(u)*cos(omega*t)-Im(u)*sin(omega*t)
>
> To animate this I could write the real and imaginary part of u in
> two vectors, and then multiply with cosine and -sine. But then I have to
> do that for each timestep somehow and I dont know how to do that. Would it
> be possible to write a vector containing the timesteps and then do the math
> with the calculator?
>
> The ExodusII has a 'has mode shape' function. But I haven't been able to
> find any examples/documentation on it. It seems that you write the
> eigenfrequency as time for the corresponding displacementvector. But how do
> you animate the modeshape itself?
>
> Any help is appriciated!
> Thanks,
> Paw _______________________________________________ Powered by
> www.kitware.com Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html Please keep messages
> on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaViewFollow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/4c512ed6/attachment.htm>

From christoffer.green at gmail.com  Wed Dec 14 04:30:54 2011
From: christoffer.green at gmail.com (Christoffer Green)
Date: Wed, 14 Dec 2011 10:30:54 +0100
Subject: [Paraview] Is There A 3d Widget Plugin Demo Available?
In-Reply-To: <CAHwVLSg2msBQtbv76a2TihBHXFiJ7-5jjT5E9jqd25=vHb5Ovg@mail.gmail.com>
References: <CAHwVLSgq9K2nuevHdBfn_X+d0T9QVx5dD_AkDNs7=-Cg9TZqJg@mail.gmail.com>
	<CAFzjYVqx_rEGrigjG67+DqWW=dMsJXBxRHAHRD4hrUqMYsry_w@mail.gmail.com>
	<CAHwVLSg2msBQtbv76a2TihBHXFiJ7-5jjT5E9jqd25=vHb5Ovg@mail.gmail.com>
Message-ID: <CAHwVLSgiRM8xAJoXV86UBPAYDFC5doz_D5RY3BHQETENmXSxFw@mail.gmail.com>

After a bit of thinking/searching I have now managed to create a very
simple widget plugin. The problem was in me not understanding the vtk hints
file (finding documentation for how it worked was not easy). Here is a page
that explain it though:
http://wenku.baidu.com/view/df92936825c52cc58bd6bef5.html

Attached is a small sample file that creates a widget plugin if anyone ever
has need for it.

BR/ Christoffer

On Thu, Dec 8, 2011 at 10:53 AM, Christoffer Green <
christoffer.green at gmail.com> wrote:

> Thank you for your reply.
>
> Currently I have been attempting something along those lines, though I
> started with the vtkLineWidget2 instead of the vtkBoxWidget2. So I copied
> all the files that appeared to be needed and changed the names of the
> classes (this widget is going to be manipulating a plane so it got named
> PlaneWidget). I have a problem now however that I do not understand. The
> vtkLineRepresentation (vtkPlaneRepresentation now after name change) that
> got copied has a function called SetPoint1WorldPosition that takes an array
> of 3 double values as input.
> On creation of the widget this function gets called correctly once but
> then later on it gets called again but this time paraview tries to send an
> array with only 2 double values in it even thought this directly
> contradicts the xml definition for the function so then the generated
> vtkPlaneRepresentationClientServer function locator fails to find it. Does
> anybody have any clue why this is? I have tried to debug the call stack but
> i can not make any sense of it. I have attached a zip file of the widget
> source (after adding the plugin to paraview simply create a "Line Source
> Plane" from the sources menu to create the widget).
>
> """""""""""""" The error message i get is:
> ERROR: In
> ..\..\..\ParaView-3.12.0\ParaViewCore\ServerImplementation\vtkPVSessionCore.cxx,
> line 324
>
>  vtkPVSessionCore (09369450): Object type: vtkPlaneRepresentation, could
> not find requested method: "SetPoint1WorldPosition"
>
> or the method was called with incorrect arguments.
>
> while processing
>
> Message 0 = Invoke
>
> Argument 0 = vtk_object_pointer {vtkPlaneRepresentation (0C27AE80)}
>
> Argument 1 = string_value {SetPoint1WorldPosition}
>
> Argument 2 = float64_array {0, 0}
>
> """"""""""""""
>
> Thanks.
>
> BR/ Christoffer Green
>
>
>
> On Wed, Dec 7, 2011 at 3:51 PM, Robert Maynard <robert.maynard at kitware.com
> > wrote:
>
>> 3D widgets separate the logic of display from interaction be
>> specifying two classes. The widget class it self handles the
>> interaction, and a widget representation handles the how to display
>> the widget. The documentation for vtkBoxWidget2 is a good starting
>> place to understand the widget concept in VTK (
>> http://www.vtk.org/doc/nightly/html/classvtkBoxWidget2.html ).
>>
>> To register your custom made widget with ParaView follow the
>> directions found in this email conversation:
>> http://www.cmake.org/pipermail/paraview/2011-July/022122.html
>>
>>
>>
>> On Tue, Dec 6, 2011 at 10:07 AM, Christoffer Green
>> <christoffer.green at gmail.com> wrote:
>> > Hello!
>> >
>> > I have been trying to figure out how to write a 3d widget plugin for
>> > Paraview 3.12. By 3d widget I mean a widget in the 3d view like the
>> already
>> > available ones such as for implicit planes or lines. I am however
>> finding it
>> > hard to figure out what kind of things need to go into
>> the CMakeLists.txt
>> > and what classes are needed and such since it appears to be somewhat
>> > complicated. Is there an example of such a plugin available somewhere?
>> >
>> > Thanks.
>> >
>> > BR/ Christoffer Green
>> >
>> > _______________________________________________
>> > Powered by www.kitware.com
>> >
>> > Visit other Kitware open-source projects at
>> > http://www.kitware.com/opensource/opensource.html
>> >
>> > Please keep messages on-topic and check the ParaView Wiki at:
>> > http://paraview.org/Wiki/ParaView
>> >
>> > Follow this link to subscribe/unsubscribe:
>> > http://www.paraview.org/mailman/listinfo/paraview
>> >
>>
>>
>>
>> --
>> Robert Maynard
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/0890aeb0/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: FourFlowPlaneWidget.zip
Type: application/zip
Size: 20955 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/0890aeb0/attachment-0001.zip>

From biddisco at cscs.ch  Wed Dec 14 05:15:50 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 14 Dec 2011 10:15:50 +0000
Subject: [Paraview] Dodgy Characters in XML/Python causing failure
Message-ID: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>

using pv 3.12 I cannot save state files correctly, and generation of coprocessing scripts also fails because somehow - non ascii (UTF-8) -- characters are getting into strings.

      <Property name="ActiveScalars" id="495.ActiveScalars" number_of_elements="5">
        <Element index="0" value="3"/>
        <Element index="1" value=""/>
        <Element index="2" value=""/>
        <Element index="3" value="?????????????"/>
        <Element index="4" value="Not available"/>
        <Domain name="array_list" id="495.ActiveScalars.array_list">
          <String text="Not available"/>
          <String text="bfield"/>
	.....

The index 3 should read "bfield" - but instead comes out as above. 

I suspect this is an issue caused by Qt. Has anyone else had this problem, and if so, what was the correct (or fastest) fix. The reason I suspect Qt is because any calls to qString::ToStdString() in my code always fail and I have to use toLatin or something and I suspect I've compiled Qt with a wrong option.

thanks

JB



-- 
John Biddiscombe,??????????????????????????? email:biddisco @ cscs.ch
http://www.cscs.ch/
CSCS, Swiss National Supercomputing Centre? | Tel:? +41 (91) 610.82.07
Via Cantonale, 6928 Manno, Switzerland????? | Fax:? +41 (91) 610.82.82



From biddisco at cscs.ch  Wed Dec 14 05:18:17 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 14 Dec 2011 10:18:17 +0000
Subject: [Paraview] Dodgy Characters in XML/Python causing failure
In-Reply-To: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>
References: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>
Message-ID: <50320452A334BD42A5EC72BAD214509906953726@MBX10.d.ethz.ch>

PS. And python stuff gives errors like this when I try anything

libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT
F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT
F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT

JB

From utkarsh.ayachit at kitware.com  Wed Dec 14 08:25:18 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 14 Dec 2011 08:25:18 -0500
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
Message-ID: <CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>

Dominik,

Are these issues already fixed on Xdmf's official branch? The plan is
to sync up ParaView's branch with Xdmf's periodically. Feel free to
report bugs and patches on the ParaView bug tracker. However, if the
issues have not been addressed in the official Xdmf branch, they will
have to be approved by the Xdmf team as well.

Utkarsh

On Tue, Dec 13, 2011 at 6:03 PM, Dominik Szczerba <dominik at itis.ethz.ch> wrote:
> I have recently (relatively successfully) switched to the PV's Xdmf
> branch from the original branch. Where do I report bugs and contribute
> patches for this branch and what are the odds for them to be
> eventually accepted ?
>
> Thanks
> Dominik
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From dominik at itis.ethz.ch  Wed Dec 14 08:42:01 2011
From: dominik at itis.ethz.ch (Dominik Szczerba)
Date: Wed, 14 Dec 2011 14:42:01 +0100
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
	<CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
Message-ID: <CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>

Hi Utkarsh,

No, there was no feedback on many of my latest bug reports, neither
were they fixed in the official branch... so I thought it was dead and
switched to the PV branch. I can not even find anymore where the
official repo is, the one found by google on
http://www.xdmf.org/index.php/Get_Xdmf seems to point to some
abandoned version.

For a very long time I remain confused which version is the leading
one, and which one I should engage in and use as a base for proposed
patches, and where to send them, because no one listens on the xdmf
mailing list... Please, can you clarify the situation?

Regards,
Dominik

On Wed, Dec 14, 2011 at 2:25 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Dominik,
>
> Are these issues already fixed on Xdmf's official branch? The plan is
> to sync up ParaView's branch with Xdmf's periodically. Feel free to
> report bugs and patches on the ParaView bug tracker. However, if the
> issues have not been addressed in the official Xdmf branch, they will
> have to be approved by the Xdmf team as well.
>
> Utkarsh
>
> On Tue, Dec 13, 2011 at 6:03 PM, Dominik Szczerba <dominik at itis.ethz.ch> wrote:
>> I have recently (relatively successfully) switched to the PV's Xdmf
>> branch from the original branch. Where do I report bugs and contribute
>> patches for this branch and what are the odds for them to be
>> eventually accepted ?
>>
>> Thanks
>> Dominik
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>

From agagliardi at ara.co.uk  Wed Dec 14 09:33:46 2011
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Wed, 14 Dec 2011 14:33:46 -0000
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara><CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com><50C8C183759B4D848E82176A5ADC770F@win.ara>
	<CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com>
Message-ID: <1F2ECF99CC684F6E9E0D92A2FE05653B@win.ara>

System version is identical. The environment variables are identical with
the exception of those relating to window ids. LD_LIBRARY_PATH has changed,
but when running ParaView two directories, the paths to the ParaView root
and lib directories, have been added to the start. Nothing else is
different.
 
Aurelian, TCL_LIBRARY path is set, but I didn't configure this option when
compiling ParaView itself. I have numpy in the correct directory location.
 
Thanks,
 
Adriano
 

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Paul Edwards [mailto:paul.m.edwards at gmail.com] 
Sent: 13 December 2011 17:50
To: agagliardi at ara.co.uk
Cc: Aur?lien Marsan; paraview at paraview.org
Subject: Re: [Paraview] pvpython and matplotlib


Try comparing environment variables (import os and compare os.environ) 

In order to check the version print sys.version (after import sys)

Regards,
Paul


2011/12/12 Adriano Gagliardi <agagliardi at ara.co.uk>



Hi Aurelian,
 
I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4. 
 
How did you go about debugging this last time?
 
Thanks,
 
Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Aur?lien Marsan [mailto:aur.marsan at gmail.com] 
Sent: 12 December 2011 15:45
To: agagliardi at ara.co.uk
Cc: paraview at paraview.org
Subject: Re: [Paraview] pvpython and matplotlib


Good morning Adriano, 
 
All is working fine for me. 
But I remember that pyplot.show() didn't work from the paraview python sheel
with previous release. 

It looks like you have the 2.4 verions of Python. Which Paraview version do
you use ? 
 
Regards, 
 
Aurelien

2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>



Dear All,

I am having issues getting matplotlib to work with a in-house compiled
version of pvpython. Although it imports fine, if I try to plot anything
using pyplot I exit with a segmentation fault. Likewise, when I exit
pvpython, I get a segmentation fault. However, when using matplotlib from
the standard release of Python, it all works fine. Other libraries like
mysql and numpy are working fine too. This is what I'm running:

import matplotlib.pyplot as mp
#import pdb; pdb.set_trace()
mp.plot([1,2,3])
mp.show()

Any suggestions what could be wrong or how to go about solving it? I've
noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
I'm at least finding the point at which I get the segmentation fault, but I
can't make head nor tail of it:

(Pdb) s
> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
-> def zero(): return Value(0)
(Pdb) s
--Return--
>
/usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
Op o...1ce469a8> <--- it gives a segmentation fault before this line
-> def zero(): return Value(0)

All suggestions greatly appreciated.

Thanks,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk <http://www.ara.co.uk/> 


**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com/> 

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview



**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************


_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview





**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/416010c7/attachment-0001.htm>

From paul.m.edwards at gmail.com  Wed Dec 14 09:40:42 2011
From: paul.m.edwards at gmail.com (Paul Edwards)
Date: Wed, 14 Dec 2011 14:40:42 +0000
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <1F2ECF99CC684F6E9E0D92A2FE05653B@win.ara>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
	<CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
	<50C8C183759B4D848E82176A5ADC770F@win.ara>
	<CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com>
	<1F2ECF99CC684F6E9E0D92A2FE05653B@win.ara>
Message-ID: <CABWOrb97HP7gMU+bk3APBXj8_quwa9Df=ArDq+KHN0s=LBqbNQ@mail.gmail.com>

Does the system python also crash if you set the library path to have the
paraview directories?  If this is the case you probably gave a conflicting
lib in paraview.
On 14 Dec 2011 14:32, "Adriano Gagliardi" <agagliardi at ara.co.uk> wrote:

> **
> System version is identical. The environment variables are identical with
> the exception of those relating to window ids. LD_LIBRARY_PATH has changed,
> but when running ParaView two directories, the paths to the ParaView root
> and lib directories, have been added to the start. Nothing else is
> different.
>
> Aurelian, TCL_LIBRARY path is set, but I didn't configure this option when
> compiling ParaView itself. I have numpy in the correct directory location.
>
> Thanks,
>
> Adriano
>
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
>  ------------------------------
> *From:* Paul Edwards [mailto:paul.m.edwards at gmail.com]
> *Sent:* 13 December 2011 17:50
> *To:* agagliardi at ara.co.uk
> *Cc:* Aur?lien Marsan; paraview at paraview.org
> *Subject:* Re: [Paraview] pvpython and matplotlib
>
> Try comparing environment variables (import os and compare os.environ)
>
> In order to check the version print sys.version (after import sys)
>
> Regards,
> Paul
>
> 2011/12/12 Adriano Gagliardi <agagliardi at ara.co.uk>
>
>> **
>> Hi Aurelian,
>>
>> I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4.
>>
>> How did you go about debugging this last time?
>>
>> Thanks,
>>
>> Adriano
>>
>> ===================================
>>
>> Adriano Gagliardi MEng PhD
>> Business Sector Leader
>> Computational Aerodynamics
>> Aircraft Research Association Ltd.
>> Manton Lane
>> Bedford
>>
>> Tel: 01234 32 4644
>> E-mail: agagliardi at ara.co.uk
>> Url: www.ara.co.uk
>>
>>
>>  ------------------------------
>> *From:* Aur?lien Marsan [mailto:aur.marsan at gmail.com]
>> *Sent:* 12 December 2011 15:45
>> *To:* agagliardi at ara.co.uk
>> *Cc:* paraview at paraview.org
>> *Subject:* Re: [Paraview] pvpython and matplotlib
>>
>>   Good morning Adriano,
>>
>> All is working fine for me.
>> But I remember that pyplot.show() didn't work from the paraview python
>> sheel with previous release.
>> It looks like you have the 2.4 verions of Python. Which Paraview version
>> do you use ?
>>
>> Regards,
>>
>> Aurelien
>> 2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>
>>
>>>
>>> Dear All,
>>>
>>> I am having issues getting matplotlib to work with a in-house compiled
>>> version of pvpython. Although it imports fine, if I try to plot anything
>>> using pyplot I exit with a segmentation fault. Likewise, when I exit
>>> pvpython, I get a segmentation fault. However, when using matplotlib from
>>> the standard release of Python, it all works fine. Other libraries like
>>> mysql and numpy are working fine too. This is what I'm running:
>>>
>>> import matplotlib.pyplot as mp
>>> #import pdb; pdb.set_trace()
>>> mp.plot([1,2,3])
>>> mp.show()
>>>
>>> Any suggestions what could be wrong or how to go about solving it? I've
>>> noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
>>> I'm at least finding the point at which I get the segmentation fault,
>>> but I
>>> can't make head nor tail of it:
>>>
>>> (Pdb) s
>>> > /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
>>> -> def zero(): return Value(0)
>>> (Pdb) s
>>> --Return--
>>> >
>>>
>>> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
>>> Op o...1ce469a8> <--- it gives a segmentation fault before this line
>>> -> def zero(): return Value(0)
>>>
>>> All suggestions greatly appreciated.
>>>
>>> Thanks,
>>>
>>> Adriano
>>>
>>> ===================================
>>>
>>> Adriano Gagliardi MEng PhD
>>> Business Sector Leader
>>> Computational Aerodynamics
>>> Aircraft Research Association Ltd.
>>> Manton Lane
>>> Bedford
>>>
>>> Tel: 01234 32 4644
>>> E-mail: agagliardi at ara.co.uk
>>> Url: www.ara.co.uk
>>>
>>>
>>> **********************************************************************
>>> This email contains information that is private and confidential and is
>>> intended only for the addressee.
>>> If you are not the intended recipient please delete it and notify us
>>> immediately by e-mailing the sender.
>>> Note: All email sent to or from this address may be accessed by someone
>>> other than the recipient, for
>>> system management and security reasons.
>>> Aircraft Research Association Ltd.  Registered in England, Registration
>>> No 503668 Registered Office:
>>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>>
>>> **********************************************************************
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>
>> **********************************************************************
>> This email contains information that is private and confidential and is
>> intended only for the addressee.
>> If you are not the intended recipient please delete it and notify us
>> immediately by e-mailing the sender.
>> Note: All email sent to or from this address may be accessed by someone
>> other than the recipient, for
>> system management and security reasons.
>> Aircraft Research Association Ltd.  Registered in England, Registration
>> No 503668 Registered Office:
>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>
>> **********************************************************************
>>
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>>
>>
> **********************************************************************
> This email contains information that is private and confidential and is
> intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
> immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone
> other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd.  Registered in England, Registration No
> 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/22161dce/attachment.htm>

From utkarsh.ayachit at kitware.com  Wed Dec 14 09:41:53 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 14 Dec 2011 09:41:53 -0500
Subject: [Paraview] Dodgy Characters in XML/Python causing failure
In-Reply-To: <50320452A334BD42A5EC72BAD214509906953726@MBX10.d.ethz.ch>
References: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>
	<50320452A334BD42A5EC72BAD214509906953726@MBX10.d.ethz.ch>
Message-ID: <CADHSJjC4H0HTVs5KY7Crf8_c+Fq63ajS=Cbo0v-PO4MDW74P+w@mail.gmail.com>

That's very fishy. But this is good start. I kept on seeing these
errors on some random dashboards and never was sure why. At least we
now have a starting point. Guessing this is a windows machine? What
version of Qt?

Utkarsh

On Wed, Dec 14, 2011 at 5:18 AM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
> PS. And python stuff gives errors like this when I try anything
>
> libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT
> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
> libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT
> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
> libprotobuf ERROR ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf\wire_format.cc:1059] Encountered string containing invalid UT
>
> JB
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From biddisco at cscs.ch  Wed Dec 14 09:54:28 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 14 Dec 2011 14:54:28 +0000
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
	<CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
	<CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD214509906954921@MBX10.d.ethz.ch>

Dominik,

we're not very high on the list of priorities for the xdmf people.
However the xdmf2 rewrite that is available from
git://public.kitware.com/Xdmf2.git
is stable (and active it seems) - I assume this is not the one you are referring to (wrt paraview), and I am hoping soon to start using it instead of the paraview version of the old xdmf - which is what I expect you are referring to - we have a number of tweaks to Xdmf which would benefit from this new version.

the vtkXdmfReader in paraview would need to be rewritten to use the new Xdmf API.

If you're interested in joining forces to work on it - then I'll put aside some time over the Christmas break.

JB


-----Original Message-----
From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Dominik Szczerba
Sent: 14 December 2011 14:42
To: Utkarsh Ayachit
Cc: ParaView list
Subject: Re: [Paraview] Where do I send Xdmf bugs/patches?

Hi Utkarsh,

No, there was no feedback on many of my latest bug reports, neither were they fixed in the official branch... so I thought it was dead and switched to the PV branch. I can not even find anymore where the official repo is, the one found by google on http://www.xdmf.org/index.php/Get_Xdmf seems to point to some abandoned version.

For a very long time I remain confused which version is the leading one, and which one I should engage in and use as a base for proposed patches, and where to send them, because no one listens on the xdmf mailing list... Please, can you clarify the situation?

Regards,
Dominik

On Wed, Dec 14, 2011 at 2:25 PM, Utkarsh Ayachit <utkarsh.ayachit at kitware.com> wrote:
> Dominik,
>
> Are these issues already fixed on Xdmf's official branch? The plan is 
> to sync up ParaView's branch with Xdmf's periodically. Feel free to 
> report bugs and patches on the ParaView bug tracker. However, if the 
> issues have not been addressed in the official Xdmf branch, they will 
> have to be approved by the Xdmf team as well.
>
> Utkarsh
>
> On Tue, Dec 13, 2011 at 6:03 PM, Dominik Szczerba <dominik at itis.ethz.ch> wrote:
>> I have recently (relatively successfully) switched to the PV's Xdmf 
>> branch from the original branch. Where do I report bugs and 
>> contribute patches for this branch and what are the odds for them to 
>> be eventually accepted ?
>>
>> Thanks
>> Dominik
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at 
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: 
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview
>
_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

From kmorel at sandia.gov  Wed Dec 14 10:50:23 2011
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Wed, 14 Dec 2011 15:50:23 +0000
Subject: [Paraview] [EXTERNAL]  "Select Cells On" large object?
In-Reply-To: <0F7D778D53214429902C3CD51B4BC648@notebook>
Message-ID: <CB0E1159.E0B9%kmorel@sandia.gov>

Short answer, no.

If your surface is convex, you could threshold the surface elements you
need by first running the extract surface filter, then generating cell
normals, then using the calculator to extract the x component of the cell
normals, then thresholding all cells with the x component of the normal
greater than 0.  The remaining steps are the same as those you sent from
the transform filter on.

If your surfaces are not convex, perhaps you should consider an
image-based computation.  Set up the camera as in the instructions you
sent.  Then figure out the cross-sectional area of the screen and multiply
that by the ratio of pixels covered by the object to the total number of
pixels.  This ratio would probably be easiest computed if the object color
was set to black and the background to anything else.  Perhaps one of the
Python gurus could give some hints as to how to automate some of this.

-Ken



On 12/13/11 6:37 PM, "Paul McIntosh" <paul.mcintosh at internetscooter.com>
wrote:

>Hi,
>
>Hopefully an easy question to answer...
>
>"Select Cells On" is "visible" resolution dependent. By this I mean, for
>the
>same selection area, if I am close to the surface I get all the cells
>selected but if I am far away many cells are missed.
>
>I am calculating frontal area of a large object where I cannot get the
>whole
>object selected and get close enough to see all the individual cells. The
>result is missing cells which are mucking up my calculation. Is there an
>easy way to get all cells selected on a large object?
>
>Note: I am using this method for working out frontal area:
>http://www.discretizer.org/node/20
>
>Cheers,
>
>Paul
>---
>www.internetscooter.com
>
>_______________________________________________
>Powered by www.kitware.com
>
>Visit other Kitware open-source projects at
>http://www.kitware.com/opensource/opensource.html
>
>Please keep messages on-topic and check the ParaView Wiki at:
>http://paraview.org/Wiki/ParaView
>
>Follow this link to subscribe/unsubscribe:
>http://www.paraview.org/mailman/listinfo/paraview
>



From kmorel at sandia.gov  Wed Dec 14 11:00:26 2011
From: kmorel at sandia.gov (Moreland, Kenneth)
Date: Wed, 14 Dec 2011 16:00:26 +0000
Subject: [Paraview] [EXTERNAL]  ExodusII and mode shape animation
In-Reply-To: <CAP6xULFq24CSLBkRcBeYer1kC=D_3aqNRd9kxCL_2pU+s+-83A@mail.gmail.com>
Message-ID: <CB0E144A.E0D1%kmorel@sandia.gov>

The online ParaView guide has some introductory material for the Python Programmable Filter (http://paraview.org/Wiki/ParaView/Users_Guide/Python_Programmable_Filter).  It helps if you are familiar with programming directly with VTK.

By convention, ParaView will automatically apply a displacement vector with a name starting with "DIS" (not cap sensitive).  If you want to scale the magnitude of the displacement in the saved file, you have to scale all the displacement vectors.  The multiplier you see in the GUI cannot be set from the Exodus file.

It is impossible to set the "Has Mode Shape" value from within the Exodus file.  You have to know to click the box in the GUI.  That's just an annoying limitation of the Exodus file format.

-Ken

From: Paw M?ller <pawsen at gmail.com<mailto:pawsen at gmail.com>>
Date: Wed, 14 Dec 2011 09:55:12 +0100
To: Kenneth Moreland <kmorel at sandia.gov<mailto:kmorel at sandia.gov>>
Cc: "paraview at paraview.org<mailto:paraview at paraview.org>" <paraview at paraview.org<mailto:paraview at paraview.org>>
Subject: Re: [EXTERNAL] [Paraview] ExodusII and mode shape animation

I'm new to the Python Programmable Filter, so would you mind pointing me to a tutorial or maybe sending an example file?

Is it possible to write the magnifying factor(applying displ.) and tick the "Has Mode Shape" directly to the exodusII file from my fortran program?
And can I find any documentation on what paraview can read from an exodus-file, in terms of applying  'options'?

Paw

2011/12/13 Moreland, Kenneth <kmorel at sandia.gov<mailto:kmorel at sandia.gov>>
You can use the has mode shape function to write multiple mode shapes to the same exodus file.  You could identify the frequency using the time.  It's a logical use for it, but ParaView won't do anything with that other than print it in a label.

The automatic mode shape animation supported by the Exodus reader won't work for you.  It assumes that all displacements have the same phase.  (That is, it assumes that u = 1 + 0i for all points.)

You could do the animation fairly easily in a Python Programmable Filter using the equations you provided.  You might be able to do it with the Python Calculator, but I'm not sure you can access the current time value from it.  One of the Python gurus would have to speak up here.

-Ken

From: Paw M?ller <pawsen at gmail.com<mailto:pawsen at gmail.com>>
Date: Tue, 13 Dec 2011 12:27:46 +0100
To: <paraview at paraview.org<mailto:paraview at paraview.org>>
Subject: [EXTERNAL] [Paraview] ExodusII and mode shape animation

Hi

First of: I write to the ExodusII format from my own fortran program.

I would like to animate some mode shapes (or complex harmonic solutions).
My solution is a complex vector u. The physical displacement over e.g one period is then
              d = Re( u*exp(i*omega*t)) =>
              d = Re(u)*cos(omega*t)-Im(u)*sin(omega*t)

To animate this I could write the real and imaginary part of u in two vectors, and then multiply with cosine and -sine. But then I have to do that for each timestep somehow and I dont know how to do that. Would it be possible to write a vector containing the timesteps and then do the math with the calculator?

The ExodusII has a 'has mode shape' function. But I haven't been able to find any examples/documentation on it. It seems that you write the eigenfrequency as time for the corresponding displacementvector. But how do you animate the modeshape itself?

Any help is appriciated!
Thanks,
Paw _______________________________________________ Powered by www.kitware.com<http://www.kitware.com> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView Follow this link to subscribe/unsubscribe: http://www.paraview.org/mailman/listinfo/paraview

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/6c82239c/attachment.htm>

From agagliardi at ara.co.uk  Wed Dec 14 11:28:48 2011
From: agagliardi at ara.co.uk (Adriano Gagliardi)
Date: Wed, 14 Dec 2011 16:28:48 -0000
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <CABWOrb97HP7gMU+bk3APBXj8_quwa9Df=ArDq+KHN0s=LBqbNQ@mail.gmail.com>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara><CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com><50C8C183759B4D848E82176A5ADC770F@win.ara><CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com><1F2ECF99CC684F6E9E0D92A2FE05653B@win.ara>
	<CABWOrb97HP7gMU+bk3APBXj8_quwa9Df=ArDq+KHN0s=LBqbNQ@mail.gmail.com>
Message-ID: <04B1A75DE2AB4908B6200C0DDCADE955@win.ara>

Paul, 
 
I did so and it continued to work fine. I'm wondering whether it is related
to the TCL_LIBRARY variable not being set. Off to recompile it to find out.
 
Thanks,
 
Adriano
 

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Paul Edwards [mailto:paul.m.edwards at gmail.com] 
Sent: 14 December 2011 14:41
To: agagliardi at ara.co.uk
Cc: paraview at paraview.org; Aur?lien Marsan
Subject: RE: [Paraview] pvpython and matplotlib



Does the system python also crash if you set the library path to have the
paraview directories?  If this is the case you probably gave a conflicting
lib in paraview.

On 14 Dec 2011 14:32, "Adriano Gagliardi" <agagliardi at ara.co.uk> wrote:



System version is identical. The environment variables are identical with
the exception of those relating to window ids. LD_LIBRARY_PATH has changed,
but when running ParaView two directories, the paths to the ParaView root
and lib directories, have been added to the start. Nothing else is
different.
 
Aurelian, TCL_LIBRARY path is set, but I didn't configure this option when
compiling ParaView itself. I have numpy in the correct directory location.
 
Thanks,
 
Adriano
 

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Paul Edwards [mailto:paul.m.edwards at gmail.com] 
Sent: 13 December 2011 17:50
To: agagliardi at ara.co.uk
Cc: Aur?lien Marsan; paraview at paraview.org
Subject: Re: [Paraview] pvpython and matplotlib


Try comparing environment variables (import os and compare os.environ) 

In order to check the version print sys.version (after import sys)

Regards,
Paul


2011/12/12 Adriano Gagliardi <agagliardi at ara.co.uk>



Hi Aurelian,
 
I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4. 
 
How did you go about debugging this last time?
 
Thanks,
 
Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk 

 

  _____  

From: Aur?lien Marsan [mailto:aur.marsan at gmail.com] 
Sent: 12 December 2011 15:45
To: agagliardi at ara.co.uk
Cc: paraview at paraview.org
Subject: Re: [Paraview] pvpython and matplotlib


Good morning Adriano, 
 
All is working fine for me. 
But I remember that pyplot.show() didn't work from the paraview python sheel
with previous release. 

It looks like you have the 2.4 verions of Python. Which Paraview version do
you use ? 
 
Regards, 
 
Aurelien

2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>



Dear All,

I am having issues getting matplotlib to work with a in-house compiled
version of pvpython. Although it imports fine, if I try to plot anything
using pyplot I exit with a segmentation fault. Likewise, when I exit
pvpython, I get a segmentation fault. However, when using matplotlib from
the standard release of Python, it all works fine. Other libraries like
mysql and numpy are working fine too. This is what I'm running:

import matplotlib.pyplot as mp
#import pdb; pdb.set_trace()
mp.plot([1,2,3])
mp.show()

Any suggestions what could be wrong or how to go about solving it? I've
noticed the -v/-vv flags don't work with pvpython, or -h for that matter.
I'm at least finding the point at which I get the segmentation fault, but I
can't make head nor tail of it:

(Pdb) s
> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
-> def zero(): return Value(0)
(Pdb) s
--Return--
>
/usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
Op o...1ce469a8> <--- it gives a segmentation fault before this line
-> def zero(): return Value(0)

All suggestions greatly appreciated.

Thanks,

Adriano

===================================

Adriano Gagliardi MEng PhD
Business Sector Leader
Computational Aerodynamics
Aircraft Research Association Ltd.
Manton Lane
Bedford

Tel: 01234 32 4644
E-mail: agagliardi at ara.co.uk
Url: www.ara.co.uk <http://www.ara.co.uk/> 


**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
_______________________________________________
Powered by www.kitware.com <http://www.kitware.com/> 

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview



**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************


_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at
http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at:
http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview




**********************************************************************
This email contains information that is private and confidential and is
intended only for the addressee.
If you are not the intended recipient please delete it and notify us
immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone
other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No
503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************


**********************************************************************
This email contains information that is private and confidential and is intended only for the addressee.
If you are not the intended recipient please delete it and notify us immediately by e-mailing the sender.
Note: All email sent to or from this address may be accessed by someone other than the recipient, for
system management and security reasons.
Aircraft Research Association Ltd.  Registered in England, Registration No 503668 Registered Office:
Manton Lane, Bedford MK41 7PF England VAT No GB 196351245

**********************************************************************
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111214/5665a799/attachment-0001.htm>

From biddisco at cscs.ch  Wed Dec 14 11:38:49 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 14 Dec 2011 16:38:49 +0000
Subject: [Paraview] Dodgy Characters in XML/Python causing failure
In-Reply-To: <CADHSJjC4H0HTVs5KY7Crf8_c+Fq63ajS=Cbo0v-PO4MDW74P+w@mail.gmail.com>
References: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>
	<50320452A334BD42A5EC72BAD214509906953726@MBX10.d.ethz.ch>
	<CADHSJjC4H0HTVs5KY7Crf8_c+Fq63ajS=Cbo0v-PO4MDW74P+w@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD2145099069549C7@MBX10.d.ethz.ch>

Utkarsh

I was using 4.7.1 - but it was a downloaded binary x64 bit from some place I don't remember.

After much waiting, I now have a 4.7.4 compiled natively x64 on this machine and I'm pleased to say that all the errors have disappeared. Python shell works normally and CoProcessing Export state also works - as does the normal save state to pvsm 

JB

-----Original Message-----
From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com] 
Sent: 14 December 2011 15:42
To: Biddiscombe, John A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] Dodgy Characters in XML/Python causing failure

That's very fishy. But this is good start. I kept on seeing these errors on some random dashboards and never was sure why. At least we now have a starting point. Guessing this is a windows machine? What version of Qt?

Utkarsh

On Wed, Dec 14, 2011 at 5:18 AM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
> PS. And python stuff gives errors like this when I try anything
>
> libprotobuf ERROR 
> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
> \wire_format.cc:1059] Encountered string containing invalid UT
> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
> libprotobuf ERROR 
> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
> \wire_format.cc:1059] Encountered string containing invalid UT
> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
> libprotobuf ERROR 
> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
> \wire_format.cc:1059] Encountered string containing invalid UT
>
> JB
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From utkarsh.ayachit at kitware.com  Wed Dec 14 11:41:18 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 14 Dec 2011 11:41:18 -0500
Subject: [Paraview] Dodgy Characters in XML/Python causing failure
In-Reply-To: <50320452A334BD42A5EC72BAD2145099069549C7@MBX10.d.ethz.ch>
References: <50320452A334BD42A5EC72BAD214509906953715@MBX10.d.ethz.ch>
	<50320452A334BD42A5EC72BAD214509906953726@MBX10.d.ethz.ch>
	<CADHSJjC4H0HTVs5KY7Crf8_c+Fq63ajS=Cbo0v-PO4MDW74P+w@mail.gmail.com>
	<50320452A334BD42A5EC72BAD2145099069549C7@MBX10.d.ethz.ch>
Message-ID: <CADHSJjASvZcUe1G8=Rxgt8GH9NGZKqcOZt_8yUh+6N-bq1whOA@mail.gmail.com>

Interesting. Good to know. I cannot find those errors on the dashboard
anymore. I'll keep looking. If I can identify the machines, I'll try
to see if the Qt was binary install or built-from-source there too.

Thanks
Utkarsh

On Wed, Dec 14, 2011 at 11:38 AM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
> Utkarsh
>
> I was using 4.7.1 - but it was a downloaded binary x64 bit from some place I don't remember.
>
> After much waiting, I now have a 4.7.4 compiled natively x64 on this machine and I'm pleased to say that all the errors have disappeared. Python shell works normally and CoProcessing Export state also works - as does the normal save state to pvsm
>
> JB
>
> -----Original Message-----
> From: Utkarsh Ayachit [mailto:utkarsh.ayachit at kitware.com]
> Sent: 14 December 2011 15:42
> To: Biddiscombe, John A.
> Cc: paraview at paraview.org
> Subject: Re: [Paraview] Dodgy Characters in XML/Python causing failure
>
> That's very fishy. But this is good start. I kept on seeing these errors on some random dashboards and never was sure why. At least we now have a starting point. Guessing this is a windows machine? What version of Qt?
>
> Utkarsh
>
> On Wed, Dec 14, 2011 at 5:18 AM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
>> PS. And python stuff gives errors like this when I try anything
>>
>> libprotobuf ERROR
>> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
>> \wire_format.cc:1059] Encountered string containing invalid UT
>> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
>> libprotobuf ERROR
>> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
>> \wire_format.cc:1059] Encountered string containing invalid UT
>> F-8 data while serializing protocol buffer. Strings must contain only UTF-8; use the 'bytes' type for raw bytes.
>> libprotobuf ERROR
>> ..\..\..\..\..\Code\pv-meshless\Utilities\protobuf\src\google\protobuf
>> \wire_format.cc:1059] Encountered string containing invalid UT
>>
>> JB
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at
>> http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at:
>> http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview

From phsiao at cs.unc.edu  Wed Dec 14 13:57:16 2011
From: phsiao at cs.unc.edu (Joe Ping-Lin Hsiao)
Date: Wed, 14 Dec 2011 13:57:16 -0500
Subject: [Paraview] Comments typo in vtkSMNewWidgetRepresentationProxy.h?
Message-ID: <CAPYmBX3_t=r+N7HUyVS-0HZEDeGZ+CquQ_-JViaVSsH9JorVjg@mail.gmail.com>

Hi,

I used to inherit
ParaView-3.8.1\Servers\ServerManager\vtkSMSurfaceRepresentationProxy.h
to create an isosurface. But the class was gone since ParaView 3.10.

I found ParaView-3.12.0\ParaViewCore\ServerManagervtkSMNewWidgetRepresentationProxy.h
has identical comments. Can I use the class to create an isosurface or
the comments are just typos?

Thanks,
Joe

From sebastien.jourdain at kitware.com  Wed Dec 14 15:44:49 2011
From: sebastien.jourdain at kitware.com (Sebastien Jourdain)
Date: Wed, 14 Dec 2011 15:44:49 -0500
Subject: [Paraview] Comments typo in vtkSMNewWidgetRepresentationProxy.h?
In-Reply-To: <CAPYmBX3_t=r+N7HUyVS-0HZEDeGZ+CquQ_-JViaVSsH9JorVjg@mail.gmail.com>
References: <CAPYmBX3_t=r+N7HUyVS-0HZEDeGZ+CquQ_-JViaVSsH9JorVjg@mail.gmail.com>
Message-ID: <CABObKxfaSaiDF8XnYr0XLDJAVz4dpKPJM3y3kiuaxKLpeufCZA@mail.gmail.com>

Hi Joe,

this might be a typo, but first why did you need to inherit
vtkSMSurfaceRepresentationProxy.h to create an isosurface ?
Could you be more precise on what you use to do on 3.10 and what you
try to do in general ?

Thanks,

Seb

On Wed, Dec 14, 2011 at 1:57 PM, Joe Ping-Lin Hsiao <phsiao at cs.unc.edu> wrote:
> Hi,
>
> I used to inherit
> ParaView-3.8.1\Servers\ServerManager\vtkSMSurfaceRepresentationProxy.h
> to create an isosurface. But the class was gone since ParaView 3.10.
>
> I found ParaView-3.12.0\ParaViewCore\ServerManagervtkSMNewWidgetRepresentationProxy.h
> has identical comments. Can I use the class to create an isosurface or
> the comments are just typos?
>
> Thanks,
> Joe
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview

From phsiao at cs.unc.edu  Wed Dec 14 16:27:05 2011
From: phsiao at cs.unc.edu (Joe Ping-Lin Hsiao)
Date: Wed, 14 Dec 2011 16:27:05 -0500
Subject: [Paraview] Comments typo in vtkSMNewWidgetRepresentationProxy.h?
In-Reply-To: <CABObKxfaSaiDF8XnYr0XLDJAVz4dpKPJM3y3kiuaxKLpeufCZA@mail.gmail.com>
References: <CAPYmBX3_t=r+N7HUyVS-0HZEDeGZ+CquQ_-JViaVSsH9JorVjg@mail.gmail.com>
	<CABObKxfaSaiDF8XnYr0XLDJAVz4dpKPJM3y3kiuaxKLpeufCZA@mail.gmail.com>
Message-ID: <CAPYmBX02AE_7Om0h7gdBxKMp+75B4jMU8UGnj3BrE1K9zT8G8g@mail.gmail.com>

Oops, the parent class is vtkSMPropRepresentationProxy but not
vtkSMSurfaceRepresentationProxy.

Actually the program was developed by somebody else, and I wanted to
compile it with a newer version of Paraview.
It has a custom plugin which deals with volume rendering and
isosurface in one XML (via SubProxy). The plugin applies the contour
filter automatically when data is load, so users can switch between
volume rendering and isosurface in one menu.

I am not sure why vtkSMPropRepresentationProxy was inherited. Maybe
it's a generic representation class which can handle both volume and
isosurface? But I am not entirely sure. I am still studying the source
and ParaView.

Thanks,
Joe

On Wed, Dec 14, 2011 at 3:44 PM, Sebastien Jourdain
<sebastien.jourdain at kitware.com> wrote:
> Hi Joe,
>
> this might be a typo, but first why did you need to inherit
> vtkSMSurfaceRepresentationProxy.h to create an isosurface ?
> Could you be more precise on what you use to do on 3.10 and what you
> try to do in general ?
>
> Thanks,
>
> Seb
>
> On Wed, Dec 14, 2011 at 1:57 PM, Joe Ping-Lin Hsiao <phsiao at cs.unc.edu> wrote:
>> Hi,
>>
>> I used to inherit
>> ParaView-3.8.1\Servers\ServerManager\vtkSMSurfaceRepresentationProxy.h
>> to create an isosurface. But the class was gone since ParaView 3.10.
>>
>> I found ParaView-3.12.0\ParaViewCore\ServerManagervtkSMNewWidgetRepresentationProxy.h
>> has identical comments. Can I use the class to create an isosurface or
>> the comments are just typos?
>>
>> Thanks,
>> Joe
>> _______________________________________________
>> Powered by www.kitware.com
>>
>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>
>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>
>> Follow this link to subscribe/unsubscribe:
>> http://www.paraview.org/mailman/listinfo/paraview

From yvan.fournier at free.fr  Wed Dec 14 17:19:30 2011
From: yvan.fournier at free.fr (Yvan Fournier)
Date: Wed, 14 Dec 2011 23:19:30 +0100
Subject: [Paraview] Ensight Files - crash with 3.10 and 3.12
In-Reply-To: <mailman.1781.1322929448.4107.paraview@paraview.org>
References: <mailman.1781.1322929448.4107.paraview@paraview.org>
Message-ID: <1323901170.6166.29.camel@stardock>

Hello,

I'll let the ParaView developpers confirm this, but this is almost
definitely a bug in OpenFoam, not ParaView.

The error message says it all: some faces are not oriented correctly. I
had already encountered this bug a few years ago when testing The
OpenFoam meshing output with another CFD code, which can read EnSight
fold files, but as I was only running quick tests and had other issues,
I forgot to send a bug report to its developpers (sorry).

The issue is as follows: the EnSight Gold format specifies that nfaced
(polyhedron) elements are defined by their faces (polygons), with
normals pointing outwards (with normals defined in the "trigonometric"
sense. As faces in the OpenFoam structure are shared by 2 cells, their
normal points inwards for 1 of every 2 cells. Correct EnSight Gold
output would thus require that a face's vertices order be reversed
when outputting it to EnSight if that face's normal points inwards,
but in OpenFoam's "conversion/ensight/ensightPartCells.C" file, there
only seems to be a loop on faces, with an inner loop on face vertices,
an no orientation check.

Now the reason things "seemed" to work prior to ParaView 3.8 is that
there was no true polyhedron support, so the reader just wrote polyhedra
as convex point sets. This would produce some display artifacts, but at
least allowed reading EnSight files with polyhedra (that patch was
submitted to Kitware, between ParaView 3.4 and 3.6 if I remember
correctly). As convex point sets have no notion of orientation, the
incorrect output from OpenFoam was not an issue.

With version 3.10, true polyhedra support has arrived, and the readers
have been updated, so things look nicer, but the readers are stricter
regarding the file format.

In any case, with another code doing things as required by the
EnSight documentation, polyhedron support works pretty well with
both ParaView 3.10 and 3.12.

Best regards,

	Yvan

> Message: 4
> Date: Sat, 03 Dec 2011 09:45:58 +0100
> From: Fabian Braennstroem <f.braennstroem at gmx.de>
> Subject: [Paraview] Ensight Files - crash with 3.10 and 3.12
> To: paraview at paraview.org
> Message-ID: <4ED9E1C6.8080307 at gmx.de>
> Content-Type: text/plain; charset=ISO-8859-15; format=flowed
> 
> Hello,
> 
> I have a problem with Ensight files created by OpenFOAM.
> Paraview crashs as soon as I try to create a slice directly after 
> loading the file... but only for version 3.10 and 3.12, but it
> works for 3.8.
> 
> fbraenns at elephant: 
> /data2/WORK/fbraenns/R2N/CFD/Saloon/VI2N_VI1N/M02_B03_G07_OF__Mesh_82Mio_Case1 
> $ pv12
> Find an unexpected case. The input polyhedron cell may not be a water 
> tight or the polygonal faces may not be planar. Contouring will 
> continue, but this cell may not be processed correctly.
> Qt has caught an exception thrown from an event handler. Throwing
> exceptions from an event handler is not supported in Qt. You must
> reimplement QApplication::notify() and catch all exceptions there.
> 
> terminate called after throwing an instance of 'std::bad_alloc'
>    what():  std::bad_alloc
> Aborted
> fbraenns at elephant: 
> /data2/WORK/fbraenns/R2N/CFD/Saloon/VI2N_VI1N/M02_B03_G07_OF__Mesh_82Mio_Case1 
> $ pv10
> Qt has caught an exception thrown from an event handler. Throwing
> exceptions from an event handler is not supported in Qt. You must
> reimplement QApplication::notify() and catch all exceptions there.
> 
> terminate called after throwing an instance of 'std::bad_alloc'
>    what():  std::bad_alloc
> Aborted
> 
> As written this does not happen with the 3.8. version.
> Do you have an idea?
> 
> Best Regards
> Fabian




From xmedvedeg at gmail.com  Thu Dec 15 05:25:37 2011
From: xmedvedeg at gmail.com (Alexander Podlozhnyuk)
Date: Thu, 15 Dec 2011 14:25:37 +0400
Subject: [Paraview] Paraview and Ensight
Message-ID: <CADCiuTrzNcL6Yuub03t0hvMETSZGFsZLSje5Si9LFizYe0sTjg@mail.gmail.com>

Dear all,
I load VTK files in Paraview, then save data as Ensight. When I try to load
a converted data in Paraview it crashes without errors. What's the problem ?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111215/46f997e2/attachment.htm>

From dominik at itis.ethz.ch  Thu Dec 15 07:52:06 2011
From: dominik at itis.ethz.ch (Dominik Szczerba)
Date: Thu, 15 Dec 2011 13:52:06 +0100
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <50320452A334BD42A5EC72BAD214509906954921@MBX10.d.ethz.ch>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
	<CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
	<CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>
	<50320452A334BD42A5EC72BAD214509906954921@MBX10.d.ethz.ch>
Message-ID: <CALm7otp4PKQno4On1u-hOJsxkgmPggj-sD6865PYvWENDm=i+Q@mail.gmail.com>

Aparently my mail did not make it to the list, so I will repeat.
Please see below:

On Wed, Dec 14, 2011 at 3:54 PM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
> Dominik,
>
> we're not very high on the list of priorities for the xdmf people.
> However the xdmf2 rewrite that is available from
> git://public.kitware.com/Xdmf2.git
> is stable (and active it seems) - I assume this is not the one you are referring to (wrt paraview), and I am hoping soon to start using it instead of the paraview version of the old xdmf - which is what I expect you are referring to - we have a number of tweaks to Xdmf which would benefit from this new version.
>
> the vtkXdmfReader in paraview would need to be rewritten to use the new Xdmf API.
>

I was referring to Xdmf2 subfolder in PV git clone that I did
following "users start here" wiki page. Is
git://public.kitware.com/Xdmf2.git still something else? I am quite
confused... Is it all explained somewhere on a wiki page?

> If you're interested in joining forces to work on it - then I'll put aside some time over the Christmas break.

What are the objectives of this branch and how will it be
related/synced/contributed to the other branches? I am interested to
join Xdmf development provided that this would have a solid future,
like in VTK or Paraview.

Thanks and best regards,
Dominik


>
> JB
>
>
> -----Original Message-----
> From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Dominik Szczerba
> Sent: 14 December 2011 14:42
> To: Utkarsh Ayachit
> Cc: ParaView list
> Subject: Re: [Paraview] Where do I send Xdmf bugs/patches?
>
> Hi Utkarsh,
>
> No, there was no feedback on many of my latest bug reports, neither were they fixed in the official branch... so I thought it was dead and switched to the PV branch. I can not even find anymore where the official repo is, the one found by google on http://www.xdmf.org/index.php/Get_Xdmf seems to point to some abandoned version.
>
> For a very long time I remain confused which version is the leading one, and which one I should engage in and use as a base for proposed patches, and where to send them, because no one listens on the xdmf mailing list... Please, can you clarify the situation?
>
> Regards,
> Dominik
>
> On Wed, Dec 14, 2011 at 2:25 PM, Utkarsh Ayachit <utkarsh.ayachit at kitware.com> wrote:
>> Dominik,
>>
>> Are these issues already fixed on Xdmf's official branch? The plan is
>> to sync up ParaView's branch with Xdmf's periodically. Feel free to
>> report bugs and patches on the ParaView bug tracker. However, if the
>> issues have not been addressed in the official Xdmf branch, they will
>> have to be approved by the Xdmf team as well.
>>
>> Utkarsh
>>
>> On Tue, Dec 13, 2011 at 6:03 PM, Dominik Szczerba <dominik at itis.ethz.ch> wrote:
>>> I have recently (relatively successfully) switched to the PV's Xdmf
>>> branch from the original branch. Where do I report bugs and
>>> contribute patches for this branch and what are the odds for them to
>>> be eventually accepted ?
>>>
>>> Thanks
>>> Dominik
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From biddisco at cscs.ch  Thu Dec 15 11:07:34 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Thu, 15 Dec 2011 16:07:34 +0000
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <CALm7otp4PKQno4On1u-hOJsxkgmPggj-sD6865PYvWENDm=i+Q@mail.gmail.com>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
	<CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
	<CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>
	<50320452A334BD42A5EC72BAD214509906954921@MBX10.d.ethz.ch>
	<CALm7otp4PKQno4On1u-hOJsxkgmPggj-sD6865PYvWENDm=i+Q@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD214509906959B47@MBX10.d.ethz.ch>

Dominik,

General consensus was that the Xdmf library was not very consistent in the way it was written -specifically when XdmfGeometry/Topology/other objects were created, some sub-objects were owned/parented and others simply referenced and when complex hierarchies of these objects were being used (as it typical in something like the vtk-reader/writer classes), it because difficult to manage things well and cleanly and know who was responsible for deleting things. leading to a lot of crashes and memory leaks if you got it wrong (and quite a lot of duplicated checks on objects too, but that's an aside).

The Xmdf chaps have completely rewritten the library using a much nicer C++ type approach using smartpointers etc and this means the API has changed significantly. The XML part remains essentially the same.

I would like to stop using the rather crufty Xdmfs in paraview (which you keep finding bugs in - and so do we - and nobody is supporting) and instead incorporate the new Xdmf into paraview (via the reader).

[We've got cool stuff like the XdmfGenerator which would go nicely with the new Xdmf too].

etc etc.

JB




-----Original Message-----
From: domel07 at gmail.com [mailto:domel07 at gmail.com] On Behalf Of Dominik Szczerba
Sent: 15 December 2011 13:52
To: Biddiscombe, John A.
Cc: Utkarsh Ayachit; ParaView list
Subject: Re: [Paraview] Where do I send Xdmf bugs/patches?

Aparently my mail did not make it to the list, so I will repeat.
Please see below:

On Wed, Dec 14, 2011 at 3:54 PM, Biddiscombe, John A. <biddisco at cscs.ch> wrote:
> Dominik,
>
> we're not very high on the list of priorities for the xdmf people.
> However the xdmf2 rewrite that is available from 
> git://public.kitware.com/Xdmf2.git
> is stable (and active it seems) - I assume this is not the one you are referring to (wrt paraview), and I am hoping soon to start using it instead of the paraview version of the old xdmf - which is what I expect you are referring to - we have a number of tweaks to Xdmf which would benefit from this new version.
>
> the vtkXdmfReader in paraview would need to be rewritten to use the new Xdmf API.
>

I was referring to Xdmf2 subfolder in PV git clone that I did following "users start here" wiki page. Is git://public.kitware.com/Xdmf2.git still something else? I am quite confused... Is it all explained somewhere on a wiki page?

> If you're interested in joining forces to work on it - then I'll put aside some time over the Christmas break.

What are the objectives of this branch and how will it be related/synced/contributed to the other branches? I am interested to join Xdmf development provided that this would have a solid future, like in VTK or Paraview.

Thanks and best regards,
Dominik


>
> JB
>
>
> -----Original Message-----
> From: paraview-bounces at paraview.org 
> [mailto:paraview-bounces at paraview.org] On Behalf Of Dominik Szczerba
> Sent: 14 December 2011 14:42
> To: Utkarsh Ayachit
> Cc: ParaView list
> Subject: Re: [Paraview] Where do I send Xdmf bugs/patches?
>
> Hi Utkarsh,
>
> No, there was no feedback on many of my latest bug reports, neither were they fixed in the official branch... so I thought it was dead and switched to the PV branch. I can not even find anymore where the official repo is, the one found by google on http://www.xdmf.org/index.php/Get_Xdmf seems to point to some abandoned version.
>
> For a very long time I remain confused which version is the leading one, and which one I should engage in and use as a base for proposed patches, and where to send them, because no one listens on the xdmf mailing list... Please, can you clarify the situation?
>
> Regards,
> Dominik
>
> On Wed, Dec 14, 2011 at 2:25 PM, Utkarsh Ayachit <utkarsh.ayachit at kitware.com> wrote:
>> Dominik,
>>
>> Are these issues already fixed on Xdmf's official branch? The plan is 
>> to sync up ParaView's branch with Xdmf's periodically. Feel free to 
>> report bugs and patches on the ParaView bug tracker. However, if the 
>> issues have not been addressed in the official Xdmf branch, they will 
>> have to be approved by the Xdmf team as well.
>>
>> Utkarsh
>>
>> On Tue, Dec 13, 2011 at 6:03 PM, Dominik Szczerba <dominik at itis.ethz.ch> wrote:
>>> I have recently (relatively successfully) switched to the PV's Xdmf 
>>> branch from the original branch. Where do I report bugs and 
>>> contribute patches for this branch and what are the odds for them to 
>>> be eventually accepted ?
>>>
>>> Thanks
>>> Dominik
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at 
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at 
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at: 
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From dominik at itis.ethz.ch  Thu Dec 15 12:50:52 2011
From: dominik at itis.ethz.ch (Dominik Szczerba)
Date: Thu, 15 Dec 2011 18:50:52 +0100
Subject: [Paraview] Where do I send Xdmf bugs/patches?
In-Reply-To: <50320452A334BD42A5EC72BAD214509906959B47@MBX10.d.ethz.ch>
References: <CALm7otpisdaRou_YAVMyD0vHw5AH__5z2F1VSFERW5oJ6tCsNA@mail.gmail.com>
	<CADHSJjCpifPX=9tMcGb9OZzB0=R7pcm7rt=1h6-NR0D7mbRHwA@mail.gmail.com>
	<CALm7otr56H-iOV39_q66skW=vG-notv5XyYpmxD0YPamNXxk9Q@mail.gmail.com>
	<50320452A334BD42A5EC72BAD214509906954921@MBX10.d.ethz.ch>
	<CALm7otp4PKQno4On1u-hOJsxkgmPggj-sD6865PYvWENDm=i+Q@mail.gmail.com>
	<50320452A334BD42A5EC72BAD214509906959B47@MBX10.d.ethz.ch>
Message-ID: <CALm7oto5xZFa4gU2QYpAT2=DcmEycPwiJOCJO=-TheL9vtOy9Q@mail.gmail.com>

> General consensus was that the Xdmf library was not very consistent in the way it was written -specifically when XdmfGeometry/Topology/other objects were created, some sub-objects were owned/parented and others simply referenced and when complex hierarchies of these objects were being used (as it typical in something like the vtk-reader/writer classes), it because difficult to manage things well and cleanly and know who was responsible for deleting things. leading to a lot of crashes and memory leaks if you got it wrong (and quite a lot of duplicated checks on objects too, but that's an aside).
>
> The Xmdf chaps have completely rewritten the library using a much nicer C++ type approach using smartpointers etc and this means the API has changed significantly. The XML part remains essentially the same.
>
> I would like to stop using the rather crufty Xdmfs in paraview (which you keep finding bugs in - and so do we - and nobody is supporting) and instead incorporate the new Xdmf into paraview (via the reader).

Sounds like a plan. Where do I start? I can directly try to integrate
it into my project and shower you with bug reports and perhaps a few
patches...

Dominik

From aur.marsan at gmail.com  Fri Dec 16 05:19:40 2011
From: aur.marsan at gmail.com (=?ISO-8859-1?Q?Aur=E9lien_Marsan?=)
Date: Fri, 16 Dec 2011 11:19:40 +0100
Subject: [Paraview] pvpython and matplotlib
In-Reply-To: <04B1A75DE2AB4908B6200C0DDCADE955@win.ara>
References: <0B5D77178F1848168CDE8A23A5C8F8D0@win.ara>
	<CALBJ7LKrQfv7NnJb5XiH59yaBHJS_r8ocXL-=AnxpNg3HuzBkA@mail.gmail.com>
	<50C8C183759B4D848E82176A5ADC770F@win.ara>
	<CABWOrb8_izzsrLRx6BFTL8kjZwOw4KRzty5s5mwvfF=EFUfi7g@mail.gmail.com>
	<1F2ECF99CC684F6E9E0D92A2FE05653B@win.ara>
	<CABWOrb97HP7gMU+bk3APBXj8_quwa9Df=ArDq+KHN0s=LBqbNQ@mail.gmail.com>
	<04B1A75DE2AB4908B6200C0DDCADE955@win.ara>
Message-ID: <CALBJ7LLn2ZmNRpPp3LGYYNeB4i_Am2JGUm7rvUrx3p=92E3xoQ@mail.gmail.com>

Maybe you could try it with the binarie release of Paraview, in order to
confirm that it can work.
Then you would be sure that it is a compilation issue.

Le 14 d?cembre 2011 17:28, Adriano Gagliardi <agagliardi at ara.co.uk> a ?crit
:

> **
> Paul,
>
> I did so and it continued to work fine. I'm wondering whether it is
> related to the TCL_LIBRARY variable not being set. Off to recompile it to
> find out.
>
> Thanks,
>
> Adriano
>
>
> ===================================
>
> Adriano Gagliardi MEng PhD
> Business Sector Leader
> Computational Aerodynamics
> Aircraft Research Association Ltd.
> Manton Lane
> Bedford
>
> Tel: 01234 32 4644
> E-mail: agagliardi at ara.co.uk
> Url: www.ara.co.uk
>
>
>  ------------------------------
>  *From:* Paul Edwards [mailto:paul.m.edwards at gmail.com]
> *Sent:* 14 December 2011 14:41
> *To:* agagliardi at ara.co.uk
> *Cc:* paraview at paraview.org; Aur?lien Marsan
> *Subject:* RE: [Paraview] pvpython and matplotlib
>
>   Does the system python also crash if you set the library path to have
> the paraview directories?  If this is the case you probably gave a
> conflicting lib in paraview.
> On 14 Dec 2011 14:32, "Adriano Gagliardi" <agagliardi at ara.co.uk> wrote:
>
>> **
>> System version is identical. The environment variables are identical with
>> the exception of those relating to window ids. LD_LIBRARY_PATH has changed,
>> but when running ParaView two directories, the paths to the ParaView root
>> and lib directories, have been added to the start. Nothing else is
>> different.
>>
>> Aurelian, TCL_LIBRARY path is set, but I didn't configure this option
>> when compiling ParaView itself. I have numpy in the correct directory
>> location.
>>
>> Thanks,
>>
>> Adriano
>>
>>
>> ===================================
>>
>> Adriano Gagliardi MEng PhD
>> Business Sector Leader
>> Computational Aerodynamics
>> Aircraft Research Association Ltd.
>> Manton Lane
>> Bedford
>>
>> Tel: 01234 32 4644
>> E-mail: agagliardi at ara.co.uk
>> Url: www.ara.co.uk
>>
>>
>>  ------------------------------
>> *From:* Paul Edwards [mailto:paul.m.edwards at gmail.com]
>> *Sent:* 13 December 2011 17:50
>> *To:* agagliardi at ara.co.uk
>> *Cc:* Aur?lien Marsan; paraview at paraview.org
>> *Subject:* Re: [Paraview] pvpython and matplotlib
>>
>> Try comparing environment variables (import os and compare os.environ)
>>
>> In order to check the version print sys.version (after import sys)
>>
>> Regards,
>> Paul
>>
>> 2011/12/12 Adriano Gagliardi <agagliardi at ara.co.uk>
>>
>>> **
>>> Hi Aurelian,
>>>
>>> I'm using a 64-bit build of ParaView 3.10.1 on Centos 5.4.
>>>
>>> How did you go about debugging this last time?
>>>
>>> Thanks,
>>>
>>> Adriano
>>>
>>> ===================================
>>>
>>> Adriano Gagliardi MEng PhD
>>> Business Sector Leader
>>> Computational Aerodynamics
>>> Aircraft Research Association Ltd.
>>> Manton Lane
>>> Bedford
>>>
>>> Tel: 01234 32 4644
>>> E-mail: agagliardi at ara.co.uk
>>> Url: www.ara.co.uk
>>>
>>>
>>>  ------------------------------
>>> *From:* Aur?lien Marsan [mailto:aur.marsan at gmail.com]
>>> *Sent:* 12 December 2011 15:45
>>> *To:* agagliardi at ara.co.uk
>>> *Cc:* paraview at paraview.org
>>> *Subject:* Re: [Paraview] pvpython and matplotlib
>>>
>>>   Good morning Adriano,
>>>
>>> All is working fine for me.
>>> But I remember that pyplot.show() didn't work from the paraview python
>>> sheel with previous release.
>>> It looks like you have the 2.4 verions of Python. Which Paraview version
>>> do you use ?
>>>
>>> Regards,
>>>
>>> Aurelien
>>> 2011/12/8 Adriano Gagliardi <agagliardi at ara.co.uk>
>>>
>>>>
>>>> Dear All,
>>>>
>>>> I am having issues getting matplotlib to work with a in-house compiled
>>>> version of pvpython. Although it imports fine, if I try to plot anything
>>>> using pyplot I exit with a segmentation fault. Likewise, when I exit
>>>> pvpython, I get a segmentation fault. However, when using matplotlib
>>>> from
>>>> the standard release of Python, it all works fine. Other libraries like
>>>> mysql and numpy are working fine too. This is what I'm running:
>>>>
>>>> import matplotlib.pyplot as mp
>>>> #import pdb; pdb.set_trace()
>>>> mp.plot([1,2,3])
>>>> mp.show()
>>>>
>>>> Any suggestions what could be wrong or how to go about solving it? I've
>>>> noticed the -v/-vv flags don't work with pvpython, or -h for that
>>>> matter.
>>>> I'm at least finding the point at which I get the segmentation fault,
>>>> but I
>>>> can't make head nor tail of it:
>>>>
>>>> (Pdb) s
>>>> > /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()
>>>> -> def zero(): return Value(0)
>>>> (Pdb) s
>>>> --Return--
>>>> >
>>>>
>>>> /usr/lib64/python2.4/site-packages/matplotlib/transforms.py(286)zero()-><Bin
>>>> Op o...1ce469a8> <--- it gives a segmentation fault before this line
>>>> -> def zero(): return Value(0)
>>>>
>>>> All suggestions greatly appreciated.
>>>>
>>>> Thanks,
>>>>
>>>> Adriano
>>>>
>>>> ===================================
>>>>
>>>> Adriano Gagliardi MEng PhD
>>>> Business Sector Leader
>>>> Computational Aerodynamics
>>>> Aircraft Research Association Ltd.
>>>> Manton Lane
>>>> Bedford
>>>>
>>>> Tel: 01234 32 4644
>>>> E-mail: agagliardi at ara.co.uk
>>>> Url: www.ara.co.uk
>>>>
>>>>
>>>> **********************************************************************
>>>> This email contains information that is private and confidential and is
>>>> intended only for the addressee.
>>>> If you are not the intended recipient please delete it and notify us
>>>> immediately by e-mailing the sender.
>>>> Note: All email sent to or from this address may be accessed by someone
>>>> other than the recipient, for
>>>> system management and security reasons.
>>>> Aircraft Research Association Ltd.  Registered in England, Registration
>>>> No 503668 Registered Office:
>>>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>>>
>>>> **********************************************************************
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>>
>>>> Visit other Kitware open-source projects at
>>>> http://www.kitware.com/opensource/opensource.html
>>>>
>>>> Please keep messages on-topic and check the ParaView Wiki at:
>>>> http://paraview.org/Wiki/ParaView
>>>>
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>
>>>
>>> **********************************************************************
>>> This email contains information that is private and confidential and is
>>> intended only for the addressee.
>>> If you are not the intended recipient please delete it and notify us
>>> immediately by e-mailing the sender.
>>> Note: All email sent to or from this address may be accessed by someone
>>> other than the recipient, for
>>> system management and security reasons.
>>> Aircraft Research Association Ltd.  Registered in England, Registration
>>> No 503668 Registered Office:
>>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>>
>>> **********************************************************************
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at
>>> http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at:
>>> http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>
>>>
>> **********************************************************************
>> This email contains information that is private and confidential and is
>> intended only for the addressee.
>> If you are not the intended recipient please delete it and notify us
>> immediately by e-mailing the sender.
>> Note: All email sent to or from this address may be accessed by someone
>> other than the recipient, for
>> system management and security reasons.
>> Aircraft Research Association Ltd.  Registered in England, Registration
>> No 503668 Registered Office:
>> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>>
>> **********************************************************************
>>
> **********************************************************************
> This email contains information that is private and confidential and is
> intended only for the addressee.
> If you are not the intended recipient please delete it and notify us
> immediately by e-mailing the sender.
> Note: All email sent to or from this address may be accessed by someone
> other than the recipient, for
> system management and security reasons.
> Aircraft Research Association Ltd.  Registered in England, Registration No
> 503668 Registered Office:
> Manton Lane, Bedford MK41 7PF England VAT No GB 196351245
>
> **********************************************************************
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111216/c6bf3df6/attachment.htm>

From arkajyoti.misra at seagate.com  Fri Dec 16 11:55:16 2011
From: arkajyoti.misra at seagate.com (Arkajyoti Misra)
Date: Fri, 16 Dec 2011 10:55:16 -0600
Subject: [Paraview] saving multiple views
Message-ID: <CAH7-OJ9L__U77Y0BeB-9R_Lw_B7-QidWXfykN79-0Y=vKb_Mog@mail.gmail.com>

I am a beginner to Paraview and only recently started python scripting.
What I am trying to do is to save a sequence of screenshots with a split
view.
Here's what I'm doing:

------
View1 = GetRenderView()
View2 = GetRenderViews()[1]
AnimationScene1 = GetAnimationScene()
AnimationScene1.ViewModules = [View1, View2]

for n in range (Nsteps):
    View1.ViewTime = n
   View2.ViewTime = n
   AnimationScene1.AnimationTime = n
   WriteImage('test%03d.png' % n)
--------

Now my problem is, the png files have only the View1 snapshot. How can I
get both the views in a single snapshot?

I can do the job directly from the GUI and I looked at the trace but that
did not help much.

Any help is appreciated. Thanks.


-- 
Arko
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111216/b5319ae6/attachment.htm>

From felipe.bordeu at ec-nantes.fr  Fri Dec 16 12:32:16 2011
From: felipe.bordeu at ec-nantes.fr (Felipe Bordeu)
Date: Fri, 16 Dec 2011 18:32:16 +0100
Subject: [Paraview] Dynamic information for the Animation View
Message-ID: <4EEB80A0.9020704@ec-nantes.fr>

Hi,

I have a custom reader (c++, custom panel ). The reader generate (on the 
fly)  several sliders (the information to create the slider is in the 
opened file).
Now a want to animate my reader with the animation View, but (because 
the slider are absent of the xml description) the information is absent 
in the Animation View.

I tried to use a xml element just to tell paraview about this 
information. I use a StringVectorProperty (with a array selection 
domain), but does not work:


<StringVectorProperty
         name="PGDDimsPosDataInfoByName"
         command="SetPGDDimsPosDataInfoByName"
         label="Fix Dimensions By Name"
         number_of_elements="0"
         repeat_command="1"
         information_property="PGDDimsNameDataInfo"
         number_of_elements_per_command="2"
         element_types="2 0"
         animateable="1"
 >
<ArraySelectionDomain name="array_list" >
<RequiredProperties>
<Property name="PGDDimsNameDataInfo" function="ArrayList" />
</RequiredProperties>
</ArraySelectionDomain>
</StringVectorProperty>

<StringVectorProperty
     name="PGDDimsNameDataInfo"
     command="GetPGDDimsNamesDataInfo"
     information_only="1"
 >
<StringArrayHelper/>
</StringVectorProperty>


but in the Animation View a have only one option "Fix Dimensions By Name" .
nothing like the Center (0), Center (1), Center (2) in the 2DGlyph

and if PGDDimsNameDataInfo is {"A", "B", "C", "D"} (array)
SetPGDDimsPosDataInfoByName  is called 2 times, for A with the good 
value (from the animation view) and for C with 0.

Am I clear???
Any ideas???

Happy Holidays
Felipe
-- 

Felipe Bordeu Weldt
Ing?nieur de Recherche
-------------------------------------
T?l. : 33 (0)2 40 37 16 57
Fax. : 33 (0)2 40 74 74 06
Felipe.Bordeu at ec-nantes.fr
Institut GeM - UMR CNRS 6183
?cole Centrale Nantes
1 Rue de La No?, 44321 Nantes, FRANCE
-------------------------------------Hai


From weaponfire2005 at 163.com  Mon Dec 19 08:16:09 2011
From: weaponfire2005 at 163.com (=?GBK?B?zfXFyg==?=)
Date: Mon, 19 Dec 2011 21:16:09 +0800 (CST)
Subject: [Paraview] About vtkMultiBlockPLOT3DReader
Message-ID: <33e83326.e0dd.13456770a7b.Coremail.weaponfire2005@163.com>

Hi:
   I start ParaView in Client/Server mode and use the vtkMultiBlockPLOT3DReader to read .xyz and .bin file. I find when I start multiple mpi processes, each process will read all .xyz and .bin dataset and the dataset was not distributed to all processes like other data format. For example, if a stand-alone mode paraview consume 100MB memory to read the dataset,  then 600MB will be used when I start 6 pvservers.     Does anybody encount the same problem? thanks for any help:)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111219/18e8664a/attachment.htm>

From jaiarvil at gmail.com  Mon Dec 19 09:56:17 2011
From: jaiarvil at gmail.com (Jaime A V)
Date: Mon, 19 Dec 2011 15:56:17 +0100
Subject: [Paraview] paraview 3.12.0 in command mode with --run-test not
	working
Message-ID: <CAG6_TFaDDWme+WYkCxt1d6iyw-Gt9Vt1O7cVdovUoTna1sYEkg@mail.gmail.com>

Dear all,

I have downloaded the latest version of paraview binaries (3.12.0) and I've
tried to run the following command from a console:

paraview --data=xxxxxxxx.vtu --run-test=xxxxxxxx.xml


That command fails when using the --run-test, it seems it is not a command
any more. This was working with previous releases (at least with 3.4.0 for
sure but it has been a long time since then)

How can I set a file to load and also a previous saved test to be loaded?

Thank you in advance,

Jaime
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111219/7246d945/attachment.htm>

From utkarsh.ayachit at kitware.com  Mon Dec 19 10:53:07 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Mon, 19 Dec 2011 10:53:07 -0500
Subject: [Paraview] paraview 3.12.0 in command mode with --run-test not
	working
In-Reply-To: <CAG6_TFaDDWme+WYkCxt1d6iyw-Gt9Vt1O7cVdovUoTna1sYEkg@mail.gmail.com>
References: <CAG6_TFaDDWme+WYkCxt1d6iyw-Gt9Vt1O7cVdovUoTna1sYEkg@mail.gmail.com>
Message-ID: <CADHSJjDpO2U6DQHLj2pDHY=ZbfQiyc2Z4dFLv28MsntQP2e-RA@mail.gmail.com>

Try --test-script=".."

Utkarsh

On Mon, Dec 19, 2011 at 9:56 AM, Jaime A V <jaiarvil at gmail.com> wrote:
> Dear all,
>
> I have downloaded the latest version of paraview binaries (3.12.0) and I've
> tried to run the following command from a console:
>
> paraview --data=xxxxxxxx.vtu --run-test=xxxxxxxx.xml
>
>
> That command fails when using the --run-test, it seems it is not a command
> any more. This was working with previous releases (at least with 3.4.0 for
> sure but it has been a long time since then)
>
> How can I set a file to load and also a previous saved test to be loaded?
>
> Thank you in advance,
>
> Jaime
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From jaiarvil at gmail.com  Mon Dec 19 11:23:56 2011
From: jaiarvil at gmail.com (Jaime A V)
Date: Mon, 19 Dec 2011 17:23:56 +0100
Subject: [Paraview] paraview 3.12.0 in command mode with --run-test not
	working
In-Reply-To: <CADHSJjDpO2U6DQHLj2pDHY=ZbfQiyc2Z4dFLv28MsntQP2e-RA@mail.gmail.com>
References: <CAG6_TFaDDWme+WYkCxt1d6iyw-Gt9Vt1O7cVdovUoTna1sYEkg@mail.gmail.com>
	<CADHSJjDpO2U6DQHLj2pDHY=ZbfQiyc2Z4dFLv28MsntQP2e-RA@mail.gmail.com>
Message-ID: <CAG6_TFbz0iyccLDEU5=KeHNgy_6xPPcx9MiuPxutzJifrNXpXg@mail.gmail.com>

Thank you Utkarsh, it works well with test-script
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111219/7acce7a8/attachment.htm>

From jproberge25 at hotmail.com  Mon Dec 19 16:39:09 2011
From: jproberge25 at hotmail.com (JEAN-PHILIPPE ROBERGE)
Date: Mon, 19 Dec 2011 21:39:09 +0000
Subject: [Paraview] XYZI reader?
Message-ID: <COL116-W657D12BE8D9093FDAE5F34B8A70@phx.gbl>


Hello everybody!



I've been spending a lot of time trying to figure this out and I would really

appreciate if anyone could give a little help here... :)



I want to load about 20 millions points for which I have their 3D coordinnates

(X, Y, Z) and also their intensity. The goal would be to color all the points

as a function of their intensity level. Does anyone know if there's already a

reader that can do that?



Otherwise, does anyone know how I could achieve that? I don't have a lot of

python skills or great Paraview knowledge, but I'm ready to work hard since

this is for the "results" section of my master thesis :)



Thank you so much to all of you,



Jean-Philippe

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111219/2d91fee9/attachment.htm>

From alessandro.comunian at gmail.com  Mon Dec 19 17:33:34 2011
From: alessandro.comunian at gmail.com (Alessandro Comunian)
Date: Tue, 20 Dec 2011 09:33:34 +1100
Subject: [Paraview] XYZI reader?
In-Reply-To: <COL116-W657D12BE8D9093FDAE5F34B8A70@phx.gbl>
References: <COL116-W657D12BE8D9093FDAE5F34B8A70@phx.gbl>
Message-ID: <CA+=N00ieqD_9V1FHNM9edvf+t2P9M5jCBWp4r4k7te2dX6dU+A@mail.gmail.com>

Hi Jean-Philippe,

probably the easier thing that you can try is to open your file as a
"cvs"  file directly from Paraview...you will get a table. To that
table you can apply a filter, like for example "Table to points", and
then choose to colour you points according to you "intensity".

Otherwise it depends on how you data are organised spatially... maybe
your data can be organised like structured points... or can be
converted in some of the VTK legacy format described on this document:
http://www.vtk.org/VTK/img/file-formats.pdf

Hope it helps... even if I suppose that 20 millions of points could
require some time on small machines.

Cheers,

Alessandro



2011/12/20 JEAN-PHILIPPE ROBERGE <jproberge25 at hotmail.com>:
> Hello everybody!
>
> I've been spending a lot of time trying to figure this out and I would
> really
> appreciate if anyone could give a little help here... :)
>
> I want to load about 20 millions points for which I have their 3D
> coordinnates
> (X, Y, Z) and also their intensity. The goal would be to color all the
> points
> as a function of their intensity level. Does anyone know if there's already
> a
> reader that can do that?
>
> Otherwise, does anyone know how I could achieve that? I don't have a lot of
> python skills or great Paraview knowledge, but I'm ready to work hard since
> this is for the "results" section of my master thesis :)
>
> Thank you so much to all of you,
>
> Jean-Philippe
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>

From paul.mcintosh at internetscooter.com  Mon Dec 19 21:05:34 2011
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Tue, 20 Dec 2011 13:05:34 +1100
Subject: [Paraview] [EXTERNAL]  "Select Cells On" large object?
In-Reply-To: <CB0E1159.E0B9%kmorel@sandia.gov>
References: <0F7D778D53214429902C3CD51B4BC648@notebook>
	<CB0E1159.E0B9%kmorel@sandia.gov>
Message-ID: <490D8AD94847488EA36CA278814E8C2F@notebook>

Hi Ken,

Thanks for the suggestion - I've done some experiments and I think the best
way to do it is extract sections close up to get the resolution and then
postprocess the bits back together. I tried a Python trace hoping that I
could automate the process, however the actual selection region was not part
of the trace (just the list of cells it extracts).

Also another issue is that extract selection does not maintain the cell
id's, so the data gets doubled up in the overlapping regions if it is simply
appended the resulting extracted sets. The solution seems to be to use the
Python trace and merge all the selection id's into one call, then the same
cells are treated as such. It seems to work with the sphere, I'll try it
next on my data. 

Cheers,

Paul

-----Original Message-----
From: Moreland, Kenneth [mailto:kmorel at sandia.gov] 
Sent: Thursday, 15 December 2011 2:50 AM
To: Paul McIntosh; paraview at paraview.org
Subject: Re: [EXTERNAL] [Paraview] "Select Cells On" large object?

Short answer, no.

If your surface is convex, you could threshold the surface elements you need
by first running the extract surface filter, then generating cell normals,
then using the calculator to extract the x component of the cell normals,
then thresholding all cells with the x component of the normal greater than
0.  The remaining steps are the same as those you sent from the transform
filter on.

If your surfaces are not convex, perhaps you should consider an image-based
computation.  Set up the camera as in the instructions you sent.  Then
figure out the cross-sectional area of the screen and multiply that by the
ratio of pixels covered by the object to the total number of pixels.  This
ratio would probably be easiest computed if the object color was set to
black and the background to anything else.  Perhaps one of the Python gurus
could give some hints as to how to automate some of this.

-Ken



On 12/13/11 6:37 PM, "Paul McIntosh" <paul.mcintosh at internetscooter.com>
wrote:

>Hi,
>
>Hopefully an easy question to answer...
>
>"Select Cells On" is "visible" resolution dependent. By this I mean, 
>for the same selection area, if I am close to the surface I get all the 
>cells selected but if I am far away many cells are missed.
>
>I am calculating frontal area of a large object where I cannot get the 
>whole object selected and get close enough to see all the individual 
>cells. The result is missing cells which are mucking up my calculation. 
>Is there an easy way to get all cells selected on a large object?
>
>Note: I am using this method for working out frontal area:
>http://www.discretizer.org/node/20
>
>Cheers,
>
>Paul
>---
>www.internetscooter.com
>
>_______________________________________________
>Powered by www.kitware.com
>
>Visit other Kitware open-source projects at 
>http://www.kitware.com/opensource/opensource.html
>
>Please keep messages on-topic and check the ParaView Wiki at:
>http://paraview.org/Wiki/ParaView
>
>Follow this link to subscribe/unsubscribe:
>http://www.paraview.org/mailman/listinfo/paraview
>



From jproberge25 at hotmail.com  Tue Dec 20 00:08:13 2011
From: jproberge25 at hotmail.com (JEAN-PHILIPPE ROBERGE)
Date: Tue, 20 Dec 2011 05:08:13 +0000
Subject: [Paraview] XYZI reader?
In-Reply-To: <CA+=N00ieqD_9V1FHNM9edvf+t2P9M5jCBWp4r4k7te2dX6dU+A@mail.gmail.com>
References: <COL116-W657D12BE8D9093FDAE5F34B8A70@phx.gbl>,
	<CA+=N00ieqD_9V1FHNM9edvf+t2P9M5jCBWp4r4k7te2dX6dU+A@mail.gmail.com>
Message-ID: <COL116-W3366162FD4E144560EB8A5B8A40@phx.gbl>


Thanks a lot Alessandro for your reply!

I now know it's possible to use CVS reader for reading xyzi values. Nevertheless, the solution that best suited my needs was to use the particles reader. I found the particles reader to be so powerfull, and I succeded in customizing the colors representing my data as a function of i (the intensity).

The result is very spectacular :)

Thank you all for your support,

Jean-Philippe Roberge,
Research Affiliate - Canadian Space Agency

> Date: Tue, 20 Dec 2011 09:33:34 +1100
> Subject: Re: [Paraview] XYZI reader?
> From: alessandro.comunian at gmail.com
> To: jproberge25 at hotmail.com
> CC: paraview at paraview.org
> 
> Hi Jean-Philippe,
> 
> probably the easier thing that you can try is to open your file as a
> "cvs"  file directly from Paraview...you will get a table. To that
> table you can apply a filter, like for example "Table to points", and
> then choose to colour you points according to you "intensity".
> 
> Otherwise it depends on how you data are organised spatially... maybe
> your data can be organised like structured points... or can be
> converted in some of the VTK legacy format described on this document:
> http://www.vtk.org/VTK/img/file-formats.pdf
> 
> Hope it helps... even if I suppose that 20 millions of points could
> require some time on small machines.
> 
> Cheers,
> 
> Alessandro
> 
> 
> 
> 2011/12/20 JEAN-PHILIPPE ROBERGE <jproberge25 at hotmail.com>:
> > Hello everybody!
> >
> > I've been spending a lot of time trying to figure this out and I would
> > really
> > appreciate if anyone could give a little help here... :)
> >
> > I want to load about 20 millions points for which I have their 3D
> > coordinnates
> > (X, Y, Z) and also their intensity. The goal would be to color all the
> > points
> > as a function of their intensity level. Does anyone know if there's already
> > a
> > reader that can do that?
> >
> > Otherwise, does anyone know how I could achieve that? I don't have a lot of
> > python skills or great Paraview knowledge, but I'm ready to work hard since
> > this is for the "results" section of my master thesis :)
> >
> > Thank you so much to all of you,
> >
> > Jean-Philippe
> >
> > _______________________________________________
> > Powered by www.kitware.com
> >
> > Visit other Kitware open-source projects at
> > http://www.kitware.com/opensource/opensource.html
> >
> > Please keep messages on-topic and check the ParaView Wiki at:
> > http://paraview.org/Wiki/ParaView
> >
> > Follow this link to subscribe/unsubscribe:
> > http://www.paraview.org/mailman/listinfo/paraview
> >
 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111220/1e12fabe/attachment.htm>

From dave.demarle at kitware.com  Tue Dec 20 11:19:17 2011
From: dave.demarle at kitware.com (David E DeMarle)
Date: Tue, 20 Dec 2011 11:19:17 -0500
Subject: [Paraview] Announce: cmake release webinar
Message-ID: <CANjZAi-v--0m5pJs-iE-xQY1A7jWkO4eoau9Or-RPQZZUdmu4A@mail.gmail.com>

As you may know, ParaView and VTK both use CMake to manage the
configuration and build process and is an integral part of the entire
software process including nightly testing and release packaging.  With
each release of CMake, we improve the testing and build process, thereby
improving our ability to produce high-quality, robust code.

On January 4th from 12:00-12:20 p.m., David Cole will be presenting a free
webinar highlighting what?s new in the CMake 2.8.7 release and giving a
preview of what?s in the pipeline. If you?d like to attend to learn more
about CMake, you can register through
GoToWebinar<https://www3.gotomeeting.com/register/152723134>
.

cheers,
David E DeMarle
Kitware, Inc.
R&D Engineer
21 Corporate Drive
Clifton Park, NY 12065-8662
Phone: 518-881-4909
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111220/402d5703/attachment.htm>

From andy.bauer at kitware.com  Tue Dec 20 15:45:10 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Tue, 20 Dec 2011 15:45:10 -0500
Subject: [Paraview] PV 3.12.0 coprocessing problem when using multiple
	filters
In-Reply-To: <CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>
References: <CAMetC=S77Tj8TvT=Fugw-V0K1ZCN71bmpNBoxm4fazcVKGC=ug@mail.gmail.com>
	<20111112.175709.151826353.oshima@eng.niigata-u.ac.jp>
	<CAMaOp+F3frp8VHi3SpmaMicjmhj8oMc5tBbw=Hw6daiy57UKDQ@mail.gmail.com>
	<20111114.233254.206023967.oshima@eng.niigata-u.ac.jp>
	<CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>
Message-ID: <CAMaOp+HMtB3QOPSde7PAFy+HsVqX8hddS+t6EZLhbR34fT3p_Q@mail.gmail.com>

Hi Takuya,

This issue has been fixed.  We did a slightly different fix than yours so
that we could avoid the MPI communication.  The commit SHA is
135ed11151e547ff54fbb373d686898e40cc3dec.

Thanks for the bug report.

Andy

On Tue, Dec 6, 2011 at 4:05 PM, Andy Bauer <andy.bauer at kitware.com> wrote:

> Hi Takuya,
>
> Sorry for the slow response but I finally did verify this problem.  Your
> change also fixes it.  I'm not that familiar with vtkPVSessionCore so I'll
> need to talk to some other people to make sure that it's the proper fix and
> if not, what is the proper fix.  I'll email again when it's been fixed.
>
> Thanks,
> Andy
>
>
> On Mon, Nov 14, 2011 at 9:32 AM, Takuya OSHIMA <oshima at eng.niigata-u.ac.jp
> > wrote:
>
>> Hi Andy,
>>
>> I may be wrong but I have a feeling that the collected data
>> information in process 0 should be redistributed to other processes
>> since adding a print statement for
>> Slice1.GetDataInformation().GetNumberOfPoints() prints for each
>> process the number of points expected from the hierarchical collection
>> mechanism of vtkPVSessionCore::CollectInformation().
>>
>> I am not sure if this is the right place and thing but if I add the
>> following code to vtkPVSessionCore::CollectInformation() the slice
>> filter works exactly as you stated ("it just needs to go through one
>> of the process's grid domain such that the global number of points and
>> cells is greater than 0").
>>
>> Takuya OSHIMA, Ph.D.
>> Faculty of Engineering, Niigata University
>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>>
>> ---
>> ParaView-3.12.0/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>>  2011-11-09 05:56:18.000000000 +0900
>> +++
>> ParaView-3.12.0.new/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>>  2011-11-14 23:17:32.000000000 +0900
>> @@ -825,6 +825,33 @@
>>       controller->Send(&len, 1, parent, ROOT_SATELLITE_INFO_TAG);
>>       }
>>     }
>> +
>> +  if (this->SymmetricMPIMode)
>> +    {
>> +    if (myid == 0)
>> +      {
>> +      vtkClientServerStream css;
>> +      info->CopyToStream(&css);
>> +      const unsigned char* data;
>> +      size_t length;
>> +      css.GetData(&data, &length);
>> +      int len = static_cast<int>(length);
>> +      controller->Broadcast(&len, 1, 0);
>> +      controller->Broadcast(const_cast<unsigned char *>(data), len, 0);
>> +      }
>> +    else
>> +      {
>> +      int len;
>> +      controller->Broadcast(&len, 1, 0);
>> +      unsigned char *data = new unsigned char[len];
>> +      controller->Broadcast(data, len, 0);
>> +      vtkClientServerStream stream;
>> +      stream.SetData(data, len);
>> +      info->CopyFromStream(&stream);
>> +      delete [] data;
>> +      }
>> +    }
>> +
>>   return true;
>>  }
>>
>>  //----------------------------------------------------------------------------
>>
>> From: Andy Bauer <andy.bauer at kitware.com>
>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>> multiple filters
>> Date: Sun, 13 Nov 2011 14:18:14 -0500
>>
>> > I hope that's not the case that the slice has to go through each
>> process's
>> > grid domain.  I think it just needs to go through one of the process's
>> grid
>> > domain such that the global number of points and cells is greater than
>> 0.
>> > I will check on this though.
>> >
>> > Andy
>> >
>> > On Sat, Nov 12, 2011 at 3:57 AM, Takuya OSHIMA
>> > <oshima at eng.niigata-u.ac.jp>wrote:
>> >
>> >> Thanks for all the input guys. Indeed Pat's tip did the trick, in my
>> case:
>> >>
>> >>    if Slice1.GetDataInformation().GetNumberOfPoints():
>> >>        DataRepresentation2.ColorArrayName = 'p'
>> >>
>> >> I am still new to coprocessing so I am not getting things right but
>> >> here is my deduction: I am running my simulation code in parallel with
>> >> 8 processes with one cell thickness of ghost layers. Slice1 does
>> >> intersect the domain, but not all of parallel decomposed
>> >> subdomains. Hence the error is issued for the processes that have no
>> >> slice data.
>> >>
>> >> Meanwhile I noticed that the slice in oneSlice.py just have happened
>> >> to locate exactly on interprocessor boundaries and intersected all of
>> >> parallel decomposed subdomains at the ghost layers. That explains why
>> >> the script worked without error.
>> >>
>> >> Takuya OSHIMA, Ph.D.
>> >> Faculty of Engineering, Niigata University
>> >> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>> >>
>> >> From: pat marion <pat.marion at kitware.com>
>> >> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>> multiple
>> >> filters
>> >> Date: Fri, 11 Nov 2011 20:08:54 -0500
>> >>
>> >> > That's right, if the output has no point or cell data, then
>> assigning the
>> >> > ColorArrayName property will throw an exception.  It's kind of an
>> >> annoying
>> >> > behavior.  So I'll work around this by writing code such as:
>> >> >
>> >> > if mySlice.GetDataInformation().GetNumberOfPoints():
>> >> >     rep.ColorArrayName='p'
>> >> >
>> >> >
>> >> > Pat
>> >> >
>> >> > On Fri, Nov 11, 2011 at 12:39 PM, Andy Bauer <andy.bauer at kitware.com
>> >
>> >> wrote:
>> >> >
>> >> >> Another thing to check is if there are any cells in the output from
>> the
>> >> >> second slice filter.  In the ParaView GUI, i started with the
>> mandelbrot
>> >> >> source and then created a slice filter that didn't intersect the
>> domain.
>> >> >> After that there wasn't any point or cell data in the output.
>> >> >>
>> >> >> Andy
>> >> >>
>> >> >>
>> >> >> 2011/11/11 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
>> >> >>
>> >> >>> I'm not in a place where I can test the line 323 modification right
>> >> >>> now but the cell array p is present. Please note that oneSlice.py
>> >> >>> which also colors by cell p works.
>> >> >>>
>> >> >>> Takuya OSHIMA, Ph.D.
>> >> >>> Faculty of Engineering, Niigata University
>> >> >>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>> >> >>>
>> >> >>> From: Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
>> >> >>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>> >> >>> multiple filters
>> >> >>> Date: Fri, 11 Nov 2011 09:16:18 -0500
>> >> >>>
>> >> >>> > Is the array "p" not present when you're coprocessnig? Try
>> taking out
>> >> >>> > line 323 which sets the array "p" as the array to color with.
>> >> >>> >
>> >> >>> > Utkarsh
>> >> >>> >
>> >> >>> > On Fri, Nov 11, 2011 at 9:08 AM, Takuya OSHIMA
>> >> >>> > <oshima at eng.niigata-u.ac.jp> wrote:
>> >> >>> > > Hi,
>> >> >>> > >
>> >> >>> > > I am trying to explore the coprocessing capability of PV
>> 3.12.0.
>> >> When
>> >> >>> > > I create a pipeline with a single slice filter within the PV
>> GUI,
>> >> >>> > > export the Python state file by the coprocessing plugin and
>> run the
>> >> >>> > > script as the coprocessing pipleline in my simulation code, it
>> >> works
>> >> >>> > > fine.
>> >> >>> > >
>> >> >>> > > However if I create a pipeline with two or more filters my
>> >> simulation
>> >> >>> > > code issues an error from the coprocessing library (the error
>> >> message
>> >> >>> > > is for the case of two slice filters):
>> >> >>> > >
>> >> >>> > > Traceback (most recent call last):
>> >> >>> > >  File "<string>", line 2, in <module>
>> >> >>> > >  File "/Users/ohshima/shindoriTest/twoSlices.py", line 323, in
>> >> >>> DoCoProcessing
>> >> >>> > >    DataRepresentation2.ColorArrayName = 'p'
>> >> >>> > >  File
>> >> >>>
>> >>
>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> >> >>> line 212, in __setattr__
>> >> >>> > >    setter(self, value)
>> >> >>> > >  File
>> >> >>>
>> >>
>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> >> >>> line 2276, in setProperty
>> >> >>> > >    return self.SetPropertyWithName(propName, value)
>> >> >>> > >  File
>> >> >>>
>> >>
>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> >> >>> line 267, in SetPropertyWithName
>> >> >>> > >    prop.SetData(arg)
>> >> >>> > >  File
>> >> >>>
>> >>
>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>> >> >>> line 695, in SetData
>> >> >>> > >    raise ValueError("Could not locate array %s in the input." %
>> >> arr)
>> >> >>> > > ValueError: Could not locate array p in the input.
>> >> >>> > >
>> >> >>> > > The problem is same for Mac OS X 10.6 and RHEL 5.1 64bit. I
>> attach
>> >> the
>> >> >>> > > scripts oneSlice.py (which works) and twoSlices.py (which does
>> not
>> >> >>> > > work). Can anybody shed light on the problem?
>> >> >>> > >
>> >> >>> > > Takuya
>> >> >>> > >
>> >> >>> > > Takuya OSHIMA, Ph.D.
>> >> >>> > > Faculty of Engineering, Niigata University
>> >> >>> > > 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>> >> >>> > >
>> >> >>> > > _______________________________________________
>> >> >>> > > Powered by www.kitware.com
>> >> >>> > >
>> >> >>> > > Visit other Kitware open-source projects at
>> >> >>> http://www.kitware.com/opensource/opensource.html
>> >> >>> > >
>> >> >>> > > Please keep messages on-topic and check the ParaView Wiki at:
>> >> >>> http://paraview.org/Wiki/ParaView
>> >> >>> > >
>> >> >>> > > Follow this link to subscribe/unsubscribe:
>> >> >>> > > http://www.paraview.org/mailman/listinfo/paraview
>> >> >>> > >
>> >> >>> > >
>> >> >>> _______________________________________________
>> >> >>> Powered by www.kitware.com
>> >> >>>
>> >> >>> Visit other Kitware open-source projects at
>> >> >>> http://www.kitware.com/opensource/opensource.html
>> >> >>>
>> >> >>> Please keep messages on-topic and check the ParaView Wiki at:
>> >> >>> http://paraview.org/Wiki/ParaView
>> >> >>>
>> >> >>> Follow this link to subscribe/unsubscribe:
>> >> >>> http://www.paraview.org/mailman/listinfo/paraview
>> >> >>>
>> >> >>
>> >> >>
>> >> >> _______________________________________________
>> >> >> Powered by www.kitware.com
>> >> >>
>> >> >> Visit other Kitware open-source projects at
>> >> >> http://www.kitware.com/opensource/opensource.html
>> >> >>
>> >> >> Please keep messages on-topic and check the ParaView Wiki at:
>> >> >> http://paraview.org/Wiki/ParaView
>> >> >>
>> >> >> Follow this link to subscribe/unsubscribe:
>> >> >> http://www.paraview.org/mailman/listinfo/paraview
>> >> >>
>> >> >>
>> >> _______________________________________________
>> >> Powered by www.kitware.com
>> >>
>> >> Visit other Kitware open-source projects at
>> >> http://www.kitware.com/opensource/opensource.html
>> >>
>> >> Please keep messages on-topic and check the ParaView Wiki at:
>> >> http://paraview.org/Wiki/ParaView
>> >>
>> >> Follow this link to subscribe/unsubscribe:
>> >> http://www.paraview.org/mailman/listinfo/paraview
>> >>
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111220/8e1fa94d/attachment.htm>

From oshima at eng.niigata-u.ac.jp  Tue Dec 20 22:58:38 2011
From: oshima at eng.niigata-u.ac.jp (Takuya OSHIMA)
Date: Wed, 21 Dec 2011 12:58:38 +0900 (JST)
Subject: [Paraview] PV 3.12.0 coprocessing problem when using multiple
 filters
In-Reply-To: <CAMaOp+HMtB3QOPSde7PAFy+HsVqX8hddS+t6EZLhbR34fT3p_Q@mail.gmail.com>
References: <20111114.233254.206023967.oshima@eng.niigata-u.ac.jp>
	<CAMaOp+HUMed+aYQ0GY+v6hGvtOspnUjOGR4Q3NBsn=RuCtr0wQ@mail.gmail.com>
	<CAMaOp+HMtB3QOPSde7PAFy+HsVqX8hddS+t6EZLhbR34fT3p_Q@mail.gmail.com>
Message-ID: <20111221.125838.165857500.oshima@eng.niigata-u.ac.jp>

Thanks for the fix Andy. I'll test as soon as I can.

Takuya

Takuya OSHIMA, Ph.D.
Faculty of Engineering, Niigata University
8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN

From: Andy Bauer <andy.bauer at kitware.com>
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using multiple filters
Date: Tue, 20 Dec 2011 15:45:10 -0500

> Hi Takuya,
> 
> This issue has been fixed.  We did a slightly different fix than yours so
> that we could avoid the MPI communication.  The commit SHA is
> 135ed11151e547ff54fbb373d686898e40cc3dec.
> 
> Thanks for the bug report.
> 
> Andy
> 
> On Tue, Dec 6, 2011 at 4:05 PM, Andy Bauer <andy.bauer at kitware.com> wrote:
> 
>> Hi Takuya,
>>
>> Sorry for the slow response but I finally did verify this problem.  Your
>> change also fixes it.  I'm not that familiar with vtkPVSessionCore so I'll
>> need to talk to some other people to make sure that it's the proper fix and
>> if not, what is the proper fix.  I'll email again when it's been fixed.
>>
>> Thanks,
>> Andy
>>
>>
>> On Mon, Nov 14, 2011 at 9:32 AM, Takuya OSHIMA <oshima at eng.niigata-u.ac.jp
>> > wrote:
>>
>>> Hi Andy,
>>>
>>> I may be wrong but I have a feeling that the collected data
>>> information in process 0 should be redistributed to other processes
>>> since adding a print statement for
>>> Slice1.GetDataInformation().GetNumberOfPoints() prints for each
>>> process the number of points expected from the hierarchical collection
>>> mechanism of vtkPVSessionCore::CollectInformation().
>>>
>>> I am not sure if this is the right place and thing but if I add the
>>> following code to vtkPVSessionCore::CollectInformation() the slice
>>> filter works exactly as you stated ("it just needs to go through one
>>> of the process's grid domain such that the global number of points and
>>> cells is greater than 0").
>>>
>>> Takuya OSHIMA, Ph.D.
>>> Faculty of Engineering, Niigata University
>>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>>>
>>> ---
>>> ParaView-3.12.0/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>>>  2011-11-09 05:56:18.000000000 +0900
>>> +++
>>> ParaView-3.12.0.new/ParaViewCore/ServerImplementation/vtkPVSessionCore.cxx
>>>  2011-11-14 23:17:32.000000000 +0900
>>> @@ -825,6 +825,33 @@
>>>       controller->Send(&len, 1, parent, ROOT_SATELLITE_INFO_TAG);
>>>       }
>>>     }
>>> +
>>> +  if (this->SymmetricMPIMode)
>>> +    {
>>> +    if (myid == 0)
>>> +      {
>>> +      vtkClientServerStream css;
>>> +      info->CopyToStream(&css);
>>> +      const unsigned char* data;
>>> +      size_t length;
>>> +      css.GetData(&data, &length);
>>> +      int len = static_cast<int>(length);
>>> +      controller->Broadcast(&len, 1, 0);
>>> +      controller->Broadcast(const_cast<unsigned char *>(data), len, 0);
>>> +      }
>>> +    else
>>> +      {
>>> +      int len;
>>> +      controller->Broadcast(&len, 1, 0);
>>> +      unsigned char *data = new unsigned char[len];
>>> +      controller->Broadcast(data, len, 0);
>>> +      vtkClientServerStream stream;
>>> +      stream.SetData(data, len);
>>> +      info->CopyFromStream(&stream);
>>> +      delete [] data;
>>> +      }
>>> +    }
>>> +
>>>   return true;
>>>  }
>>>
>>>  //----------------------------------------------------------------------------
>>>
>>> From: Andy Bauer <andy.bauer at kitware.com>
>>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>>> multiple filters
>>> Date: Sun, 13 Nov 2011 14:18:14 -0500
>>>
>>> > I hope that's not the case that the slice has to go through each
>>> process's
>>> > grid domain.  I think it just needs to go through one of the process's
>>> grid
>>> > domain such that the global number of points and cells is greater than
>>> 0.
>>> > I will check on this though.
>>> >
>>> > Andy
>>> >
>>> > On Sat, Nov 12, 2011 at 3:57 AM, Takuya OSHIMA
>>> > <oshima at eng.niigata-u.ac.jp>wrote:
>>> >
>>> >> Thanks for all the input guys. Indeed Pat's tip did the trick, in my
>>> case:
>>> >>
>>> >>    if Slice1.GetDataInformation().GetNumberOfPoints():
>>> >>        DataRepresentation2.ColorArrayName = 'p'
>>> >>
>>> >> I am still new to coprocessing so I am not getting things right but
>>> >> here is my deduction: I am running my simulation code in parallel with
>>> >> 8 processes with one cell thickness of ghost layers. Slice1 does
>>> >> intersect the domain, but not all of parallel decomposed
>>> >> subdomains. Hence the error is issued for the processes that have no
>>> >> slice data.
>>> >>
>>> >> Meanwhile I noticed that the slice in oneSlice.py just have happened
>>> >> to locate exactly on interprocessor boundaries and intersected all of
>>> >> parallel decomposed subdomains at the ghost layers. That explains why
>>> >> the script worked without error.
>>> >>
>>> >> Takuya OSHIMA, Ph.D.
>>> >> Faculty of Engineering, Niigata University
>>> >> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>>> >>
>>> >> From: pat marion <pat.marion at kitware.com>
>>> >> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>>> multiple
>>> >> filters
>>> >> Date: Fri, 11 Nov 2011 20:08:54 -0500
>>> >>
>>> >> > That's right, if the output has no point or cell data, then
>>> assigning the
>>> >> > ColorArrayName property will throw an exception.  It's kind of an
>>> >> annoying
>>> >> > behavior.  So I'll work around this by writing code such as:
>>> >> >
>>> >> > if mySlice.GetDataInformation().GetNumberOfPoints():
>>> >> >     rep.ColorArrayName='p'
>>> >> >
>>> >> >
>>> >> > Pat
>>> >> >
>>> >> > On Fri, Nov 11, 2011 at 12:39 PM, Andy Bauer <andy.bauer at kitware.com
>>> >
>>> >> wrote:
>>> >> >
>>> >> >> Another thing to check is if there are any cells in the output from
>>> the
>>> >> >> second slice filter.  In the ParaView GUI, i started with the
>>> mandelbrot
>>> >> >> source and then created a slice filter that didn't intersect the
>>> domain.
>>> >> >> After that there wasn't any point or cell data in the output.
>>> >> >>
>>> >> >> Andy
>>> >> >>
>>> >> >>
>>> >> >> 2011/11/11 Takuya OSHIMA <oshima at eng.niigata-u.ac.jp>
>>> >> >>
>>> >> >>> I'm not in a place where I can test the line 323 modification right
>>> >> >>> now but the cell array p is present. Please note that oneSlice.py
>>> >> >>> which also colors by cell p works.
>>> >> >>>
>>> >> >>> Takuya OSHIMA, Ph.D.
>>> >> >>> Faculty of Engineering, Niigata University
>>> >> >>> 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>>> >> >>>
>>> >> >>> From: Utkarsh Ayachit <utkarsh.ayachit at kitware.com>
>>> >> >>> Subject: Re: [Paraview] PV 3.12.0 coprocessing problem when using
>>> >> >>> multiple filters
>>> >> >>> Date: Fri, 11 Nov 2011 09:16:18 -0500
>>> >> >>>
>>> >> >>> > Is the array "p" not present when you're coprocessnig? Try
>>> taking out
>>> >> >>> > line 323 which sets the array "p" as the array to color with.
>>> >> >>> >
>>> >> >>> > Utkarsh
>>> >> >>> >
>>> >> >>> > On Fri, Nov 11, 2011 at 9:08 AM, Takuya OSHIMA
>>> >> >>> > <oshima at eng.niigata-u.ac.jp> wrote:
>>> >> >>> > > Hi,
>>> >> >>> > >
>>> >> >>> > > I am trying to explore the coprocessing capability of PV
>>> 3.12.0.
>>> >> When
>>> >> >>> > > I create a pipeline with a single slice filter within the PV
>>> GUI,
>>> >> >>> > > export the Python state file by the coprocessing plugin and
>>> run the
>>> >> >>> > > script as the coprocessing pipleline in my simulation code, it
>>> >> works
>>> >> >>> > > fine.
>>> >> >>> > >
>>> >> >>> > > However if I create a pipeline with two or more filters my
>>> >> simulation
>>> >> >>> > > code issues an error from the coprocessing library (the error
>>> >> message
>>> >> >>> > > is for the case of two slice filters):
>>> >> >>> > >
>>> >> >>> > > Traceback (most recent call last):
>>> >> >>> > >  File "<string>", line 2, in <module>
>>> >> >>> > >  File "/Users/ohshima/shindoriTest/twoSlices.py", line 323, in
>>> >> >>> DoCoProcessing
>>> >> >>> > >    DataRepresentation2.ColorArrayName = 'p'
>>> >> >>> > >  File
>>> >> >>>
>>> >>
>>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> >> >>> line 212, in __setattr__
>>> >> >>> > >    setter(self, value)
>>> >> >>> > >  File
>>> >> >>>
>>> >>
>>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> >> >>> line 2276, in setProperty
>>> >> >>> > >    return self.SetPropertyWithName(propName, value)
>>> >> >>> > >  File
>>> >> >>>
>>> >>
>>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> >> >>> line 267, in SetPropertyWithName
>>> >> >>> > >    prop.SetData(arg)
>>> >> >>> > >  File
>>> >> >>>
>>> >>
>>> "/Volumes/RAID0data/paraview/3.12/build/Utilities/VTKPythonWrapping/site-packages/paraview/servermanager.py",
>>> >> >>> line 695, in SetData
>>> >> >>> > >    raise ValueError("Could not locate array %s in the input." %
>>> >> arr)
>>> >> >>> > > ValueError: Could not locate array p in the input.
>>> >> >>> > >
>>> >> >>> > > The problem is same for Mac OS X 10.6 and RHEL 5.1 64bit. I
>>> attach
>>> >> the
>>> >> >>> > > scripts oneSlice.py (which works) and twoSlices.py (which does
>>> not
>>> >> >>> > > work). Can anybody shed light on the problem?
>>> >> >>> > >
>>> >> >>> > > Takuya
>>> >> >>> > >
>>> >> >>> > > Takuya OSHIMA, Ph.D.
>>> >> >>> > > Faculty of Engineering, Niigata University
>>> >> >>> > > 8050 Ikarashi-Ninocho, Nishi-ku, Niigata, 950-2181, JAPAN
>>> >> >>> > >
>>> >> >>> > > _______________________________________________
>>> >> >>> > > Powered by www.kitware.com
>>> >> >>> > >
>>> >> >>> > > Visit other Kitware open-source projects at
>>> >> >>> http://www.kitware.com/opensource/opensource.html
>>> >> >>> > >
>>> >> >>> > > Please keep messages on-topic and check the ParaView Wiki at:
>>> >> >>> http://paraview.org/Wiki/ParaView
>>> >> >>> > >
>>> >> >>> > > Follow this link to subscribe/unsubscribe:
>>> >> >>> > > http://www.paraview.org/mailman/listinfo/paraview
>>> >> >>> > >
>>> >> >>> > >
>>> >> >>> _______________________________________________
>>> >> >>> Powered by www.kitware.com
>>> >> >>>
>>> >> >>> Visit other Kitware open-source projects at
>>> >> >>> http://www.kitware.com/opensource/opensource.html
>>> >> >>>
>>> >> >>> Please keep messages on-topic and check the ParaView Wiki at:
>>> >> >>> http://paraview.org/Wiki/ParaView
>>> >> >>>
>>> >> >>> Follow this link to subscribe/unsubscribe:
>>> >> >>> http://www.paraview.org/mailman/listinfo/paraview
>>> >> >>>
>>> >> >>
>>> >> >>
>>> >> >> _______________________________________________
>>> >> >> Powered by www.kitware.com
>>> >> >>
>>> >> >> Visit other Kitware open-source projects at
>>> >> >> http://www.kitware.com/opensource/opensource.html
>>> >> >>
>>> >> >> Please keep messages on-topic and check the ParaView Wiki at:
>>> >> >> http://paraview.org/Wiki/ParaView
>>> >> >>
>>> >> >> Follow this link to subscribe/unsubscribe:
>>> >> >> http://www.paraview.org/mailman/listinfo/paraview
>>> >> >>
>>> >> >>
>>> >> _______________________________________________
>>> >> Powered by www.kitware.com
>>> >>
>>> >> Visit other Kitware open-source projects at
>>> >> http://www.kitware.com/opensource/opensource.html
>>> >>
>>> >> Please keep messages on-topic and check the ParaView Wiki at:
>>> >> http://paraview.org/Wiki/ParaView
>>> >>
>>> >> Follow this link to subscribe/unsubscribe:
>>> >> http://www.paraview.org/mailman/listinfo/paraview
>>> >>
>>>
>>
>>

From biddisco at cscs.ch  Wed Dec 21 12:15:28 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 21 Dec 2011 17:15:28 +0000
Subject: [Paraview] PV 3.12.0 coprocessing problem
Message-ID: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>

I'm getting lock ups when saving images using the coprocessing. It looks a lot like a bug that was fixed many moons ago, but maybe the fix got lost in a merge ... 

1  process makes it to here and waits for MPI traffic

>	vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1476395010, int destProcessId=0, int * comm=0x0000000005d77670)  Line 317	C++
 	vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line 1422 + 0x4c bytes	C++
 	vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 633	C++
 	vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 811	C++
 	vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds=0x000000000d18a8a8)  Line 1381	C++
 	vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering=true)  Line 598	C++
 	vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive=false, bool skip_rendering=false)  Line 882	C++
 	vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745	C++
 	vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...}, vtkClientServerStream & resultStream={...})  Line 258	C++
 	vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes	C++
 	vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes	C++
 	vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css={...})  Line 183 + 0x14 bytes	C++
 	vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636	C++
 	vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 606	C++
 	vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 157	C++
 	vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned int location=21)  Line 2092	C++
 	vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes	C++
 	vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86	C++
 	vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302	C++
 	vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632	C++
 	vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes	C++
 	vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen=0)  Line 1268	C++
 	vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification=1)  Line 875	C++
 	vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification=1)  Line 268 + 0x20 bytes	C++
 	vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0, int magnification=1)  Line 307 + 0x11 bytes	C++
 	vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 + 0x1f bytes	C++

------------------------------
but the other N-1 processes end up in here - waiting

>	vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line 1159 + 0x31 bytes	C++
 	vtkParallel.dll!vtkCommunicator::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256	C++
 	vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402	C++
 	vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0)  Line 139	C++
 	vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0, int magnification=1)  Line 311 + 0x1f bytes	C++
 	vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 + 0x1f bytes	C++

There was a problem with the SaveImageOnProcess Zero which caused exactly this some time ago. I'm using a branch of mine derived from the v3.12.0 tag, but I cherry picked Andy's patch from kitware/master or wherever that was mentioned a few days ago -are there othe fixes on master/next that I might beneeding?

Any ideas. The pipeline is a contour of some image data on N processes. Pretty Simple.

Any help appreciated.

thanks

JB

From andy.bauer at kitware.com  Wed Dec 21 13:09:37 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 21 Dec 2011 13:09:37 -0500
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
Message-ID: <CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>

Hi John,

There were a couple of issues when saving images.  One was for saving
charts and maybe 2d views.  The other one was for when some processes
didn't have any points or cells.  Looking at your stack traces I don't
think it's the latter since that would fail in the python script and give a
warning in there.  Any chance you could test with the paraview's current
master branch?

Are you using a python script to drive the coprocessing?  If yes, can you
share it?

Andy

On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch>wrote:

> I'm getting lock ups when saving images using the coprocessing. It looks a
> lot like a bug that was fixed many moons ago, but maybe the fix got lost in
> a merge ...
>
> 1  process makes it to here and waits for MPI traffic
>
> >       vtkParallel.dll!vtkMPICommunicatorReduceData(const void *
> sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378,
> __int64 length=3, int type=11, int operation=1476395010, int
> destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
>        vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void *
> sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378,
> __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line
> 1422 + 0x4c bytes      C++
>        vtkParallel.dll!vtkCommunicator::Reduce(const double *
> sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378,
> __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
>        vtkParallel.dll!vtkMultiProcessController::Reduce(const double *
> sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378,
> __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
>
>  vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double
> * bounds=0x000000000d18a8a8)  Line 1381      C++
>
>  vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool
> using_distributed_rendering=true)  Line 598     C++
>        vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool
> interactive=false, bool skip_rendering=false)  Line 882  C++
>        vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745
>      C++
>
>  vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter
> * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const
> char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...},
> vtkClientServerStream & resultStream={...})  Line 258  C++
>
>  vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const
> vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes
>  C++
>
>  vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const
> vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes
>      C++
>        vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const
> vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const
> vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636
> C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int
> location=21, const vtkClientServerStream & stream={...}, bool
> ignore_errors=false)  Line 606 C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int
> location=21, const vtkClientServerStream & stream={...}, bool
> ignore_errors=false)  Line 157 C++
>        vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const
> vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned
> int location=21)  Line 2092     C++
>        vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 +
> 0x18 bytes     C++
>        vtkPVServerManager.dll!`anonymous
> namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
>        vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()
>  Line 302   C++
>        vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632
>      C++
>        vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76
> + 0x13 bytes        C++
>
>  vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int
> offscreen=0)  Line 1268  C++
>
>  vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int
> magnification=1)  Line 875       C++
>        vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int
> magnification=1)  Line 268 + 0x20 bytes        C++
>        vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char *
> filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0,
> int magnification=1)  Line 307 + 0x11 bytes     C++
>        vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object *
> self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 +
> 0x1f bytes  C++
>
> ------------------------------
> but the other N-1 processes end up in here - waiting
>
> >       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void *
> data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line
> 1159 + 0x31 bytes        C++
>        vtkParallel.dll!vtkCommunicator::Broadcast(int *
> data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256
>     C++
>        vtkParallel.dll!vtkMultiProcessController::Broadcast(int *
> data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402
>   C++
>
>  vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData
> * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const
> char * writerName=0x000000000ac850e0)  Line 139  C++
>        vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char *
> filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0,
> int magnification=1)  Line 311 + 0x1f bytes     C++
>        vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object *
> self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 +
> 0x1f bytes  C++
>
> There was a problem with the SaveImageOnProcess Zero which caused exactly
> this some time ago. I'm using a branch of mine derived from the v3.12.0
> tag, but I cherry picked Andy's patch from kitware/master or wherever that
> was mentioned a few days ago -are there othe fixes on master/next that I
> might beneeding?
>
> Any ideas. The pipeline is a contour of some image data on N processes.
> Pretty Simple.
>
> Any help appreciated.
>
> thanks
>
> JB
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/37ddeec8/attachment.htm>

From utkarsh.ayachit at kitware.com  Wed Dec 21 13:52:20 2011
From: utkarsh.ayachit at kitware.com (Utkarsh Ayachit)
Date: Wed, 21 Dec 2011 13:52:20 -0500
Subject: [Paraview] Help file for Custom plugin NOT being included with
 Deployed ParaView.
In-Reply-To: <CADHSJjC4Pki_MwgNunkjt+mKcQUK1s_KT1B=O9+XFXeA_CHxLQ@mail.gmail.com>
References: <176D3EDD-3CEA-4E04-A8E5-453A7732569B@bluequartz.net>
	<6E4B8FAF-918A-47F5-A129-BF05EE32D88F@bluequartz.net>
	<CADHSJjD3aMSbHG6VuXBVATzXEneaSBmhAUFsh21RZ8U3crQGyw@mail.gmail.com>
	<5D0BAEA4-2B0D-4409-B04E-8F7E93D04C3A@bluequartz.net>
	<CADHSJjCvoHYiEH5dwS9qHhrPtePH6Av0iVVaUJS2FbvCsAKL1g@mail.gmail.com>
	<CADHSJjC4Pki_MwgNunkjt+mKcQUK1s_KT1B=O9+XFXeA_CHxLQ@mail.gmail.com>
Message-ID: <CADHSJjAPKQ_uD=UnN9iBH_Aj2wjLTEB5u1DLGQauRve2gPeXsg@mail.gmail.com>

Folks,

This feature has been merged into master.

http://paraview.org/Wiki/Plugin_HowTo#Adding_Documentation_for_Plugins

Utkarsh

On Fri, Dec 2, 2011 at 5:38 PM, Utkarsh Ayachit
<utkarsh.ayachit at kitware.com> wrote:
> Folks,
>
> I've made some progress on this. If anyone's interested in trying this
> out, I've pushed my latest revision to branch
> "12745_help_from_plugins" on the ParaView stage. It supports the
> following:
> * automatic generation of documentation from ServerManager XMLs
> specified in ADD_PARAVIEW_PLUGIN macro e.g. Moments plugin
> (ParaView/Plugins/Moments).
> * adding custom html/png/jpg/css files as documentation for a plugin
> by using DOCUMENTATION_DIR keyword in ADD_PARAVIEW_PLUGIN macro e.g.
> SurfaceLIC plugin (ParaView/Plugins/SurfaceLIC).
>
> I've changed the way documentation from XML was generated as well, by
> removing the vtkSMExtractDocumentation executable, instead using
> "xmlpatterns" command line tool distributed with Qt.
>
> Currently, the plugin needs to be loaded on client side to work, but
> the design supports loading the plugin on the server-side alone (I
> just need to hookup the plumbing).
>
> Any feedback is welcome.
>
> Utkarsh
>
> On Mon, Nov 28, 2011 at 10:53 AM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>> FYI, this feature is under development :
>> http://paraview.org/Bug/view.php?id=12745.
>>
>> The changes are not trivial, so it won't make into a patch but will be
>> included in 4.0.
>>
>> Utkarsh
>>
>> On Mon, Nov 21, 2011 at 3:15 PM, Michael Jackson
>> <mike.jackson at bluequartz.net> wrote:
>>> It would seem that people writing plugins would want to provide some sort of help for their plugins but after looking through the Plugins directory that comes with ParaView I see that there are NO help files for any of those plugins which makes me think I am in the minority in this case.
>>>
>>> ?It would seem that the first thing would be to push the generation of the documentation off until AFTER all the plugin CMake code has been run through. If this is possible (and easy) then moving forward with a mechanism to include help files becomes much easier. It almost is as easy as appending to PV_DOCUMENTATION_FILES. I would expect this could be included in a patch release for 3.12 if that occurs. If there is much more that needs to be done then 4.0 is probably a better target.
>>>
>>> Thoughts.
>>> --
>>> Mike Jackson <www.bluequartz.net>
>>>
>>> On Nov 21, 2011, at 2:53 PM, Utkarsh Ayachit wrote:
>>>
>>>> Mike,
>>>>
>>>> You're correct. This has been a long pending feature request. If
>>>> there's enough interest in adding support for this, we can fix it for
>>>> 4.0.
>>>>
>>>> Utkarsh
>>>>
>>>> On Mon, Nov 21, 2011 at 2:41 PM, Michael Jackson
>>>> <mike.jackson at bluequartz.net> wrote:
>>>>> It looks like currently there were not any provisions made to include a plugins help files into paraview directly. Looking through the CMake files the documentation is created _before_ the plugin CMake code is called so with out rearranging that cmake code there probably isn't any chance of having my documentation put in.
>>>>>
>>>>> ?Or I am just plain missing something.
>>>>> --
>>>>> Mike Jackson <www.bluequartz.net>
>>>>>
>>>>> On Nov 21, 2011, at 1:44 PM, Michael Jackson wrote:
>>>>>
>>>>>> I have written a couple of plugins for ParaView and updated them for 3.12.0. I have an HTML file for each filter/reader/writer that I created that contains the documentation. How can I get those files included into ParaView so that if the user clicks the "?" button my HTML page will show up?
>>>>>>
>>>>>> Thanks
>>>>>> ___________________________________________________________
>>>>>> Mike Jackson ? ? ? ? ? ? ? ? ? ?Principal Software Engineer
>>>>>> BlueQuartz Software ? ? ? ? ? ? ? ? ? ? ? ? ? ?Dayton, Ohio
>>>>>> mike.jackson at bluequartz.net ? ? ? ? ? ? ?www.bluequartz.net
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> Powered by www.kitware.com
>>>>>
>>>>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>>>>
>>>>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>>>>
>>>>> Follow this link to subscribe/unsubscribe:
>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>
>>>
>>> _______________________________________________
>>> Powered by www.kitware.com
>>>
>>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>>
>>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>>
>>> Follow this link to subscribe/unsubscribe:
>>> http://www.paraview.org/mailman/listinfo/paraview
>>>

From mike.jackson at bluequartz.net  Wed Dec 21 13:55:36 2011
From: mike.jackson at bluequartz.net (Michael Jackson)
Date: Wed, 21 Dec 2011 13:55:36 -0500
Subject: [Paraview] Help file for Custom plugin NOT being included with
	Deployed ParaView.
In-Reply-To: <CADHSJjAPKQ_uD=UnN9iBH_Aj2wjLTEB5u1DLGQauRve2gPeXsg@mail.gmail.com>
References: <176D3EDD-3CEA-4E04-A8E5-453A7732569B@bluequartz.net>
	<6E4B8FAF-918A-47F5-A129-BF05EE32D88F@bluequartz.net>
	<CADHSJjD3aMSbHG6VuXBVATzXEneaSBmhAUFsh21RZ8U3crQGyw@mail.gmail.com>
	<5D0BAEA4-2B0D-4409-B04E-8F7E93D04C3A@bluequartz.net>
	<CADHSJjCvoHYiEH5dwS9qHhrPtePH6Av0iVVaUJS2FbvCsAKL1g@mail.gmail.com>
	<CADHSJjC4Pki_MwgNunkjt+mKcQUK1s_KT1B=O9+XFXeA_CHxLQ@mail.gmail.com>
	<CADHSJjAPKQ_uD=UnN9iBH_Aj2wjLTEB5u1DLGQauRve2gPeXsg@mail.gmail.com>
Message-ID: <EC33D60D-0D65-4FCD-99AD-B6B44CE5725C@bluequartz.net>

Awesome. Thanks for the work in getting this working. I will try to pull the latest master and give it a go.
___________________________________________________________
Mike Jackson                    Principal Software Engineer
BlueQuartz Software                            Dayton, Ohio
mike.jackson at bluequartz.net              www.bluequartz.net

On Dec 21, 2011, at 1:52 PM, Utkarsh Ayachit wrote:

> Folks,
> 
> This feature has been merged into master.
> 
> http://paraview.org/Wiki/Plugin_HowTo#Adding_Documentation_for_Plugins
> 
> Utkarsh
> 
> On Fri, Dec 2, 2011 at 5:38 PM, Utkarsh Ayachit
> <utkarsh.ayachit at kitware.com> wrote:
>> Folks,
>> 
>> I've made some progress on this. If anyone's interested in trying this
>> out, I've pushed my latest revision to branch
>> "12745_help_from_plugins" on the ParaView stage. It supports the
>> following:
>> * automatic generation of documentation from ServerManager XMLs
>> specified in ADD_PARAVIEW_PLUGIN macro e.g. Moments plugin
>> (ParaView/Plugins/Moments).
>> * adding custom html/png/jpg/css files as documentation for a plugin
>> by using DOCUMENTATION_DIR keyword in ADD_PARAVIEW_PLUGIN macro e.g.
>> SurfaceLIC plugin (ParaView/Plugins/SurfaceLIC).
>> 
>> I've changed the way documentation from XML was generated as well, by
>> removing the vtkSMExtractDocumentation executable, instead using
>> "xmlpatterns" command line tool distributed with Qt.
>> 
>> Currently, the plugin needs to be loaded on client side to work, but
>> the design supports loading the plugin on the server-side alone (I
>> just need to hookup the plumbing).
>> 
>> Any feedback is welcome.
>> 
>> Utkarsh
>> 
>> On Mon, Nov 28, 2011 at 10:53 AM, Utkarsh Ayachit
>> <utkarsh.ayachit at kitware.com> wrote:
>>> FYI, this feature is under development :
>>> http://paraview.org/Bug/view.php?id=12745.
>>> 
>>> The changes are not trivial, so it won't make into a patch but will be
>>> included in 4.0.
>>> 
>>> Utkarsh
>>> 
>>> On Mon, Nov 21, 2011 at 3:15 PM, Michael Jackson
>>> <mike.jackson at bluequartz.net> wrote:
>>>> It would seem that people writing plugins would want to provide some sort of help for their plugins but after looking through the Plugins directory that comes with ParaView I see that there are NO help files for any of those plugins which makes me think I am in the minority in this case.
>>>> 
>>>>  It would seem that the first thing would be to push the generation of the documentation off until AFTER all the plugin CMake code has been run through. If this is possible (and easy) then moving forward with a mechanism to include help files becomes much easier. It almost is as easy as appending to PV_DOCUMENTATION_FILES. I would expect this could be included in a patch release for 3.12 if that occurs. If there is much more that needs to be done then 4.0 is probably a better target.
>>>> 
>>>> Thoughts.
>>>> --
>>>> Mike Jackson <www.bluequartz.net>
>>>> 
>>>> On Nov 21, 2011, at 2:53 PM, Utkarsh Ayachit wrote:
>>>> 
>>>>> Mike,
>>>>> 
>>>>> You're correct. This has been a long pending feature request. If
>>>>> there's enough interest in adding support for this, we can fix it for
>>>>> 4.0.
>>>>> 
>>>>> Utkarsh
>>>>> 
>>>>> On Mon, Nov 21, 2011 at 2:41 PM, Michael Jackson
>>>>> <mike.jackson at bluequartz.net> wrote:
>>>>>> It looks like currently there were not any provisions made to include a plugins help files into paraview directly. Looking through the CMake files the documentation is created _before_ the plugin CMake code is called so with out rearranging that cmake code there probably isn't any chance of having my documentation put in.
>>>>>> 
>>>>>>  Or I am just plain missing something.
>>>>>> --
>>>>>> Mike Jackson <www.bluequartz.net>
>>>>>> 
>>>>>> On Nov 21, 2011, at 1:44 PM, Michael Jackson wrote:
>>>>>> 
>>>>>>> I have written a couple of plugins for ParaView and updated them for 3.12.0. I have an HTML file for each filter/reader/writer that I created that contains the documentation. How can I get those files included into ParaView so that if the user clicks the "?" button my HTML page will show up?
>>>>>>> 
>>>>>>> Thanks
>>>>>>> ___________________________________________________________
>>>>>>> Mike Jackson                    Principal Software Engineer
>>>>>>> BlueQuartz Software                            Dayton, Ohio
>>>>>>> mike.jackson at bluequartz.net              www.bluequartz.net
>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> Powered by www.kitware.com
>>>>>> 
>>>>>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>>>>> 
>>>>>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>>>>> 
>>>>>> Follow this link to subscribe/unsubscribe:
>>>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>>>> 
>>>> 
>>>> _______________________________________________
>>>> Powered by www.kitware.com
>>>> 
>>>> Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html
>>>> 
>>>> Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView
>>>> 
>>>> Follow this link to subscribe/unsubscribe:
>>>> http://www.paraview.org/mailman/listinfo/paraview
>>>> 


From biddisco at cscs.ch  Wed Dec 21 15:48:55 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 21 Dec 2011 20:48:55 +0000
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
	<CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>

I'll give it a try using master, a very simple python script is attached.

The original contained a lot more filters, this has most of them stripped out and just a contour left. And yes, it is possible that some processes have no points.

JB

From: Andy Bauer [mailto:andy.bauer at kitware.com]
Sent: 21 December 2011 19:10
To: Biddiscombe, John A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

Hi John,

There were a couple of issues when saving images.  One was for saving charts and maybe 2d views.  The other one was for when some processes didn't have any points or cells.  Looking at your stack traces I don't think it's the latter since that would fail in the python script and give a warning in there.  Any chance you could test with the paraview's current master branch?

Are you using a python script to drive the coprocessing?  If yes, can you share it?

Andy
On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'm getting lock ups when saving images using the coprocessing. It looks a lot like a bug that was fixed many moons ago, but maybe the fix got lost in a merge ...

1  process makes it to here and waits for MPI traffic

>       vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1476395010, int destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
       vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line 1422 + 0x4c bytes      C++
       vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
       vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
       vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds=0x000000000d18a8a8)  Line 1381      C++
       vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering=true)  Line 598     C++
       vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive=false, bool skip_rendering=false)  Line 882  C++
       vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745      C++
       vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...}, vtkClientServerStream & resultStream={...})  Line 258  C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 606 C++
       vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 157 C++
       vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned int location=21)  Line 2092     C++
       vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes     C++
       vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
       vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302   C++
       vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632      C++
       vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes        C++
       vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen=0)  Line 1268  C++
       vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification=1)  Line 875       C++
       vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification=1)  Line 268 + 0x20 bytes        C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0, int magnification=1)  Line 307 + 0x11 bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 + 0x1f bytes  C++

------------------------------
but the other N-1 processes end up in here - waiting

>       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line 1159 + 0x31 bytes        C++
       vtkParallel.dll!vtkCommunicator::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256       C++
       vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402     C++
       vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0)  Line 139  C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0, int magnification=1)  Line 311 + 0x1f bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 + 0x1f bytes  C++

There was a problem with the SaveImageOnProcess Zero which caused exactly this some time ago. I'm using a branch of mine derived from the v3.12.0 tag, but I cherry picked Andy's patch from kitware/master or wherever that was mentioned a few days ago -are there othe fixes on master/next that I might beneeding?

Any ideas. The pipeline is a contour of some image data on N processes. Pretty Simple.

Any help appreciated.

thanks

JB

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/3a1f3c0f/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: reduced-1.py
Type: application/octet-stream
Size: 8819 bytes
Desc: reduced-1.py
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/3a1f3c0f/attachment-0001.obj>

From andy.bauer at kitware.com  Wed Dec 21 15:58:56 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Wed, 21 Dec 2011 15:58:56 -0500
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
	<CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
	<50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>
Message-ID: <CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>

I'm attaching a couple of files that you can use to test if you have the
proper fix for your branch.  Run the python script with "mpirun -np 8
bin/pvbatch -sym parallelpythontest.py".  If you get the same results then
you don't have the fix yet for the image issue.  Note that
parallelpythontest2.png isn't getting colored properly while
parallelpythontest.png is.

Andy

On Wed, Dec 21, 2011 at 3:48 PM, Biddiscombe, John A. <biddisco at cscs.ch>wrote:

>  I?ll give it a try using master, a very simple python script is
> attached. ****
>
> ** **
>
> The original contained a lot more filters, this has most of them stripped
> out and just a contour left. And yes, it is possible that some processes
> have no points.****
>
> ** **
>
> JB****
>
> ** **
>
> *From:* Andy Bauer [mailto:andy.bauer at kitware.com]
> *Sent:* 21 December 2011 19:10
> *To:* Biddiscombe, John A.
> *Cc:* paraview at paraview.org
> *Subject:* Re: [Paraview] PV 3.12.0 coprocessing problem****
>
> ** **
>
> Hi John,
>
> There were a couple of issues when saving images.  One was for saving
> charts and maybe 2d views.  The other one was for when some processes
> didn't have any points or cells.  Looking at your stack traces I don't
> think it's the latter since that would fail in the python script and give a
> warning in there.  Any chance you could test with the paraview's current
> master branch?
>
> Are you using a python script to drive the coprocessing?  If yes, can you
> share it?
>
> Andy****
>
> On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch>
> wrote:****
>
> I'm getting lock ups when saving images using the coprocessing. It looks a
> lot like a bug that was fixed many moons ago, but maybe the fix got lost in
> a merge ...
>
> 1  process makes it to here and waits for MPI traffic
>
> >       vtkParallel.dll!vtkMPICommunicatorReduceData(const void *
> sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378,
> __int64 length=3, int type=11, int operation=1476395010, int
> destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
>        vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void *
> sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378,
> __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line
> 1422 + 0x4c bytes      C++
>        vtkParallel.dll!vtkCommunicator::Reduce(const double *
> sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378,
> __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
>        vtkParallel.dll!vtkMultiProcessController::Reduce(const double *
> sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378,
> __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
>
>  vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double
> * bounds=0x000000000d18a8a8)  Line 1381      C++
>
>  vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool
> using_distributed_rendering=true)  Line 598     C++
>        vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool
> interactive=false, bool skip_rendering=false)  Line 882  C++
>        vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745
>      C++
>
>  vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter
> * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const
> char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...},
> vtkClientServerStream & resultStream={...})  Line 258  C++
>
>  vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const
> vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes
>  C++
>
>  vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const
> vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes
>      C++
>        vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const
> vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const
> vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636
> C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int
> location=21, const vtkClientServerStream & stream={...}, bool
> ignore_errors=false)  Line 606 C++
>
>  vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int
> location=21, const vtkClientServerStream & stream={...}, bool
> ignore_errors=false)  Line 157 C++
>        vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const
> vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned
> int location=21)  Line 2092     C++
>        vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 +
> 0x18 bytes     C++
>        vtkPVServerManager.dll!`anonymous
> namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
>        vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()
>  Line 302   C++
>        vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632
>      C++
>        vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76
> + 0x13 bytes        C++
>
>  vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int
> offscreen=0)  Line 1268  C++
>
>  vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int
> magnification=1)  Line 875       C++
>        vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int
> magnification=1)  Line 268 + 0x20 bytes        C++
>        vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char *
> filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0,
> int magnification=1)  Line 307 + 0x11 bytes     C++
>        vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object *
> self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 +
> 0x1f bytes  C++
>
> ------------------------------
> but the other N-1 processes end up in here - waiting
>
> >       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void *
> data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line
> 1159 + 0x31 bytes        C++
>        vtkParallel.dll!vtkCommunicator::Broadcast(int *
> data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256
>     C++
>        vtkParallel.dll!vtkMultiProcessController::Broadcast(int *
> data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402
>   C++
>
>  vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData
> * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const
> char * writerName=0x000000000ac850e0)  Line 139  C++
>        vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char *
> filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0,
> int magnification=1)  Line 311 + 0x1f bytes     C++
>        vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object *
> self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 +
> 0x1f bytes  C++
>
> There was a problem with the SaveImageOnProcess Zero which caused exactly
> this some time ago. I'm using a branch of mine derived from the v3.12.0
> tag, but I cherry picked Andy's patch from kitware/master or wherever that
> was mentioned a few days ago -are there othe fixes on master/next that I
> might beneeding?
>
> Any ideas. The pipeline is a contour of some image data on N processes.
> Pretty Simple.
>
> Any help appreciated.
>
> thanks
>
> JB****
>
> ** **
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/31f44d6b/attachment-0001.htm>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: files.tgz
Type: application/x-gzip
Size: 19809 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/31f44d6b/attachment-0001.bin>

From biddisco at cscs.ch  Wed Dec 21 17:04:48 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 21 Dec 2011 22:04:48 +0000
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
	<CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
	<50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>
	<CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD21450990695E4C0@MBX10.d.ethz.ch>

On the laptop, I've got this. I'll try on one of the other machines tomorrow. Or maybe not since I'm flying then, but soon.

Thanks for the hints. I'll switch to master if I have trouble

JB

Traceback (most recent call last):
  File "parallelpythontest.py", line 38, in <module>
    DataRepresentation2.ColorArrayName = 'RTData'
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 212, in __setattr__
    setter(self, value)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 2276, in setProperty
    return self.SetPropertyWithName(propName, value)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 267, in SetPropertyWithName
    prop.SetData(arg)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 695, in SetData
    raise ValueError("Could not locate array %s in the input." % arr)
ValueError: Could not locate array RTData in the input.
Traceback (most recent call last):
  File "parallelpythontest.py", line 38, in <module>
    DataRepresentation2.ColorArrayName = 'RTData'
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 212, in __setattr__
    setter(self, value)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 2276, in setProperty
    return self.SetPropertyWithName(propName, value)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 267, in SetPropertyWithName
    prop.SetData(arg)
  File "C:\cmakebuild\pv-meshless\Utilities\VTKPythonWrapping\site-packages\paraview\servermanager.py", line 695, in SetData
    raise ValueError("Could not locate array %s in the input." % arr)
ValueError: Could not locate array RTData in the input.

From: Andy Bauer [mailto:andy.bauer at kitware.com]
Sent: 21 December 2011 21:59
To: Biddiscombe, John A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

I'm attaching a couple of files that you can use to test if you have the proper fix for your branch.  Run the python script with "mpirun -np 8 bin/pvbatch -sym parallelpythontest.py".  If you get the same results then you don't have the fix yet for the image issue.  Note that parallelpythontest2.png isn't getting colored properly while parallelpythontest.png is.

Andy
On Wed, Dec 21, 2011 at 3:48 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'll give it a try using master, a very simple python script is attached.

The original contained a lot more filters, this has most of them stripped out and just a contour left. And yes, it is possible that some processes have no points.

JB

From: Andy Bauer [mailto:andy.bauer at kitware.com<mailto:andy.bauer at kitware.com>]
Sent: 21 December 2011 19:10
To: Biddiscombe, John A.
Cc: paraview at paraview.org<mailto:paraview at paraview.org>
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

Hi John,

There were a couple of issues when saving images.  One was for saving charts and maybe 2d views.  The other one was for when some processes didn't have any points or cells.  Looking at your stack traces I don't think it's the latter since that would fail in the python script and give a warning in there.  Any chance you could test with the paraview's current master branch?

Are you using a python script to drive the coprocessing?  If yes, can you share it?

Andy
On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'm getting lock ups when saving images using the coprocessing. It looks a lot like a bug that was fixed many moons ago, but maybe the fix got lost in a merge ...

1  process makes it to here and waits for MPI traffic

>       vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1476395010, int destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
       vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line 1422 + 0x4c bytes      C++
       vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
       vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
       vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds=0x000000000d18a8a8)  Line 1381      C++
       vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering=true)  Line 598     C++
       vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive=false, bool skip_rendering=false)  Line 882  C++
       vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745      C++
       vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...}, vtkClientServerStream & resultStream={...})  Line 258  C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 606 C++
       vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 157 C++
       vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned int location=21)  Line 2092     C++
       vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes     C++
       vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
       vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302   C++
       vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632      C++
       vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes        C++
       vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen=0)  Line 1268  C++
       vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification=1)  Line 875       C++
       vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification=1)  Line 268 + 0x20 bytes        C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0, int magnification=1)  Line 307 + 0x11 bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 + 0x1f bytes  C++

------------------------------
but the other N-1 processes end up in here - waiting

>       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line 1159 + 0x31 bytes        C++
       vtkParallel.dll!vtkCommunicator::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256       C++
       vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402     C++
       vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0)  Line 139  C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0, int magnification=1)  Line 311 + 0x1f bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 + 0x1f bytes  C++

There was a problem with the SaveImageOnProcess Zero which caused exactly this some time ago. I'm using a branch of mine derived from the v3.12.0 tag, but I cherry picked Andy's patch from kitware/master or wherever that was mentioned a few days ago -are there othe fixes on master/next that I might beneeding?

Any ideas. The pipeline is a contour of some image data on N processes. Pretty Simple.

Any help appreciated.

thanks

JB


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/26b1a272/attachment-0001.htm>

From biddisco at cscs.ch  Wed Dec 21 17:05:33 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Wed, 21 Dec 2011 22:05:33 +0000
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
	<CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
	<50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>
	<CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD21450990695E4D5@MBX10.d.ethz.ch>

NB. I may not have applied the fix from the other day on the laptop - will check now

From: Andy Bauer [mailto:andy.bauer at kitware.com]
Sent: 21 December 2011 21:59
To: Biddiscombe, John A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

I'm attaching a couple of files that you can use to test if you have the proper fix for your branch.  Run the python script with "mpirun -np 8 bin/pvbatch -sym parallelpythontest.py".  If you get the same results then you don't have the fix yet for the image issue.  Note that parallelpythontest2.png isn't getting colored properly while parallelpythontest.png is.

Andy
On Wed, Dec 21, 2011 at 3:48 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'll give it a try using master, a very simple python script is attached.

The original contained a lot more filters, this has most of them stripped out and just a contour left. And yes, it is possible that some processes have no points.

JB

From: Andy Bauer [mailto:andy.bauer at kitware.com<mailto:andy.bauer at kitware.com>]
Sent: 21 December 2011 19:10
To: Biddiscombe, John A.
Cc: paraview at paraview.org<mailto:paraview at paraview.org>
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

Hi John,

There were a couple of issues when saving images.  One was for saving charts and maybe 2d views.  The other one was for when some processes didn't have any points or cells.  Looking at your stack traces I don't think it's the latter since that would fail in the python script and give a warning in there.  Any chance you could test with the paraview's current master branch?

Are you using a python script to drive the coprocessing?  If yes, can you share it?

Andy
On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'm getting lock ups when saving images using the coprocessing. It looks a lot like a bug that was fixed many moons ago, but maybe the fix got lost in a merge ...

1  process makes it to here and waits for MPI traffic

>       vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1476395010, int destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
       vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line 1422 + 0x4c bytes      C++
       vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
       vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
       vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds=0x000000000d18a8a8)  Line 1381      C++
       vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering=true)  Line 598     C++
       vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive=false, bool skip_rendering=false)  Line 882  C++
       vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745      C++
       vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...}, vtkClientServerStream & resultStream={...})  Line 258  C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 606 C++
       vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 157 C++
       vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned int location=21)  Line 2092     C++
       vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes     C++
       vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
       vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302   C++
       vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632      C++
       vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes        C++
       vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen=0)  Line 1268  C++
       vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification=1)  Line 875       C++
       vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification=1)  Line 268 + 0x20 bytes        C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0, int magnification=1)  Line 307 + 0x11 bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 + 0x1f bytes  C++

------------------------------
but the other N-1 processes end up in here - waiting

>       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line 1159 + 0x31 bytes        C++
       vtkParallel.dll!vtkCommunicator::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256       C++
       vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402     C++
       vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0)  Line 139  C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0, int magnification=1)  Line 311 + 0x1f bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 + 0x1f bytes  C++

There was a problem with the SaveImageOnProcess Zero which caused exactly this some time ago. I'm using a branch of mine derived from the v3.12.0 tag, but I cherry picked Andy's patch from kitware/master or wherever that was mentioned a few days ago -are there othe fixes on master/next that I might beneeding?

Any ideas. The pipeline is a contour of some image data on N processes. Pretty Simple.

Any help appreciated.

thanks

JB


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111221/d5bea0de/attachment.htm>

From paul.mcintosh at internetscooter.com  Wed Dec 21 21:47:40 2011
From: paul.mcintosh at internetscooter.com (Paul McIntosh)
Date: Thu, 22 Dec 2011 13:47:40 +1100
Subject: [Paraview] 3.12.0 building issues due to Protobuf
Message-ID: <558A83F76A2B4EEF9E65E98E8D5464A6@notebook>

Hi All,

Just wondering if anyone has come across this problem and worked around it?

I am using modules and have the following configuration where I have
protobuf built and available in /usr/local/protobuf/2.4.1

Currently Loaded Modulefiles:
  1) gmp/4.3.1           3) gcc/4.4.5           5) qt/4.6.2            7)
virtualgl/2.2.90    9) cmake/2.8.3
  2) mpfr/2.4.2          4) openmpi-gcc/1.4.3   6) python/2.7.1-gcc    8)
paraview/3.10.1    10) protobuf/2.4.1

The ParaView protobuf build seems to be doing everything on it's own,
ignoring compiler paths, prebuilt libraries etc, with no cmake options
except for switching on and off tests. So everything else builds but I get
stuck below. 

[ 84%] Generating vtkPVMessage.pb.h, vtkPVMessage.pb.cc
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.10' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotobuf.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.10' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.11' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
[ 84%] Built target protobuf_code_generation
[ 84%] Building CXX object
ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/v
tkPVSessionBase.cxx.o
In file included from
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkPVSessionBase.cxx:22:
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:30:29: error: vtkPVMessage.pb.h: No such file or
directory
In file included from
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkPVSessionBase.cxx:22:
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected unqualified-id before ?&? token
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected ?)? before ?&? token
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected initializer before ?&? token
make[2]: ***
[ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/
vtkPVSessionBase.cxx.o] Error 1
make[1]: ***
[ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/
all] Error 2
make: *** [all] Error 2

Any hints?

Cheers,

Paul
---
www.internetscooter.com 


From biddisco at cscs.ch  Fri Dec 23 05:14:52 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Fri, 23 Dec 2011 10:14:52 +0000
Subject: [Paraview] 3.12.0 building issues due to Protobuf
In-Reply-To: <558A83F76A2B4EEF9E65E98E8D5464A6@notebook>
References: <558A83F76A2B4EEF9E65E98E8D5464A6@notebook>
Message-ID: <50320452A334BD42A5EC72BAD21450990695EE82@MBX10.d.ethz.ch>

I had a very similar problem on our cray (i.e. same error message), but it was not caused by protobuf. 
We have the standard libs in /usr/lib64, but when using icc/ifort the libstdc++ lib from
/opt/cray/blah/blah/something something should be linked and not the one from /usr/lib64

Have a look and see if there is another libstdc++ in a special gcc/4.4.5 dir somewhere - since you're using gcc (I was using icc) it may not be so trivial.

JB

-----Original Message-----
From: paraview-bounces at paraview.org [mailto:paraview-bounces at paraview.org] On Behalf Of Paul McIntosh
Sent: 22 December 2011 03:48
To: paraview at paraview.org
Subject: [Paraview] 3.12.0 building issues due to Protobuf

Hi All,

Just wondering if anyone has come across this problem and worked around it?

I am using modules and have the following configuration where I have protobuf built and available in /usr/local/protobuf/2.4.1

Currently Loaded Modulefiles:
  1) gmp/4.3.1           3) gcc/4.4.5           5) qt/4.6.2            7)
virtualgl/2.2.90    9) cmake/2.8.3
  2) mpfr/2.4.2          4) openmpi-gcc/1.4.3   6) python/2.7.1-gcc    8)
paraview/3.10.1    10) protobuf/2.4.1

The ParaView protobuf build seems to be doing everything on it's own, ignoring compiler paths, prebuilt libraries etc, with no cmake options except for switching on and off tests. So everything else builds but I get stuck below. 

[ 84%] Generating vtkPVMessage.pb.h, vtkPVMessage.pb.cc
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.10' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotobuf.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.10' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.9' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/protoc:
/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.11' not found (required by
/usr/local/src/PARAVIEW/3.12.0/ParaView-Build/bin/libprotoc.so)
[ 84%] Built target protobuf_code_generation [ 84%] Building CXX object ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/v
tkPVSessionBase.cxx.o
In file included from
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkPVSessionBase.cxx:22:
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:30:29: error: vtkPVMessage.pb.h: No such file or directory In file included from /usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkPVSessionBase.cxx:22:
/usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected unqualified-id before ?&? token /usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected ?)? before ?&? token /usr/local/src/PARAVIEW/3.12.0/ParaView-3.12.0/ParaViewCore/ServerImplementa
tion/vtkSMMessage.h:38: error: expected initializer before ?&? token
make[2]: ***
[ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/
vtkPVSessionBase.cxx.o] Error 1
make[1]: ***
[ParaViewCore/ServerImplementation/CMakeFiles/vtkPVServerImplementation.dir/
all] Error 2
make: *** [all] Error 2

Any hints?

Cheers,

Paul
---
www.internetscooter.com 

_______________________________________________
Powered by www.kitware.com

Visit other Kitware open-source projects at http://www.kitware.com/opensource/opensource.html

Please keep messages on-topic and check the ParaView Wiki at: http://paraview.org/Wiki/ParaView

Follow this link to subscribe/unsubscribe:
http://www.paraview.org/mailman/listinfo/paraview

From biddisco at cscs.ch  Mon Dec 26 16:57:48 2011
From: biddisco at cscs.ch (Biddiscombe, John A.)
Date: Mon, 26 Dec 2011 21:57:48 +0000
Subject: [Paraview] PV 3.12.0 coprocessing problem
In-Reply-To: <CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
References: <50320452A334BD42A5EC72BAD21450990695D05F@MBX10.d.ethz.ch>
	<CAMaOp+H7wkEopmXqGbqjbef9shDY9EFd1nPgzZCksCrJgUFHmg@mail.gmail.com>
	<50320452A334BD42A5EC72BAD21450990695D19B@MBX10.d.ethz.ch>
	<CAMaOp+HS2XmmrGWCBtg2zk+_QvFG2Oyhg588vRcUn-oYWjA12A@mail.gmail.com>
Message-ID: <50320452A334BD42A5EC72BAD214509906961A55@MBX10.d.ethz.ch>

Andy,

Merry Christmas ....

>
Any chance you could test with the paraview's current master branch?
<

Using kitware/master ref : aef70217488706ecd124e4ad5cb25e47f57d1478

Using the pvbatch test you sent, it hangs  the same ... I have N-1 in here

>             vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data, __int64 length, int type, int root)  Line 1132 + 0x3b bytes          C++
                vtkParallel.dll!vtkCommunicator::Broadcast(int * data, __int64 length, int srcProcessId)  Line 256              C++
                vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data, __int64 length, int srcProcessId)  Line 402             C++
                vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image, const char * filename, const char * writerName)  Line 139          C++
                vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename, const char * writerName, int magnification)  Line 311 + 0x1f bytes       C++
                vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self, _object * args)  Line 367 + 0x1f bytes     C++

and 1 in here.

>             vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer, void * recvBuffer, __int64 length, int type, int operation, int destProcessId, int * comm)  Line 317        C++
                vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer, void * recvBuffer, __int64 length, int type, int operation, int destProcessId)  Line 1395 + 0x4c bytes              C++
                vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer, double * recvBuffer, __int64 length, int operation, int destProcessId)  Line 633   C++
                vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer, double * recvBuffer, __int64 length, int operation, int destProcessId)  Line 811            C++
                vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds)  Line 1381                C++
                vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering)  Line 598         C++
                vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive, bool skip_rendering)  Line 882  C++
                vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745      C++
                vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu, vtkObjectBase * ob, const char * method, const vtkClientServerStream & msg, vtkClientServerStream & resultStream)  Line 258        C++
                vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css, int midx)  Line 379 + 0x2f bytes        C++
                vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css, int message)  Line 214 + 0x1d bytes               C++
                vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css)  Line 183 + 0x14 bytes     C++
                vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream, bool ignore_errors)  Line 636      C++
                vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location, const vtkClientServerStream & stream, bool ignore_errors)  Line 606  C++
                vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location, const vtkClientServerStream & stream, bool ignore_errors)  Line 157  C++
                vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream, bool ignore_errors, unsigned int location)  Line 2092                C++
                vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes C++
                vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86          C++
                vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302       C++
                vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632         C++
                vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes            C++
                vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen)  Line 1417    C++
                vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification)  Line 875               C++
                vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification)  Line 268 + 0x20 bytes    C++
                vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename, const char * writerName, int magnification)  Line 307 + 0x11 bytes      C++
                vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self, _object * args)  Line 367 + 0x1f bytes     C++

I'll look and see if some commits mentioned in earlier emails are missing from master.

JB


From: Andy Bauer [mailto:andy.bauer at kitware.com]
Sent: 21 December 2011 21:59
To: Biddiscombe, John A.
Cc: paraview at paraview.org
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

I'm attaching a couple of files that you can use to test if you have the proper fix for your branch.  Run the python script with "mpirun -np 8 bin/pvbatch -sym parallelpythontest.py".  If you get the same results then you don't have the fix yet for the image issue.  Note that parallelpythontest2.png isn't getting colored properly while parallelpythontest.png is.

Andy
On Wed, Dec 21, 2011 at 3:48 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'll give it a try using master, a very simple python script is attached.

The original contained a lot more filters, this has most of them stripped out and just a contour left. And yes, it is possible that some processes have no points.

JB

From: Andy Bauer [mailto:andy.bauer at kitware.com<mailto:andy.bauer at kitware.com>]
Sent: 21 December 2011 19:10
To: Biddiscombe, John A.
Cc: paraview at paraview.org<mailto:paraview at paraview.org>
Subject: Re: [Paraview] PV 3.12.0 coprocessing problem

Hi John,

There were a couple of issues when saving images.  One was for saving charts and maybe 2d views.  The other one was for when some processes didn't have any points or cells.  Looking at your stack traces I don't think it's the latter since that would fail in the python script and give a warning in there.  Any chance you could test with the paraview's current master branch?

Are you using a python script to drive the coprocessing?  If yes, can you share it?

Andy
On Wed, Dec 21, 2011 at 12:15 PM, Biddiscombe, John A. <biddisco at cscs.ch<mailto:biddisco at cscs.ch>> wrote:
I'm getting lock ups when saving images using the coprocessing. It looks a lot like a bug that was fixed many moons ago, but maybe the fix got lost in a merge ...

1  process makes it to here and waits for MPI traffic

>       vtkParallel.dll!vtkMPICommunicatorReduceData(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1476395010, int destProcessId=0, int * comm=0x0000000005d77670)  Line 317   C++
       vtkParallel.dll!vtkMPICommunicator::ReduceVoidArray(const void * sendBuffer=0x000000000012c318, void * recvBuffer=0x000000000012c378, __int64 length=3, int type=11, int operation=1, int destProcessId=0)  Line 1422 + 0x4c bytes      C++
       vtkParallel.dll!vtkCommunicator::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 633 C++
       vtkParallel.dll!vtkMultiProcessController::Reduce(const double * sendBuffer=0x000000000012c318, double * recvBuffer=0x000000000012c378, __int64 length=3, int operation=1, int destProcessId=0)  Line 811       C++
       vtkPVClientServerCore.dll!vtkPVSynchronizedRenderWindows::SynchronizeBounds(double * bounds=0x000000000d18a8a8)  Line 1381      C++
       vtkPVClientServerCore.dll!vtkPVRenderView::GatherBoundsInformation(bool using_distributed_rendering=true)  Line 598     C++
       vtkPVClientServerCore.dll!vtkPVRenderView::Render(bool interactive=false, bool skip_rendering=false)  Line 882  C++
       vtkPVClientServerCore.dll!vtkPVRenderView::StillRender()  Line 745      C++
       vtkPVClientServerCoreCS.dll!vtkPVRenderViewCommand(vtkClientServerInterpreter * arlu=0x0000000005d6be10, vtkObjectBase * ob=0x000000000d18a770, const char * method=0x000000000e1f7ee9, const vtkClientServerStream & msg={...}, vtkClientServerStream & resultStream={...})  Line 258  C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessCommandInvoke(const vtkClientServerStream & css={...}, int midx=0)  Line 379 + 0x2f bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessOneMessage(const vtkClientServerStream & css={...}, int message=0)  Line 214 + 0x1d bytes        C++
       vtkClientServer.dll!vtkClientServerInterpreter::ProcessStream(const vtkClientServerStream & css={...})  Line 183 + 0x14 bytes   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStreamInternal(const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 636   C++
       vtkPVServerImplementation.dll!vtkPVSessionCore::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 606 C++
       vtkPVServerImplementation.dll!vtkPVSessionBase::ExecuteStream(unsigned int location=21, const vtkClientServerStream & stream={...}, bool ignore_errors=false)  Line 157 C++
       vtkPVServerManager.dll!vtkSMProxy::ExecuteStream(const vtkClientServerStream & stream={...}, bool ignore_errors=false, unsigned int location=21)  Line 2092     C++
       vtkPVServerManager.dll!vtkSMViewProxy::StillRender()  Line 137 + 0x18 bytes     C++
       vtkPVServerManager.dll!`anonymous namespace'::vtkRenderHelper::EventuallyRender()  Line 86      C++
       vtkPVVTKExtensions.dll!vtkPVGenericRenderWindowInteractor::Render()  Line 302   C++
       vtkRendering.dll!vtkRenderWindowInteractor::Initialize()  Line 632      C++
       vtkRendering.dll!vtkRenderWindowInteractor::ReInitialize()  Line 76 + 0x13 bytes        C++
       vtkRendering.dll!vtkWin32OpenGLRenderWindow::SetOffScreenRendering(int offscreen=0)  Line 1268  C++
       vtkPVServerManager.dll!vtkSMRenderViewProxy::CaptureWindowInternal(int magnification=1)  Line 875       C++
       vtkPVServerManager.dll!vtkSMViewProxy::CaptureWindow(int magnification=1)  Line 268 + 0x20 bytes        C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b619f50, const char * writerName=0x000000000ac750e0, int magnification=1)  Line 307 + 0x11 bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b62f6d8, _object * args=0x000000000b62b438)  Line 367 + 0x1f bytes  C++

------------------------------
but the other N-1 processes end up in here - waiting

>       vtkParallel.dll!vtkMPICommunicator::BroadcastVoidArray(void * data=0x000000000012dd24, __int64 length=1, int type=6, int root=0)  Line 1159 + 0x31 bytes        C++
       vtkParallel.dll!vtkCommunicator::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 256       C++
       vtkParallel.dll!vtkMultiProcessController::Broadcast(int * data=0x000000000012dd24, __int64 length=1, int srcProcessId=0)  Line 402     C++
       vtkPVServerManager.dll!vtkSMUtilities::SaveImageOnProcessZero(vtkImageData * image=0x000000000e2c79c0, const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0)  Line 139  C++
       vtkPVServerManager.dll!vtkSMViewProxy::WriteImage(const char * filename=0x000000000b729f50, const char * writerName=0x000000000ac850e0, int magnification=1)  Line 311 + 0x1f bytes     C++
       vtkPVServerManagerPythonD.dll!PyvtkSMViewProxy_WriteImage(_object * self=0x000000000b73f6d8, _object * args=0x000000000b73b438)  Line 367 + 0x1f bytes  C++

There was a problem with the SaveImageOnProcess Zero which caused exactly this some time ago. I'm using a branch of mine derived from the v3.12.0 tag, but I cherry picked Andy's patch from kitware/master or wherever that was mentioned a few days ago -are there othe fixes on master/next that I might beneeding?

Any ideas. The pipeline is a contour of some image data on N processes. Pretty Simple.

Any help appreciated.

thanks

JB


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111226/8f0103a0/attachment-0001.htm>

From rpacheco at math.la.asu.edu  Sat Dec 31 09:26:13 2011
From: rpacheco at math.la.asu.edu (Rafael Pacheco)
Date: Sat, 31 Dec 2011 07:26:13 -0700
Subject: [Paraview] script for moving a sphere
Message-ID: <20111231141830.M90404@math.asu.edu>


Hello everybody,
I have a sphere being towed down and settling on a horizontal wall as
shown in the figures attached. The motion is prescribed, so the sphere is no
free-falling. These figures are without rotation. But I also have several runs
with different rates of rotation. What I would like to do is somehow automate
the animation so that I do not have to move manually the sphere and take snap
shots.

For example, in the figures the sphere is located at the bottom of the
horizontal wall, but at t=0, it is at z=35. so for t=0, z= 35 and the
name of the flow field is boum000.vtk. For t=0.5, t=34.5 and the name
of the flow field is boum001.vtk.

What I normally do is to load all the boum*vtk, then move the sphere
manually and save an image in png file as the sphere is moving down.

For one set of simulations is OK to do this manually, but for 20
different runs, I think it is going to be a pain in the neck.

I will appreciate your help on this.

thanks
Rafael

-- Rafael
   ----------------------------------------
   Department of Mathematics and Statistics
   Arizona State University  
   Tempe, Arizona  85287-1804     
   Email: rpacheco at asu.edu
   http://math.la.asu.edu/~rpacheco
   ----------------------------------------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: NoRoQ-crit1.JPG
Type: image/jpeg
Size: 46488 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111231/78b58619/attachment-0002.jpeg>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: NoRoQ-crit2.JPG
Type: image/jpeg
Size: 44441 bytes
Desc: not available
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111231/78b58619/attachment-0003.jpeg>

From andy.bauer at kitware.com  Sat Dec 31 10:47:03 2011
From: andy.bauer at kitware.com (Andy Bauer)
Date: Sat, 31 Dec 2011 10:47:03 -0500
Subject: [Paraview] script for moving a sphere
In-Reply-To: <20111231141830.M90404@math.asu.edu>
References: <20111231141830.M90404@math.asu.edu>
Message-ID: <CAMaOp+GX0sf3wdkahydjUH7=FhcbAQOCgz+4rJf19iCSPP0jKw@mail.gmail.com>

You can try creating a sphere source and then use the animation view to set
the z-value property of the sphere to change with time.  The link for more
information on that is at
http://paraview.org/Wiki/ParaView/Users_Guide/Animation.

The following python script is a bit long and has extra stuff in it (like
the cylinder to give it perspective) but hopefully demonstrates this.  I
created this script with ParaView 3.12's python trace but hopefully it
works with your version too.
=========================
try: paraview.simple

except: from paraview.simple import *

paraview.simple._DisableFirstRenderCameraReset()

Sphere1 = Sphere()

Sphere1.Center = [0.0, 0.0, 35.0]

RenderView1 = GetRenderView()

DataRepresentation1 = Show()

DataRepresentation1.EdgeColor = [0.0, 0.0, 0.5000076295109483]

Cylinder1 = Cylinder()

RenderView1.CameraPosition = [0.0, 0.0, 38.29037430412229]

RenderView1.CameraFocalPoint = [0.0, 0.0, 35.0]

RenderView1.CameraClippingRange = [2.262470561081065, 4.592229918684122]

RenderView1.CenterOfRotation = [0.0, 0.0, 35.0]

RenderView1.CameraParallelScale = 0.8516115354228021

Cylinder1.Height = 10.0

DataRepresentation2 = Show()

DataRepresentation2.EdgeColor = [0.0, 0.0, 0.5000076295109483]

AnimationScene1 = GetAnimationScene()

SetActiveSource(Sphere1)

KeyFrameAnimationCue1 = GetAnimationTrack( 'Center', 2 )

TimeAnimationCue1 = GetTimeTrack()

KeyFrame294 = CompositeKeyFrame( KeyValues=[35.0] )

KeyFrame295 = CompositeKeyFrame( KeyTime=1.0, KeyValues=[0.0] )

Sphere1.Center = [0.0, 0.0, 31.11111111111111]

RenderView1.CameraViewUp = [0.0, 0.0, 1.0]

RenderView1.CameraPosition = [0.0, 72.08114679244352, 17.533493652939796]

RenderView1.CameraClippingRange = [61.41033532451908, 85.68736399433017]

RenderView1.ViewTime = 0.1111111111111111

RenderView1.CameraFocalPoint = [0.0, 0.0, 17.533493652939796]

RenderView1.CameraParallelScale = 18.655973582714857

RenderView1.CenterOfRotation = [0.0, 0.0, 17.533493652939796]

AnimationScene1.AnimationTime = 0.1111111111111111

KeyFrameAnimationCue1.KeyFrames = [ KeyFrame294, KeyFrame295 ]

Sphere1.Center = [0.0, 0.0, 27.22222222222222]

RenderView1.ViewTime = 0.2222222222222222

AnimationScene1.AnimationTime = 0.2222222222222222

Sphere1.Center = [0.0, 0.0, 23.333333333333336]

RenderView1.ViewTime = 0.3333333333333333

AnimationScene1.AnimationTime = 0.3333333333333333

Sphere1.Center = [0.0, 0.0, 19.444444444444443]

RenderView1.ViewTime = 0.4444444444444444

AnimationScene1.AnimationTime = 0.4444444444444444

Sphere1.Center = [0.0, 0.0, 15.555555555555554]

RenderView1.ViewTime = 0.5555555555555556

AnimationScene1.AnimationTime = 0.5555555555555556

Sphere1.Center = [0.0, 0.0, 11.666666666666668]

RenderView1.ViewTime = 0.6666666666666666

AnimationScene1.AnimationTime = 0.6666666666666666

Sphere1.Center = [0.0, 0.0, 7.777777777777779]

RenderView1.ViewTime = 0.7777777777777778

AnimationScene1.AnimationTime = 0.7777777777777778

Sphere1.Center = [0.0, 0.0, 3.8888888888888893]

RenderView1.ViewTime = 0.8888888888888888

AnimationScene1.AnimationTime = 0.8888888888888888

Sphere1.Center = [0.0, 0.0, 0.0]

RenderView1.ViewTime = 1.0

AnimationScene1.AnimationTime = 1.0

Render()

===================


On Sat, Dec 31, 2011 at 9:26 AM, Rafael Pacheco <rpacheco at math.la.asu.edu>wrote:

>
> Hello everybody,
> I have a sphere being towed down and settling on a horizontal wall as
> shown in the figures attached. The motion is prescribed, so the sphere is
> no
> free-falling. These figures are without rotation. But I also have several
> runs
> with different rates of rotation. What I would like to do is somehow
> automate
> the animation so that I do not have to move manually the sphere and take
> snap
> shots.
>
> For example, in the figures the sphere is located at the bottom of the
> horizontal wall, but at t=0, it is at z=35. so for t=0, z= 35 and the
> name of the flow field is boum000.vtk. For t=0.5, t=34.5 and the name
> of the flow field is boum001.vtk.
>
> What I normally do is to load all the boum*vtk, then move the sphere
> manually and save an image in png file as the sphere is moving down.
>
> For one set of simulations is OK to do this manually, but for 20
> different runs, I think it is going to be a pain in the neck.
>
> I will appreciate your help on this.
>
> thanks
> Rafael
>
> -- Rafael
>   ----------------------------------------
>   Department of Mathematics and Statistics
>   Arizona State University
>   Tempe, Arizona  85287-1804
>   Email: rpacheco at asu.edu
>   http://math.la.asu.edu/~rpacheco
>   ----------------------------------------
>
>
> _______________________________________________
> Powered by www.kitware.com
>
> Visit other Kitware open-source projects at
> http://www.kitware.com/opensource/opensource.html
>
> Please keep messages on-topic and check the ParaView Wiki at:
> http://paraview.org/Wiki/ParaView
>
> Follow this link to subscribe/unsubscribe:
> http://www.paraview.org/mailman/listinfo/paraview
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <http://www.paraview.org/pipermail/paraview/attachments/20111231/776fdb03/attachment.htm>

